{"version":3,"file":"js/home.adc5ad72.js","mappings":"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","sources":["webpack://vue-svg/./node_modules/@plunk/node/dist/errors/NotFound.js","webpack://vue-svg/./node_modules/@plunk/node/dist/errors/PlunkError.js","webpack://vue-svg/./node_modules/@plunk/node/dist/errors/TokenError.js","webpack://vue-svg/./node_modules/@plunk/node/dist/index.js","webpack://vue-svg/./node_modules/@plunk/node/dist/lib/Plunk.js","webpack://vue-svg/./node_modules/ajv/dist/ajv.js","webpack://vue-svg/./node_modules/ajv/dist/compile/codegen/code.js","webpack://vue-svg/./node_modules/ajv/dist/compile/codegen/index.js","webpack://vue-svg/./node_modules/ajv/dist/compile/codegen/scope.js","webpack://vue-svg/./node_modules/ajv/dist/compile/errors.js","webpack://vue-svg/./node_modules/ajv/dist/compile/index.js","webpack://vue-svg/./node_modules/ajv/dist/compile/names.js","webpack://vue-svg/./node_modules/ajv/dist/compile/ref_error.js","webpack://vue-svg/./node_modules/ajv/dist/compile/resolve.js","webpack://vue-svg/./node_modules/ajv/dist/compile/rules.js","webpack://vue-svg/./node_modules/ajv/dist/compile/util.js","webpack://vue-svg/./node_modules/ajv/dist/compile/validate/applicability.js","webpack://vue-svg/./node_modules/ajv/dist/compile/validate/boolSchema.js","webpack://vue-svg/./node_modules/ajv/dist/compile/validate/dataType.js","webpack://vue-svg/./node_modules/ajv/dist/compile/validate/defaults.js","webpack://vue-svg/./node_modules/ajv/dist/compile/validate/index.js","webpack://vue-svg/./node_modules/ajv/dist/compile/validate/keyword.js","webpack://vue-svg/./node_modules/ajv/dist/compile/validate/subschema.js","webpack://vue-svg/./node_modules/ajv/dist/core.js","webpack://vue-svg/./node_modules/ajv/dist/runtime/equal.js","webpack://vue-svg/./node_modules/ajv/dist/runtime/ucs2length.js","webpack://vue-svg/./node_modules/ajv/dist/runtime/uri.js","webpack://vue-svg/./node_modules/ajv/dist/runtime/validation_error.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/additionalItems.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/additionalProperties.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/allOf.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/anyOf.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/contains.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/if.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/index.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/items.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/items2020.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/not.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/oneOf.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/patternProperties.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/prefixItems.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/properties.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/propertyNames.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/applicator/thenElse.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/code.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/core/id.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/core/index.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/core/ref.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/discriminator/index.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/discriminator/types.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/draft7.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/format/format.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/format/index.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/metadata.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/const.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/enum.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/index.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/limitItems.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/limitLength.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/limitNumber.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/limitProperties.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/multipleOf.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/pattern.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/required.js","webpack://vue-svg/./node_modules/ajv/dist/vocabularies/validation/uniqueItems.js","webpack://vue-svg/./node_modules/fast-deep-equal/index.js","webpack://vue-svg/./node_modules/intersects/box-box.js","webpack://vue-svg/./node_modules/intersects/box-circle.js","webpack://vue-svg/./node_modules/intersects/box-circleOutline.js","webpack://vue-svg/./node_modules/intersects/box-ellipse.js","webpack://vue-svg/./node_modules/intersects/box-line.js","webpack://vue-svg/./node_modules/intersects/box-point.js","webpack://vue-svg/./node_modules/intersects/box-polygon.js","webpack://vue-svg/./node_modules/intersects/circle-box.js","webpack://vue-svg/./node_modules/intersects/circle-circle.js","webpack://vue-svg/./node_modules/intersects/circle-ellipse.js","webpack://vue-svg/./node_modules/intersects/circle-line.js","webpack://vue-svg/./node_modules/intersects/circle-point.js","webpack://vue-svg/./node_modules/intersects/circle-polygon.js","webpack://vue-svg/./node_modules/intersects/circleOutline-box.js","webpack://vue-svg/./node_modules/intersects/circleOutline-line.js","webpack://vue-svg/./node_modules/intersects/circleOutline-point.js","webpack://vue-svg/./node_modules/intersects/ellipse-box.js","webpack://vue-svg/./node_modules/intersects/ellipse-circle.js","webpack://vue-svg/./node_modules/intersects/ellipse-ellipse.js","webpack://vue-svg/./node_modules/intersects/ellipse-helper.js","webpack://vue-svg/./node_modules/intersects/ellipse-line.js","webpack://vue-svg/./node_modules/intersects/ellipse-point.js","webpack://vue-svg/./node_modules/intersects/ellipse-polygon.js","webpack://vue-svg/./node_modules/intersects/index.js","webpack://vue-svg/./node_modules/intersects/line-box.js","webpack://vue-svg/./node_modules/intersects/line-circle.js","webpack://vue-svg/./node_modules/intersects/line-circleOutline.js","webpack://vue-svg/./node_modules/intersects/line-ellipse.js","webpack://vue-svg/./node_modules/intersects/line-line.js","webpack://vue-svg/./node_modules/intersects/line-point.js","webpack://vue-svg/./node_modules/intersects/line-polygon.js","webpack://vue-svg/./node_modules/intersects/lineToLine.js","webpack://vue-svg/./node_modules/intersects/lineToPolygon.js","webpack://vue-svg/./node_modules/intersects/point-box.js","webpack://vue-svg/./node_modules/intersects/point-circle.js","webpack://vue-svg/./node_modules/intersects/point-circleOutline.js","webpack://vue-svg/./node_modules/intersects/point-ellipse.js","webpack://vue-svg/./node_modules/intersects/point-line.js","webpack://vue-svg/./node_modules/intersects/point-polygon.js","webpack://vue-svg/./node_modules/intersects/polygon-box.js","webpack://vue-svg/./node_modules/intersects/polygon-circle.js","webpack://vue-svg/./node_modules/intersects/polygon-ellipse.js","webpack://vue-svg/./node_modules/intersects/polygon-line.js","webpack://vue-svg/./node_modules/intersects/polygon-point.js","webpack://vue-svg/./node_modules/intersects/polygon-polygon.js","webpack://vue-svg/./node_modules/json-schema-traverse/index.js","webpack://vue-svg/./node_modules/uri-js/dist/es5/uri.all.js","webpack://vue-svg/./src/stores/svgStore.js","webpack://vue-svg/./src/lib/numbers.js","webpack://vue-svg/./node_modules/d3-selection/src/selector.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/select.js","webpack://vue-svg/./node_modules/d3-selection/src/array.js","webpack://vue-svg/./node_modules/d3-selection/src/selectorAll.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/selectAll.js","webpack://vue-svg/./node_modules/d3-selection/src/matcher.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/selectChild.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/selectChildren.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/filter.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/sparse.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/enter.js","webpack://vue-svg/./node_modules/d3-selection/src/constant.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/data.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/exit.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/join.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/merge.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/order.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/sort.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/call.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/nodes.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/node.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/size.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/empty.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/each.js","webpack://vue-svg/./node_modules/d3-selection/src/namespaces.js","webpack://vue-svg/./node_modules/d3-selection/src/namespace.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/attr.js","webpack://vue-svg/./node_modules/d3-selection/src/window.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/style.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/property.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/classed.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/text.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/html.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/raise.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/lower.js","webpack://vue-svg/./node_modules/d3-selection/src/creator.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/append.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/insert.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/remove.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/clone.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/datum.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/on.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/dispatch.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/iterator.js","webpack://vue-svg/./node_modules/d3-selection/src/selection/index.js","webpack://vue-svg/./node_modules/d3-dispatch/src/dispatch.js","webpack://vue-svg/./node_modules/d3-timer/src/timer.js","webpack://vue-svg/./node_modules/d3-timer/src/timeout.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/schedule.js","webpack://vue-svg/./node_modules/d3-transition/src/interrupt.js","webpack://vue-svg/./node_modules/d3-transition/src/selection/interrupt.js","webpack://vue-svg/./node_modules/d3-interpolate/src/number.js","webpack://vue-svg/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://vue-svg/./node_modules/d3-interpolate/src/transform/parse.js","webpack://vue-svg/./node_modules/d3-interpolate/src/transform/index.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/tween.js","webpack://vue-svg/./node_modules/d3-color/src/define.js","webpack://vue-svg/./node_modules/d3-color/src/color.js","webpack://vue-svg/./node_modules/d3-interpolate/src/basis.js","webpack://vue-svg/./node_modules/d3-interpolate/src/basisClosed.js","webpack://vue-svg/./node_modules/d3-interpolate/src/constant.js","webpack://vue-svg/./node_modules/d3-interpolate/src/color.js","webpack://vue-svg/./node_modules/d3-interpolate/src/rgb.js","webpack://vue-svg/./node_modules/d3-interpolate/src/string.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/interpolate.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/attr.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/attrTween.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/delay.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/duration.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/ease.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/easeVarying.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/filter.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/merge.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/on.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/remove.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/select.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/selectAll.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/selection.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/style.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/styleTween.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/text.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/textTween.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/transition.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/end.js","webpack://vue-svg/./node_modules/d3-transition/src/transition/index.js","webpack://vue-svg/./node_modules/d3-ease/src/cubic.js","webpack://vue-svg/./node_modules/d3-transition/src/selection/transition.js","webpack://vue-svg/./node_modules/d3-transition/src/selection/index.js","webpack://vue-svg/./node_modules/d3-brush/src/brush.js","webpack://vue-svg/./node_modules/d3-selection/src/select.js","webpack://vue-svg/./node_modules/d3-drag/src/noevent.js","webpack://vue-svg/./node_modules/d3-drag/src/nodrag.js","webpack://vue-svg/./node_modules/d3-interpolate/src/zoom.js","webpack://vue-svg/./node_modules/d3-selection/src/sourceEvent.js","webpack://vue-svg/./node_modules/d3-selection/src/pointer.js","webpack://vue-svg/./node_modules/d3-zoom/src/constant.js","webpack://vue-svg/./node_modules/d3-zoom/src/event.js","webpack://vue-svg/./node_modules/d3-zoom/src/transform.js","webpack://vue-svg/./node_modules/d3-zoom/src/noevent.js","webpack://vue-svg/./node_modules/d3-zoom/src/zoom.js","webpack://vue-svg/./src/lib/geometry.js","webpack://vue-svg/./node_modules/uuid/dist/esm-browser/rng.js","webpack://vue-svg/./node_modules/uuid/dist/esm-browser/regex.js","webpack://vue-svg/./node_modules/uuid/dist/esm-browser/validate.js","webpack://vue-svg/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://vue-svg/./node_modules/uuid/dist/esm-browser/v4.js","webpack://vue-svg/./src/lib/numbering.js","webpack://vue-svg/./src/stores/plan.js","webpack://vue-svg/./src/stores/index.js","webpack://vue-svg/./src/views/home/components/utils/MagnifierView.vue","webpack://vue-svg/./src/views/home/components/utils/MagnifierView.vue?96f3","webpack://vue-svg/./src/views/home/components/utils/SettingModal.vue","webpack://vue-svg/./src/views/home/components/utils/CheckModal.vue","webpack://vue-svg/./src/views/home/components/utils/CheckModal.vue?6475","webpack://vue-svg/./src/views/home/components/utils/ExportModal.vue","webpack://vue-svg/./src/views/home/components/utils/ExportModal.vue?7612","webpack://vue-svg/./src/assets/svgs/menuIcons/CloneIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/CloneIcon.vue?44b7","webpack://vue-svg/./src/assets/svgs/menuIcons/DirectSelectionArrowIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/DirectSelectionArrowIcon.vue?f87f","webpack://vue-svg/./src/assets/svgs/menuIcons/UndoIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/UndoIcon.vue?e4f6","webpack://vue-svg/./src/assets/svgs/menuIcons/TrashIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/TrashIcon.vue?286e","webpack://vue-svg/./src/assets/svgs/menuIcons/SelectionArrowIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/SelectionArrowIcon.vue?991c","webpack://vue-svg/./src/assets/svgs/menuIcons/HandIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/HandIcon.vue?48c5","webpack://vue-svg/./src/views/home/components/tools/MainTools.vue","webpack://vue-svg/./src/views/home/components/tools/MainTools.vue?a02e","webpack://vue-svg/./src/sampleplan.js","webpack://vue-svg/./src/views/home/components/tools/FileTool.vue","webpack://vue-svg/./src/views/home/components/tools/FileTool.vue?eec1","webpack://vue-svg/./src/assets/svgs/menuIcons/SnapToGridIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/SnapToGridIcon.vue?38ee","webpack://vue-svg/./src/stores/toolbar.js","webpack://vue-svg/./src/views/home/components/utils/GridView.vue","webpack://vue-svg/./src/views/home/components/utils/GridView.vue?ed25","webpack://vue-svg/./src/views/home/components/AppToolbar.vue","webpack://vue-svg/./src/views/home/components/AppToolbar.vue?4d0a","webpack://vue-svg/./src/lib/utils.js","webpack://vue-svg/./src/views/layout/right/Context/RowSetting.vue","webpack://vue-svg/./src/stores/seatFormat.js","webpack://vue-svg/./src/views/layout/right/Context/RowSetting.vue?cfe1","webpack://vue-svg/./src/views/layout/right/Context/RotatePanel.vue","webpack://vue-svg/./src/views/layout/right/Context/RotatePanel.vue?1534","webpack://vue-svg/./src/views/layout/right/Context/RowLabeling.vue","webpack://vue-svg/./src/views/layout/right/Context/RowLabeling.vue?b966","webpack://vue-svg/./src/views/layout/right/Context/SeatLabeling.vue","webpack://vue-svg/./src/views/layout/right/Context/SeatLabeling.vue?3265","webpack://vue-svg/./src/views/layout/right/RowTools.vue","webpack://vue-svg/./src/views/layout/right/Context/SeatLabel.vue","webpack://vue-svg/./src/views/layout/right/Context/SeatLabel.vue?fe3d","webpack://vue-svg/./src/views/layout/right/SeatTools.vue","webpack://vue-svg/./src/views/layout/right/SeatTools.vue?cc22","webpack://vue-svg/./src/views/layout/right/Context/GAPanel.vue","webpack://vue-svg/./src/views/layout/right/Context/GAPanel.vue?5873","webpack://vue-svg/./src/views/layout/right/Context/AreaPanel.vue","webpack://vue-svg/./src/views/home/components/InputColor.vue","webpack://vue-svg/./src/views/home/components/InputColor.vue?c8c9","webpack://vue-svg/./src/views/layout/right/Context/AreaPanel.vue?e215","webpack://vue-svg/./src/views/layout/right/GATools.vue","webpack://vue-svg/./src/views/layout/right/GATools.vue?e50e","webpack://vue-svg/./src/views/layout/right/Context/TablePanel.vue","webpack://vue-svg/./src/views/layout/right/Context/TablePanel.vue?afc1","webpack://vue-svg/./src/views/layout/right/Context/TableLabeling.vue","webpack://vue-svg/./src/views/layout/right/Context/TableLabeling.vue?3cb0","webpack://vue-svg/./src/views/layout/right/Context/TableSeatLabeling.vue","webpack://vue-svg/./src/views/layout/right/Context/TableSeatLabeling.vue?a391","webpack://vue-svg/./src/views/layout/right/TableTools.vue","webpack://vue-svg/./src/views/layout/right/TableTools.vue?45a8","webpack://vue-svg/./src/views/layout/right/AreaTools.vue","webpack://vue-svg/./src/views/layout/right/AreaTools.vue?5cd3","webpack://vue-svg/./src/views/layout/right/TableSeatTools.vue","webpack://vue-svg/./src/views/layout/right/TableSeatTools.vue?54dc","webpack://vue-svg/./src/views/layout/right/Context/ValidationPanel.vue","webpack://vue-svg/./src/views/layout/right/Context/ValidationPanel.vue?1edd","webpack://vue-svg/./src/lib/colors.js","webpack://vue-svg/./src/views/home/components/ColorPicker.vue","webpack://vue-svg/./src/views/home/components/ColorPicker.vue?6151","webpack://vue-svg/./src/views/home/components/CategoryManage.vue","webpack://vue-svg/./src/views/home/components/CategoryManage.vue?91c9","webpack://vue-svg/./src/views/layout/right/Context/ChartCategoryOption.vue","webpack://vue-svg/./src/views/layout/right/Context/ChartGeneralOption.vue","webpack://vue-svg/./src/views/layout/right/Context/ChartGeneralOption.vue?7686","webpack://vue-svg/./src/views/layout/rightnav/SectionLabelModal.vue","webpack://vue-svg/./src/views/layout/rightnav/SectionLabelModal.vue?9e46","webpack://vue-svg/./src/views/home/components/SectionManage.vue","webpack://vue-svg/./src/views/home/components/SectionManage.vue?a91b","webpack://vue-svg/./src/views/layout/right/Context/ChartSectionOption.vue","webpack://vue-svg/./src/views/layout/right/Context/ChartUploadBackgroundOption.vue","webpack://vue-svg/./src/views/layout/right/Context/ChartUploadBackgroundOption.vue?002a","webpack://vue-svg/./src/stores/test.js","webpack://vue-svg/./src/views/layout/right/TestSelection.vue","webpack://vue-svg/./src/views/layout/right/TestSelection.vue?6b79","webpack://vue-svg/./src/views/home/components/DropDown.vue","webpack://vue-svg/./src/views/home/components/DropDown.vue?2b31","webpack://vue-svg/./src/views/home/components/CategoryComponent.vue","webpack://vue-svg/./src/views/home/components/CategoryComponent.vue?cf22","webpack://vue-svg/./src/views/home/components/DropDownComponent.vue","webpack://vue-svg/./src/views/home/components/DropDownComponent.vue?75b1","webpack://vue-svg/./src/views/layout/right/Context/SectionLabel.vue","webpack://vue-svg/./src/views/layout/right/Context/SectionLabel.vue?037e","webpack://vue-svg/./src/views/layout/right/Context/TagsPanel.vue","webpack://vue-svg/./src/views/layout/right/Context/TagsPanel.vue?7048","webpack://vue-svg/./src/views/layout/right/RightNav.vue","webpack://vue-svg/./src/views/layout/right/RightNav.vue?5bc3","webpack://vue-svg/./src/assets/svgs/menuIcons/RowSingleIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/RowSingleIcon.vue?fc8c","webpack://vue-svg/./src/assets/svgs/menuIcons/RowMultiIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/RowMultiIcon.vue?55bb","webpack://vue-svg/./src/assets/svgs/menuIcons/RowStaggedIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/RowStaggedIcon.vue?6ace","webpack://vue-svg/./src/assets/svgs/menuIcons/GaSquareIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/GaSquareIcon.vue?abf9","webpack://vue-svg/./src/assets/svgs/menuIcons/TableRoundIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/TableRoundIcon.vue?d5ec","webpack://vue-svg/./src/assets/svgs/menuIcons/TableRectIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/TableRectIcon.vue?6770","webpack://vue-svg/./src/assets/svgs/menuIcons/GaCircleIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/GaCircleIcon.vue?6028","webpack://vue-svg/./src/assets/svgs/menuIcons/GaPolyIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/GaPolyIcon.vue?e0e7","webpack://vue-svg/./src/assets/svgs/menuIcons/FocusPointIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/FocusPointIcon.vue?ed31","webpack://vue-svg/./src/views/home/components/tools/AddChairTools.vue","webpack://vue-svg/./src/views/home/components/tools/AddChairTools.vue?9317","webpack://vue-svg/./src/assets/svgs/menuIcons/InsertIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/InsertIcon.vue?1176","webpack://vue-svg/./src/views/home/components/tools/AddItemsTools.vue","webpack://vue-svg/./src/views/home/components/tools/AddItemsTools.vue?55e7","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignCenterHorizentalIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignCenterHorizentalIcon.vue?657b","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignCenterVertical.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignCenterVertical.vue?dd6b","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignTopIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignTopIcon.vue?6a6b","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignBottomIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignBottomIcon.vue?a7f1","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignLeftIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignLeftIcon.vue?364b","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignRightIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/ObjAlignRightIcon.vue?7864","webpack://vue-svg/./src/assets/svgs/menuIcons/FlipVertIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/FlipVertIcon.vue?69bb","webpack://vue-svg/./src/assets/svgs/menuIcons/FlipHoriIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/FlipHoriIcon.vue?d1dc","webpack://vue-svg/./src/assets/svgs/menuIcons/DistHoriIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/DistHoriIcon.vue?829d","webpack://vue-svg/./src/assets/svgs/menuIcons/DistVertIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/DistVertIcon.vue?7250","webpack://vue-svg/./src/views/home/components/tools/AddAlignTools.vue","webpack://vue-svg/./src/views/home/components/tools/AddAlignTools.vue?4562","webpack://vue-svg/./src/assets/svgs/menuIcons/SeatBuilderIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/SeatBuilderIcon.vue?d6d4","webpack://vue-svg/./src/assets/svgs/menuIcons/DrawSquareIcon.vue","webpack://vue-svg/./src/assets/svgs/menuIcons/DrawSquareIcon.vue?e792","webpack://vue-svg/./src/views/home/components/HandMenu.vue","webpack://vue-svg/./src/views/home/components/HandMenu.vue?1501","webpack://vue-svg/./src/views/home/components/canvas/Plan.vue","webpack://vue-svg/./src/views/home/components/canvas/Row.vue","webpack://vue-svg/./src/views/home/components/canvas/Seat.vue","webpack://vue-svg/./src/views/home/components/canvas/Seat.vue?c301","webpack://vue-svg/./src/views/home/components/canvas/Row.vue?b1be","webpack://vue-svg/./src/views/home/components/canvas/ZoneArea.vue","webpack://vue-svg/./src/views/home/components/canvas/ZoneArea.vue?2e44","webpack://vue-svg/./src/views/home/components/canvas/ZoneComponent.vue","webpack://vue-svg/./src/views/home/components/canvas/ZoneComponent.vue?ad28","webpack://vue-svg/./src/stores/icon.js","webpack://vue-svg/./src/views/home/components/canvas/IconComponent.vue","webpack://vue-svg/./src/views/home/components/canvas/IconComponent.vue?9f08","webpack://vue-svg/./src/views/home/components/canvas/Plan.vue?ef9a","webpack://vue-svg/./src/views/home/components/StatusBar.vue","webpack://vue-svg/./src/views/home/components/StatusBar.vue?cb96","webpack://vue-svg/./src/views/home/MainHome.vue","webpack://vue-svg/./src/views/home/MainHome.vue?2132","webpack://vue-svg/./node_modules/core-js/internals/a-callable.js","webpack://vue-svg/./node_modules/core-js/internals/an-object.js","webpack://vue-svg/./node_modules/core-js/internals/array-includes.js","webpack://vue-svg/./node_modules/core-js/internals/array-set-length.js","webpack://vue-svg/./node_modules/core-js/internals/classof-raw.js","webpack://vue-svg/./node_modules/core-js/internals/classof.js","webpack://vue-svg/./node_modules/core-js/internals/copy-constructor-properties.js","webpack://vue-svg/./node_modules/core-js/internals/create-non-enumerable-property.js","webpack://vue-svg/./node_modules/core-js/internals/create-property-descriptor.js","webpack://vue-svg/./node_modules/core-js/internals/define-built-in-accessor.js","webpack://vue-svg/./node_modules/core-js/internals/define-built-in.js","webpack://vue-svg/./node_modules/core-js/internals/define-global-property.js","webpack://vue-svg/./node_modules/core-js/internals/descriptors.js","webpack://vue-svg/./node_modules/core-js/internals/document-create-element.js","webpack://vue-svg/./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack://vue-svg/./node_modules/core-js/internals/engine-user-agent.js","webpack://vue-svg/./node_modules/core-js/internals/engine-v8-version.js","webpack://vue-svg/./node_modules/core-js/internals/enum-bug-keys.js","webpack://vue-svg/./node_modules/core-js/internals/export.js","webpack://vue-svg/./node_modules/core-js/internals/fails.js","webpack://vue-svg/./node_modules/core-js/internals/function-bind-native.js","webpack://vue-svg/./node_modules/core-js/internals/function-call.js","webpack://vue-svg/./node_modules/core-js/internals/function-name.js","webpack://vue-svg/./node_modules/core-js/internals/function-uncurry-this.js","webpack://vue-svg/./node_modules/core-js/internals/get-built-in.js","webpack://vue-svg/./node_modules/core-js/internals/get-method.js","webpack://vue-svg/./node_modules/core-js/internals/global.js","webpack://vue-svg/./node_modules/core-js/internals/has-own-property.js","webpack://vue-svg/./node_modules/core-js/internals/hidden-keys.js","webpack://vue-svg/./node_modules/core-js/internals/ie8-dom-define.js","webpack://vue-svg/./node_modules/core-js/internals/indexed-object.js","webpack://vue-svg/./node_modules/core-js/internals/inspect-source.js","webpack://vue-svg/./node_modules/core-js/internals/internal-state.js","webpack://vue-svg/./node_modules/core-js/internals/is-array.js","webpack://vue-svg/./node_modules/core-js/internals/is-callable.js","webpack://vue-svg/./node_modules/core-js/internals/is-forced.js","webpack://vue-svg/./node_modules/core-js/internals/is-null-or-undefined.js","webpack://vue-svg/./node_modules/core-js/internals/is-object.js","webpack://vue-svg/./node_modules/core-js/internals/is-pure.js","webpack://vue-svg/./node_modules/core-js/internals/is-symbol.js","webpack://vue-svg/./node_modules/core-js/internals/length-of-array-like.js","webpack://vue-svg/./node_modules/core-js/internals/make-built-in.js","webpack://vue-svg/./node_modules/core-js/internals/math-trunc.js","webpack://vue-svg/./node_modules/core-js/internals/object-define-property.js","webpack://vue-svg/./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack://vue-svg/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://vue-svg/./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack://vue-svg/./node_modules/core-js/internals/object-is-prototype-of.js","webpack://vue-svg/./node_modules/core-js/internals/object-keys-internal.js","webpack://vue-svg/./node_modules/core-js/internals/object-property-is-enumerable.js","webpack://vue-svg/./node_modules/core-js/internals/ordinary-to-primitive.js","webpack://vue-svg/./node_modules/core-js/internals/own-keys.js","webpack://vue-svg/./node_modules/core-js/internals/require-object-coercible.js","webpack://vue-svg/./node_modules/core-js/internals/shared-key.js","webpack://vue-svg/./node_modules/core-js/internals/shared-store.js","webpack://vue-svg/./node_modules/core-js/internals/shared.js","webpack://vue-svg/./node_modules/core-js/internals/symbol-constructor-detection.js","webpack://vue-svg/./node_modules/core-js/internals/to-absolute-index.js","webpack://vue-svg/./node_modules/core-js/internals/to-indexed-object.js","webpack://vue-svg/./node_modules/core-js/internals/to-integer-or-infinity.js","webpack://vue-svg/./node_modules/core-js/internals/to-length.js","webpack://vue-svg/./node_modules/core-js/internals/to-object.js","webpack://vue-svg/./node_modules/core-js/internals/to-primitive.js","webpack://vue-svg/./node_modules/core-js/internals/to-property-key.js","webpack://vue-svg/./node_modules/core-js/internals/to-string-tag-support.js","webpack://vue-svg/./node_modules/core-js/internals/to-string.js","webpack://vue-svg/./node_modules/core-js/internals/try-to-string.js","webpack://vue-svg/./node_modules/core-js/internals/uid.js","webpack://vue-svg/./node_modules/core-js/internals/use-symbol-as-uid.js","webpack://vue-svg/./node_modules/core-js/internals/v8-prototype-define-bug.js","webpack://vue-svg/./node_modules/core-js/internals/validate-arguments-length.js","webpack://vue-svg/./node_modules/core-js/internals/weak-map-basic-detection.js","webpack://vue-svg/./node_modules/core-js/internals/well-known-symbol.js","webpack://vue-svg/./node_modules/core-js/modules/es.array.push.js","webpack://vue-svg/./node_modules/core-js/modules/web.url-search-params.delete.js","webpack://vue-svg/./node_modules/core-js/modules/web.url-search-params.has.js","webpack://vue-svg/./node_modules/core-js/modules/web.url-search-params.size.js","webpack://vue-svg/./node_modules/native-fetch/esm/src/index.js","webpack://vue-svg/./node_modules/tslib/tslib.es6.mjs"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotFoundError = void 0;\nconst PlunkError_1 = require(\"./PlunkError\");\nclass NotFoundError extends PlunkError_1.PlunkError {\n    constructor(msg = \"That resource could not be found\") {\n        super(msg);\n        Object.setPrototypeOf(this, NotFoundError.prototype);\n    }\n}\nexports.NotFoundError = NotFoundError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PlunkError = void 0;\nclass PlunkError extends Error {\n    constructor(msg) {\n        super(msg);\n        Object.setPrototypeOf(this, PlunkError.prototype);\n    }\n}\nexports.PlunkError = PlunkError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TokenError = void 0;\nconst PlunkError_1 = require(\"./PlunkError\");\nclass TokenError extends PlunkError_1.PlunkError {\n    constructor(msg = \"Invalid API Credentials Provided\") {\n        super(msg);\n        Object.setPrototypeOf(this, TokenError.prototype);\n    }\n}\nexports.TokenError = TokenError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Plunk_1 = require(\"./lib/Plunk\");\nexports.default = Plunk_1.Plunk;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Plunk = void 0;\nconst tslib_1 = require(\"tslib\");\nconst native_fetch_1 = require(\"native-fetch\");\nconst NotFound_1 = require(\"../errors/NotFound\");\nconst TokenError_1 = require(\"../errors/TokenError\");\nclass Plunk {\n    constructor(key) {\n        /**\n         * Resources\n         */\n        this.events = {\n            /**\n             * Publishes an event to Plunk\n             * @param {string} event.event - The event you want to publish\n             * @param {string} event.email - The email associated with this event\n             * @param {Object=} event.data - The user data associated with this event\n             * @param {boolean=true} event.subscribed - Whether the user is subscribed to marketing emails\n             */\n            track: (event) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                return yield this.fetch({\n                    method: \"POST\",\n                    url: \"track\",\n                    json: Object.assign({}, event),\n                });\n            }),\n        };\n        this.emails = {\n            /**\n             * Sends a transactional email with Plunk\n             *\n             * @param {string} body.to - The email you want to send to\n             * @param {string} body.subject - The subject of the email\n             * @param {string} body.body - The body of the email\n             * @param {string=} body.from - The email you want to send from\n             * @param {string=} body.name - The name you want to send as\n             * @param {string=html} body.type - The type of email you want to send\n             * @param {boolean=false} body.subscribed - Whether the user is subscribed to marketing emails\n             */\n            send: (body) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                return yield this.fetch({\n                    method: \"POST\",\n                    url: \"send\",\n                    json: Object.assign({}, body),\n                });\n            }),\n        };\n        this.key = key;\n    }\n    fetch(_a) {\n        var _b;\n        var { json, url } = _a, options = tslib_1.__rest(_a, [\"json\", \"url\"]);\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const res = yield (0, native_fetch_1.fetch)(new URL(url, \"https://api.useplunk.com/v1/\").toString(), Object.assign(Object.assign({}, options), { headers: Object.assign(Object.assign({ Authorization: `Bearer ${this.key}` }, (json && { \"Content-Type\": \"application/json\" })), options.headers), body: json ? JSON.stringify(json) : undefined }));\n            const text = yield res.text();\n            const data = safeJsonParse(text);\n            if ((res === null || res === void 0 ? void 0 : res.status) === 401) {\n                throw new TokenError_1.TokenError(data === null || data === void 0 ? void 0 : data.message);\n            }\n            if ((res === null || res === void 0 ? void 0 : res.status) === 404) {\n                throw new NotFound_1.NotFoundError(data === null || data === void 0 ? void 0 : data.message);\n            }\n            if (!res.ok) {\n                throw new Error((_b = data === null || data === void 0 ? void 0 : data.message) !== null && _b !== void 0 ? _b : \"Unknown API Error\");\n            }\n            return data;\n        });\n    }\n}\nexports.Plunk = Plunk;\nfunction safeJsonParse(text) {\n    try {\n        return JSON.parse(text);\n    }\n    catch (e) {\n        return text;\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MissingRefError = exports.ValidationError = exports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nconst core_1 = require(\"./core\");\nconst draft7_1 = require(\"./vocabularies/draft7\");\nconst discriminator_1 = require(\"./vocabularies/discriminator\");\nconst draft7MetaSchema = require(\"./refs/json-schema-draft-07.json\");\nconst META_SUPPORT_DATA = [\"/properties\"];\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\";\nclass Ajv extends core_1.default {\n    _addVocabularies() {\n        super._addVocabularies();\n        draft7_1.default.forEach((v) => this.addVocabulary(v));\n        if (this.opts.discriminator)\n            this.addKeyword(discriminator_1.default);\n    }\n    _addDefaultMetaSchema() {\n        super._addDefaultMetaSchema();\n        if (!this.opts.meta)\n            return;\n        const metaSchema = this.opts.$data\n            ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n            : draft7MetaSchema;\n        this.addMetaSchema(metaSchema, META_SCHEMA_ID, false);\n        this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID;\n    }\n    defaultMeta() {\n        return (this.opts.defaultMeta =\n            super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined));\n    }\n}\nmodule.exports = exports = Ajv;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = Ajv;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nvar validation_error_1 = require(\"./runtime/validation_error\");\nObject.defineProperty(exports, \"ValidationError\", { enumerable: true, get: function () { return validation_error_1.default; } });\nvar ref_error_1 = require(\"./compile/ref_error\");\nObject.defineProperty(exports, \"MissingRefError\", { enumerable: true, get: function () { return ref_error_1.default; } });\n//# sourceMappingURL=ajv.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.regexpCode = exports.getEsmExportName = exports.getProperty = exports.safeStringify = exports.stringify = exports.strConcat = exports.addCodeArg = exports.str = exports._ = exports.nil = exports._Code = exports.Name = exports.IDENTIFIER = exports._CodeOrName = void 0;\nclass _CodeOrName {\n}\nexports._CodeOrName = _CodeOrName;\nexports.IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nclass Name extends _CodeOrName {\n    constructor(s) {\n        super();\n        if (!exports.IDENTIFIER.test(s))\n            throw new Error(\"CodeGen: name must be a valid identifier\");\n        this.str = s;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        return false;\n    }\n    get names() {\n        return { [this.str]: 1 };\n    }\n}\nexports.Name = Name;\nclass _Code extends _CodeOrName {\n    constructor(code) {\n        super();\n        this._items = typeof code === \"string\" ? [code] : code;\n    }\n    toString() {\n        return this.str;\n    }\n    emptyStr() {\n        if (this._items.length > 1)\n            return false;\n        const item = this._items[0];\n        return item === \"\" || item === '\"\"';\n    }\n    get str() {\n        var _a;\n        return ((_a = this._str) !== null && _a !== void 0 ? _a : (this._str = this._items.reduce((s, c) => `${s}${c}`, \"\")));\n    }\n    get names() {\n        var _a;\n        return ((_a = this._names) !== null && _a !== void 0 ? _a : (this._names = this._items.reduce((names, c) => {\n            if (c instanceof Name)\n                names[c.str] = (names[c.str] || 0) + 1;\n            return names;\n        }, {})));\n    }\n}\nexports._Code = _Code;\nexports.nil = new _Code(\"\");\nfunction _(strs, ...args) {\n    const code = [strs[0]];\n    let i = 0;\n    while (i < args.length) {\n        addCodeArg(code, args[i]);\n        code.push(strs[++i]);\n    }\n    return new _Code(code);\n}\nexports._ = _;\nconst plus = new _Code(\"+\");\nfunction str(strs, ...args) {\n    const expr = [safeStringify(strs[0])];\n    let i = 0;\n    while (i < args.length) {\n        expr.push(plus);\n        addCodeArg(expr, args[i]);\n        expr.push(plus, safeStringify(strs[++i]));\n    }\n    optimize(expr);\n    return new _Code(expr);\n}\nexports.str = str;\nfunction addCodeArg(code, arg) {\n    if (arg instanceof _Code)\n        code.push(...arg._items);\n    else if (arg instanceof Name)\n        code.push(arg);\n    else\n        code.push(interpolate(arg));\n}\nexports.addCodeArg = addCodeArg;\nfunction optimize(expr) {\n    let i = 1;\n    while (i < expr.length - 1) {\n        if (expr[i] === plus) {\n            const res = mergeExprItems(expr[i - 1], expr[i + 1]);\n            if (res !== undefined) {\n                expr.splice(i - 1, 3, res);\n                continue;\n            }\n            expr[i++] = \"+\";\n        }\n        i++;\n    }\n}\nfunction mergeExprItems(a, b) {\n    if (b === '\"\"')\n        return a;\n    if (a === '\"\"')\n        return b;\n    if (typeof a == \"string\") {\n        if (b instanceof Name || a[a.length - 1] !== '\"')\n            return;\n        if (typeof b != \"string\")\n            return `${a.slice(0, -1)}${b}\"`;\n        if (b[0] === '\"')\n            return a.slice(0, -1) + b.slice(1);\n        return;\n    }\n    if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name))\n        return `\"${a}${b.slice(1)}`;\n    return;\n}\nfunction strConcat(c1, c2) {\n    return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str `${c1}${c2}`;\n}\nexports.strConcat = strConcat;\n// TODO do not allow arrays here\nfunction interpolate(x) {\n    return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n        ? x\n        : safeStringify(Array.isArray(x) ? x.join(\",\") : x);\n}\nfunction stringify(x) {\n    return new _Code(safeStringify(x));\n}\nexports.stringify = stringify;\nfunction safeStringify(x) {\n    return JSON.stringify(x)\n        .replace(/\\u2028/g, \"\\\\u2028\")\n        .replace(/\\u2029/g, \"\\\\u2029\");\n}\nexports.safeStringify = safeStringify;\nfunction getProperty(key) {\n    return typeof key == \"string\" && exports.IDENTIFIER.test(key) ? new _Code(`.${key}`) : _ `[${key}]`;\n}\nexports.getProperty = getProperty;\n//Does best effort to format the name properly\nfunction getEsmExportName(key) {\n    if (typeof key == \"string\" && exports.IDENTIFIER.test(key)) {\n        return new _Code(`${key}`);\n    }\n    throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`);\n}\nexports.getEsmExportName = getEsmExportName;\nfunction regexpCode(rx) {\n    return new _Code(rx.toString());\n}\nexports.regexpCode = regexpCode;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.or = exports.and = exports.not = exports.CodeGen = exports.operators = exports.varKinds = exports.ValueScopeName = exports.ValueScope = exports.Scope = exports.Name = exports.regexpCode = exports.stringify = exports.getProperty = exports.nil = exports.strConcat = exports.str = exports._ = void 0;\nconst code_1 = require(\"./code\");\nconst scope_1 = require(\"./scope\");\nvar code_2 = require(\"./code\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return code_2._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return code_2.str; } });\nObject.defineProperty(exports, \"strConcat\", { enumerable: true, get: function () { return code_2.strConcat; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return code_2.nil; } });\nObject.defineProperty(exports, \"getProperty\", { enumerable: true, get: function () { return code_2.getProperty; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return code_2.stringify; } });\nObject.defineProperty(exports, \"regexpCode\", { enumerable: true, get: function () { return code_2.regexpCode; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return code_2.Name; } });\nvar scope_2 = require(\"./scope\");\nObject.defineProperty(exports, \"Scope\", { enumerable: true, get: function () { return scope_2.Scope; } });\nObject.defineProperty(exports, \"ValueScope\", { enumerable: true, get: function () { return scope_2.ValueScope; } });\nObject.defineProperty(exports, \"ValueScopeName\", { enumerable: true, get: function () { return scope_2.ValueScopeName; } });\nObject.defineProperty(exports, \"varKinds\", { enumerable: true, get: function () { return scope_2.varKinds; } });\nexports.operators = {\n    GT: new code_1._Code(\">\"),\n    GTE: new code_1._Code(\">=\"),\n    LT: new code_1._Code(\"<\"),\n    LTE: new code_1._Code(\"<=\"),\n    EQ: new code_1._Code(\"===\"),\n    NEQ: new code_1._Code(\"!==\"),\n    NOT: new code_1._Code(\"!\"),\n    OR: new code_1._Code(\"||\"),\n    AND: new code_1._Code(\"&&\"),\n    ADD: new code_1._Code(\"+\"),\n};\nclass Node {\n    optimizeNodes() {\n        return this;\n    }\n    optimizeNames(_names, _constants) {\n        return this;\n    }\n}\nclass Def extends Node {\n    constructor(varKind, name, rhs) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.rhs = rhs;\n    }\n    render({ es5, _n }) {\n        const varKind = es5 ? scope_1.varKinds.var : this.varKind;\n        const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`;\n        return `${varKind} ${this.name}${rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (!names[this.name.str])\n            return;\n        if (this.rhs)\n            this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        return this.rhs instanceof code_1._CodeOrName ? this.rhs.names : {};\n    }\n}\nclass Assign extends Node {\n    constructor(lhs, rhs, sideEffects) {\n        super();\n        this.lhs = lhs;\n        this.rhs = rhs;\n        this.sideEffects = sideEffects;\n    }\n    render({ _n }) {\n        return `${this.lhs} = ${this.rhs};` + _n;\n    }\n    optimizeNames(names, constants) {\n        if (this.lhs instanceof code_1.Name && !names[this.lhs.str] && !this.sideEffects)\n            return;\n        this.rhs = optimizeExpr(this.rhs, names, constants);\n        return this;\n    }\n    get names() {\n        const names = this.lhs instanceof code_1.Name ? {} : { ...this.lhs.names };\n        return addExprNames(names, this.rhs);\n    }\n}\nclass AssignOp extends Assign {\n    constructor(lhs, op, rhs, sideEffects) {\n        super(lhs, rhs, sideEffects);\n        this.op = op;\n    }\n    render({ _n }) {\n        return `${this.lhs} ${this.op}= ${this.rhs};` + _n;\n    }\n}\nclass Label extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        return `${this.label}:` + _n;\n    }\n}\nclass Break extends Node {\n    constructor(label) {\n        super();\n        this.label = label;\n        this.names = {};\n    }\n    render({ _n }) {\n        const label = this.label ? ` ${this.label}` : \"\";\n        return `break${label};` + _n;\n    }\n}\nclass Throw extends Node {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render({ _n }) {\n        return `throw ${this.error};` + _n;\n    }\n    get names() {\n        return this.error.names;\n    }\n}\nclass AnyCode extends Node {\n    constructor(code) {\n        super();\n        this.code = code;\n    }\n    render({ _n }) {\n        return `${this.code};` + _n;\n    }\n    optimizeNodes() {\n        return `${this.code}` ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        this.code = optimizeExpr(this.code, names, constants);\n        return this;\n    }\n    get names() {\n        return this.code instanceof code_1._CodeOrName ? this.code.names : {};\n    }\n}\nclass ParentNode extends Node {\n    constructor(nodes = []) {\n        super();\n        this.nodes = nodes;\n    }\n    render(opts) {\n        return this.nodes.reduce((code, n) => code + n.render(opts), \"\");\n    }\n    optimizeNodes() {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            const n = nodes[i].optimizeNodes();\n            if (Array.isArray(n))\n                nodes.splice(i, 1, ...n);\n            else if (n)\n                nodes[i] = n;\n            else\n                nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    optimizeNames(names, constants) {\n        const { nodes } = this;\n        let i = nodes.length;\n        while (i--) {\n            // iterating backwards improves 1-pass optimization\n            const n = nodes[i];\n            if (n.optimizeNames(names, constants))\n                continue;\n            subtractNames(names, n.names);\n            nodes.splice(i, 1);\n        }\n        return nodes.length > 0 ? this : undefined;\n    }\n    get names() {\n        return this.nodes.reduce((names, n) => addNames(names, n.names), {});\n    }\n}\nclass BlockNode extends ParentNode {\n    render(opts) {\n        return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n;\n    }\n}\nclass Root extends ParentNode {\n}\nclass Else extends BlockNode {\n}\nElse.kind = \"else\";\nclass If extends BlockNode {\n    constructor(condition, nodes) {\n        super(nodes);\n        this.condition = condition;\n    }\n    render(opts) {\n        let code = `if(${this.condition})` + super.render(opts);\n        if (this.else)\n            code += \"else \" + this.else.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        super.optimizeNodes();\n        const cond = this.condition;\n        if (cond === true)\n            return this.nodes; // else is ignored here\n        let e = this.else;\n        if (e) {\n            const ns = e.optimizeNodes();\n            e = this.else = Array.isArray(ns) ? new Else(ns) : ns;\n        }\n        if (e) {\n            if (cond === false)\n                return e instanceof If ? e : e.nodes;\n            if (this.nodes.length)\n                return this;\n            return new If(not(cond), e instanceof If ? [e] : e.nodes);\n        }\n        if (cond === false || !this.nodes.length)\n            return undefined;\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a;\n        this.else = (_a = this.else) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        if (!(super.optimizeNames(names, constants) || this.else))\n            return;\n        this.condition = optimizeExpr(this.condition, names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        addExprNames(names, this.condition);\n        if (this.else)\n            addNames(names, this.else.names);\n        return names;\n    }\n}\nIf.kind = \"if\";\nclass For extends BlockNode {\n}\nFor.kind = \"for\";\nclass ForLoop extends For {\n    constructor(iteration) {\n        super();\n        this.iteration = iteration;\n    }\n    render(opts) {\n        return `for(${this.iteration})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iteration = optimizeExpr(this.iteration, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iteration.names);\n    }\n}\nclass ForRange extends For {\n    constructor(varKind, name, from, to) {\n        super();\n        this.varKind = varKind;\n        this.name = name;\n        this.from = from;\n        this.to = to;\n    }\n    render(opts) {\n        const varKind = opts.es5 ? scope_1.varKinds.var : this.varKind;\n        const { name, from, to } = this;\n        return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts);\n    }\n    get names() {\n        const names = addExprNames(super.names, this.from);\n        return addExprNames(names, this.to);\n    }\n}\nclass ForIter extends For {\n    constructor(loop, varKind, name, iterable) {\n        super();\n        this.loop = loop;\n        this.varKind = varKind;\n        this.name = name;\n        this.iterable = iterable;\n    }\n    render(opts) {\n        return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts);\n    }\n    optimizeNames(names, constants) {\n        if (!super.optimizeNames(names, constants))\n            return;\n        this.iterable = optimizeExpr(this.iterable, names, constants);\n        return this;\n    }\n    get names() {\n        return addNames(super.names, this.iterable.names);\n    }\n}\nclass Func extends BlockNode {\n    constructor(name, args, async) {\n        super();\n        this.name = name;\n        this.args = args;\n        this.async = async;\n    }\n    render(opts) {\n        const _async = this.async ? \"async \" : \"\";\n        return `${_async}function ${this.name}(${this.args})` + super.render(opts);\n    }\n}\nFunc.kind = \"func\";\nclass Return extends ParentNode {\n    render(opts) {\n        return \"return \" + super.render(opts);\n    }\n}\nReturn.kind = \"return\";\nclass Try extends BlockNode {\n    render(opts) {\n        let code = \"try\" + super.render(opts);\n        if (this.catch)\n            code += this.catch.render(opts);\n        if (this.finally)\n            code += this.finally.render(opts);\n        return code;\n    }\n    optimizeNodes() {\n        var _a, _b;\n        super.optimizeNodes();\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNodes();\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNodes();\n        return this;\n    }\n    optimizeNames(names, constants) {\n        var _a, _b;\n        super.optimizeNames(names, constants);\n        (_a = this.catch) === null || _a === void 0 ? void 0 : _a.optimizeNames(names, constants);\n        (_b = this.finally) === null || _b === void 0 ? void 0 : _b.optimizeNames(names, constants);\n        return this;\n    }\n    get names() {\n        const names = super.names;\n        if (this.catch)\n            addNames(names, this.catch.names);\n        if (this.finally)\n            addNames(names, this.finally.names);\n        return names;\n    }\n}\nclass Catch extends BlockNode {\n    constructor(error) {\n        super();\n        this.error = error;\n    }\n    render(opts) {\n        return `catch(${this.error})` + super.render(opts);\n    }\n}\nCatch.kind = \"catch\";\nclass Finally extends BlockNode {\n    render(opts) {\n        return \"finally\" + super.render(opts);\n    }\n}\nFinally.kind = \"finally\";\nclass CodeGen {\n    constructor(extScope, opts = {}) {\n        this._values = {};\n        this._blockStarts = [];\n        this._constants = {};\n        this.opts = { ...opts, _n: opts.lines ? \"\\n\" : \"\" };\n        this._extScope = extScope;\n        this._scope = new scope_1.Scope({ parent: extScope });\n        this._nodes = [new Root()];\n    }\n    toString() {\n        return this._root.render(this.opts);\n    }\n    // returns unique name in the internal scope\n    name(prefix) {\n        return this._scope.name(prefix);\n    }\n    // reserves unique name in the external scope\n    scopeName(prefix) {\n        return this._extScope.name(prefix);\n    }\n    // reserves unique name in the external scope and assigns value to it\n    scopeValue(prefixOrName, value) {\n        const name = this._extScope.value(prefixOrName, value);\n        const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set());\n        vs.add(name);\n        return name;\n    }\n    getScopeValue(prefix, keyOrRef) {\n        return this._extScope.getValue(prefix, keyOrRef);\n    }\n    // return code that assigns values in the external scope to the names that are used internally\n    // (same names that were returned by gen.scopeName or gen.scopeValue)\n    scopeRefs(scopeName) {\n        return this._extScope.scopeRefs(scopeName, this._values);\n    }\n    scopeCode() {\n        return this._extScope.scopeCode(this._values);\n    }\n    _def(varKind, nameOrPrefix, rhs, constant) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (rhs !== undefined && constant)\n            this._constants[name.str] = rhs;\n        this._leafNode(new Def(varKind, name, rhs));\n        return name;\n    }\n    // `const` declaration (`var` in es5 mode)\n    const(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.const, nameOrPrefix, rhs, _constant);\n    }\n    // `let` declaration with optional assignment (`var` in es5 mode)\n    let(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.let, nameOrPrefix, rhs, _constant);\n    }\n    // `var` declaration with optional assignment\n    var(nameOrPrefix, rhs, _constant) {\n        return this._def(scope_1.varKinds.var, nameOrPrefix, rhs, _constant);\n    }\n    // assignment code\n    assign(lhs, rhs, sideEffects) {\n        return this._leafNode(new Assign(lhs, rhs, sideEffects));\n    }\n    // `+=` code\n    add(lhs, rhs) {\n        return this._leafNode(new AssignOp(lhs, exports.operators.ADD, rhs));\n    }\n    // appends passed SafeExpr to code or executes Block\n    code(c) {\n        if (typeof c == \"function\")\n            c();\n        else if (c !== code_1.nil)\n            this._leafNode(new AnyCode(c));\n        return this;\n    }\n    // returns code for object literal for the passed argument list of key-value pairs\n    object(...keyValues) {\n        const code = [\"{\"];\n        for (const [key, value] of keyValues) {\n            if (code.length > 1)\n                code.push(\",\");\n            code.push(key);\n            if (key !== value || this.opts.es5) {\n                code.push(\":\");\n                (0, code_1.addCodeArg)(code, value);\n            }\n        }\n        code.push(\"}\");\n        return new code_1._Code(code);\n    }\n    // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n    if(condition, thenBody, elseBody) {\n        this._blockNode(new If(condition));\n        if (thenBody && elseBody) {\n            this.code(thenBody).else().code(elseBody).endIf();\n        }\n        else if (thenBody) {\n            this.code(thenBody).endIf();\n        }\n        else if (elseBody) {\n            throw new Error('CodeGen: \"else\" body without \"then\" body');\n        }\n        return this;\n    }\n    // `else if` clause - invalid without `if` or after `else` clauses\n    elseIf(condition) {\n        return this._elseNode(new If(condition));\n    }\n    // `else` clause - only valid after `if` or `else if` clauses\n    else() {\n        return this._elseNode(new Else());\n    }\n    // end `if` statement (needed if gen.if was used only with condition)\n    endIf() {\n        return this._endBlockNode(If, Else);\n    }\n    _for(node, forBody) {\n        this._blockNode(node);\n        if (forBody)\n            this.code(forBody).endFor();\n        return this;\n    }\n    // a generic `for` clause (or statement if `forBody` is passed)\n    for(iteration, forBody) {\n        return this._for(new ForLoop(iteration), forBody);\n    }\n    // `for` statement for a range of values\n    forRange(nameOrPrefix, from, to, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.let) {\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForRange(varKind, name, from, to), () => forBody(name));\n    }\n    // `for-of` statement (in es5 mode replace with a normal for loop)\n    forOf(nameOrPrefix, iterable, forBody, varKind = scope_1.varKinds.const) {\n        const name = this._scope.toName(nameOrPrefix);\n        if (this.opts.es5) {\n            const arr = iterable instanceof code_1.Name ? iterable : this.var(\"_arr\", iterable);\n            return this.forRange(\"_i\", 0, (0, code_1._) `${arr}.length`, (i) => {\n                this.var(name, (0, code_1._) `${arr}[${i}]`);\n                forBody(name);\n            });\n        }\n        return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name));\n    }\n    // `for-in` statement.\n    // With option `ownProperties` replaced with a `for-of` loop for object keys\n    forIn(nameOrPrefix, obj, forBody, varKind = this.opts.es5 ? scope_1.varKinds.var : scope_1.varKinds.const) {\n        if (this.opts.ownProperties) {\n            return this.forOf(nameOrPrefix, (0, code_1._) `Object.keys(${obj})`, forBody);\n        }\n        const name = this._scope.toName(nameOrPrefix);\n        return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name));\n    }\n    // end `for` loop\n    endFor() {\n        return this._endBlockNode(For);\n    }\n    // `label` statement\n    label(label) {\n        return this._leafNode(new Label(label));\n    }\n    // `break` statement\n    break(label) {\n        return this._leafNode(new Break(label));\n    }\n    // `return` statement\n    return(value) {\n        const node = new Return();\n        this._blockNode(node);\n        this.code(value);\n        if (node.nodes.length !== 1)\n            throw new Error('CodeGen: \"return\" should have one node');\n        return this._endBlockNode(Return);\n    }\n    // `try` statement\n    try(tryBody, catchCode, finallyCode) {\n        if (!catchCode && !finallyCode)\n            throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"');\n        const node = new Try();\n        this._blockNode(node);\n        this.code(tryBody);\n        if (catchCode) {\n            const error = this.name(\"e\");\n            this._currNode = node.catch = new Catch(error);\n            catchCode(error);\n        }\n        if (finallyCode) {\n            this._currNode = node.finally = new Finally();\n            this.code(finallyCode);\n        }\n        return this._endBlockNode(Catch, Finally);\n    }\n    // `throw` statement\n    throw(error) {\n        return this._leafNode(new Throw(error));\n    }\n    // start self-balancing block\n    block(body, nodeCount) {\n        this._blockStarts.push(this._nodes.length);\n        if (body)\n            this.code(body).endBlock(nodeCount);\n        return this;\n    }\n    // end the current self-balancing block\n    endBlock(nodeCount) {\n        const len = this._blockStarts.pop();\n        if (len === undefined)\n            throw new Error(\"CodeGen: not in self-balancing block\");\n        const toClose = this._nodes.length - len;\n        if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n            throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`);\n        }\n        this._nodes.length = len;\n        return this;\n    }\n    // `function` heading (or definition if funcBody is passed)\n    func(name, args = code_1.nil, async, funcBody) {\n        this._blockNode(new Func(name, args, async));\n        if (funcBody)\n            this.code(funcBody).endFunc();\n        return this;\n    }\n    // end function definition\n    endFunc() {\n        return this._endBlockNode(Func);\n    }\n    optimize(n = 1) {\n        while (n-- > 0) {\n            this._root.optimizeNodes();\n            this._root.optimizeNames(this._root.names, this._constants);\n        }\n    }\n    _leafNode(node) {\n        this._currNode.nodes.push(node);\n        return this;\n    }\n    _blockNode(node) {\n        this._currNode.nodes.push(node);\n        this._nodes.push(node);\n    }\n    _endBlockNode(N1, N2) {\n        const n = this._currNode;\n        if (n instanceof N1 || (N2 && n instanceof N2)) {\n            this._nodes.pop();\n            return this;\n        }\n        throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`);\n    }\n    _elseNode(node) {\n        const n = this._currNode;\n        if (!(n instanceof If)) {\n            throw new Error('CodeGen: \"else\" without \"if\"');\n        }\n        this._currNode = n.else = node;\n        return this;\n    }\n    get _root() {\n        return this._nodes[0];\n    }\n    get _currNode() {\n        const ns = this._nodes;\n        return ns[ns.length - 1];\n    }\n    set _currNode(node) {\n        const ns = this._nodes;\n        ns[ns.length - 1] = node;\n    }\n}\nexports.CodeGen = CodeGen;\nfunction addNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) + (from[n] || 0);\n    return names;\n}\nfunction addExprNames(names, from) {\n    return from instanceof code_1._CodeOrName ? addNames(names, from.names) : names;\n}\nfunction optimizeExpr(expr, names, constants) {\n    if (expr instanceof code_1.Name)\n        return replaceName(expr);\n    if (!canOptimize(expr))\n        return expr;\n    return new code_1._Code(expr._items.reduce((items, c) => {\n        if (c instanceof code_1.Name)\n            c = replaceName(c);\n        if (c instanceof code_1._Code)\n            items.push(...c._items);\n        else\n            items.push(c);\n        return items;\n    }, []));\n    function replaceName(n) {\n        const c = constants[n.str];\n        if (c === undefined || names[n.str] !== 1)\n            return n;\n        delete names[n.str];\n        return c;\n    }\n    function canOptimize(e) {\n        return (e instanceof code_1._Code &&\n            e._items.some((c) => c instanceof code_1.Name && names[c.str] === 1 && constants[c.str] !== undefined));\n    }\n}\nfunction subtractNames(names, from) {\n    for (const n in from)\n        names[n] = (names[n] || 0) - (from[n] || 0);\n}\nfunction not(x) {\n    return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : (0, code_1._) `!${par(x)}`;\n}\nexports.not = not;\nconst andCode = mappend(exports.operators.AND);\n// boolean AND (&&) expression with the passed arguments\nfunction and(...args) {\n    return args.reduce(andCode);\n}\nexports.and = and;\nconst orCode = mappend(exports.operators.OR);\n// boolean OR (||) expression with the passed arguments\nfunction or(...args) {\n    return args.reduce(orCode);\n}\nexports.or = or;\nfunction mappend(op) {\n    return (x, y) => (x === code_1.nil ? y : y === code_1.nil ? x : (0, code_1._) `${par(x)} ${op} ${par(y)}`);\n}\nfunction par(x) {\n    return x instanceof code_1.Name ? x : (0, code_1._) `(${x})`;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValueScope = exports.ValueScopeName = exports.Scope = exports.varKinds = exports.UsedValueState = void 0;\nconst code_1 = require(\"./code\");\nclass ValueError extends Error {\n    constructor(name) {\n        super(`CodeGen: \"code\" for ${name} not defined`);\n        this.value = name.value;\n    }\n}\nvar UsedValueState;\n(function (UsedValueState) {\n    UsedValueState[UsedValueState[\"Started\"] = 0] = \"Started\";\n    UsedValueState[UsedValueState[\"Completed\"] = 1] = \"Completed\";\n})(UsedValueState = exports.UsedValueState || (exports.UsedValueState = {}));\nexports.varKinds = {\n    const: new code_1.Name(\"const\"),\n    let: new code_1.Name(\"let\"),\n    var: new code_1.Name(\"var\"),\n};\nclass Scope {\n    constructor({ prefixes, parent } = {}) {\n        this._names = {};\n        this._prefixes = prefixes;\n        this._parent = parent;\n    }\n    toName(nameOrPrefix) {\n        return nameOrPrefix instanceof code_1.Name ? nameOrPrefix : this.name(nameOrPrefix);\n    }\n    name(prefix) {\n        return new code_1.Name(this._newName(prefix));\n    }\n    _newName(prefix) {\n        const ng = this._names[prefix] || this._nameGroup(prefix);\n        return `${prefix}${ng.index++}`;\n    }\n    _nameGroup(prefix) {\n        var _a, _b;\n        if (((_b = (_a = this._parent) === null || _a === void 0 ? void 0 : _a._prefixes) === null || _b === void 0 ? void 0 : _b.has(prefix)) || (this._prefixes && !this._prefixes.has(prefix))) {\n            throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`);\n        }\n        return (this._names[prefix] = { prefix, index: 0 });\n    }\n}\nexports.Scope = Scope;\nclass ValueScopeName extends code_1.Name {\n    constructor(prefix, nameStr) {\n        super(nameStr);\n        this.prefix = prefix;\n    }\n    setValue(value, { property, itemIndex }) {\n        this.value = value;\n        this.scopePath = (0, code_1._) `.${new code_1.Name(property)}[${itemIndex}]`;\n    }\n}\nexports.ValueScopeName = ValueScopeName;\nconst line = (0, code_1._) `\\n`;\nclass ValueScope extends Scope {\n    constructor(opts) {\n        super(opts);\n        this._values = {};\n        this._scope = opts.scope;\n        this.opts = { ...opts, _n: opts.lines ? line : code_1.nil };\n    }\n    get() {\n        return this._scope;\n    }\n    name(prefix) {\n        return new ValueScopeName(prefix, this._newName(prefix));\n    }\n    value(nameOrPrefix, value) {\n        var _a;\n        if (value.ref === undefined)\n            throw new Error(\"CodeGen: ref must be passed in value\");\n        const name = this.toName(nameOrPrefix);\n        const { prefix } = name;\n        const valueKey = (_a = value.key) !== null && _a !== void 0 ? _a : value.ref;\n        let vs = this._values[prefix];\n        if (vs) {\n            const _name = vs.get(valueKey);\n            if (_name)\n                return _name;\n        }\n        else {\n            vs = this._values[prefix] = new Map();\n        }\n        vs.set(valueKey, name);\n        const s = this._scope[prefix] || (this._scope[prefix] = []);\n        const itemIndex = s.length;\n        s[itemIndex] = value.ref;\n        name.setValue(value, { property: prefix, itemIndex });\n        return name;\n    }\n    getValue(prefix, keyOrRef) {\n        const vs = this._values[prefix];\n        if (!vs)\n            return;\n        return vs.get(keyOrRef);\n    }\n    scopeRefs(scopeName, values = this._values) {\n        return this._reduceValues(values, (name) => {\n            if (name.scopePath === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return (0, code_1._) `${scopeName}${name.scopePath}`;\n        });\n    }\n    scopeCode(values = this._values, usedValues, getCode) {\n        return this._reduceValues(values, (name) => {\n            if (name.value === undefined)\n                throw new Error(`CodeGen: name \"${name}\" has no value`);\n            return name.value.code;\n        }, usedValues, getCode);\n    }\n    _reduceValues(values, valueCode, usedValues = {}, getCode) {\n        let code = code_1.nil;\n        for (const prefix in values) {\n            const vs = values[prefix];\n            if (!vs)\n                continue;\n            const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map());\n            vs.forEach((name) => {\n                if (nameSet.has(name))\n                    return;\n                nameSet.set(name, UsedValueState.Started);\n                let c = valueCode(name);\n                if (c) {\n                    const def = this.opts.es5 ? exports.varKinds.var : exports.varKinds.const;\n                    code = (0, code_1._) `${code}${def} ${name} = ${c};${this.opts._n}`;\n                }\n                else if ((c = getCode === null || getCode === void 0 ? void 0 : getCode(name))) {\n                    code = (0, code_1._) `${code}${c}${this.opts._n}`;\n                }\n                else {\n                    throw new ValueError(name);\n                }\n                nameSet.set(name, UsedValueState.Completed);\n            });\n        }\n        return code;\n    }\n}\nexports.ValueScope = ValueScope;\n//# sourceMappingURL=scope.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendErrors = exports.resetErrorsCount = exports.reportExtraError = exports.reportError = exports.keyword$DataError = exports.keywordError = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst util_1 = require(\"./util\");\nconst names_1 = require(\"./names\");\nexports.keywordError = {\n    message: ({ keyword }) => (0, codegen_1.str) `must pass \"${keyword}\" keyword validation`,\n};\nexports.keyword$DataError = {\n    message: ({ keyword, schemaType }) => schemaType\n        ? (0, codegen_1.str) `\"${keyword}\" keyword must be ${schemaType} ($data)`\n        : (0, codegen_1.str) `\"${keyword}\" keyword is invalid ($data)`,\n};\nfunction reportError(cxt, error = exports.keywordError, errorPaths, overrideAllErrors) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    if (overrideAllErrors !== null && overrideAllErrors !== void 0 ? overrideAllErrors : (compositeRule || allErrors)) {\n        addError(gen, errObj);\n    }\n    else {\n        returnErrors(it, (0, codegen_1._) `[${errObj}]`);\n    }\n}\nexports.reportError = reportError;\nfunction reportExtraError(cxt, error = exports.keywordError, errorPaths) {\n    const { it } = cxt;\n    const { gen, compositeRule, allErrors } = it;\n    const errObj = errorObjectCode(cxt, error, errorPaths);\n    addError(gen, errObj);\n    if (!(compositeRule || allErrors)) {\n        returnErrors(it, names_1.default.vErrors);\n    }\n}\nexports.reportExtraError = reportExtraError;\nfunction resetErrorsCount(gen, errsCount) {\n    gen.assign(names_1.default.errors, errsCount);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} !== null`, () => gen.if(errsCount, () => gen.assign((0, codegen_1._) `${names_1.default.vErrors}.length`, errsCount), () => gen.assign(names_1.default.vErrors, null)));\n}\nexports.resetErrorsCount = resetErrorsCount;\nfunction extendErrors({ gen, keyword, schemaValue, data, errsCount, it, }) {\n    /* istanbul ignore if */\n    if (errsCount === undefined)\n        throw new Error(\"ajv implementation error\");\n    const err = gen.name(\"err\");\n    gen.forRange(\"i\", errsCount, names_1.default.errors, (i) => {\n        gen.const(err, (0, codegen_1._) `${names_1.default.vErrors}[${i}]`);\n        gen.if((0, codegen_1._) `${err}.instancePath === undefined`, () => gen.assign((0, codegen_1._) `${err}.instancePath`, (0, codegen_1.strConcat)(names_1.default.instancePath, it.errorPath)));\n        gen.assign((0, codegen_1._) `${err}.schemaPath`, (0, codegen_1.str) `${it.errSchemaPath}/${keyword}`);\n        if (it.opts.verbose) {\n            gen.assign((0, codegen_1._) `${err}.schema`, schemaValue);\n            gen.assign((0, codegen_1._) `${err}.data`, data);\n        }\n    });\n}\nexports.extendErrors = extendErrors;\nfunction addError(gen, errObj) {\n    const err = gen.const(\"err\", errObj);\n    gen.if((0, codegen_1._) `${names_1.default.vErrors} === null`, () => gen.assign(names_1.default.vErrors, (0, codegen_1._) `[${err}]`), (0, codegen_1._) `${names_1.default.vErrors}.push(${err})`);\n    gen.code((0, codegen_1._) `${names_1.default.errors}++`);\n}\nfunction returnErrors(it, errs) {\n    const { gen, validateName, schemaEnv } = it;\n    if (schemaEnv.$async) {\n        gen.throw((0, codegen_1._) `new ${it.ValidationError}(${errs})`);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, errs);\n        gen.return(false);\n    }\n}\nconst E = {\n    keyword: new codegen_1.Name(\"keyword\"),\n    schemaPath: new codegen_1.Name(\"schemaPath\"),\n    params: new codegen_1.Name(\"params\"),\n    propertyName: new codegen_1.Name(\"propertyName\"),\n    message: new codegen_1.Name(\"message\"),\n    schema: new codegen_1.Name(\"schema\"),\n    parentSchema: new codegen_1.Name(\"parentSchema\"),\n};\nfunction errorObjectCode(cxt, error, errorPaths) {\n    const { createErrors } = cxt.it;\n    if (createErrors === false)\n        return (0, codegen_1._) `{}`;\n    return errorObject(cxt, error, errorPaths);\n}\nfunction errorObject(cxt, error, errorPaths = {}) {\n    const { gen, it } = cxt;\n    const keyValues = [\n        errorInstancePath(it, errorPaths),\n        errorSchemaPath(cxt, errorPaths),\n    ];\n    extraErrorProps(cxt, error, keyValues);\n    return gen.object(...keyValues);\n}\nfunction errorInstancePath({ errorPath }, { instancePath }) {\n    const instPath = instancePath\n        ? (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(instancePath, util_1.Type.Str)}`\n        : errorPath;\n    return [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, instPath)];\n}\nfunction errorSchemaPath({ keyword, it: { errSchemaPath } }, { schemaPath, parentSchema }) {\n    let schPath = parentSchema ? errSchemaPath : (0, codegen_1.str) `${errSchemaPath}/${keyword}`;\n    if (schemaPath) {\n        schPath = (0, codegen_1.str) `${schPath}${(0, util_1.getErrorPath)(schemaPath, util_1.Type.Str)}`;\n    }\n    return [E.schemaPath, schPath];\n}\nfunction extraErrorProps(cxt, { params, message }, keyValues) {\n    const { keyword, data, schemaValue, it } = cxt;\n    const { opts, propertyName, topSchemaRef, schemaPath } = it;\n    keyValues.push([E.keyword, keyword], [E.params, typeof params == \"function\" ? params(cxt) : params || (0, codegen_1._) `{}`]);\n    if (opts.messages) {\n        keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message]);\n    }\n    if (opts.verbose) {\n        keyValues.push([E.schema, schemaValue], [E.parentSchema, (0, codegen_1._) `${topSchemaRef}${schemaPath}`], [names_1.default.data, data]);\n    }\n    if (propertyName)\n        keyValues.push([E.propertyName, propertyName]);\n}\n//# sourceMappingURL=errors.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveSchema = exports.getCompilingSchema = exports.resolveRef = exports.compileSchema = exports.SchemaEnv = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst validation_error_1 = require(\"../runtime/validation_error\");\nconst names_1 = require(\"./names\");\nconst resolve_1 = require(\"./resolve\");\nconst util_1 = require(\"./util\");\nconst validate_1 = require(\"./validate\");\nclass SchemaEnv {\n    constructor(env) {\n        var _a;\n        this.refs = {};\n        this.dynamicAnchors = {};\n        let schema;\n        if (typeof env.schema == \"object\")\n            schema = env.schema;\n        this.schema = env.schema;\n        this.schemaId = env.schemaId;\n        this.root = env.root || this;\n        this.baseId = (_a = env.baseId) !== null && _a !== void 0 ? _a : (0, resolve_1.normalizeId)(schema === null || schema === void 0 ? void 0 : schema[env.schemaId || \"$id\"]);\n        this.schemaPath = env.schemaPath;\n        this.localRefs = env.localRefs;\n        this.meta = env.meta;\n        this.$async = schema === null || schema === void 0 ? void 0 : schema.$async;\n        this.refs = {};\n    }\n}\nexports.SchemaEnv = SchemaEnv;\n// let codeSize = 0\n// let nodeCount = 0\n// Compiles schema in SchemaEnv\nfunction compileSchema(sch) {\n    // TODO refactor - remove compilations\n    const _sch = getCompilingSchema.call(this, sch);\n    if (_sch)\n        return _sch;\n    const rootId = (0, resolve_1.getFullPath)(this.opts.uriResolver, sch.root.baseId); // TODO if getFullPath removed 1 tests fails\n    const { es5, lines } = this.opts.code;\n    const { ownProperties } = this.opts;\n    const gen = new codegen_1.CodeGen(this.scope, { es5, lines, ownProperties });\n    let _ValidationError;\n    if (sch.$async) {\n        _ValidationError = gen.scopeValue(\"Error\", {\n            ref: validation_error_1.default,\n            code: (0, codegen_1._) `require(\"ajv/dist/runtime/validation_error\").default`,\n        });\n    }\n    const validateName = gen.scopeName(\"validate\");\n    sch.validateName = validateName;\n    const schemaCxt = {\n        gen,\n        allErrors: this.opts.allErrors,\n        data: names_1.default.data,\n        parentData: names_1.default.parentData,\n        parentDataProperty: names_1.default.parentDataProperty,\n        dataNames: [names_1.default.data],\n        dataPathArr: [codegen_1.nil],\n        dataLevel: 0,\n        dataTypes: [],\n        definedProperties: new Set(),\n        topSchemaRef: gen.scopeValue(\"schema\", this.opts.code.source === true\n            ? { ref: sch.schema, code: (0, codegen_1.stringify)(sch.schema) }\n            : { ref: sch.schema }),\n        validateName,\n        ValidationError: _ValidationError,\n        schema: sch.schema,\n        schemaEnv: sch,\n        rootId,\n        baseId: sch.baseId || rootId,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n        errorPath: (0, codegen_1._) `\"\"`,\n        opts: this.opts,\n        self: this,\n    };\n    let sourceCode;\n    try {\n        this._compilations.add(sch);\n        (0, validate_1.validateFunctionCode)(schemaCxt);\n        gen.optimize(this.opts.code.optimize);\n        // gen.optimize(1)\n        const validateCode = gen.toString();\n        sourceCode = `${gen.scopeRefs(names_1.default.scope)}return ${validateCode}`;\n        // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n        if (this.opts.code.process)\n            sourceCode = this.opts.code.process(sourceCode, sch);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n        const makeValidate = new Function(`${names_1.default.self}`, `${names_1.default.scope}`, sourceCode);\n        const validate = makeValidate(this, this.scope.get());\n        this.scope.value(validateName, { ref: validate });\n        validate.errors = null;\n        validate.schema = sch.schema;\n        validate.schemaEnv = sch;\n        if (sch.$async)\n            validate.$async = true;\n        if (this.opts.code.source === true) {\n            validate.source = { validateName, validateCode, scopeValues: gen._values };\n        }\n        if (this.opts.unevaluated) {\n            const { props, items } = schemaCxt;\n            validate.evaluated = {\n                props: props instanceof codegen_1.Name ? undefined : props,\n                items: items instanceof codegen_1.Name ? undefined : items,\n                dynamicProps: props instanceof codegen_1.Name,\n                dynamicItems: items instanceof codegen_1.Name,\n            };\n            if (validate.source)\n                validate.source.evaluated = (0, codegen_1.stringify)(validate.evaluated);\n        }\n        sch.validate = validate;\n        return sch;\n    }\n    catch (e) {\n        delete sch.validate;\n        delete sch.validateName;\n        if (sourceCode)\n            this.logger.error(\"Error compiling schema, function code:\", sourceCode);\n        // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n        throw e;\n    }\n    finally {\n        this._compilations.delete(sch);\n    }\n}\nexports.compileSchema = compileSchema;\nfunction resolveRef(root, baseId, ref) {\n    var _a;\n    ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, ref);\n    const schOrFunc = root.refs[ref];\n    if (schOrFunc)\n        return schOrFunc;\n    let _sch = resolve.call(this, root, ref);\n    if (_sch === undefined) {\n        const schema = (_a = root.localRefs) === null || _a === void 0 ? void 0 : _a[ref]; // TODO maybe localRefs should hold SchemaEnv\n        const { schemaId } = this.opts;\n        if (schema)\n            _sch = new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    if (_sch === undefined)\n        return;\n    return (root.refs[ref] = inlineOrCompile.call(this, _sch));\n}\nexports.resolveRef = resolveRef;\nfunction inlineOrCompile(sch) {\n    if ((0, resolve_1.inlineRef)(sch.schema, this.opts.inlineRefs))\n        return sch.schema;\n    return sch.validate ? sch : compileSchema.call(this, sch);\n}\n// Index of schema compilation in the currently compiled list\nfunction getCompilingSchema(schEnv) {\n    for (const sch of this._compilations) {\n        if (sameSchemaEnv(sch, schEnv))\n            return sch;\n    }\n}\nexports.getCompilingSchema = getCompilingSchema;\nfunction sameSchemaEnv(s1, s2) {\n    return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId;\n}\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(root, // information about the root schema for the current schema\nref // reference to resolve\n) {\n    let sch;\n    while (typeof (sch = this.refs[ref]) == \"string\")\n        ref = sch;\n    return sch || this.schemas[ref] || resolveSchema.call(this, root, ref);\n}\n// Resolve schema, its root and baseId\nfunction resolveSchema(root, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\nref // reference to resolve\n) {\n    const p = this.opts.uriResolver.parse(ref);\n    const refPath = (0, resolve_1._getFullPath)(this.opts.uriResolver, p);\n    let baseId = (0, resolve_1.getFullPath)(this.opts.uriResolver, root.baseId, undefined);\n    // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n    if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n        return getJsonPointer.call(this, p, root);\n    }\n    const id = (0, resolve_1.normalizeId)(refPath);\n    const schOrRef = this.refs[id] || this.schemas[id];\n    if (typeof schOrRef == \"string\") {\n        const sch = resolveSchema.call(this, root, schOrRef);\n        if (typeof (sch === null || sch === void 0 ? void 0 : sch.schema) !== \"object\")\n            return;\n        return getJsonPointer.call(this, p, sch);\n    }\n    if (typeof (schOrRef === null || schOrRef === void 0 ? void 0 : schOrRef.schema) !== \"object\")\n        return;\n    if (!schOrRef.validate)\n        compileSchema.call(this, schOrRef);\n    if (id === (0, resolve_1.normalizeId)(ref)) {\n        const { schema } = schOrRef;\n        const { schemaId } = this.opts;\n        const schId = schema[schemaId];\n        if (schId)\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        return new SchemaEnv({ schema, schemaId, root, baseId });\n    }\n    return getJsonPointer.call(this, p, schOrRef);\n}\nexports.resolveSchema = resolveSchema;\nconst PREVENT_SCOPE_CHANGE = new Set([\n    \"properties\",\n    \"patternProperties\",\n    \"enum\",\n    \"dependencies\",\n    \"definitions\",\n]);\nfunction getJsonPointer(parsedRef, { baseId, schema, root }) {\n    var _a;\n    if (((_a = parsedRef.fragment) === null || _a === void 0 ? void 0 : _a[0]) !== \"/\")\n        return;\n    for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n        if (typeof schema === \"boolean\")\n            return;\n        const partSchema = schema[(0, util_1.unescapeFragment)(part)];\n        if (partSchema === undefined)\n            return;\n        schema = partSchema;\n        // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n        const schId = typeof schema === \"object\" && schema[this.opts.schemaId];\n        if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n            baseId = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schId);\n        }\n    }\n    let env;\n    if (typeof schema != \"boolean\" && schema.$ref && !(0, util_1.schemaHasRulesButRef)(schema, this.RULES)) {\n        const $ref = (0, resolve_1.resolveUrl)(this.opts.uriResolver, baseId, schema.$ref);\n        env = resolveSchema.call(this, root, $ref);\n    }\n    // even though resolution failed we need to return SchemaEnv to throw exception\n    // so that compileAsync loads missing schema.\n    const { schemaId } = this.opts;\n    env = env || new SchemaEnv({ schema, schemaId, root, baseId });\n    if (env.schema !== env.root.schema)\n        return env;\n    return undefined;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"./codegen\");\nconst names = {\n    // validation function arguments\n    data: new codegen_1.Name(\"data\"),\n    // args passed from referencing schema\n    valCxt: new codegen_1.Name(\"valCxt\"),\n    instancePath: new codegen_1.Name(\"instancePath\"),\n    parentData: new codegen_1.Name(\"parentData\"),\n    parentDataProperty: new codegen_1.Name(\"parentDataProperty\"),\n    rootData: new codegen_1.Name(\"rootData\"),\n    dynamicAnchors: new codegen_1.Name(\"dynamicAnchors\"),\n    // function scoped variables\n    vErrors: new codegen_1.Name(\"vErrors\"),\n    errors: new codegen_1.Name(\"errors\"),\n    this: new codegen_1.Name(\"this\"),\n    // \"globals\"\n    self: new codegen_1.Name(\"self\"),\n    scope: new codegen_1.Name(\"scope\"),\n    // JTD serialize/parse name for JSON string and position\n    json: new codegen_1.Name(\"json\"),\n    jsonPos: new codegen_1.Name(\"jsonPos\"),\n    jsonLen: new codegen_1.Name(\"jsonLen\"),\n    jsonPart: new codegen_1.Name(\"jsonPart\"),\n};\nexports.default = names;\n//# sourceMappingURL=names.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst resolve_1 = require(\"./resolve\");\nclass MissingRefError extends Error {\n    constructor(resolver, baseId, ref, msg) {\n        super(msg || `can't resolve reference ${ref} from id ${baseId}`);\n        this.missingRef = (0, resolve_1.resolveUrl)(resolver, baseId, ref);\n        this.missingSchema = (0, resolve_1.normalizeId)((0, resolve_1.getFullPath)(resolver, this.missingRef));\n    }\n}\nexports.default = MissingRefError;\n//# sourceMappingURL=ref_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getSchemaRefs = exports.resolveUrl = exports.normalizeId = exports._getFullPath = exports.getFullPath = exports.inlineRef = void 0;\nconst util_1 = require(\"./util\");\nconst equal = require(\"fast-deep-equal\");\nconst traverse = require(\"json-schema-traverse\");\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n    \"type\",\n    \"format\",\n    \"pattern\",\n    \"maxLength\",\n    \"minLength\",\n    \"maxProperties\",\n    \"minProperties\",\n    \"maxItems\",\n    \"minItems\",\n    \"maximum\",\n    \"minimum\",\n    \"uniqueItems\",\n    \"multipleOf\",\n    \"required\",\n    \"enum\",\n    \"const\",\n]);\nfunction inlineRef(schema, limit = true) {\n    if (typeof schema == \"boolean\")\n        return true;\n    if (limit === true)\n        return !hasRef(schema);\n    if (!limit)\n        return false;\n    return countKeys(schema) <= limit;\n}\nexports.inlineRef = inlineRef;\nconst REF_KEYWORDS = new Set([\n    \"$ref\",\n    \"$recursiveRef\",\n    \"$recursiveAnchor\",\n    \"$dynamicRef\",\n    \"$dynamicAnchor\",\n]);\nfunction hasRef(schema) {\n    for (const key in schema) {\n        if (REF_KEYWORDS.has(key))\n            return true;\n        const sch = schema[key];\n        if (Array.isArray(sch) && sch.some(hasRef))\n            return true;\n        if (typeof sch == \"object\" && hasRef(sch))\n            return true;\n    }\n    return false;\n}\nfunction countKeys(schema) {\n    let count = 0;\n    for (const key in schema) {\n        if (key === \"$ref\")\n            return Infinity;\n        count++;\n        if (SIMPLE_INLINED.has(key))\n            continue;\n        if (typeof schema[key] == \"object\") {\n            (0, util_1.eachItem)(schema[key], (sch) => (count += countKeys(sch)));\n        }\n        if (count === Infinity)\n            return Infinity;\n    }\n    return count;\n}\nfunction getFullPath(resolver, id = \"\", normalize) {\n    if (normalize !== false)\n        id = normalizeId(id);\n    const p = resolver.parse(id);\n    return _getFullPath(resolver, p);\n}\nexports.getFullPath = getFullPath;\nfunction _getFullPath(resolver, p) {\n    const serialized = resolver.serialize(p);\n    return serialized.split(\"#\")[0] + \"#\";\n}\nexports._getFullPath = _getFullPath;\nconst TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n    return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\";\n}\nexports.normalizeId = normalizeId;\nfunction resolveUrl(resolver, baseId, id) {\n    id = normalizeId(id);\n    return resolver.resolve(baseId, id);\n}\nexports.resolveUrl = resolveUrl;\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i;\nfunction getSchemaRefs(schema, baseId) {\n    if (typeof schema == \"boolean\")\n        return {};\n    const { schemaId, uriResolver } = this.opts;\n    const schId = normalizeId(schema[schemaId] || baseId);\n    const baseIds = { \"\": schId };\n    const pathPrefix = getFullPath(uriResolver, schId, false);\n    const localRefs = {};\n    const schemaRefs = new Set();\n    traverse(schema, { allKeys: true }, (sch, jsonPtr, _, parentJsonPtr) => {\n        if (parentJsonPtr === undefined)\n            return;\n        const fullPath = pathPrefix + jsonPtr;\n        let baseId = baseIds[parentJsonPtr];\n        if (typeof sch[schemaId] == \"string\")\n            baseId = addRef.call(this, sch[schemaId]);\n        addAnchor.call(this, sch.$anchor);\n        addAnchor.call(this, sch.$dynamicAnchor);\n        baseIds[jsonPtr] = baseId;\n        function addRef(ref) {\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            const _resolve = this.opts.uriResolver.resolve;\n            ref = normalizeId(baseId ? _resolve(baseId, ref) : ref);\n            if (schemaRefs.has(ref))\n                throw ambiguos(ref);\n            schemaRefs.add(ref);\n            let schOrRef = this.refs[ref];\n            if (typeof schOrRef == \"string\")\n                schOrRef = this.refs[schOrRef];\n            if (typeof schOrRef == \"object\") {\n                checkAmbiguosRef(sch, schOrRef.schema, ref);\n            }\n            else if (ref !== normalizeId(fullPath)) {\n                if (ref[0] === \"#\") {\n                    checkAmbiguosRef(sch, localRefs[ref], ref);\n                    localRefs[ref] = sch;\n                }\n                else {\n                    this.refs[ref] = fullPath;\n                }\n            }\n            return ref;\n        }\n        function addAnchor(anchor) {\n            if (typeof anchor == \"string\") {\n                if (!ANCHOR.test(anchor))\n                    throw new Error(`invalid anchor \"${anchor}\"`);\n                addRef.call(this, `#${anchor}`);\n            }\n        }\n    });\n    return localRefs;\n    function checkAmbiguosRef(sch1, sch2, ref) {\n        if (sch2 !== undefined && !equal(sch1, sch2))\n            throw ambiguos(ref);\n    }\n    function ambiguos(ref) {\n        return new Error(`reference \"${ref}\" resolves to more than one schema`);\n    }\n}\nexports.getSchemaRefs = getSchemaRefs;\n//# sourceMappingURL=resolve.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRules = exports.isJSONType = void 0;\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"];\nconst jsonTypes = new Set(_jsonTypes);\nfunction isJSONType(x) {\n    return typeof x == \"string\" && jsonTypes.has(x);\n}\nexports.isJSONType = isJSONType;\nfunction getRules() {\n    const groups = {\n        number: { type: \"number\", rules: [] },\n        string: { type: \"string\", rules: [] },\n        array: { type: \"array\", rules: [] },\n        object: { type: \"object\", rules: [] },\n    };\n    return {\n        types: { ...groups, integer: true, boolean: true, null: true },\n        rules: [{ rules: [] }, groups.number, groups.string, groups.array, groups.object],\n        post: { rules: [] },\n        all: {},\n        keywords: {},\n    };\n}\nexports.getRules = getRules;\n//# sourceMappingURL=rules.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkStrictMode = exports.getErrorPath = exports.Type = exports.useFunc = exports.setEvaluated = exports.evaluatedPropsToName = exports.mergeEvaluated = exports.eachItem = exports.unescapeJsonPointer = exports.escapeJsonPointer = exports.escapeFragment = exports.unescapeFragment = exports.schemaRefOrVal = exports.schemaHasRulesButRef = exports.schemaHasRules = exports.checkUnknownRules = exports.alwaysValidSchema = exports.toHash = void 0;\nconst codegen_1 = require(\"./codegen\");\nconst code_1 = require(\"./codegen/code\");\n// TODO refactor to use Set\nfunction toHash(arr) {\n    const hash = {};\n    for (const item of arr)\n        hash[item] = true;\n    return hash;\n}\nexports.toHash = toHash;\nfunction alwaysValidSchema(it, schema) {\n    if (typeof schema == \"boolean\")\n        return schema;\n    if (Object.keys(schema).length === 0)\n        return true;\n    checkUnknownRules(it, schema);\n    return !schemaHasRules(schema, it.self.RULES.all);\n}\nexports.alwaysValidSchema = alwaysValidSchema;\nfunction checkUnknownRules(it, schema = it.schema) {\n    const { opts, self } = it;\n    if (!opts.strictSchema)\n        return;\n    if (typeof schema === \"boolean\")\n        return;\n    const rules = self.RULES.keywords;\n    for (const key in schema) {\n        if (!rules[key])\n            checkStrictMode(it, `unknown keyword: \"${key}\"`);\n    }\n}\nexports.checkUnknownRules = checkUnknownRules;\nfunction schemaHasRules(schema, rules) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (rules[key])\n            return true;\n    return false;\n}\nexports.schemaHasRules = schemaHasRules;\nfunction schemaHasRulesButRef(schema, RULES) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (key !== \"$ref\" && RULES.all[key])\n            return true;\n    return false;\n}\nexports.schemaHasRulesButRef = schemaHasRulesButRef;\nfunction schemaRefOrVal({ topSchemaRef, schemaPath }, schema, keyword, $data) {\n    if (!$data) {\n        if (typeof schema == \"number\" || typeof schema == \"boolean\")\n            return schema;\n        if (typeof schema == \"string\")\n            return (0, codegen_1._) `${schema}`;\n    }\n    return (0, codegen_1._) `${topSchemaRef}${schemaPath}${(0, codegen_1.getProperty)(keyword)}`;\n}\nexports.schemaRefOrVal = schemaRefOrVal;\nfunction unescapeFragment(str) {\n    return unescapeJsonPointer(decodeURIComponent(str));\n}\nexports.unescapeFragment = unescapeFragment;\nfunction escapeFragment(str) {\n    return encodeURIComponent(escapeJsonPointer(str));\n}\nexports.escapeFragment = escapeFragment;\nfunction escapeJsonPointer(str) {\n    if (typeof str == \"number\")\n        return `${str}`;\n    return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n}\nexports.escapeJsonPointer = escapeJsonPointer;\nfunction unescapeJsonPointer(str) {\n    return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n}\nexports.unescapeJsonPointer = unescapeJsonPointer;\nfunction eachItem(xs, f) {\n    if (Array.isArray(xs)) {\n        for (const x of xs)\n            f(x);\n    }\n    else {\n        f(xs);\n    }\n}\nexports.eachItem = eachItem;\nfunction makeMergeEvaluated({ mergeNames, mergeToName, mergeValues, resultToName, }) {\n    return (gen, from, to, toName) => {\n        const res = to === undefined\n            ? from\n            : to instanceof codegen_1.Name\n                ? (from instanceof codegen_1.Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n                : from instanceof codegen_1.Name\n                    ? (mergeToName(gen, to, from), from)\n                    : mergeValues(from, to);\n        return toName === codegen_1.Name && !(res instanceof codegen_1.Name) ? resultToName(gen, res) : res;\n    };\n}\nexports.mergeEvaluated = {\n    props: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => {\n            gen.if((0, codegen_1._) `${from} === true`, () => gen.assign(to, true), () => gen.assign(to, (0, codegen_1._) `${to} || {}`).code((0, codegen_1._) `Object.assign(${to}, ${from})`));\n        }),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => {\n            if (from === true) {\n                gen.assign(to, true);\n            }\n            else {\n                gen.assign(to, (0, codegen_1._) `${to} || {}`);\n                setEvaluated(gen, to, from);\n            }\n        }),\n        mergeValues: (from, to) => (from === true ? true : { ...from, ...to }),\n        resultToName: evaluatedPropsToName,\n    }),\n    items: makeMergeEvaluated({\n        mergeNames: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true && ${from} !== undefined`, () => gen.assign(to, (0, codegen_1._) `${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)),\n        mergeToName: (gen, from, to) => gen.if((0, codegen_1._) `${to} !== true`, () => gen.assign(to, from === true ? true : (0, codegen_1._) `${to} > ${from} ? ${to} : ${from}`)),\n        mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n        resultToName: (gen, items) => gen.var(\"items\", items),\n    }),\n};\nfunction evaluatedPropsToName(gen, ps) {\n    if (ps === true)\n        return gen.var(\"props\", true);\n    const props = gen.var(\"props\", (0, codegen_1._) `{}`);\n    if (ps !== undefined)\n        setEvaluated(gen, props, ps);\n    return props;\n}\nexports.evaluatedPropsToName = evaluatedPropsToName;\nfunction setEvaluated(gen, props, ps) {\n    Object.keys(ps).forEach((p) => gen.assign((0, codegen_1._) `${props}${(0, codegen_1.getProperty)(p)}`, true));\n}\nexports.setEvaluated = setEvaluated;\nconst snippets = {};\nfunction useFunc(gen, f) {\n    return gen.scopeValue(\"func\", {\n        ref: f,\n        code: snippets[f.code] || (snippets[f.code] = new code_1._Code(f.code)),\n    });\n}\nexports.useFunc = useFunc;\nvar Type;\n(function (Type) {\n    Type[Type[\"Num\"] = 0] = \"Num\";\n    Type[Type[\"Str\"] = 1] = \"Str\";\n})(Type = exports.Type || (exports.Type = {}));\nfunction getErrorPath(dataProp, dataPropType, jsPropertySyntax) {\n    // let path\n    if (dataProp instanceof codegen_1.Name) {\n        const isNumber = dataPropType === Type.Num;\n        return jsPropertySyntax\n            ? isNumber\n                ? (0, codegen_1._) `\"[\" + ${dataProp} + \"]\"`\n                : (0, codegen_1._) `\"['\" + ${dataProp} + \"']\"`\n            : isNumber\n                ? (0, codegen_1._) `\"/\" + ${dataProp}`\n                : (0, codegen_1._) `\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")`; // TODO maybe use global escapePointer\n    }\n    return jsPropertySyntax ? (0, codegen_1.getProperty)(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp);\n}\nexports.getErrorPath = getErrorPath;\nfunction checkStrictMode(it, msg, mode = it.opts.strictSchema) {\n    if (!mode)\n        return;\n    msg = `strict mode: ${msg}`;\n    if (mode === true)\n        throw new Error(msg);\n    it.self.logger.warn(msg);\n}\nexports.checkStrictMode = checkStrictMode;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shouldUseRule = exports.shouldUseGroup = exports.schemaHasRulesForType = void 0;\nfunction schemaHasRulesForType({ schema, self }, type) {\n    const group = self.RULES.types[type];\n    return group && group !== true && shouldUseGroup(schema, group);\n}\nexports.schemaHasRulesForType = schemaHasRulesForType;\nfunction shouldUseGroup(schema, group) {\n    return group.rules.some((rule) => shouldUseRule(schema, rule));\n}\nexports.shouldUseGroup = shouldUseGroup;\nfunction shouldUseRule(schema, rule) {\n    var _a;\n    return (schema[rule.keyword] !== undefined ||\n        ((_a = rule.definition.implements) === null || _a === void 0 ? void 0 : _a.some((kwd) => schema[kwd] !== undefined)));\n}\nexports.shouldUseRule = shouldUseRule;\n//# sourceMappingURL=applicability.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boolOrEmptySchema = exports.topBoolOrEmptySchema = void 0;\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst boolError = {\n    message: \"boolean schema is false\",\n};\nfunction topBoolOrEmptySchema(it) {\n    const { gen, schema, validateName } = it;\n    if (schema === false) {\n        falseSchemaError(it, false);\n    }\n    else if (typeof schema == \"object\" && schema.$async === true) {\n        gen.return(names_1.default.data);\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, null);\n        gen.return(true);\n    }\n}\nexports.topBoolOrEmptySchema = topBoolOrEmptySchema;\nfunction boolOrEmptySchema(it, valid) {\n    const { gen, schema } = it;\n    if (schema === false) {\n        gen.var(valid, false); // TODO var\n        falseSchemaError(it);\n    }\n    else {\n        gen.var(valid, true); // TODO var\n    }\n}\nexports.boolOrEmptySchema = boolOrEmptySchema;\nfunction falseSchemaError(it, overrideAllErrors) {\n    const { gen, data } = it;\n    // TODO maybe some other interface should be used for non-keyword validation errors...\n    const cxt = {\n        gen,\n        keyword: \"false schema\",\n        data,\n        schema: false,\n        schemaCode: false,\n        schemaValue: false,\n        params: {},\n        it,\n    };\n    (0, errors_1.reportError)(cxt, boolError, undefined, overrideAllErrors);\n}\n//# sourceMappingURL=boolSchema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.assignDefaults = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction assignDefaults(it, ty) {\n    const { properties, items } = it.schema;\n    if (ty === \"object\" && properties) {\n        for (const key in properties) {\n            assignDefault(it, key, properties[key].default);\n        }\n    }\n    else if (ty === \"array\" && Array.isArray(items)) {\n        items.forEach((sch, i) => assignDefault(it, i, sch.default));\n    }\n}\nexports.assignDefaults = assignDefaults;\nfunction assignDefault(it, prop, defaultValue) {\n    const { gen, compositeRule, data, opts } = it;\n    if (defaultValue === undefined)\n        return;\n    const childData = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(prop)}`;\n    if (compositeRule) {\n        (0, util_1.checkStrictMode)(it, `default is ignored for: ${childData}`);\n        return;\n    }\n    let condition = (0, codegen_1._) `${childData} === undefined`;\n    if (opts.useDefaults === \"empty\") {\n        condition = (0, codegen_1._) `${condition} || ${childData} === null || ${childData} === \"\"`;\n    }\n    // `${childData} === undefined` +\n    // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n    gen.if(condition, (0, codegen_1._) `${childData} = ${(0, codegen_1.stringify)(defaultValue)}`);\n}\n//# sourceMappingURL=defaults.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getData = exports.KeywordCxt = exports.validateFunctionCode = void 0;\nconst boolSchema_1 = require(\"./boolSchema\");\nconst dataType_1 = require(\"./dataType\");\nconst applicability_1 = require(\"./applicability\");\nconst dataType_2 = require(\"./dataType\");\nconst defaults_1 = require(\"./defaults\");\nconst keyword_1 = require(\"./keyword\");\nconst subschema_1 = require(\"./subschema\");\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst resolve_1 = require(\"../resolve\");\nconst util_1 = require(\"../util\");\nconst errors_1 = require(\"../errors\");\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nfunction validateFunctionCode(it) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            topSchemaObjCode(it);\n            return;\n        }\n    }\n    validateFunction(it, () => (0, boolSchema_1.topBoolOrEmptySchema)(it));\n}\nexports.validateFunctionCode = validateFunctionCode;\nfunction validateFunction({ gen, validateName, schema, schemaEnv, opts }, body) {\n    if (opts.code.es5) {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${names_1.default.valCxt}`, schemaEnv.$async, () => {\n            gen.code((0, codegen_1._) `\"use strict\"; ${funcSourceUrl(schema, opts)}`);\n            destructureValCxtES5(gen, opts);\n            gen.code(body);\n        });\n    }\n    else {\n        gen.func(validateName, (0, codegen_1._) `${names_1.default.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () => gen.code(funcSourceUrl(schema, opts)).code(body));\n    }\n}\nfunction destructureValCxt(opts) {\n    return (0, codegen_1._) `{${names_1.default.instancePath}=\"\", ${names_1.default.parentData}, ${names_1.default.parentDataProperty}, ${names_1.default.rootData}=${names_1.default.data}${opts.dynamicRef ? (0, codegen_1._) `, ${names_1.default.dynamicAnchors}={}` : codegen_1.nil}}={}`;\n}\nfunction destructureValCxtES5(gen, opts) {\n    gen.if(names_1.default.valCxt, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.instancePath}`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentData}`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.parentDataProperty}`);\n        gen.var(names_1.default.rootData, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.rootData}`);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `${names_1.default.valCxt}.${names_1.default.dynamicAnchors}`);\n    }, () => {\n        gen.var(names_1.default.instancePath, (0, codegen_1._) `\"\"`);\n        gen.var(names_1.default.parentData, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.parentDataProperty, (0, codegen_1._) `undefined`);\n        gen.var(names_1.default.rootData, names_1.default.data);\n        if (opts.dynamicRef)\n            gen.var(names_1.default.dynamicAnchors, (0, codegen_1._) `{}`);\n    });\n}\nfunction topSchemaObjCode(it) {\n    const { schema, opts, gen } = it;\n    validateFunction(it, () => {\n        if (opts.$comment && schema.$comment)\n            commentKeyword(it);\n        checkNoDefault(it);\n        gen.let(names_1.default.vErrors, null);\n        gen.let(names_1.default.errors, 0);\n        if (opts.unevaluated)\n            resetEvaluated(it);\n        typeAndKeywords(it);\n        returnResults(it);\n    });\n    return;\n}\nfunction resetEvaluated(it) {\n    // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n    const { gen, validateName } = it;\n    it.evaluated = gen.const(\"evaluated\", (0, codegen_1._) `${validateName}.evaluated`);\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicProps`, () => gen.assign((0, codegen_1._) `${it.evaluated}.props`, (0, codegen_1._) `undefined`));\n    gen.if((0, codegen_1._) `${it.evaluated}.dynamicItems`, () => gen.assign((0, codegen_1._) `${it.evaluated}.items`, (0, codegen_1._) `undefined`));\n}\nfunction funcSourceUrl(schema, opts) {\n    const schId = typeof schema == \"object\" && schema[opts.schemaId];\n    return schId && (opts.code.source || opts.code.process) ? (0, codegen_1._) `/*# sourceURL=${schId} */` : codegen_1.nil;\n}\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it, valid) {\n    if (isSchemaObj(it)) {\n        checkKeywords(it);\n        if (schemaCxtHasRules(it)) {\n            subSchemaObjCode(it, valid);\n            return;\n        }\n    }\n    (0, boolSchema_1.boolOrEmptySchema)(it, valid);\n}\nfunction schemaCxtHasRules({ schema, self }) {\n    if (typeof schema == \"boolean\")\n        return !schema;\n    for (const key in schema)\n        if (self.RULES.all[key])\n            return true;\n    return false;\n}\nfunction isSchemaObj(it) {\n    return typeof it.schema != \"boolean\";\n}\nfunction subSchemaObjCode(it, valid) {\n    const { schema, gen, opts } = it;\n    if (opts.$comment && schema.$comment)\n        commentKeyword(it);\n    updateContext(it);\n    checkAsyncSchema(it);\n    const errsCount = gen.const(\"_errs\", names_1.default.errors);\n    typeAndKeywords(it, errsCount);\n    // TODO var\n    gen.var(valid, (0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n}\nfunction checkKeywords(it) {\n    (0, util_1.checkUnknownRules)(it);\n    checkRefsAndKeywords(it);\n}\nfunction typeAndKeywords(it, errsCount) {\n    if (it.opts.jtd)\n        return schemaKeywords(it, [], false, errsCount);\n    const types = (0, dataType_1.getSchemaTypes)(it.schema);\n    const checkedTypes = (0, dataType_1.coerceAndCheckDataType)(it, types);\n    schemaKeywords(it, types, !checkedTypes, errsCount);\n}\nfunction checkRefsAndKeywords(it) {\n    const { schema, errSchemaPath, opts, self } = it;\n    if (schema.$ref && opts.ignoreKeywordsWithRef && (0, util_1.schemaHasRulesButRef)(schema, self.RULES)) {\n        self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`);\n    }\n}\nfunction checkNoDefault(it) {\n    const { schema, opts } = it;\n    if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n        (0, util_1.checkStrictMode)(it, \"default is ignored in the schema root\");\n    }\n}\nfunction updateContext(it) {\n    const schId = it.schema[it.opts.schemaId];\n    if (schId)\n        it.baseId = (0, resolve_1.resolveUrl)(it.opts.uriResolver, it.baseId, schId);\n}\nfunction checkAsyncSchema(it) {\n    if (it.schema.$async && !it.schemaEnv.$async)\n        throw new Error(\"async schema in sync schema\");\n}\nfunction commentKeyword({ gen, schemaEnv, schema, errSchemaPath, opts }) {\n    const msg = schema.$comment;\n    if (opts.$comment === true) {\n        gen.code((0, codegen_1._) `${names_1.default.self}.logger.log(${msg})`);\n    }\n    else if (typeof opts.$comment == \"function\") {\n        const schemaPath = (0, codegen_1.str) `${errSchemaPath}/$comment`;\n        const rootName = gen.scopeValue(\"root\", { ref: schemaEnv.root });\n        gen.code((0, codegen_1._) `${names_1.default.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`);\n    }\n}\nfunction returnResults(it) {\n    const { gen, schemaEnv, validateName, ValidationError, opts } = it;\n    if (schemaEnv.$async) {\n        // TODO assign unevaluated\n        gen.if((0, codegen_1._) `${names_1.default.errors} === 0`, () => gen.return(names_1.default.data), () => gen.throw((0, codegen_1._) `new ${ValidationError}(${names_1.default.vErrors})`));\n    }\n    else {\n        gen.assign((0, codegen_1._) `${validateName}.errors`, names_1.default.vErrors);\n        if (opts.unevaluated)\n            assignEvaluated(it);\n        gen.return((0, codegen_1._) `${names_1.default.errors} === 0`);\n    }\n}\nfunction assignEvaluated({ gen, evaluated, props, items }) {\n    if (props instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.props`, props);\n    if (items instanceof codegen_1.Name)\n        gen.assign((0, codegen_1._) `${evaluated}.items`, items);\n}\nfunction schemaKeywords(it, types, typeErrors, errsCount) {\n    const { gen, schema, data, allErrors, opts, self } = it;\n    const { RULES } = self;\n    if (schema.$ref && (opts.ignoreKeywordsWithRef || !(0, util_1.schemaHasRulesButRef)(schema, RULES))) {\n        gen.block(() => keywordCode(it, \"$ref\", RULES.all.$ref.definition)); // TODO typecast\n        return;\n    }\n    if (!opts.jtd)\n        checkStrictTypes(it, types);\n    gen.block(() => {\n        for (const group of RULES.rules)\n            groupKeywords(group);\n        groupKeywords(RULES.post);\n    });\n    function groupKeywords(group) {\n        if (!(0, applicability_1.shouldUseGroup)(schema, group))\n            return;\n        if (group.type) {\n            gen.if((0, dataType_2.checkDataType)(group.type, data, opts.strictNumbers));\n            iterateKeywords(it, group);\n            if (types.length === 1 && types[0] === group.type && typeErrors) {\n                gen.else();\n                (0, dataType_2.reportTypeError)(it);\n            }\n            gen.endIf();\n        }\n        else {\n            iterateKeywords(it, group);\n        }\n        // TODO make it \"ok\" call?\n        if (!allErrors)\n            gen.if((0, codegen_1._) `${names_1.default.errors} === ${errsCount || 0}`);\n    }\n}\nfunction iterateKeywords(it, group) {\n    const { gen, schema, opts: { useDefaults }, } = it;\n    if (useDefaults)\n        (0, defaults_1.assignDefaults)(it, group.type);\n    gen.block(() => {\n        for (const rule of group.rules) {\n            if ((0, applicability_1.shouldUseRule)(schema, rule)) {\n                keywordCode(it, rule.keyword, rule.definition, group.type);\n            }\n        }\n    });\n}\nfunction checkStrictTypes(it, types) {\n    if (it.schemaEnv.meta || !it.opts.strictTypes)\n        return;\n    checkContextTypes(it, types);\n    if (!it.opts.allowUnionTypes)\n        checkMultipleTypes(it, types);\n    checkKeywordTypes(it, it.dataTypes);\n}\nfunction checkContextTypes(it, types) {\n    if (!types.length)\n        return;\n    if (!it.dataTypes.length) {\n        it.dataTypes = types;\n        return;\n    }\n    types.forEach((t) => {\n        if (!includesType(it.dataTypes, t)) {\n            strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`);\n        }\n    });\n    narrowSchemaTypes(it, types);\n}\nfunction checkMultipleTypes(it, ts) {\n    if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n        strictTypesError(it, \"use allowUnionTypes to allow union type keyword\");\n    }\n}\nfunction checkKeywordTypes(it, ts) {\n    const rules = it.self.RULES.all;\n    for (const keyword in rules) {\n        const rule = rules[keyword];\n        if (typeof rule == \"object\" && (0, applicability_1.shouldUseRule)(it.schema, rule)) {\n            const { type } = rule.definition;\n            if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n                strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`);\n            }\n        }\n    }\n}\nfunction hasApplicableType(schTs, kwdT) {\n    return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"));\n}\nfunction includesType(ts, t) {\n    return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"));\n}\nfunction narrowSchemaTypes(it, withTypes) {\n    const ts = [];\n    for (const t of it.dataTypes) {\n        if (includesType(withTypes, t))\n            ts.push(t);\n        else if (withTypes.includes(\"integer\") && t === \"number\")\n            ts.push(\"integer\");\n    }\n    it.dataTypes = ts;\n}\nfunction strictTypesError(it, msg) {\n    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n    msg += ` at \"${schemaPath}\" (strictTypes)`;\n    (0, util_1.checkStrictMode)(it, msg, it.opts.strictTypes);\n}\nclass KeywordCxt {\n    constructor(it, def, keyword) {\n        (0, keyword_1.validateKeywordUsage)(it, def, keyword);\n        this.gen = it.gen;\n        this.allErrors = it.allErrors;\n        this.keyword = keyword;\n        this.data = it.data;\n        this.schema = it.schema[keyword];\n        this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data;\n        this.schemaValue = (0, util_1.schemaRefOrVal)(it, this.schema, keyword, this.$data);\n        this.schemaType = def.schemaType;\n        this.parentSchema = it.schema;\n        this.params = {};\n        this.it = it;\n        this.def = def;\n        if (this.$data) {\n            this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it));\n        }\n        else {\n            this.schemaCode = this.schemaValue;\n            if (!(0, keyword_1.validSchemaType)(this.schema, def.schemaType, def.allowUndefined)) {\n                throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`);\n            }\n        }\n        if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n            this.errsCount = it.gen.const(\"_errs\", names_1.default.errors);\n        }\n    }\n    result(condition, successAction, failAction) {\n        this.failResult((0, codegen_1.not)(condition), successAction, failAction);\n    }\n    failResult(condition, successAction, failAction) {\n        this.gen.if(condition);\n        if (failAction)\n            failAction();\n        else\n            this.error();\n        if (successAction) {\n            this.gen.else();\n            successAction();\n            if (this.allErrors)\n                this.gen.endIf();\n        }\n        else {\n            if (this.allErrors)\n                this.gen.endIf();\n            else\n                this.gen.else();\n        }\n    }\n    pass(condition, failAction) {\n        this.failResult((0, codegen_1.not)(condition), undefined, failAction);\n    }\n    fail(condition) {\n        if (condition === undefined) {\n            this.error();\n            if (!this.allErrors)\n                this.gen.if(false); // this branch will be removed by gen.optimize\n            return;\n        }\n        this.gen.if(condition);\n        this.error();\n        if (this.allErrors)\n            this.gen.endIf();\n        else\n            this.gen.else();\n    }\n    fail$data(condition) {\n        if (!this.$data)\n            return this.fail(condition);\n        const { schemaCode } = this;\n        this.fail((0, codegen_1._) `${schemaCode} !== undefined && (${(0, codegen_1.or)(this.invalid$data(), condition)})`);\n    }\n    error(append, errorParams, errorPaths) {\n        if (errorParams) {\n            this.setParams(errorParams);\n            this._error(append, errorPaths);\n            this.setParams({});\n            return;\n        }\n        this._error(append, errorPaths);\n    }\n    _error(append, errorPaths) {\n        ;\n        (append ? errors_1.reportExtraError : errors_1.reportError)(this, this.def.error, errorPaths);\n    }\n    $dataError() {\n        (0, errors_1.reportError)(this, this.def.$dataError || errors_1.keyword$DataError);\n    }\n    reset() {\n        if (this.errsCount === undefined)\n            throw new Error('add \"trackErrors\" to keyword definition');\n        (0, errors_1.resetErrorsCount)(this.gen, this.errsCount);\n    }\n    ok(cond) {\n        if (!this.allErrors)\n            this.gen.if(cond);\n    }\n    setParams(obj, assign) {\n        if (assign)\n            Object.assign(this.params, obj);\n        else\n            this.params = obj;\n    }\n    block$data(valid, codeBlock, $dataValid = codegen_1.nil) {\n        this.gen.block(() => {\n            this.check$data(valid, $dataValid);\n            codeBlock();\n        });\n    }\n    check$data(valid = codegen_1.nil, $dataValid = codegen_1.nil) {\n        if (!this.$data)\n            return;\n        const { gen, schemaCode, schemaType, def } = this;\n        gen.if((0, codegen_1.or)((0, codegen_1._) `${schemaCode} === undefined`, $dataValid));\n        if (valid !== codegen_1.nil)\n            gen.assign(valid, true);\n        if (schemaType.length || def.validateSchema) {\n            gen.elseIf(this.invalid$data());\n            this.$dataError();\n            if (valid !== codegen_1.nil)\n                gen.assign(valid, false);\n        }\n        gen.else();\n    }\n    invalid$data() {\n        const { gen, schemaCode, schemaType, def, it } = this;\n        return (0, codegen_1.or)(wrong$DataType(), invalid$DataSchema());\n        function wrong$DataType() {\n            if (schemaType.length) {\n                /* istanbul ignore if */\n                if (!(schemaCode instanceof codegen_1.Name))\n                    throw new Error(\"ajv implementation error\");\n                const st = Array.isArray(schemaType) ? schemaType : [schemaType];\n                return (0, codegen_1._) `${(0, dataType_2.checkDataTypes)(st, schemaCode, it.opts.strictNumbers, dataType_2.DataType.Wrong)}`;\n            }\n            return codegen_1.nil;\n        }\n        function invalid$DataSchema() {\n            if (def.validateSchema) {\n                const validateSchemaRef = gen.scopeValue(\"validate$data\", { ref: def.validateSchema }); // TODO value.code for standalone\n                return (0, codegen_1._) `!${validateSchemaRef}(${schemaCode})`;\n            }\n            return codegen_1.nil;\n        }\n    }\n    subschema(appl, valid) {\n        const subschema = (0, subschema_1.getSubschema)(this.it, appl);\n        (0, subschema_1.extendSubschemaData)(subschema, this.it, appl);\n        (0, subschema_1.extendSubschemaMode)(subschema, appl);\n        const nextContext = { ...this.it, ...subschema, items: undefined, props: undefined };\n        subschemaCode(nextContext, valid);\n        return nextContext;\n    }\n    mergeEvaluated(schemaCxt, toName) {\n        const { it, gen } = this;\n        if (!it.opts.unevaluated)\n            return;\n        if (it.props !== true && schemaCxt.props !== undefined) {\n            it.props = util_1.mergeEvaluated.props(gen, schemaCxt.props, it.props, toName);\n        }\n        if (it.items !== true && schemaCxt.items !== undefined) {\n            it.items = util_1.mergeEvaluated.items(gen, schemaCxt.items, it.items, toName);\n        }\n    }\n    mergeValidEvaluated(schemaCxt, valid) {\n        const { it, gen } = this;\n        if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n            gen.if(valid, () => this.mergeEvaluated(schemaCxt, codegen_1.Name));\n            return true;\n        }\n    }\n}\nexports.KeywordCxt = KeywordCxt;\nfunction keywordCode(it, keyword, def, ruleType) {\n    const cxt = new KeywordCxt(it, def, keyword);\n    if (\"code\" in def) {\n        def.code(cxt, ruleType);\n    }\n    else if (cxt.$data && def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n    else if (\"macro\" in def) {\n        (0, keyword_1.macroKeywordCode)(cxt, def);\n    }\n    else if (def.compile || def.validate) {\n        (0, keyword_1.funcKeywordCode)(cxt, def);\n    }\n}\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, { dataLevel, dataNames, dataPathArr }) {\n    let jsonPointer;\n    let data;\n    if ($data === \"\")\n        return names_1.default.rootData;\n    if ($data[0] === \"/\") {\n        if (!JSON_POINTER.test($data))\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        jsonPointer = $data;\n        data = names_1.default.rootData;\n    }\n    else {\n        const matches = RELATIVE_JSON_POINTER.exec($data);\n        if (!matches)\n            throw new Error(`Invalid JSON-pointer: ${$data}`);\n        const up = +matches[1];\n        jsonPointer = matches[2];\n        if (jsonPointer === \"#\") {\n            if (up >= dataLevel)\n                throw new Error(errorMsg(\"property/index\", up));\n            return dataPathArr[dataLevel - up];\n        }\n        if (up > dataLevel)\n            throw new Error(errorMsg(\"data\", up));\n        data = dataNames[dataLevel - up];\n        if (!jsonPointer)\n            return data;\n    }\n    let expr = data;\n    const segments = jsonPointer.split(\"/\");\n    for (const segment of segments) {\n        if (segment) {\n            data = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)((0, util_1.unescapeJsonPointer)(segment))}`;\n            expr = (0, codegen_1._) `${expr} && ${data}`;\n        }\n    }\n    return expr;\n    function errorMsg(pointerType, up) {\n        return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`;\n    }\n}\nexports.getData = getData;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateKeywordUsage = exports.validSchemaType = exports.funcKeywordCode = exports.macroKeywordCode = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst names_1 = require(\"../names\");\nconst code_1 = require(\"../../vocabularies/code\");\nconst errors_1 = require(\"../errors\");\nfunction macroKeywordCode(cxt, def) {\n    const { gen, keyword, schema, parentSchema, it } = cxt;\n    const macroSchema = def.macro.call(it.self, schema, parentSchema, it);\n    const schemaRef = useKeyword(gen, keyword, macroSchema);\n    if (it.opts.validateSchema !== false)\n        it.self.validateSchema(macroSchema, true);\n    const valid = gen.name(\"valid\");\n    cxt.subschema({\n        schema: macroSchema,\n        schemaPath: codegen_1.nil,\n        errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        topSchemaRef: schemaRef,\n        compositeRule: true,\n    }, valid);\n    cxt.pass(valid, () => cxt.error(true));\n}\nexports.macroKeywordCode = macroKeywordCode;\nfunction funcKeywordCode(cxt, def) {\n    var _a;\n    const { gen, keyword, schema, parentSchema, $data, it } = cxt;\n    checkAsyncKeyword(it, def);\n    const validate = !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate;\n    const validateRef = useKeyword(gen, keyword, validate);\n    const valid = gen.let(\"valid\");\n    cxt.block$data(valid, validateKeyword);\n    cxt.ok((_a = def.valid) !== null && _a !== void 0 ? _a : valid);\n    function validateKeyword() {\n        if (def.errors === false) {\n            assignValid();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => cxt.error());\n        }\n        else {\n            const ruleErrs = def.async ? validateAsync() : validateSync();\n            if (def.modifying)\n                modifyData(cxt);\n            reportErrs(() => addErrs(cxt, ruleErrs));\n        }\n    }\n    function validateAsync() {\n        const ruleErrs = gen.let(\"ruleErrs\", null);\n        gen.try(() => assignValid((0, codegen_1._) `await `), (e) => gen.assign(valid, false).if((0, codegen_1._) `${e} instanceof ${it.ValidationError}`, () => gen.assign(ruleErrs, (0, codegen_1._) `${e}.errors`), () => gen.throw(e)));\n        return ruleErrs;\n    }\n    function validateSync() {\n        const validateErrs = (0, codegen_1._) `${validateRef}.errors`;\n        gen.assign(validateErrs, null);\n        assignValid(codegen_1.nil);\n        return validateErrs;\n    }\n    function assignValid(_await = def.async ? (0, codegen_1._) `await ` : codegen_1.nil) {\n        const passCxt = it.opts.passContext ? names_1.default.this : names_1.default.self;\n        const passSchema = !((\"compile\" in def && !$data) || def.schema === false);\n        gen.assign(valid, (0, codegen_1._) `${_await}${(0, code_1.callValidateCode)(cxt, validateRef, passCxt, passSchema)}`, def.modifying);\n    }\n    function reportErrs(errors) {\n        var _a;\n        gen.if((0, codegen_1.not)((_a = def.valid) !== null && _a !== void 0 ? _a : valid), errors);\n    }\n}\nexports.funcKeywordCode = funcKeywordCode;\nfunction modifyData(cxt) {\n    const { gen, data, it } = cxt;\n    gen.if(it.parentData, () => gen.assign(data, (0, codegen_1._) `${it.parentData}[${it.parentDataProperty}]`));\n}\nfunction addErrs(cxt, errs) {\n    const { gen } = cxt;\n    gen.if((0, codegen_1._) `Array.isArray(${errs})`, () => {\n        gen\n            .assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`)\n            .assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n        (0, errors_1.extendErrors)(cxt);\n    }, () => cxt.error());\n}\nfunction checkAsyncKeyword({ schemaEnv }, def) {\n    if (def.async && !schemaEnv.$async)\n        throw new Error(\"async keyword in sync schema\");\n}\nfunction useKeyword(gen, keyword, result) {\n    if (result === undefined)\n        throw new Error(`keyword \"${keyword}\" failed to compile`);\n    return gen.scopeValue(\"keyword\", typeof result == \"function\" ? { ref: result } : { ref: result, code: (0, codegen_1.stringify)(result) });\n}\nfunction validSchemaType(schema, schemaType, allowUndefined = false) {\n    // TODO add tests\n    return (!schemaType.length ||\n        schemaType.some((st) => st === \"array\"\n            ? Array.isArray(schema)\n            : st === \"object\"\n                ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n                : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")));\n}\nexports.validSchemaType = validSchemaType;\nfunction validateKeywordUsage({ schema, opts, self, errSchemaPath }, def, keyword) {\n    /* istanbul ignore if */\n    if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n        throw new Error(\"ajv implementation error\");\n    }\n    const deps = def.dependencies;\n    if (deps === null || deps === void 0 ? void 0 : deps.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n        throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`);\n    }\n    if (def.validateSchema) {\n        const valid = def.validateSchema(schema[keyword]);\n        if (!valid) {\n            const msg = `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n                self.errorsText(def.validateSchema.errors);\n            if (opts.validateSchema === \"log\")\n                self.logger.error(msg);\n            else\n                throw new Error(msg);\n        }\n    }\n}\nexports.validateKeywordUsage = validateKeywordUsage;\n//# sourceMappingURL=keyword.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extendSubschemaMode = exports.extendSubschemaData = exports.getSubschema = void 0;\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nfunction getSubschema(it, { keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef }) {\n    if (keyword !== undefined && schema !== undefined) {\n        throw new Error('both \"keyword\" and \"schema\" passed, only one allowed');\n    }\n    if (keyword !== undefined) {\n        const sch = it.schema[keyword];\n        return schemaProp === undefined\n            ? {\n                schema: sch,\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n            }\n            : {\n                schema: sch[schemaProp],\n                schemaPath: (0, codegen_1._) `${it.schemaPath}${(0, codegen_1.getProperty)(keyword)}${(0, codegen_1.getProperty)(schemaProp)}`,\n                errSchemaPath: `${it.errSchemaPath}/${keyword}/${(0, util_1.escapeFragment)(schemaProp)}`,\n            };\n    }\n    if (schema !== undefined) {\n        if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n            throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"');\n        }\n        return {\n            schema,\n            schemaPath,\n            topSchemaRef,\n            errSchemaPath,\n        };\n    }\n    throw new Error('either \"keyword\" or \"schema\" must be passed');\n}\nexports.getSubschema = getSubschema;\nfunction extendSubschemaData(subschema, it, { dataProp, dataPropType: dpType, data, dataTypes, propertyName }) {\n    if (data !== undefined && dataProp !== undefined) {\n        throw new Error('both \"data\" and \"dataProp\" passed, only one allowed');\n    }\n    const { gen } = it;\n    if (dataProp !== undefined) {\n        const { errorPath, dataPathArr, opts } = it;\n        const nextData = gen.let(\"data\", (0, codegen_1._) `${it.data}${(0, codegen_1.getProperty)(dataProp)}`, true);\n        dataContextProps(nextData);\n        subschema.errorPath = (0, codegen_1.str) `${errorPath}${(0, util_1.getErrorPath)(dataProp, dpType, opts.jsPropertySyntax)}`;\n        subschema.parentDataProperty = (0, codegen_1._) `${dataProp}`;\n        subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty];\n    }\n    if (data !== undefined) {\n        const nextData = data instanceof codegen_1.Name ? data : gen.let(\"data\", data, true); // replaceable if used once?\n        dataContextProps(nextData);\n        if (propertyName !== undefined)\n            subschema.propertyName = propertyName;\n        // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n    }\n    if (dataTypes)\n        subschema.dataTypes = dataTypes;\n    function dataContextProps(_nextData) {\n        subschema.data = _nextData;\n        subschema.dataLevel = it.dataLevel + 1;\n        subschema.dataTypes = [];\n        it.definedProperties = new Set();\n        subschema.parentData = it.data;\n        subschema.dataNames = [...it.dataNames, _nextData];\n    }\n}\nexports.extendSubschemaData = extendSubschemaData;\nfunction extendSubschemaMode(subschema, { jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors }) {\n    if (compositeRule !== undefined)\n        subschema.compositeRule = compositeRule;\n    if (createErrors !== undefined)\n        subschema.createErrors = createErrors;\n    if (allErrors !== undefined)\n        subschema.allErrors = allErrors;\n    subschema.jtdDiscriminator = jtdDiscriminator; // not inherited\n    subschema.jtdMetadata = jtdMetadata; // not inherited\n}\nexports.extendSubschemaMode = extendSubschemaMode;\n//# sourceMappingURL=subschema.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeGen = exports.Name = exports.nil = exports.stringify = exports.str = exports._ = exports.KeywordCxt = void 0;\nvar validate_1 = require(\"./compile/validate\");\nObject.defineProperty(exports, \"KeywordCxt\", { enumerable: true, get: function () { return validate_1.KeywordCxt; } });\nvar codegen_1 = require(\"./compile/codegen\");\nObject.defineProperty(exports, \"_\", { enumerable: true, get: function () { return codegen_1._; } });\nObject.defineProperty(exports, \"str\", { enumerable: true, get: function () { return codegen_1.str; } });\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return codegen_1.stringify; } });\nObject.defineProperty(exports, \"nil\", { enumerable: true, get: function () { return codegen_1.nil; } });\nObject.defineProperty(exports, \"Name\", { enumerable: true, get: function () { return codegen_1.Name; } });\nObject.defineProperty(exports, \"CodeGen\", { enumerable: true, get: function () { return codegen_1.CodeGen; } });\nconst validation_error_1 = require(\"./runtime/validation_error\");\nconst ref_error_1 = require(\"./compile/ref_error\");\nconst rules_1 = require(\"./compile/rules\");\nconst compile_1 = require(\"./compile\");\nconst codegen_2 = require(\"./compile/codegen\");\nconst resolve_1 = require(\"./compile/resolve\");\nconst dataType_1 = require(\"./compile/validate/dataType\");\nconst util_1 = require(\"./compile/util\");\nconst $dataRefSchema = require(\"./refs/data.json\");\nconst uri_1 = require(\"./runtime/uri\");\nconst defaultRegExp = (str, flags) => new RegExp(str, flags);\ndefaultRegExp.code = \"new RegExp\";\nconst META_IGNORE_OPTIONS = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"];\nconst EXT_SCOPE_NAMES = new Set([\n    \"validate\",\n    \"serialize\",\n    \"parse\",\n    \"wrapper\",\n    \"root\",\n    \"schema\",\n    \"keyword\",\n    \"pattern\",\n    \"formats\",\n    \"validate$data\",\n    \"func\",\n    \"obj\",\n    \"Error\",\n]);\nconst removedOptions = {\n    errorDataPath: \"\",\n    format: \"`validateFormats: false` can be used instead.\",\n    nullable: '\"nullable\" keyword is supported by default.',\n    jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n    extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n    missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n    processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n    sourceCode: \"Use option `code: {source: true}`\",\n    strictDefaults: \"It is default now, see option `strict`.\",\n    strictKeywords: \"It is default now, see option `strict`.\",\n    uniqueItems: '\"uniqueItems\" keyword is always validated.',\n    unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n    cache: \"Map is used as cache, schema object as key.\",\n    serialize: \"Map is used as cache, schema object as key.\",\n    ajvErrors: \"It is default now.\",\n};\nconst deprecatedOptions = {\n    ignoreKeywordsWithRef: \"\",\n    jsPropertySyntax: \"\",\n    unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n};\nconst MAX_EXPRESSION = 200;\n// eslint-disable-next-line complexity\nfunction requiredOptions(o) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;\n    const s = o.strict;\n    const _optz = (_a = o.code) === null || _a === void 0 ? void 0 : _a.optimize;\n    const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0;\n    const regExp = (_c = (_b = o.code) === null || _b === void 0 ? void 0 : _b.regExp) !== null && _c !== void 0 ? _c : defaultRegExp;\n    const uriResolver = (_d = o.uriResolver) !== null && _d !== void 0 ? _d : uri_1.default;\n    return {\n        strictSchema: (_f = (_e = o.strictSchema) !== null && _e !== void 0 ? _e : s) !== null && _f !== void 0 ? _f : true,\n        strictNumbers: (_h = (_g = o.strictNumbers) !== null && _g !== void 0 ? _g : s) !== null && _h !== void 0 ? _h : true,\n        strictTypes: (_k = (_j = o.strictTypes) !== null && _j !== void 0 ? _j : s) !== null && _k !== void 0 ? _k : \"log\",\n        strictTuples: (_m = (_l = o.strictTuples) !== null && _l !== void 0 ? _l : s) !== null && _m !== void 0 ? _m : \"log\",\n        strictRequired: (_p = (_o = o.strictRequired) !== null && _o !== void 0 ? _o : s) !== null && _p !== void 0 ? _p : false,\n        code: o.code ? { ...o.code, optimize, regExp } : { optimize, regExp },\n        loopRequired: (_q = o.loopRequired) !== null && _q !== void 0 ? _q : MAX_EXPRESSION,\n        loopEnum: (_r = o.loopEnum) !== null && _r !== void 0 ? _r : MAX_EXPRESSION,\n        meta: (_s = o.meta) !== null && _s !== void 0 ? _s : true,\n        messages: (_t = o.messages) !== null && _t !== void 0 ? _t : true,\n        inlineRefs: (_u = o.inlineRefs) !== null && _u !== void 0 ? _u : true,\n        schemaId: (_v = o.schemaId) !== null && _v !== void 0 ? _v : \"$id\",\n        addUsedSchema: (_w = o.addUsedSchema) !== null && _w !== void 0 ? _w : true,\n        validateSchema: (_x = o.validateSchema) !== null && _x !== void 0 ? _x : true,\n        validateFormats: (_y = o.validateFormats) !== null && _y !== void 0 ? _y : true,\n        unicodeRegExp: (_z = o.unicodeRegExp) !== null && _z !== void 0 ? _z : true,\n        int32range: (_0 = o.int32range) !== null && _0 !== void 0 ? _0 : true,\n        uriResolver: uriResolver,\n    };\n}\nclass Ajv {\n    constructor(opts = {}) {\n        this.schemas = {};\n        this.refs = {};\n        this.formats = {};\n        this._compilations = new Set();\n        this._loading = {};\n        this._cache = new Map();\n        opts = this.opts = { ...opts, ...requiredOptions(opts) };\n        const { es5, lines } = this.opts.code;\n        this.scope = new codegen_2.ValueScope({ scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines });\n        this.logger = getLogger(opts.logger);\n        const formatOpt = opts.validateFormats;\n        opts.validateFormats = false;\n        this.RULES = (0, rules_1.getRules)();\n        checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\");\n        checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\");\n        this._metaOpts = getMetaSchemaOptions.call(this);\n        if (opts.formats)\n            addInitialFormats.call(this);\n        this._addVocabularies();\n        this._addDefaultMetaSchema();\n        if (opts.keywords)\n            addInitialKeywords.call(this, opts.keywords);\n        if (typeof opts.meta == \"object\")\n            this.addMetaSchema(opts.meta);\n        addInitialSchemas.call(this);\n        opts.validateFormats = formatOpt;\n    }\n    _addVocabularies() {\n        this.addKeyword(\"$async\");\n    }\n    _addDefaultMetaSchema() {\n        const { $data, meta, schemaId } = this.opts;\n        let _dataRefSchema = $dataRefSchema;\n        if (schemaId === \"id\") {\n            _dataRefSchema = { ...$dataRefSchema };\n            _dataRefSchema.id = _dataRefSchema.$id;\n            delete _dataRefSchema.$id;\n        }\n        if (meta && $data)\n            this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false);\n    }\n    defaultMeta() {\n        const { meta, schemaId } = this.opts;\n        return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined);\n    }\n    validate(schemaKeyRef, // key, ref or schema object\n    data // to be validated\n    ) {\n        let v;\n        if (typeof schemaKeyRef == \"string\") {\n            v = this.getSchema(schemaKeyRef);\n            if (!v)\n                throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`);\n        }\n        else {\n            v = this.compile(schemaKeyRef);\n        }\n        const valid = v(data);\n        if (!(\"$async\" in v))\n            this.errors = v.errors;\n        return valid;\n    }\n    compile(schema, _meta) {\n        const sch = this._addSchema(schema, _meta);\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    compileAsync(schema, meta) {\n        if (typeof this.opts.loadSchema != \"function\") {\n            throw new Error(\"options.loadSchema should be a function\");\n        }\n        const { loadSchema } = this.opts;\n        return runCompileAsync.call(this, schema, meta);\n        async function runCompileAsync(_schema, _meta) {\n            await loadMetaSchema.call(this, _schema.$schema);\n            const sch = this._addSchema(_schema, _meta);\n            return sch.validate || _compileAsync.call(this, sch);\n        }\n        async function loadMetaSchema($ref) {\n            if ($ref && !this.getSchema($ref)) {\n                await runCompileAsync.call(this, { $ref }, true);\n            }\n        }\n        async function _compileAsync(sch) {\n            try {\n                return this._compileSchemaEnv(sch);\n            }\n            catch (e) {\n                if (!(e instanceof ref_error_1.default))\n                    throw e;\n                checkLoaded.call(this, e);\n                await loadMissingSchema.call(this, e.missingSchema);\n                return _compileAsync.call(this, sch);\n            }\n        }\n        function checkLoaded({ missingSchema: ref, missingRef }) {\n            if (this.refs[ref]) {\n                throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`);\n            }\n        }\n        async function loadMissingSchema(ref) {\n            const _schema = await _loadSchema.call(this, ref);\n            if (!this.refs[ref])\n                await loadMetaSchema.call(this, _schema.$schema);\n            if (!this.refs[ref])\n                this.addSchema(_schema, ref, meta);\n        }\n        async function _loadSchema(ref) {\n            const p = this._loading[ref];\n            if (p)\n                return p;\n            try {\n                return await (this._loading[ref] = loadSchema(ref));\n            }\n            finally {\n                delete this._loading[ref];\n            }\n        }\n    }\n    // Adds schema to the instance\n    addSchema(schema, // If array is passed, `key` will be ignored\n    key, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n    ) {\n        if (Array.isArray(schema)) {\n            for (const sch of schema)\n                this.addSchema(sch, undefined, _meta, _validateSchema);\n            return this;\n        }\n        let id;\n        if (typeof schema === \"object\") {\n            const { schemaId } = this.opts;\n            id = schema[schemaId];\n            if (id !== undefined && typeof id != \"string\") {\n                throw new Error(`schema ${schemaId} must be string`);\n            }\n        }\n        key = (0, resolve_1.normalizeId)(key || id);\n        this._checkUnique(key);\n        this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true);\n        return this;\n    }\n    // Add schema that will be used to validate other schemas\n    // options in META_IGNORE_OPTIONS are alway set to false\n    addMetaSchema(schema, key, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n    ) {\n        this.addSchema(schema, key, true, _validateSchema);\n        return this;\n    }\n    //  Validate schema against its meta-schema\n    validateSchema(schema, throwOrLogError) {\n        if (typeof schema == \"boolean\")\n            return true;\n        let $schema;\n        $schema = schema.$schema;\n        if ($schema !== undefined && typeof $schema != \"string\") {\n            throw new Error(\"$schema must be a string\");\n        }\n        $schema = $schema || this.opts.defaultMeta || this.defaultMeta();\n        if (!$schema) {\n            this.logger.warn(\"meta-schema not available\");\n            this.errors = null;\n            return true;\n        }\n        const valid = this.validate($schema, schema);\n        if (!valid && throwOrLogError) {\n            const message = \"schema is invalid: \" + this.errorsText();\n            if (this.opts.validateSchema === \"log\")\n                this.logger.error(message);\n            else\n                throw new Error(message);\n        }\n        return valid;\n    }\n    // Get compiled schema by `key` or `ref`.\n    // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n    getSchema(keyRef) {\n        let sch;\n        while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\")\n            keyRef = sch;\n        if (sch === undefined) {\n            const { schemaId } = this.opts;\n            const root = new compile_1.SchemaEnv({ schema: {}, schemaId });\n            sch = compile_1.resolveSchema.call(this, root, keyRef);\n            if (!sch)\n                return;\n            this.refs[keyRef] = sch;\n        }\n        return (sch.validate || this._compileSchemaEnv(sch));\n    }\n    // Remove cached schema(s).\n    // If no parameter is passed all schemas but meta-schemas are removed.\n    // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n    // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n    removeSchema(schemaKeyRef) {\n        if (schemaKeyRef instanceof RegExp) {\n            this._removeAllSchemas(this.schemas, schemaKeyRef);\n            this._removeAllSchemas(this.refs, schemaKeyRef);\n            return this;\n        }\n        switch (typeof schemaKeyRef) {\n            case \"undefined\":\n                this._removeAllSchemas(this.schemas);\n                this._removeAllSchemas(this.refs);\n                this._cache.clear();\n                return this;\n            case \"string\": {\n                const sch = getSchEnv.call(this, schemaKeyRef);\n                if (typeof sch == \"object\")\n                    this._cache.delete(sch.schema);\n                delete this.schemas[schemaKeyRef];\n                delete this.refs[schemaKeyRef];\n                return this;\n            }\n            case \"object\": {\n                const cacheKey = schemaKeyRef;\n                this._cache.delete(cacheKey);\n                let id = schemaKeyRef[this.opts.schemaId];\n                if (id) {\n                    id = (0, resolve_1.normalizeId)(id);\n                    delete this.schemas[id];\n                    delete this.refs[id];\n                }\n                return this;\n            }\n            default:\n                throw new Error(\"ajv.removeSchema: invalid parameter\");\n        }\n    }\n    // add \"vocabulary\" - a collection of keywords\n    addVocabulary(definitions) {\n        for (const def of definitions)\n            this.addKeyword(def);\n        return this;\n    }\n    addKeyword(kwdOrDef, def // deprecated\n    ) {\n        let keyword;\n        if (typeof kwdOrDef == \"string\") {\n            keyword = kwdOrDef;\n            if (typeof def == \"object\") {\n                this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\");\n                def.keyword = keyword;\n            }\n        }\n        else if (typeof kwdOrDef == \"object\" && def === undefined) {\n            def = kwdOrDef;\n            keyword = def.keyword;\n            if (Array.isArray(keyword) && !keyword.length) {\n                throw new Error(\"addKeywords: keyword must be string or non-empty array\");\n            }\n        }\n        else {\n            throw new Error(\"invalid addKeywords parameters\");\n        }\n        checkKeyword.call(this, keyword, def);\n        if (!def) {\n            (0, util_1.eachItem)(keyword, (kwd) => addRule.call(this, kwd));\n            return this;\n        }\n        keywordMetaschema.call(this, def);\n        const definition = {\n            ...def,\n            type: (0, dataType_1.getJSONTypes)(def.type),\n            schemaType: (0, dataType_1.getJSONTypes)(def.schemaType),\n        };\n        (0, util_1.eachItem)(keyword, definition.type.length === 0\n            ? (k) => addRule.call(this, k, definition)\n            : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t)));\n        return this;\n    }\n    getKeyword(keyword) {\n        const rule = this.RULES.all[keyword];\n        return typeof rule == \"object\" ? rule.definition : !!rule;\n    }\n    // Remove keyword\n    removeKeyword(keyword) {\n        // TODO return type should be Ajv\n        const { RULES } = this;\n        delete RULES.keywords[keyword];\n        delete RULES.all[keyword];\n        for (const group of RULES.rules) {\n            const i = group.rules.findIndex((rule) => rule.keyword === keyword);\n            if (i >= 0)\n                group.rules.splice(i, 1);\n        }\n        return this;\n    }\n    // Add format\n    addFormat(name, format) {\n        if (typeof format == \"string\")\n            format = new RegExp(format);\n        this.formats[name] = format;\n        return this;\n    }\n    errorsText(errors = this.errors, // optional array of validation errors\n    { separator = \", \", dataVar = \"data\" } = {} // optional options with properties `separator` and `dataVar`\n    ) {\n        if (!errors || errors.length === 0)\n            return \"No errors\";\n        return errors\n            .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n            .reduce((text, msg) => text + separator + msg);\n    }\n    $dataMetaSchema(metaSchema, keywordsJsonPointers) {\n        const rules = this.RULES.all;\n        metaSchema = JSON.parse(JSON.stringify(metaSchema));\n        for (const jsonPointer of keywordsJsonPointers) {\n            const segments = jsonPointer.split(\"/\").slice(1); // first segment is an empty string\n            let keywords = metaSchema;\n            for (const seg of segments)\n                keywords = keywords[seg];\n            for (const key in rules) {\n                const rule = rules[key];\n                if (typeof rule != \"object\")\n                    continue;\n                const { $data } = rule.definition;\n                const schema = keywords[key];\n                if ($data && schema)\n                    keywords[key] = schemaOrData(schema);\n            }\n        }\n        return metaSchema;\n    }\n    _removeAllSchemas(schemas, regex) {\n        for (const keyRef in schemas) {\n            const sch = schemas[keyRef];\n            if (!regex || regex.test(keyRef)) {\n                if (typeof sch == \"string\") {\n                    delete schemas[keyRef];\n                }\n                else if (sch && !sch.meta) {\n                    this._cache.delete(sch.schema);\n                    delete schemas[keyRef];\n                }\n            }\n        }\n    }\n    _addSchema(schema, meta, baseId, validateSchema = this.opts.validateSchema, addSchema = this.opts.addUsedSchema) {\n        let id;\n        const { schemaId } = this.opts;\n        if (typeof schema == \"object\") {\n            id = schema[schemaId];\n        }\n        else {\n            if (this.opts.jtd)\n                throw new Error(\"schema must be object\");\n            else if (typeof schema != \"boolean\")\n                throw new Error(\"schema must be object or boolean\");\n        }\n        let sch = this._cache.get(schema);\n        if (sch !== undefined)\n            return sch;\n        baseId = (0, resolve_1.normalizeId)(id || baseId);\n        const localRefs = resolve_1.getSchemaRefs.call(this, schema, baseId);\n        sch = new compile_1.SchemaEnv({ schema, schemaId, meta, baseId, localRefs });\n        this._cache.set(sch.schema, sch);\n        if (addSchema && !baseId.startsWith(\"#\")) {\n            // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n            if (baseId)\n                this._checkUnique(baseId);\n            this.refs[baseId] = sch;\n        }\n        if (validateSchema)\n            this.validateSchema(schema, true);\n        return sch;\n    }\n    _checkUnique(id) {\n        if (this.schemas[id] || this.refs[id]) {\n            throw new Error(`schema with key or id \"${id}\" already exists`);\n        }\n    }\n    _compileSchemaEnv(sch) {\n        if (sch.meta)\n            this._compileMetaSchema(sch);\n        else\n            compile_1.compileSchema.call(this, sch);\n        /* istanbul ignore if */\n        if (!sch.validate)\n            throw new Error(\"ajv implementation error\");\n        return sch.validate;\n    }\n    _compileMetaSchema(sch) {\n        const currentOpts = this.opts;\n        this.opts = this._metaOpts;\n        try {\n            compile_1.compileSchema.call(this, sch);\n        }\n        finally {\n            this.opts = currentOpts;\n        }\n    }\n}\nexports.default = Ajv;\nAjv.ValidationError = validation_error_1.default;\nAjv.MissingRefError = ref_error_1.default;\nfunction checkOptions(checkOpts, options, msg, log = \"error\") {\n    for (const key in checkOpts) {\n        const opt = key;\n        if (opt in options)\n            this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`);\n    }\n}\nfunction getSchEnv(keyRef) {\n    keyRef = (0, resolve_1.normalizeId)(keyRef); // TODO tests fail without this line\n    return this.schemas[keyRef] || this.refs[keyRef];\n}\nfunction addInitialSchemas() {\n    const optsSchemas = this.opts.schemas;\n    if (!optsSchemas)\n        return;\n    if (Array.isArray(optsSchemas))\n        this.addSchema(optsSchemas);\n    else\n        for (const key in optsSchemas)\n            this.addSchema(optsSchemas[key], key);\n}\nfunction addInitialFormats() {\n    for (const name in this.opts.formats) {\n        const format = this.opts.formats[name];\n        if (format)\n            this.addFormat(name, format);\n    }\n}\nfunction addInitialKeywords(defs) {\n    if (Array.isArray(defs)) {\n        this.addVocabulary(defs);\n        return;\n    }\n    this.logger.warn(\"keywords option as map is deprecated, pass array\");\n    for (const keyword in defs) {\n        const def = defs[keyword];\n        if (!def.keyword)\n            def.keyword = keyword;\n        this.addKeyword(def);\n    }\n}\nfunction getMetaSchemaOptions() {\n    const metaOpts = { ...this.opts };\n    for (const opt of META_IGNORE_OPTIONS)\n        delete metaOpts[opt];\n    return metaOpts;\n}\nconst noLogs = { log() { }, warn() { }, error() { } };\nfunction getLogger(logger) {\n    if (logger === false)\n        return noLogs;\n    if (logger === undefined)\n        return console;\n    if (logger.log && logger.warn && logger.error)\n        return logger;\n    throw new Error(\"logger must implement log, warn and error methods\");\n}\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i;\nfunction checkKeyword(keyword, def) {\n    const { RULES } = this;\n    (0, util_1.eachItem)(keyword, (kwd) => {\n        if (RULES.keywords[kwd])\n            throw new Error(`Keyword ${kwd} is already defined`);\n        if (!KEYWORD_NAME.test(kwd))\n            throw new Error(`Keyword ${kwd} has invalid name`);\n    });\n    if (!def)\n        return;\n    if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n        throw new Error('$data keyword must have \"code\" or \"validate\" function');\n    }\n}\nfunction addRule(keyword, definition, dataType) {\n    var _a;\n    const post = definition === null || definition === void 0 ? void 0 : definition.post;\n    if (dataType && post)\n        throw new Error('keyword with \"post\" flag cannot have \"type\"');\n    const { RULES } = this;\n    let ruleGroup = post ? RULES.post : RULES.rules.find(({ type: t }) => t === dataType);\n    if (!ruleGroup) {\n        ruleGroup = { type: dataType, rules: [] };\n        RULES.rules.push(ruleGroup);\n    }\n    RULES.keywords[keyword] = true;\n    if (!definition)\n        return;\n    const rule = {\n        keyword,\n        definition: {\n            ...definition,\n            type: (0, dataType_1.getJSONTypes)(definition.type),\n            schemaType: (0, dataType_1.getJSONTypes)(definition.schemaType),\n        },\n    };\n    if (definition.before)\n        addBeforeRule.call(this, ruleGroup, rule, definition.before);\n    else\n        ruleGroup.rules.push(rule);\n    RULES.all[keyword] = rule;\n    (_a = definition.implements) === null || _a === void 0 ? void 0 : _a.forEach((kwd) => this.addKeyword(kwd));\n}\nfunction addBeforeRule(ruleGroup, rule, before) {\n    const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before);\n    if (i >= 0) {\n        ruleGroup.rules.splice(i, 0, rule);\n    }\n    else {\n        ruleGroup.rules.push(rule);\n        this.logger.warn(`rule ${before} is not defined`);\n    }\n}\nfunction keywordMetaschema(def) {\n    let { metaSchema } = def;\n    if (metaSchema === undefined)\n        return;\n    if (def.$data && this.opts.$data)\n        metaSchema = schemaOrData(metaSchema);\n    def.validateSchema = this.compile(metaSchema, true);\n}\nconst $dataRef = {\n    $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n};\nfunction schemaOrData(schema) {\n    return { anyOf: [schema, $dataRef] };\n}\n//# sourceMappingURL=core.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://github.com/ajv-validator/ajv/issues/889\nconst equal = require(\"fast-deep-equal\");\nequal.code = 'require(\"ajv/dist/runtime/equal\").default';\nexports.default = equal;\n//# sourceMappingURL=equal.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nfunction ucs2length(str) {\n    const len = str.length;\n    let length = 0;\n    let pos = 0;\n    let value;\n    while (pos < len) {\n        length++;\n        value = str.charCodeAt(pos++);\n        if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n            // high surrogate, and there is a next character\n            value = str.charCodeAt(pos);\n            if ((value & 0xfc00) === 0xdc00)\n                pos++; // low surrogate\n        }\n    }\n    return length;\n}\nexports.default = ucs2length;\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default';\n//# sourceMappingURL=ucs2length.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uri = require(\"uri-js\");\nuri.code = 'require(\"ajv/dist/runtime/uri\").default';\nexports.default = uri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ValidationError extends Error {\n    constructor(errors) {\n        super(\"validation failed\");\n        this.errors = errors;\n        this.ajv = this.validation = true;\n    }\n}\nexports.default = ValidationError;\n//# sourceMappingURL=validation_error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateAdditionalItems = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"additionalItems\",\n    type: \"array\",\n    schemaType: [\"boolean\", \"object\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { parentSchema, it } = cxt;\n        const { items } = parentSchema;\n        if (!Array.isArray(items)) {\n            (0, util_1.checkStrictMode)(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas');\n            return;\n        }\n        validateAdditionalItems(cxt, items);\n    },\n};\nfunction validateAdditionalItems(cxt, items) {\n    const { gen, schema, data, keyword, it } = cxt;\n    it.items = true;\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    if (schema === false) {\n        cxt.setParams({ len: items.length });\n        cxt.pass((0, codegen_1._) `${len} <= ${items.length}`);\n    }\n    else if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n        const valid = gen.var(\"valid\", (0, codegen_1._) `${len} <= ${items.length}`); // TODO var\n        gen.if((0, codegen_1.not)(valid), () => validateItems(valid));\n        cxt.ok(valid);\n    }\n    function validateItems(valid) {\n        gen.forRange(\"i\", items.length, len, (i) => {\n            cxt.subschema({ keyword, dataProp: i, dataPropType: util_1.Type.Num }, valid);\n            if (!it.allErrors)\n                gen.if((0, codegen_1.not)(valid), () => gen.break());\n        });\n    }\n}\nexports.validateAdditionalItems = validateAdditionalItems;\nexports.default = def;\n//# sourceMappingURL=additionalItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must NOT have additional properties\",\n    params: ({ params }) => (0, codegen_1._) `{additionalProperty: ${params.additionalProperty}}`,\n};\nconst def = {\n    keyword: \"additionalProperties\",\n    type: [\"object\"],\n    schemaType: [\"boolean\", \"object\"],\n    allowUndefined: true,\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, errsCount, it } = cxt;\n        /* istanbul ignore if */\n        if (!errsCount)\n            throw new Error(\"ajv implementation error\");\n        const { allErrors, opts } = it;\n        it.props = true;\n        if (opts.removeAdditional !== \"all\" && (0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const props = (0, code_1.allSchemaProperties)(parentSchema.properties);\n        const patProps = (0, code_1.allSchemaProperties)(parentSchema.patternProperties);\n        checkAdditionalProperties();\n        cxt.ok((0, codegen_1._) `${errsCount} === ${names_1.default.errors}`);\n        function checkAdditionalProperties() {\n            gen.forIn(\"key\", data, (key) => {\n                if (!props.length && !patProps.length)\n                    additionalPropertyCode(key);\n                else\n                    gen.if(isAdditional(key), () => additionalPropertyCode(key));\n            });\n        }\n        function isAdditional(key) {\n            let definedProp;\n            if (props.length > 8) {\n                // TODO maybe an option instead of hard-coded 8?\n                const propsSchema = (0, util_1.schemaRefOrVal)(it, parentSchema.properties, \"properties\");\n                definedProp = (0, code_1.isOwnProperty)(gen, propsSchema, key);\n            }\n            else if (props.length) {\n                definedProp = (0, codegen_1.or)(...props.map((p) => (0, codegen_1._) `${key} === ${p}`));\n            }\n            else {\n                definedProp = codegen_1.nil;\n            }\n            if (patProps.length) {\n                definedProp = (0, codegen_1.or)(definedProp, ...patProps.map((p) => (0, codegen_1._) `${(0, code_1.usePattern)(cxt, p)}.test(${key})`));\n            }\n            return (0, codegen_1.not)(definedProp);\n        }\n        function deleteAdditional(key) {\n            gen.code((0, codegen_1._) `delete ${data}[${key}]`);\n        }\n        function additionalPropertyCode(key) {\n            if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n                deleteAdditional(key);\n                return;\n            }\n            if (schema === false) {\n                cxt.setParams({ additionalProperty: key });\n                cxt.error();\n                if (!allErrors)\n                    gen.break();\n                return;\n            }\n            if (typeof schema == \"object\" && !(0, util_1.alwaysValidSchema)(it, schema)) {\n                const valid = gen.name(\"valid\");\n                if (opts.removeAdditional === \"failing\") {\n                    applyAdditionalSchema(key, valid, false);\n                    gen.if((0, codegen_1.not)(valid), () => {\n                        cxt.reset();\n                        deleteAdditional(key);\n                    });\n                }\n                else {\n                    applyAdditionalSchema(key, valid);\n                    if (!allErrors)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                }\n            }\n        }\n        function applyAdditionalSchema(key, valid, errors) {\n            const subschema = {\n                keyword: \"additionalProperties\",\n                dataProp: key,\n                dataPropType: util_1.Type.Str,\n            };\n            if (errors === false) {\n                Object.assign(subschema, {\n                    compositeRule: true,\n                    createErrors: false,\n                    allErrors: false,\n                });\n            }\n            cxt.subschema(subschema, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=additionalProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"allOf\",\n    schemaType: \"array\",\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        const valid = gen.name(\"valid\");\n        schema.forEach((sch, i) => {\n            if ((0, util_1.alwaysValidSchema)(it, sch))\n                return;\n            const schCxt = cxt.subschema({ keyword: \"allOf\", schemaProp: i }, valid);\n            cxt.ok(valid);\n            cxt.mergeEvaluated(schCxt);\n        });\n    },\n};\nexports.default = def;\n//# sourceMappingURL=allOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"anyOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    code: code_1.validateUnion,\n    error: { message: \"must match a schema in anyOf\" },\n};\nexports.default = def;\n//# sourceMappingURL=anyOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { min, max } }) => max === undefined\n        ? (0, codegen_1.str) `must contain at least ${min} valid item(s)`\n        : (0, codegen_1.str) `must contain at least ${min} and no more than ${max} valid item(s)`,\n    params: ({ params: { min, max } }) => max === undefined ? (0, codegen_1._) `{minContains: ${min}}` : (0, codegen_1._) `{minContains: ${min}, maxContains: ${max}}`,\n};\nconst def = {\n    keyword: \"contains\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        let min;\n        let max;\n        const { minContains, maxContains } = parentSchema;\n        if (it.opts.next) {\n            min = minContains === undefined ? 1 : minContains;\n            max = maxContains;\n        }\n        else {\n            min = 1;\n        }\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        cxt.setParams({ min, max });\n        if (max === undefined && min === 0) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`);\n            return;\n        }\n        if (max !== undefined && min > max) {\n            (0, util_1.checkStrictMode)(it, `\"minContains\" > \"maxContains\" is always invalid`);\n            cxt.fail();\n            return;\n        }\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            let cond = (0, codegen_1._) `${len} >= ${min}`;\n            if (max !== undefined)\n                cond = (0, codegen_1._) `${cond} && ${len} <= ${max}`;\n            cxt.pass(cond);\n            return;\n        }\n        it.items = true;\n        const valid = gen.name(\"valid\");\n        if (max === undefined && min === 1) {\n            validateItems(valid, () => gen.if(valid, () => gen.break()));\n        }\n        else if (min === 0) {\n            gen.let(valid, true);\n            if (max !== undefined)\n                gen.if((0, codegen_1._) `${data}.length > 0`, validateItemsWithCount);\n        }\n        else {\n            gen.let(valid, false);\n            validateItemsWithCount();\n        }\n        cxt.result(valid, () => cxt.reset());\n        function validateItemsWithCount() {\n            const schValid = gen.name(\"_valid\");\n            const count = gen.let(\"count\", 0);\n            validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)));\n        }\n        function validateItems(_valid, block) {\n            gen.forRange(\"i\", 0, len, (i) => {\n                cxt.subschema({\n                    keyword: \"contains\",\n                    dataProp: i,\n                    dataPropType: util_1.Type.Num,\n                    compositeRule: true,\n                }, _valid);\n                block();\n            });\n        }\n        function checkLimits(count) {\n            gen.code((0, codegen_1._) `${count}++`);\n            if (max === undefined) {\n                gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true).break());\n            }\n            else {\n                gen.if((0, codegen_1._) `${count} > ${max}`, () => gen.assign(valid, false).break());\n                if (min === 1)\n                    gen.assign(valid, true);\n                else\n                    gen.if((0, codegen_1._) `${count} >= ${min}`, () => gen.assign(valid, true));\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=contains.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params }) => (0, codegen_1.str) `must match \"${params.ifClause}\" schema`,\n    params: ({ params }) => (0, codegen_1._) `{failingKeyword: ${params.ifClause}}`,\n};\nconst def = {\n    keyword: \"if\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, parentSchema, it } = cxt;\n        if (parentSchema.then === undefined && parentSchema.else === undefined) {\n            (0, util_1.checkStrictMode)(it, '\"if\" without \"then\" and \"else\" is ignored');\n        }\n        const hasThen = hasSchema(it, \"then\");\n        const hasElse = hasSchema(it, \"else\");\n        if (!hasThen && !hasElse)\n            return;\n        const valid = gen.let(\"valid\", true);\n        const schValid = gen.name(\"_valid\");\n        validateIf();\n        cxt.reset();\n        if (hasThen && hasElse) {\n            const ifClause = gen.let(\"ifClause\");\n            cxt.setParams({ ifClause });\n            gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause));\n        }\n        else if (hasThen) {\n            gen.if(schValid, validateClause(\"then\"));\n        }\n        else {\n            gen.if((0, codegen_1.not)(schValid), validateClause(\"else\"));\n        }\n        cxt.pass(valid, () => cxt.error(true));\n        function validateIf() {\n            const schCxt = cxt.subschema({\n                keyword: \"if\",\n                compositeRule: true,\n                createErrors: false,\n                allErrors: false,\n            }, schValid);\n            cxt.mergeEvaluated(schCxt);\n        }\n        function validateClause(keyword, ifClause) {\n            return () => {\n                const schCxt = cxt.subschema({ keyword }, schValid);\n                gen.assign(valid, schValid);\n                cxt.mergeValidEvaluated(schCxt, valid);\n                if (ifClause)\n                    gen.assign(ifClause, (0, codegen_1._) `${keyword}`);\n                else\n                    cxt.setParams({ ifClause: keyword });\n            };\n        }\n    },\n};\nfunction hasSchema(it, keyword) {\n    const schema = it.schema[keyword];\n    return schema !== undefined && !(0, util_1.alwaysValidSchema)(it, schema);\n}\nexports.default = def;\n//# sourceMappingURL=if.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst additionalItems_1 = require(\"./additionalItems\");\nconst prefixItems_1 = require(\"./prefixItems\");\nconst items_1 = require(\"./items\");\nconst items2020_1 = require(\"./items2020\");\nconst contains_1 = require(\"./contains\");\nconst dependencies_1 = require(\"./dependencies\");\nconst propertyNames_1 = require(\"./propertyNames\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst properties_1 = require(\"./properties\");\nconst patternProperties_1 = require(\"./patternProperties\");\nconst not_1 = require(\"./not\");\nconst anyOf_1 = require(\"./anyOf\");\nconst oneOf_1 = require(\"./oneOf\");\nconst allOf_1 = require(\"./allOf\");\nconst if_1 = require(\"./if\");\nconst thenElse_1 = require(\"./thenElse\");\nfunction getApplicator(draft2020 = false) {\n    const applicator = [\n        // any\n        not_1.default,\n        anyOf_1.default,\n        oneOf_1.default,\n        allOf_1.default,\n        if_1.default,\n        thenElse_1.default,\n        // object\n        propertyNames_1.default,\n        additionalProperties_1.default,\n        dependencies_1.default,\n        properties_1.default,\n        patternProperties_1.default,\n    ];\n    // array\n    if (draft2020)\n        applicator.push(prefixItems_1.default, items2020_1.default);\n    else\n        applicator.push(additionalItems_1.default, items_1.default);\n    applicator.push(contains_1.default);\n    return applicator;\n}\nexports.default = getApplicator;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateTuple = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"array\", \"boolean\"],\n    before: \"uniqueItems\",\n    code(cxt) {\n        const { schema, it } = cxt;\n        if (Array.isArray(schema))\n            return validateTuple(cxt, \"additionalItems\", schema);\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nfunction validateTuple(cxt, extraItems, schArr = cxt.schema) {\n    const { gen, parentSchema, data, keyword, it } = cxt;\n    checkStrictTuple(parentSchema);\n    if (it.opts.unevaluated && schArr.length && it.items !== true) {\n        it.items = util_1.mergeEvaluated.items(gen, schArr.length, it.items);\n    }\n    const valid = gen.name(\"valid\");\n    const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n    schArr.forEach((sch, i) => {\n        if ((0, util_1.alwaysValidSchema)(it, sch))\n            return;\n        gen.if((0, codegen_1._) `${len} > ${i}`, () => cxt.subschema({\n            keyword,\n            schemaProp: i,\n            dataProp: i,\n        }, valid));\n        cxt.ok(valid);\n    });\n    function checkStrictTuple(sch) {\n        const { opts, errSchemaPath } = it;\n        const l = schArr.length;\n        const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false);\n        if (opts.strictTuples && !fullTuple) {\n            const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`;\n            (0, util_1.checkStrictMode)(it, msg, opts.strictTuples);\n        }\n    }\n}\nexports.validateTuple = validateTuple;\nexports.default = def;\n//# sourceMappingURL=items.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nconst additionalItems_1 = require(\"./additionalItems\");\nconst error = {\n    message: ({ params: { len } }) => (0, codegen_1.str) `must NOT have more than ${len} items`,\n    params: ({ params: { len } }) => (0, codegen_1._) `{limit: ${len}}`,\n};\nconst def = {\n    keyword: \"items\",\n    type: \"array\",\n    schemaType: [\"object\", \"boolean\"],\n    before: \"uniqueItems\",\n    error,\n    code(cxt) {\n        const { schema, parentSchema, it } = cxt;\n        const { prefixItems } = parentSchema;\n        it.items = true;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        if (prefixItems)\n            (0, additionalItems_1.validateAdditionalItems)(cxt, prefixItems);\n        else\n            cxt.ok((0, code_1.validateArray)(cxt));\n    },\n};\nexports.default = def;\n//# sourceMappingURL=items2020.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"not\",\n    schemaType: [\"object\", \"boolean\"],\n    trackErrors: true,\n    code(cxt) {\n        const { gen, schema, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema)) {\n            cxt.fail();\n            return;\n        }\n        const valid = gen.name(\"valid\");\n        cxt.subschema({\n            keyword: \"not\",\n            compositeRule: true,\n            createErrors: false,\n            allErrors: false,\n        }, valid);\n        cxt.failResult(valid, () => cxt.reset(), () => cxt.error());\n    },\n    error: { message: \"must NOT be valid\" },\n};\nexports.default = def;\n//# sourceMappingURL=not.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"must match exactly one schema in oneOf\",\n    params: ({ params }) => (0, codegen_1._) `{passingSchemas: ${params.passing}}`,\n};\nconst def = {\n    keyword: \"oneOf\",\n    schemaType: \"array\",\n    trackErrors: true,\n    error,\n    code(cxt) {\n        const { gen, schema, parentSchema, it } = cxt;\n        /* istanbul ignore if */\n        if (!Array.isArray(schema))\n            throw new Error(\"ajv implementation error\");\n        if (it.opts.discriminator && parentSchema.discriminator)\n            return;\n        const schArr = schema;\n        const valid = gen.let(\"valid\", false);\n        const passing = gen.let(\"passing\", null);\n        const schValid = gen.name(\"_valid\");\n        cxt.setParams({ passing });\n        // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n        gen.block(validateOneOf);\n        cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n        function validateOneOf() {\n            schArr.forEach((sch, i) => {\n                let schCxt;\n                if ((0, util_1.alwaysValidSchema)(it, sch)) {\n                    gen.var(schValid, true);\n                }\n                else {\n                    schCxt = cxt.subschema({\n                        keyword: \"oneOf\",\n                        schemaProp: i,\n                        compositeRule: true,\n                    }, schValid);\n                }\n                if (i > 0) {\n                    gen\n                        .if((0, codegen_1._) `${schValid} && ${valid}`)\n                        .assign(valid, false)\n                        .assign(passing, (0, codegen_1._) `[${passing}, ${i}]`)\n                        .else();\n                }\n                gen.if(schValid, () => {\n                    gen.assign(valid, true);\n                    gen.assign(passing, i);\n                    if (schCxt)\n                        cxt.mergeEvaluated(schCxt, codegen_1.Name);\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=oneOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst util_2 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"patternProperties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, data, parentSchema, it } = cxt;\n        const { opts } = it;\n        const patterns = (0, code_1.allSchemaProperties)(schema);\n        const alwaysValidPatterns = patterns.filter((p) => (0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (patterns.length === 0 ||\n            (alwaysValidPatterns.length === patterns.length &&\n                (!it.opts.unevaluated || it.props === true))) {\n            return;\n        }\n        const checkProperties = opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties;\n        const valid = gen.name(\"valid\");\n        if (it.props !== true && !(it.props instanceof codegen_1.Name)) {\n            it.props = (0, util_2.evaluatedPropsToName)(gen, it.props);\n        }\n        const { props } = it;\n        validatePatternProperties();\n        function validatePatternProperties() {\n            for (const pat of patterns) {\n                if (checkProperties)\n                    checkMatchingProperties(pat);\n                if (it.allErrors) {\n                    validateProperties(pat);\n                }\n                else {\n                    gen.var(valid, true); // TODO var\n                    validateProperties(pat);\n                    gen.if(valid);\n                }\n            }\n        }\n        function checkMatchingProperties(pat) {\n            for (const prop in checkProperties) {\n                if (new RegExp(pat).test(prop)) {\n                    (0, util_1.checkStrictMode)(it, `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`);\n                }\n            }\n        }\n        function validateProperties(pat) {\n            gen.forIn(\"key\", data, (key) => {\n                gen.if((0, codegen_1._) `${(0, code_1.usePattern)(cxt, pat)}.test(${key})`, () => {\n                    const alwaysValid = alwaysValidPatterns.includes(pat);\n                    if (!alwaysValid) {\n                        cxt.subschema({\n                            keyword: \"patternProperties\",\n                            schemaProp: pat,\n                            dataProp: key,\n                            dataPropType: util_2.Type.Str,\n                        }, valid);\n                    }\n                    if (it.opts.unevaluated && props !== true) {\n                        gen.assign((0, codegen_1._) `${props}[${key}]`, true);\n                    }\n                    else if (!alwaysValid && !it.allErrors) {\n                        // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n                        // or if all properties were evaluated (props === true)\n                        gen.if((0, codegen_1.not)(valid), () => gen.break());\n                    }\n                });\n            });\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=patternProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst items_1 = require(\"./items\");\nconst def = {\n    keyword: \"prefixItems\",\n    type: \"array\",\n    schemaType: [\"array\"],\n    before: \"uniqueItems\",\n    code: (cxt) => (0, items_1.validateTuple)(cxt, \"items\"),\n};\nexports.default = def;\n//# sourceMappingURL=prefixItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst validate_1 = require(\"../../compile/validate\");\nconst code_1 = require(\"../code\");\nconst util_1 = require(\"../../compile/util\");\nconst additionalProperties_1 = require(\"./additionalProperties\");\nconst def = {\n    keyword: \"properties\",\n    type: \"object\",\n    schemaType: \"object\",\n    code(cxt) {\n        const { gen, schema, parentSchema, data, it } = cxt;\n        if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n            additionalProperties_1.default.code(new validate_1.KeywordCxt(it, additionalProperties_1.default, \"additionalProperties\"));\n        }\n        const allProps = (0, code_1.allSchemaProperties)(schema);\n        for (const prop of allProps) {\n            it.definedProperties.add(prop);\n        }\n        if (it.opts.unevaluated && allProps.length && it.props !== true) {\n            it.props = util_1.mergeEvaluated.props(gen, (0, util_1.toHash)(allProps), it.props);\n        }\n        const properties = allProps.filter((p) => !(0, util_1.alwaysValidSchema)(it, schema[p]));\n        if (properties.length === 0)\n            return;\n        const valid = gen.name(\"valid\");\n        for (const prop of properties) {\n            if (hasDefault(prop)) {\n                applyPropertySchema(prop);\n            }\n            else {\n                gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties));\n                applyPropertySchema(prop);\n                if (!it.allErrors)\n                    gen.else().var(valid, true);\n                gen.endIf();\n            }\n            cxt.it.definedProperties.add(prop);\n            cxt.ok(valid);\n        }\n        function hasDefault(prop) {\n            return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined;\n        }\n        function applyPropertySchema(prop) {\n            cxt.subschema({\n                keyword: \"properties\",\n                schemaProp: prop,\n                dataProp: prop,\n            }, valid);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=properties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: \"property name must be valid\",\n    params: ({ params }) => (0, codegen_1._) `{propertyName: ${params.propertyName}}`,\n};\nconst def = {\n    keyword: \"propertyNames\",\n    type: \"object\",\n    schemaType: [\"object\", \"boolean\"],\n    error,\n    code(cxt) {\n        const { gen, schema, data, it } = cxt;\n        if ((0, util_1.alwaysValidSchema)(it, schema))\n            return;\n        const valid = gen.name(\"valid\");\n        gen.forIn(\"key\", data, (key) => {\n            cxt.setParams({ propertyName: key });\n            cxt.subschema({\n                keyword: \"propertyNames\",\n                data: key,\n                dataTypes: [\"string\"],\n                propertyName: key,\n                compositeRule: true,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), () => {\n                cxt.error(true);\n                if (!it.allErrors)\n                    gen.break();\n            });\n        });\n        cxt.ok(valid);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=propertyNames.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: [\"then\", \"else\"],\n    schemaType: [\"object\", \"boolean\"],\n    code({ keyword, parentSchema, it }) {\n        if (parentSchema.if === undefined)\n            (0, util_1.checkStrictMode)(it, `\"${keyword}\" without \"if\" is ignored`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=thenElse.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateUnion = exports.validateArray = exports.usePattern = exports.callValidateCode = exports.schemaProperties = exports.allSchemaProperties = exports.noPropertyInData = exports.propertyInData = exports.isOwnProperty = exports.hasPropFunc = exports.reportMissingProp = exports.checkMissingProp = exports.checkReportMissingProp = void 0;\nconst codegen_1 = require(\"../compile/codegen\");\nconst util_1 = require(\"../compile/util\");\nconst names_1 = require(\"../compile/names\");\nconst util_2 = require(\"../compile/util\");\nfunction checkReportMissingProp(cxt, prop) {\n    const { gen, data, it } = cxt;\n    gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n        cxt.setParams({ missingProperty: (0, codegen_1._) `${prop}` }, true);\n        cxt.error();\n    });\n}\nexports.checkReportMissingProp = checkReportMissingProp;\nfunction checkMissingProp({ gen, data, it: { opts } }, properties, missing) {\n    return (0, codegen_1.or)(...properties.map((prop) => (0, codegen_1.and)(noPropertyInData(gen, data, prop, opts.ownProperties), (0, codegen_1._) `${missing} = ${prop}`)));\n}\nexports.checkMissingProp = checkMissingProp;\nfunction reportMissingProp(cxt, missing) {\n    cxt.setParams({ missingProperty: missing }, true);\n    cxt.error();\n}\nexports.reportMissingProp = reportMissingProp;\nfunction hasPropFunc(gen) {\n    return gen.scopeValue(\"func\", {\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        ref: Object.prototype.hasOwnProperty,\n        code: (0, codegen_1._) `Object.prototype.hasOwnProperty`,\n    });\n}\nexports.hasPropFunc = hasPropFunc;\nfunction isOwnProperty(gen, data, property) {\n    return (0, codegen_1._) `${hasPropFunc(gen)}.call(${data}, ${property})`;\n}\nexports.isOwnProperty = isOwnProperty;\nfunction propertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} !== undefined`;\n    return ownProperties ? (0, codegen_1._) `${cond} && ${isOwnProperty(gen, data, property)}` : cond;\n}\nexports.propertyInData = propertyInData;\nfunction noPropertyInData(gen, data, property, ownProperties) {\n    const cond = (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(property)} === undefined`;\n    return ownProperties ? (0, codegen_1.or)(cond, (0, codegen_1.not)(isOwnProperty(gen, data, property))) : cond;\n}\nexports.noPropertyInData = noPropertyInData;\nfunction allSchemaProperties(schemaMap) {\n    return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : [];\n}\nexports.allSchemaProperties = allSchemaProperties;\nfunction schemaProperties(it, schemaMap) {\n    return allSchemaProperties(schemaMap).filter((p) => !(0, util_1.alwaysValidSchema)(it, schemaMap[p]));\n}\nexports.schemaProperties = schemaProperties;\nfunction callValidateCode({ schemaCode, data, it: { gen, topSchemaRef, schemaPath, errorPath }, it }, func, context, passSchema) {\n    const dataAndSchema = passSchema ? (0, codegen_1._) `${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data;\n    const valCxt = [\n        [names_1.default.instancePath, (0, codegen_1.strConcat)(names_1.default.instancePath, errorPath)],\n        [names_1.default.parentData, it.parentData],\n        [names_1.default.parentDataProperty, it.parentDataProperty],\n        [names_1.default.rootData, names_1.default.rootData],\n    ];\n    if (it.opts.dynamicRef)\n        valCxt.push([names_1.default.dynamicAnchors, names_1.default.dynamicAnchors]);\n    const args = (0, codegen_1._) `${dataAndSchema}, ${gen.object(...valCxt)}`;\n    return context !== codegen_1.nil ? (0, codegen_1._) `${func}.call(${context}, ${args})` : (0, codegen_1._) `${func}(${args})`;\n}\nexports.callValidateCode = callValidateCode;\nconst newRegExp = (0, codegen_1._) `new RegExp`;\nfunction usePattern({ gen, it: { opts } }, pattern) {\n    const u = opts.unicodeRegExp ? \"u\" : \"\";\n    const { regExp } = opts.code;\n    const rx = regExp(pattern, u);\n    return gen.scopeValue(\"pattern\", {\n        key: rx.toString(),\n        ref: rx,\n        code: (0, codegen_1._) `${regExp.code === \"new RegExp\" ? newRegExp : (0, util_2.useFunc)(gen, regExp)}(${pattern}, ${u})`,\n    });\n}\nexports.usePattern = usePattern;\nfunction validateArray(cxt) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    if (it.allErrors) {\n        const validArr = gen.let(\"valid\", true);\n        validateItems(() => gen.assign(validArr, false));\n        return validArr;\n    }\n    gen.var(valid, true);\n    validateItems(() => gen.break());\n    return valid;\n    function validateItems(notValid) {\n        const len = gen.const(\"len\", (0, codegen_1._) `${data}.length`);\n        gen.forRange(\"i\", 0, len, (i) => {\n            cxt.subschema({\n                keyword,\n                dataProp: i,\n                dataPropType: util_1.Type.Num,\n            }, valid);\n            gen.if((0, codegen_1.not)(valid), notValid);\n        });\n    }\n}\nexports.validateArray = validateArray;\nfunction validateUnion(cxt) {\n    const { gen, schema, keyword, it } = cxt;\n    /* istanbul ignore if */\n    if (!Array.isArray(schema))\n        throw new Error(\"ajv implementation error\");\n    const alwaysValid = schema.some((sch) => (0, util_1.alwaysValidSchema)(it, sch));\n    if (alwaysValid && !it.opts.unevaluated)\n        return;\n    const valid = gen.let(\"valid\", false);\n    const schValid = gen.name(\"_valid\");\n    gen.block(() => schema.forEach((_sch, i) => {\n        const schCxt = cxt.subschema({\n            keyword,\n            schemaProp: i,\n            compositeRule: true,\n        }, schValid);\n        gen.assign(valid, (0, codegen_1._) `${valid} || ${schValid}`);\n        const merged = cxt.mergeValidEvaluated(schCxt, schValid);\n        // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n        // or if all properties and items were evaluated (it.props === true && it.items === true)\n        if (!merged)\n            gen.if((0, codegen_1.not)(valid));\n    }));\n    cxt.result(valid, () => cxt.reset(), () => cxt.error(true));\n}\nexports.validateUnion = validateUnion;\n//# sourceMappingURL=code.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst def = {\n    keyword: \"id\",\n    code() {\n        throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID');\n    },\n};\nexports.default = def;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst id_1 = require(\"./id\");\nconst ref_1 = require(\"./ref\");\nconst core = [\n    \"$schema\",\n    \"$id\",\n    \"$defs\",\n    \"$vocabulary\",\n    { keyword: \"$comment\" },\n    \"definitions\",\n    id_1.default,\n    ref_1.default,\n];\nexports.default = core;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.callRef = exports.getValidate = void 0;\nconst ref_error_1 = require(\"../../compile/ref_error\");\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst names_1 = require(\"../../compile/names\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst def = {\n    keyword: \"$ref\",\n    schemaType: \"string\",\n    code(cxt) {\n        const { gen, schema: $ref, it } = cxt;\n        const { baseId, schemaEnv: env, validateName, opts, self } = it;\n        const { root } = env;\n        if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId)\n            return callRootRef();\n        const schOrEnv = compile_1.resolveRef.call(self, root, baseId, $ref);\n        if (schOrEnv === undefined)\n            throw new ref_error_1.default(it.opts.uriResolver, baseId, $ref);\n        if (schOrEnv instanceof compile_1.SchemaEnv)\n            return callValidate(schOrEnv);\n        return inlineRefSchema(schOrEnv);\n        function callRootRef() {\n            if (env === root)\n                return callRef(cxt, validateName, env, env.$async);\n            const rootName = gen.scopeValue(\"root\", { ref: root });\n            return callRef(cxt, (0, codegen_1._) `${rootName}.validate`, root, root.$async);\n        }\n        function callValidate(sch) {\n            const v = getValidate(cxt, sch);\n            callRef(cxt, v, sch, sch.$async);\n        }\n        function inlineRefSchema(sch) {\n            const schName = gen.scopeValue(\"schema\", opts.code.source === true ? { ref: sch, code: (0, codegen_1.stringify)(sch) } : { ref: sch });\n            const valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({\n                schema: sch,\n                dataTypes: [],\n                schemaPath: codegen_1.nil,\n                topSchemaRef: schName,\n                errSchemaPath: $ref,\n            }, valid);\n            cxt.mergeEvaluated(schCxt);\n            cxt.ok(valid);\n        }\n    },\n};\nfunction getValidate(cxt, sch) {\n    const { gen } = cxt;\n    return sch.validate\n        ? gen.scopeValue(\"validate\", { ref: sch.validate })\n        : (0, codegen_1._) `${gen.scopeValue(\"wrapper\", { ref: sch })}.validate`;\n}\nexports.getValidate = getValidate;\nfunction callRef(cxt, v, sch, $async) {\n    const { gen, it } = cxt;\n    const { allErrors, schemaEnv: env, opts } = it;\n    const passCxt = opts.passContext ? names_1.default.this : codegen_1.nil;\n    if ($async)\n        callAsyncRef();\n    else\n        callSyncRef();\n    function callAsyncRef() {\n        if (!env.$async)\n            throw new Error(\"async schema referenced by sync schema\");\n        const valid = gen.let(\"valid\");\n        gen.try(() => {\n            gen.code((0, codegen_1._) `await ${(0, code_1.callValidateCode)(cxt, v, passCxt)}`);\n            addEvaluatedFrom(v); // TODO will not work with async, it has to be returned with the result\n            if (!allErrors)\n                gen.assign(valid, true);\n        }, (e) => {\n            gen.if((0, codegen_1._) `!(${e} instanceof ${it.ValidationError})`, () => gen.throw(e));\n            addErrorsFrom(e);\n            if (!allErrors)\n                gen.assign(valid, false);\n        });\n        cxt.ok(valid);\n    }\n    function callSyncRef() {\n        cxt.result((0, code_1.callValidateCode)(cxt, v, passCxt), () => addEvaluatedFrom(v), () => addErrorsFrom(v));\n    }\n    function addErrorsFrom(source) {\n        const errs = (0, codegen_1._) `${source}.errors`;\n        gen.assign(names_1.default.vErrors, (0, codegen_1._) `${names_1.default.vErrors} === null ? ${errs} : ${names_1.default.vErrors}.concat(${errs})`); // TODO tagged\n        gen.assign(names_1.default.errors, (0, codegen_1._) `${names_1.default.vErrors}.length`);\n    }\n    function addEvaluatedFrom(source) {\n        var _a;\n        if (!it.opts.unevaluated)\n            return;\n        const schEvaluated = (_a = sch === null || sch === void 0 ? void 0 : sch.validate) === null || _a === void 0 ? void 0 : _a.evaluated;\n        // TODO refactor\n        if (it.props !== true) {\n            if (schEvaluated && !schEvaluated.dynamicProps) {\n                if (schEvaluated.props !== undefined) {\n                    it.props = util_1.mergeEvaluated.props(gen, schEvaluated.props, it.props);\n                }\n            }\n            else {\n                const props = gen.var(\"props\", (0, codegen_1._) `${source}.evaluated.props`);\n                it.props = util_1.mergeEvaluated.props(gen, props, it.props, codegen_1.Name);\n            }\n        }\n        if (it.items !== true) {\n            if (schEvaluated && !schEvaluated.dynamicItems) {\n                if (schEvaluated.items !== undefined) {\n                    it.items = util_1.mergeEvaluated.items(gen, schEvaluated.items, it.items);\n                }\n            }\n            else {\n                const items = gen.var(\"items\", (0, codegen_1._) `${source}.evaluated.items`);\n                it.items = util_1.mergeEvaluated.items(gen, items, it.items, codegen_1.Name);\n            }\n        }\n    }\n}\nexports.callRef = callRef;\nexports.default = def;\n//# sourceMappingURL=ref.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst types_1 = require(\"../discriminator/types\");\nconst compile_1 = require(\"../../compile\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { discrError, tagName } }) => discrError === types_1.DiscrError.Tag\n        ? `tag \"${tagName}\" must be string`\n        : `value of tag \"${tagName}\" must be in oneOf`,\n    params: ({ params: { discrError, tag, tagName } }) => (0, codegen_1._) `{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n};\nconst def = {\n    keyword: \"discriminator\",\n    type: \"object\",\n    schemaType: \"object\",\n    error,\n    code(cxt) {\n        const { gen, data, schema, parentSchema, it } = cxt;\n        const { oneOf } = parentSchema;\n        if (!it.opts.discriminator) {\n            throw new Error(\"discriminator: requires discriminator option\");\n        }\n        const tagName = schema.propertyName;\n        if (typeof tagName != \"string\")\n            throw new Error(\"discriminator: requires propertyName\");\n        if (schema.mapping)\n            throw new Error(\"discriminator: mapping is not supported\");\n        if (!oneOf)\n            throw new Error(\"discriminator: requires oneOf keyword\");\n        const valid = gen.let(\"valid\", false);\n        const tag = gen.const(\"tag\", (0, codegen_1._) `${data}${(0, codegen_1.getProperty)(tagName)}`);\n        gen.if((0, codegen_1._) `typeof ${tag} == \"string\"`, () => validateMapping(), () => cxt.error(false, { discrError: types_1.DiscrError.Tag, tag, tagName }));\n        cxt.ok(valid);\n        function validateMapping() {\n            const mapping = getMapping();\n            gen.if(false);\n            for (const tagValue in mapping) {\n                gen.elseIf((0, codegen_1._) `${tag} === ${tagValue}`);\n                gen.assign(valid, applyTagSchema(mapping[tagValue]));\n            }\n            gen.else();\n            cxt.error(false, { discrError: types_1.DiscrError.Mapping, tag, tagName });\n            gen.endIf();\n        }\n        function applyTagSchema(schemaProp) {\n            const _valid = gen.name(\"valid\");\n            const schCxt = cxt.subschema({ keyword: \"oneOf\", schemaProp }, _valid);\n            cxt.mergeEvaluated(schCxt, codegen_1.Name);\n            return _valid;\n        }\n        function getMapping() {\n            var _a;\n            const oneOfMapping = {};\n            const topRequired = hasRequired(parentSchema);\n            let tagRequired = true;\n            for (let i = 0; i < oneOf.length; i++) {\n                let sch = oneOf[i];\n                if ((sch === null || sch === void 0 ? void 0 : sch.$ref) && !(0, util_1.schemaHasRulesButRef)(sch, it.self.RULES)) {\n                    sch = compile_1.resolveRef.call(it.self, it.schemaEnv.root, it.baseId, sch === null || sch === void 0 ? void 0 : sch.$ref);\n                    if (sch instanceof compile_1.SchemaEnv)\n                        sch = sch.schema;\n                }\n                const propSch = (_a = sch === null || sch === void 0 ? void 0 : sch.properties) === null || _a === void 0 ? void 0 : _a[tagName];\n                if (typeof propSch != \"object\") {\n                    throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`);\n                }\n                tagRequired = tagRequired && (topRequired || hasRequired(sch));\n                addMappings(propSch, i);\n            }\n            if (!tagRequired)\n                throw new Error(`discriminator: \"${tagName}\" must be required`);\n            return oneOfMapping;\n            function hasRequired({ required }) {\n                return Array.isArray(required) && required.includes(tagName);\n            }\n            function addMappings(sch, i) {\n                if (sch.const) {\n                    addMapping(sch.const, i);\n                }\n                else if (sch.enum) {\n                    for (const tagValue of sch.enum) {\n                        addMapping(tagValue, i);\n                    }\n                }\n                else {\n                    throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`);\n                }\n            }\n            function addMapping(tagValue, i) {\n                if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n                    throw new Error(`discriminator: \"${tagName}\" values must be unique strings`);\n                }\n                oneOfMapping[tagValue] = i;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiscrError = void 0;\nvar DiscrError;\n(function (DiscrError) {\n    DiscrError[\"Tag\"] = \"tag\";\n    DiscrError[\"Mapping\"] = \"mapping\";\n})(DiscrError = exports.DiscrError || (exports.DiscrError = {}));\n//# sourceMappingURL=types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst core_1 = require(\"./core\");\nconst validation_1 = require(\"./validation\");\nconst applicator_1 = require(\"./applicator\");\nconst format_1 = require(\"./format\");\nconst metadata_1 = require(\"./metadata\");\nconst draft7Vocabularies = [\n    core_1.default,\n    validation_1.default,\n    (0, applicator_1.default)(),\n    format_1.default,\n    metadata_1.metadataVocabulary,\n    metadata_1.contentVocabulary,\n];\nexports.default = draft7Vocabularies;\n//# sourceMappingURL=draft7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match format \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{format: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"format\",\n    type: [\"number\", \"string\"],\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt, ruleType) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        const { opts, errSchemaPath, schemaEnv, self } = it;\n        if (!opts.validateFormats)\n            return;\n        if ($data)\n            validate$DataFormat();\n        else\n            validateFormat();\n        function validate$DataFormat() {\n            const fmts = gen.scopeValue(\"formats\", {\n                ref: self.formats,\n                code: opts.code.formats,\n            });\n            const fDef = gen.const(\"fDef\", (0, codegen_1._) `${fmts}[${schemaCode}]`);\n            const fType = gen.let(\"fType\");\n            const format = gen.let(\"format\");\n            // TODO simplify\n            gen.if((0, codegen_1._) `typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`, () => gen.assign(fType, (0, codegen_1._) `${fDef}.type || \"string\"`).assign(format, (0, codegen_1._) `${fDef}.validate`), () => gen.assign(fType, (0, codegen_1._) `\"string\"`).assign(format, fDef));\n            cxt.fail$data((0, codegen_1.or)(unknownFmt(), invalidFmt()));\n            function unknownFmt() {\n                if (opts.strictSchema === false)\n                    return codegen_1.nil;\n                return (0, codegen_1._) `${schemaCode} && !${format}`;\n            }\n            function invalidFmt() {\n                const callFormat = schemaEnv.$async\n                    ? (0, codegen_1._) `(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n                    : (0, codegen_1._) `${format}(${data})`;\n                const validData = (0, codegen_1._) `(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`;\n                return (0, codegen_1._) `${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`;\n            }\n        }\n        function validateFormat() {\n            const formatDef = self.formats[schema];\n            if (!formatDef) {\n                unknownFormat();\n                return;\n            }\n            if (formatDef === true)\n                return;\n            const [fmtType, format, fmtRef] = getFormat(formatDef);\n            if (fmtType === ruleType)\n                cxt.pass(validCondition());\n            function unknownFormat() {\n                if (opts.strictSchema === false) {\n                    self.logger.warn(unknownMsg());\n                    return;\n                }\n                throw new Error(unknownMsg());\n                function unknownMsg() {\n                    return `unknown format \"${schema}\" ignored in schema at path \"${errSchemaPath}\"`;\n                }\n            }\n            function getFormat(fmtDef) {\n                const code = fmtDef instanceof RegExp\n                    ? (0, codegen_1.regexpCode)(fmtDef)\n                    : opts.code.formats\n                        ? (0, codegen_1._) `${opts.code.formats}${(0, codegen_1.getProperty)(schema)}`\n                        : undefined;\n                const fmt = gen.scopeValue(\"formats\", { key: schema, ref: fmtDef, code });\n                if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n                    return [fmtDef.type || \"string\", fmtDef.validate, (0, codegen_1._) `${fmt}.validate`];\n                }\n                return [\"string\", fmtDef, fmt];\n            }\n            function validCondition() {\n                if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n                    if (!schemaEnv.$async)\n                        throw new Error(\"async format in sync schema\");\n                    return (0, codegen_1._) `await ${fmtRef}(${data})`;\n                }\n                return typeof format == \"function\" ? (0, codegen_1._) `${fmtRef}(${data})` : (0, codegen_1._) `${fmtRef}.test(${data})`;\n            }\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst format_1 = require(\"./format\");\nconst format = [format_1.default];\nexports.default = format;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.contentVocabulary = exports.metadataVocabulary = void 0;\nexports.metadataVocabulary = [\n    \"title\",\n    \"description\",\n    \"default\",\n    \"deprecated\",\n    \"readOnly\",\n    \"writeOnly\",\n    \"examples\",\n];\nexports.contentVocabulary = [\n    \"contentMediaType\",\n    \"contentEncoding\",\n    \"contentSchema\",\n];\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to constant\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValue: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"const\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schemaCode, schema } = cxt;\n        if ($data || (schema && typeof schema == \"object\")) {\n            cxt.fail$data((0, codegen_1._) `!${(0, util_1.useFunc)(gen, equal_1.default)}(${data}, ${schemaCode})`);\n        }\n        else {\n            cxt.fail((0, codegen_1._) `${schema} !== ${data}`);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=const.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: \"must be equal to one of the allowed values\",\n    params: ({ schemaCode }) => (0, codegen_1._) `{allowedValues: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"enum\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, schemaCode, it } = cxt;\n        if (!$data && schema.length === 0)\n            throw new Error(\"enum must have non-empty array\");\n        const useLoop = schema.length >= it.opts.loopEnum;\n        let eql;\n        const getEql = () => (eql !== null && eql !== void 0 ? eql : (eql = (0, util_1.useFunc)(gen, equal_1.default)));\n        let valid;\n        if (useLoop || $data) {\n            valid = gen.let(\"valid\");\n            cxt.block$data(valid, loopEnum);\n        }\n        else {\n            /* istanbul ignore if */\n            if (!Array.isArray(schema))\n                throw new Error(\"ajv implementation error\");\n            const vSchema = gen.const(\"vSchema\", schemaCode);\n            valid = (0, codegen_1.or)(...schema.map((_x, i) => equalCode(vSchema, i)));\n        }\n        cxt.pass(valid);\n        function loopEnum() {\n            gen.assign(valid, false);\n            gen.forOf(\"v\", schemaCode, (v) => gen.if((0, codegen_1._) `${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break()));\n        }\n        function equalCode(vSchema, i) {\n            const sch = schema[i];\n            return typeof sch === \"object\" && sch !== null\n                ? (0, codegen_1._) `${getEql()}(${data}, ${vSchema}[${i}])`\n                : (0, codegen_1._) `${data} === ${sch}`;\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst limitNumber_1 = require(\"./limitNumber\");\nconst multipleOf_1 = require(\"./multipleOf\");\nconst limitLength_1 = require(\"./limitLength\");\nconst pattern_1 = require(\"./pattern\");\nconst limitProperties_1 = require(\"./limitProperties\");\nconst required_1 = require(\"./required\");\nconst limitItems_1 = require(\"./limitItems\");\nconst uniqueItems_1 = require(\"./uniqueItems\");\nconst const_1 = require(\"./const\");\nconst enum_1 = require(\"./enum\");\nconst validation = [\n    // number\n    limitNumber_1.default,\n    multipleOf_1.default,\n    // string\n    limitLength_1.default,\n    pattern_1.default,\n    // object\n    limitProperties_1.default,\n    required_1.default,\n    // array\n    limitItems_1.default,\n    uniqueItems_1.default,\n    // any\n    { keyword: \"type\", schemaType: [\"string\", \"array\"] },\n    { keyword: \"nullable\", schemaType: \"boolean\" },\n    const_1.default,\n    enum_1.default,\n];\nexports.default = validation;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} items`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxItems\", \"minItems\"],\n    type: \"array\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxItems\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `${data}.length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitItems.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst ucs2length_1 = require(\"../../runtime/ucs2length\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} characters`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxLength\", \"minLength\"],\n    type: \"string\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode, it } = cxt;\n        const op = keyword === \"maxLength\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        const len = it.opts.unicode === false ? (0, codegen_1._) `${data}.length` : (0, codegen_1._) `${(0, util_1.useFunc)(cxt.gen, ucs2length_1.default)}(${data})`;\n        cxt.fail$data((0, codegen_1._) `${len} ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitLength.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst ops = codegen_1.operators;\nconst KWDs = {\n    maximum: { okStr: \"<=\", ok: ops.LTE, fail: ops.GT },\n    minimum: { okStr: \">=\", ok: ops.GTE, fail: ops.LT },\n    exclusiveMaximum: { okStr: \"<\", ok: ops.LT, fail: ops.GTE },\n    exclusiveMinimum: { okStr: \">\", ok: ops.GT, fail: ops.LTE },\n};\nconst error = {\n    message: ({ keyword, schemaCode }) => (0, codegen_1.str) `must be ${KWDs[keyword].okStr} ${schemaCode}`,\n    params: ({ keyword, schemaCode }) => (0, codegen_1._) `{comparison: ${KWDs[keyword].okStr}, limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: Object.keys(KWDs),\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        cxt.fail$data((0, codegen_1._) `${data} ${KWDs[keyword].fail} ${schemaCode} || isNaN(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitNumber.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message({ keyword, schemaCode }) {\n        const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\";\n        return (0, codegen_1.str) `must NOT have ${comp} than ${schemaCode} properties`;\n    },\n    params: ({ schemaCode }) => (0, codegen_1._) `{limit: ${schemaCode}}`,\n};\nconst def = {\n    keyword: [\"maxProperties\", \"minProperties\"],\n    type: \"object\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { keyword, data, schemaCode } = cxt;\n        const op = keyword === \"maxProperties\" ? codegen_1.operators.GT : codegen_1.operators.LT;\n        cxt.fail$data((0, codegen_1._) `Object.keys(${data}).length ${op} ${schemaCode}`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=limitProperties.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must be multiple of ${schemaCode}`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{multipleOf: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"multipleOf\",\n    type: \"number\",\n    schemaType: \"number\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, schemaCode, it } = cxt;\n        // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n        const prec = it.opts.multipleOfPrecision;\n        const res = gen.let(\"res\");\n        const invalid = prec\n            ? (0, codegen_1._) `Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n            : (0, codegen_1._) `${res} !== parseInt(${res})`;\n        cxt.fail$data((0, codegen_1._) `(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=multipleOf.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst error = {\n    message: ({ schemaCode }) => (0, codegen_1.str) `must match pattern \"${schemaCode}\"`,\n    params: ({ schemaCode }) => (0, codegen_1._) `{pattern: ${schemaCode}}`,\n};\nconst def = {\n    keyword: \"pattern\",\n    type: \"string\",\n    schemaType: \"string\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { data, $data, schema, schemaCode, it } = cxt;\n        // TODO regexp should be wrapped in try/catchs\n        const u = it.opts.unicodeRegExp ? \"u\" : \"\";\n        const regExp = $data ? (0, codegen_1._) `(new RegExp(${schemaCode}, ${u}))` : (0, code_1.usePattern)(cxt, schema);\n        cxt.fail$data((0, codegen_1._) `!${regExp}.test(${data})`);\n    },\n};\nexports.default = def;\n//# sourceMappingURL=pattern.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code_1 = require(\"../code\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst error = {\n    message: ({ params: { missingProperty } }) => (0, codegen_1.str) `must have required property '${missingProperty}'`,\n    params: ({ params: { missingProperty } }) => (0, codegen_1._) `{missingProperty: ${missingProperty}}`,\n};\nconst def = {\n    keyword: \"required\",\n    type: \"object\",\n    schemaType: \"array\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, schema, schemaCode, data, $data, it } = cxt;\n        const { opts } = it;\n        if (!$data && schema.length === 0)\n            return;\n        const useLoop = schema.length >= opts.loopRequired;\n        if (it.allErrors)\n            allErrorsMode();\n        else\n            exitOnErrorMode();\n        if (opts.strictRequired) {\n            const props = cxt.parentSchema.properties;\n            const { definedProperties } = cxt.it;\n            for (const requiredKey of schema) {\n                if ((props === null || props === void 0 ? void 0 : props[requiredKey]) === undefined && !definedProperties.has(requiredKey)) {\n                    const schemaPath = it.schemaEnv.baseId + it.errSchemaPath;\n                    const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`;\n                    (0, util_1.checkStrictMode)(it, msg, it.opts.strictRequired);\n                }\n            }\n        }\n        function allErrorsMode() {\n            if (useLoop || $data) {\n                cxt.block$data(codegen_1.nil, loopAllRequired);\n            }\n            else {\n                for (const prop of schema) {\n                    (0, code_1.checkReportMissingProp)(cxt, prop);\n                }\n            }\n        }\n        function exitOnErrorMode() {\n            const missing = gen.let(\"missing\");\n            if (useLoop || $data) {\n                const valid = gen.let(\"valid\", true);\n                cxt.block$data(valid, () => loopUntilMissing(missing, valid));\n                cxt.ok(valid);\n            }\n            else {\n                gen.if((0, code_1.checkMissingProp)(cxt, schema, missing));\n                (0, code_1.reportMissingProp)(cxt, missing);\n                gen.else();\n            }\n        }\n        function loopAllRequired() {\n            gen.forOf(\"prop\", schemaCode, (prop) => {\n                cxt.setParams({ missingProperty: prop });\n                gen.if((0, code_1.noPropertyInData)(gen, data, prop, opts.ownProperties), () => cxt.error());\n            });\n        }\n        function loopUntilMissing(missing, valid) {\n            cxt.setParams({ missingProperty: missing });\n            gen.forOf(missing, schemaCode, () => {\n                gen.assign(valid, (0, code_1.propertyInData)(gen, data, missing, opts.ownProperties));\n                gen.if((0, codegen_1.not)(valid), () => {\n                    cxt.error();\n                    gen.break();\n                });\n            }, codegen_1.nil);\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=required.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst dataType_1 = require(\"../../compile/validate/dataType\");\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst equal_1 = require(\"../../runtime/equal\");\nconst error = {\n    message: ({ params: { i, j } }) => (0, codegen_1.str) `must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n    params: ({ params: { i, j } }) => (0, codegen_1._) `{i: ${i}, j: ${j}}`,\n};\nconst def = {\n    keyword: \"uniqueItems\",\n    type: \"array\",\n    schemaType: \"boolean\",\n    $data: true,\n    error,\n    code(cxt) {\n        const { gen, data, $data, schema, parentSchema, schemaCode, it } = cxt;\n        if (!$data && !schema)\n            return;\n        const valid = gen.let(\"valid\");\n        const itemTypes = parentSchema.items ? (0, dataType_1.getSchemaTypes)(parentSchema.items) : [];\n        cxt.block$data(valid, validateUniqueItems, (0, codegen_1._) `${schemaCode} === false`);\n        cxt.ok(valid);\n        function validateUniqueItems() {\n            const i = gen.let(\"i\", (0, codegen_1._) `${data}.length`);\n            const j = gen.let(\"j\");\n            cxt.setParams({ i, j });\n            gen.assign(valid, true);\n            gen.if((0, codegen_1._) `${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j));\n        }\n        function canOptimize() {\n            return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\");\n        }\n        function loopN(i, j) {\n            const item = gen.name(\"item\");\n            const wrongType = (0, dataType_1.checkDataTypes)(itemTypes, item, it.opts.strictNumbers, dataType_1.DataType.Wrong);\n            const indices = gen.const(\"indices\", (0, codegen_1._) `{}`);\n            gen.for((0, codegen_1._) `;${i}--;`, () => {\n                gen.let(item, (0, codegen_1._) `${data}[${i}]`);\n                gen.if(wrongType, (0, codegen_1._) `continue`);\n                if (itemTypes.length > 1)\n                    gen.if((0, codegen_1._) `typeof ${item} == \"string\"`, (0, codegen_1._) `${item} += \"_\"`);\n                gen\n                    .if((0, codegen_1._) `typeof ${indices}[${item}] == \"number\"`, () => {\n                    gen.assign(j, (0, codegen_1._) `${indices}[${item}]`);\n                    cxt.error();\n                    gen.assign(valid, false).break();\n                })\n                    .code((0, codegen_1._) `${indices}[${item}] = ${i}`);\n            });\n        }\n        function loopN2(i, j) {\n            const eql = (0, util_1.useFunc)(gen, equal_1.default);\n            const outer = gen.name(\"outer\");\n            gen.label(outer).for((0, codegen_1._) `;${i}--;`, () => gen.for((0, codegen_1._) `${j} = ${i}; ${j}--;`, () => gen.if((0, codegen_1._) `${eql}(${data}[${i}], ${data}[${j}])`, () => {\n                cxt.error();\n                gen.assign(valid, false).break(outer);\n            })));\n        }\n    },\n};\nexports.default = def;\n//# sourceMappingURL=uniqueItems.js.map","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict'\n\n/**\n * box-box collision\n * @param {number} x1 top-left corner of first box\n * @param {number} y1 top-left corner of first box\n * @param {number} w1 width of first box\n * @param {number} h1 height of first box\n * @param {number} x2 top-left corner of second box\n * @param {number} y2 top-left corner of second box\n * @param {number} w2 width of second box\n * @param {number} h2 height of second box\n */\nmodule.exports = function boxBox(x1, y1, w1, h1, x2, y2, w2, h2)\n{\n    return x1 < x2 + w2 && x1 + w1 > x2 && y1 < y2 + h2 && y1 + h1 > y2\n}\n","'use strict'\n\n/**\n * box-circle collision\n * @param {number} xb top-left corner of box\n * @param {number} yb top-left corner of box\n * @param {number} wb width of box\n * @param {number} hb height of box\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {number} rc radius of circle\n */\nmodule.exports = function boxCircle(xb, yb, wb, hb, xc, yc, rc)\n{\n    var hw = wb / 2\n    var hh = hb / 2\n    var distX = Math.abs(xc - (xb + wb / 2))\n    var distY = Math.abs(yc - (yb + hb / 2))\n\n    if (distX > hw + rc || distY > hh + rc)\n    {\n        return false\n    }\n\n    if (distX <= hw || distY <= hh)\n    {\n        return true\n    }\n\n    var x = distX - hw\n    var y = distY - hh\n    return x * x + y * y <= rc * rc\n}\n","var circleOutlineBox = require('./circleOutline-box')\n\n/**\n * circleOutline-box (axis-aligned) collision\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} x top-left corner of box\n * @param {number} y top-left corner of box\n * @param {number} width of box\n * @param {number} height of box\n * @param {number} thickness of circle outline\n */\nmodule.exports = function boxCircleOutline(x, y, width, height, xc, yc, rc, thickness)\n{\n    return circleOutlineBox(xc, yc, rc, x, y, width, height, thickness)\n}","var ellipseBox = require('./ellipse-box')\n\n/**\n * box-ellipse (axis-oriented rectangle) collision\n * @param {number} xb top-left corner of rectangle\n * @param {number} yb top-left corner of rectangle\n * @param {number} wb width of rectangle\n * @param {number} hb height of rectangle\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {radius} rex radius-x of ellipse\n * @param {radius} rey radius-y of ellipse\n */\nmodule.exports = function boxEllipse(xb, yb, wb, hb, xe, ye, rex, rey)\n{\n    return ellipseBox(xe, ye, rex, rey, xb, yb, wb, hb)\n}","'use strict'\n\nvar lineBox = require('./line-box')\n\n/**\n * box-line collision\n * @param {number} xb top-left corner of box\n * @param {number} yb top-left corner of box\n * @param {number} wb width of box\n * @param {number} hb height of box\n * @param {number} x1 first point of line\n * @param {number} y1 first point of line\n * @param {number} x2 second point of line\n * @param {number} y2 second point of line\n */\nmodule.exports = function boxLine(xb, yb, wb, hb, x1, y1, x2, y2)\n{\n    return lineBox(x1, y1, x2, y2, xb, yb, wb, hb)\n}\n","'use strict'\n\n/**\n * box-point collision\n * @param {number} x1 top-left corner of box\n * @param {number} y1 top-left corner of box\n * @param {number} w1 width of box\n * @param {number} h1 height of box\n * @param {number} x2 of point\n * @param {number} y2 of point\n * @return {boolean}\n */\nmodule.exports = function boxPoint(x1, y1, w1, h1, x2, y2)\n{\n    return x2 >= x1 && x2 <= x1 + w1 && y2 >= y1 && y2 <= y1 + h1\n}\n","'use strict'\n\nvar polygonBox = require('./polygon-box')\n\n/**\n * box-polygon collision\n * @param {number} xb top-left corner of box\n * @param {number} yb top-left corner of box\n * @param {number} wb width of box\n * @param {number} hb height of box\n * @param {number[]} points of polygon\n */\nmodule.exports = function boxPolygon(xb, yb, wb, hb, points)\n{\n    return polygonBox(points, xb, yb, wb, hb)\n}\n","'use strict'\n\nvar boxCircle = require('./box-circle')\n\n/**\n * circle-box (axis-oriented rectangle) collision\n * from http://stackoverflow.com/a/402010/1955997\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} xb top-left corner of rectangle\n * @param {number} yb top-left corner of rectangle\n * @param {number} wb width of rectangle\n * @param {number} hb height of rectangle\n */\nmodule.exports = function circleBox(xc, yc, rc, xb, yb, wb, hb)\n{\n    return boxCircle(xb, yb, wb, hb, xc, yc, rc)\n}\n","'use strict'\n\n/**\n * circle-circle collision\n * @param {number} x1 center of circle 1\n * @param {number} y1 center of circle 1\n * @param {number} r1 radius of circle 1\n * @param {number} x2 center of circle 2\n * @param {number} y2 center of circle 2\n * @param {number} r2 radius of circle 2\n * @return {boolean}\n */\nmodule.exports = function circleCircle(x1, y1, r1, x2, y2, r2)\n{\n    var x = x1 - x2\n    var y = y2 - y1\n    var radii = r1 + r2\n    return x * x + y * y <= radii * radii\n}\n","var ellipseCircle = require('./ellipse-circle')\n\n/**\n * circle-ellipse collision\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {number} rc radius of circle\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {number} rex radius-x of ellipse\n * @param {number} rey radius-y of ellipse\n * @return {boolean}\n */\nmodule.exports = function circleEllipse(xc, yc, rc, xe, ye, rex, rey)\n{\n    return ellipseCircle(xe, ye, rex, rey, xc, yc, rc)\n}\n","'use strict'\n\nvar lineCircle = require('./line-circle')\n\n/**\n * circle-line collision\n * from http://stackoverflow.com/a/10392860/1955997\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} x1 first point of line\n * @param {number} y1 first point of line\n * @param {number} x2 second point of line\n * @param {number} y2 second point of line\n * @return {boolean}\n */\nmodule.exports = function circleLine(xc, yc, rc, x1, y1, x2, y2)\n{\n    return lineCircle(x1, y1, x2, y2, xc, yc, rc)\n}\n","'use strict'\n\n/**\n * circle-point collision\n * @param {number} x1 center of circle\n * @param {number} y1 center of circle\n * @param {radius} r1 radius of circle\n * @param {number} x2 point\n * @param {number} y2 point\n * @return {boolean}\n */\nmodule.exports = function circlePoint(x1, y1, r1, x2, y2)\n{\n    var x = x2 - x1\n    var y = y2 - y1\n    return x * x + y * y <= r1 * r1\n}\n","'use strict'\n\nvar polygonCircle = require('./polygon-circle')\n\n/**\n * circle-polygon collision\n * from http://stackoverflow.com/a/402019/1955997\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n */\nmodule.exports = function circlePolygon(xc, yc, rc, points, tolerance)\n{\n    return polygonCircle(points, xc, yc, rc, tolerance)\n}\n","var circlePoint = require('./circle-point')\nvar boxCircle = require('./box-circle')\n\n/**\n * circleOutline-box (axis-aligned) collision\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} x top-left corner of box\n * @param {number} y top-left corner of box\n * @param {number} width of box\n * @param {number} height of box\n * @param {number} thickness of circle outline\n */\nmodule.exports = function circleOutlineBox(xc, yc, rc, x, y, width, height, thickness)\n{\n    thickness = thickness || 1\n    var count = 0\n    count += circlePoint(xc, yc, rc, x, y) ? 1 : 0\n    count += circlePoint(xc, yc, rc, x + width, y) ? 1 : 0\n    count += circlePoint(xc, yc, rc, x, y + height) ? 1 : 0\n    count += circlePoint(xc, yc, rc, x + width, y + height) ? 1 : 0\n\n    // if no corners are inside the circle, then intersects only if box encloses circle-outline\n    if (count === 0)\n    {\n        return boxCircle(x, y, width, height, xc, yc, rc)\n    }\n\n    // if one corner is inside and one corner is outside then box intersects circle-outline\n    if (count >= 1 && count <= 3)\n    {\n        return true\n    }\n\n    // last check is if box is inside circle, need to check that a corner is not inside the inner circle\n    if (count === 4)\n    {\n        return !circlePoint(xc, yc, rc - thickness, x, y) ||\n            !circlePoint(xc, yc, rc - thickness, x + width, y) ||\n            !circlePoint(xc, yc, rc - thickness, x, y + height) ||\n            !circlePoint(xc, yc, rc - thickness, x + width, y + height)\n    }\n}","var lineCircle = require('./line-circle')\nvar circlePoint = require('./circle-point')\n\n/**\n * circleOutline-line collision\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} x1 of point 1 of line\n * @param {number} y1 of point 1 of line\n * @param {number} x2 of point 2 of line\n * @param {number} y2 of point 2 of line\n * @param {number} thickness of circle outline\n */\nmodule.exports = function circleOutlineLine(xc, yc, rc, x1, y1, x2, y2, thickness)\n{\n    thickness = thickness || 1\n    return lineCircle(x1, y1, x2, y2, xc, yc, rc) && !(circlePoint(xc, yc, rc - thickness, x1, y1) && circlePoint(xc, yc, rc - thickness, x2, y2))\n}","var circlePoint = require('./circle-point')\n\n/**\n * circleOutline-point collision\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} x of point\n * @param {number} y of point\n * @param {number} thickness of circle outline\n */\nmodule.exports = function circleOutlinePoint(xc, yc, rc, x, y, thickness)\n{\n    thickness = thickness || 1\n    return circlePoint(xc, yc, rc, x, y) && !circlePoint(xc, yc, rc - thickness, x, y)\n}","var ellipseLine = require('./ellipse-line')\nvar boxPoint = require('./box-point')\n\n/**\n * ellipse-box (axis-oriented rectangle) collision\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {radius} rex radius-x of ellipse\n * @param {radius} rey radius-y of ellipse\n * @param {number} xb top-left corner of box\n * @param {number} yb top-left corner of box\n * @param {number} wb width of box\n * @param {number} hb height of box\n */\nmodule.exports = function ellipseBox(xe, ye, rex, rey, xb, yb, wb, hb)\n{\n    return boxPoint(xb, yb, wb, hb, xe, ye) ||\n        ellipseLine(xe, ye, rex, rey, xb, yb, xb + wb, yb) ||\n        ellipseLine(xe, ye, rex, rey, xb, yb + hb, xb + wb, yb + hb) ||\n        ellipseLine(xe, ye, rex, rey, xb, yb, xb, yb + hb) ||\n        ellipseLine(xe, ye, rex, rey, xb + wb, yb, xb + wb, yb + hb)\n}","var ellipseHelper = require('./ellipse-helper')\n\n/**\n * ellipse-circle collision\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {number} rex radius-x of ellipse\n * @param {number} rey radius-y of ellipse\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {number} rc radius of circle\n * @return {boolean}\n */\nmodule.exports = function ellipseCircle(xe, ye, rex, rey, xc, yc, rc)\n{\n    return ellipseHelper.ellipseCircle(xe, ye, rex, rey, xc, yc, rc)\n}\n","var ellipseHelper = require('./ellipse-helper')\n\n/**\n * ellipse-ellipse collision\n * @param {number} x1 center of ellipse 1\n * @param {number} y1 center of ellipse 1\n * @param {number} r1x radius-x of ellipse 1\n * @param {number} r1y radius-y of ellipse 1\n * @param {number} x2 center of ellipse 2\n * @param {number} y2 center of ellipse 2\n * @param {number} r2x radius of ellipse 2\n * @param {number} r2y radius of ellipse 2\n * @return {boolean}\n */\nmodule.exports = function ellipseEllipse(x1, y1, r1x, r1y, x2, y2, r2x, r2y)\n{\n    return ellipseHelper.ellipseEllipse(x1, y1, r1x, r1y, x2, y2, r2x, r2y)\n}\n","// from http://yehar.com/blog/?p=2926\n\nvar MAX_ITERATIONS = 10\nvar innerPolygonCoef, outerPolygonCoef, initialized\n\nfunction initialize()\n{\n    innerPolygonCoef = []\n    outerPolygonCoef = []\n    for (var t = 0; t <= MAX_ITERATIONS; t++)\n    {\n        var numNodes = 4 << t\n        innerPolygonCoef[t] = 0.5 / Math.cos(4 * Math.acos(0) / numNodes)\n        outerPolygonCoef[t] = 0.5 / (Math.cos(2 * Math.acos(0) / numNodes) * Math.cos(2 * Math.acos(0) / numNodes))\n    }\n    initialized = true\n}\n\nfunction iterate(x, y, c0x, c0y, c2x, c2y, rr)\n{\n    for (var t = 1; t <= MAX_ITERATIONS; t++)\n    {\n        var c1x = (c0x + c2x) * innerPolygonCoef[t]\n        var c1y = (c0y + c2y) * innerPolygonCoef[t]\n        var tx = x - c1x\n        var ty = y - c1y\n        if (tx * tx + ty * ty <= rr)\n        {\n            return true\n        }\n        var t2x = c2x - c1x\n        var t2y = c2y - c1y\n        if (tx * t2x + ty * t2y >= 0 && tx * t2x + ty * t2y <= t2x * t2x + t2y * t2y &&\n            (ty * t2x - tx * t2y >= 0 || rr * (t2x * t2x + t2y * t2y) >= (ty * t2x - tx * t2y) * (ty * t2x - tx * t2y)))\n        {\n            return true\n        }\n        var t0x = c0x - c1x\n        var t0y = c0y - c1y\n        if (tx * t0x + ty * t0y >= 0 && tx * t0x + ty * t0y <= t0x * t0x + t0y * t0y &&\n            (ty * t0x - tx * t0y <= 0 || rr * (t0x * t0x + t0y * t0y) >= (ty * t0x - tx * t0y) * (ty * t0x - tx * t0y)))\n        {\n            return true\n        }\n        var c3x = (c0x + c1x) * outerPolygonCoef[t]\n        var c3y = (c0y + c1y) * outerPolygonCoef[t]\n        if ((c3x - x) * (c3x - x) + (c3y - y) * (c3y - y) < rr)\n        {\n            c2x = c1x\n            c2y = c1y\n            continue\n        }\n        var c4x = c1x - c3x + c1x\n        var c4y = c1y - c3y + c1y\n        if ((c4x - x) * (c4x - x) + (c4y - y) * (c4y - y) < rr)\n        {\n            c0x = c1x\n            c0y = c1y\n            continue\n        }\n        var t3x = c3x - c1x\n        var t3y = c3y - c1y\n        if (ty * t3x - tx * t3y <= 0 || rr * (t3x * t3x + t3y * t3y) > (ty * t3x - tx * t3y) * (ty * t3x - tx * t3y))\n        {\n            if (tx * t3x + ty * t3y > 0)\n            {\n                if (Math.abs(tx * t3x + ty * t3y) <= t3x * t3x + t3y * t3y || (x - c3x) * (c0x - c3x) + (y - c3y) * (c0y - c3y) >= 0)\n                {\n                    c2x = c1x\n                    c2y = c1y\n                    continue\n                }\n            } else if (-(tx * t3x + ty * t3y) <= t3x * t3x + t3y * t3y || (x - c4x) * (c2x - c4x) + (y - c4y) * (c2y - c4y) >= 0)\n            {\n                c0x = c1x\n                c0y = c1y\n                continue\n            }\n        }\n        return false\n    }\n    return false // Out of iterations so it is unsure if there was a collision. But have to return something.\n}\n\n// Test for collision between an ellipse of horizontal radius w0 and vertical radius h0 at (x0, y0) and\n// an ellipse of horizontal radius w1 and vertical radius h1 at (x1, y1)\nfunction ellipseEllipse(x0, y0, w0, h0, x1, y1, w1, h1)\n{\n    if (!initialized)\n    {\n        initialize()\n    }\n\n    var x = Math.abs(x1 - x0) * h1\n    var y = Math.abs(y1 - y0) * w1\n    w0 *= h1\n    h0 *= w1\n    var r = w1 * h1\n\n    if (x * x + (h0 - y) * (h0 - y) <= r * r || (w0 - x) * (w0 - x) + y * y <= r * r || x * h0 + y * w0 <= w0 * h0\n        || ((x * h0 + y * w0 - w0 * h0) * (x * h0 + y * w0 - w0 * h0) <= r * r * (w0 * w0 + h0 * h0) && x * w0 - y * h0 >= -h0 * h0 && x * w0 - y * h0 <= w0 * w0))\n    {\n        return true\n    }\n    else\n    {\n        if ((x - w0) * (x - w0) + (y - h0) * (y - h0) <= r * r || (x <= w0 && y - r <= h0) || (y <= h0 && x - r <= w0))\n        {\n            return iterate(x, y, w0, 0, 0, h0, r * r)\n        }\n        return false\n    }\n}\n\n// Test for collision between an ellipse of horizontal radius w and vertical radius h at (x0, y0) and\n// a circle of radius r at (x1, y1)\nfunction ellipseCircle(x0, y0, w, h, x1, y1, r)\n{\n    if (!initialized)\n    {\n        initialize()\n    }\n    var x = Math.abs(x1 - x0)\n    var y = Math.abs(y1 - y0)\n\n    if (x * x + (h - y) * (h - y) <= r * r || (w - x) * (w - x) + y * y <= r * r || x * h + y * w <= w * h\n        || ((x * h + y * w - w * h) * (x * h + y * w - w * h) <= r * r * (w * w + h * h) && x * w - y * h >= -h * h && x * w - y * h <= w * w))\n    {\n        return true\n    }\n    else\n    {\n        if ((x - w) * (x - w) + (y - h) * (y - h) <= r * r || (x <= w && y - r <= h) || (y <= h && x - r <= w))\n        {\n            return iterate(x, y, w, 0, 0, h, r * r)\n        }\n        return false\n    }\n}\n\nmodule.exports = {\n    ellipseCircle: ellipseCircle,\n    ellipseEllipse: ellipseEllipse\n}","/**\n * ellipse-line collision\n * adapted from http://csharphelper.com/blog/2017/08/calculate-where-a-line-segment-and-an-ellipse-intersect-in-c/\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {number} rex radius-x of ellipse\n * @param {number} rey radius-y of ellipse\n * @param {number} x1 first point of line\n * @param {number} y1 first point of line\n * @param {number} x2 second point of line\n * @param {number} y2 second point of line\n */\nmodule.exports = function ellipseLine(xe, ye, rex, rey, x1, y1, x2, y2)\n{\n    x1 -= xe\n    x2 -= xe\n    y1 -= ye\n    y2 -= ye\n\n    var A = Math.pow(x2 - x1, 2) / rex / rex + Math.pow(y2 - y1, 2) / rey / rey\n    var B = 2 * x1 * (x2 - x1) / rex / rex + 2 * y1 * (y2 - y1) / rey / rey\n    var C = x1 * x1 / rex / rex + y1 * y1 / rey / rey - 1\n    var D = B * B - 4 * A * C\n    if (D === 0)\n    {\n        var t = -B / 2 / A\n        return t >= 0 && t <= 1\n    }\n    else if (D > 0)\n    {\n        var sqrt = Math.sqrt(D)\n        var t1 = (-B + sqrt) / 2 / A\n        var t2 = (-B - sqrt) / 2 / A\n        return (t1 >= 0 && t1 <= 1) || (t2 >= 0 && t2 <= 1)\n    }\n    else\n    {\n        return false\n    }\n}","/**\n * ellipse-point collision\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {radius} rex radius-x of ellipse\n * @param {radius} rey radius-y of ellipse\n * @param {number} x1 point\n * @param {number} y1 point\n * @return {boolean}\n */\nmodule.exports = function ellipsePoint(xe, ye, rex, rey, x1, y1)\n{\n    var x = Math.pow(x1 - xe, 2) / (rex * rex)\n    var y = Math.pow(y1 - ye, 2) / (rey * rey)\n    return x + y <= 1\n}\n","var polygonEllipse = require('./polygon-ellipse')\n\n/**\n * ellipse-polygon collision\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {number} rex radius-x of ellipse\n * @param {number} rey radius-y of ellipse\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n */\nmodule.exports = function ellipsePolygon(xe, ye, rex, rey, points)\n{\n    return polygonEllipse(points, xe, ye, rex, rey)\n}","module.exports = {\n    circlePoint: require('./circle-point'),\n    circleCircle: require('./circle-circle'),\n    circleLine: require('./circle-line'),\n    circleBox: require('./circle-box'),\n    circlePolygon: require('./circle-polygon'),\n    circleEllipse: require('./circle-ellipse'),\n    // circleCircleOutline: require('./circle-circleOutline'),\n\n    circleOutlineBox: require('./circleOutline-box'),\n    circleOutlineLine: require('./circleOutline-line'),\n    circleOutlinePoint: require('./circleOutline-point'),\n    // circleOutlineCircle: require('./circleOutline-circle'),\n\n    polygonPoint: require('./polygon-point'),\n    polygonLine: require('./polygon-line'),\n    polygonPolygon: require('./polygon-polygon'),\n    polygonBox: require('./polygon-box'),\n    polygonCircle: require('./polygon-circle'),\n    polygonEllipse: require('./polygon-ellipse'),\n\n    boxPoint: require('./box-point'),\n    boxBox: require('./box-box'),\n    boxLine: require('./box-line'),\n    boxPolygon: require('./box-polygon'),\n    boxCircle: require('./box-circle'),\n    boxEllipse: require('./box-ellipse'),\n    boxCircleOutline: require('./box-circleOutline'),\n\n    pointBox: require('./point-box'),\n    pointPolygon: require('./point-polygon'),\n    pointCircle: require('./point-circle'),\n    pointLine: require('./point-line'),\n    pointEllipse: require('./point-ellipse'),\n    pointCircleOutline: require('./point-circleOutline'),\n\n    lineLine: require('./line-line'),\n    lineBox: require('./line-box'),\n    linePolygon: require('./line-polygon'),\n    lineCircle: require('./line-circle'),\n    linePoint: require('./line-point'),\n    lineEllipse: require('./line-ellipse'),\n    lineCircleOutline: require('./line-circleOutline'),\n\n    ellipsePoint: require('./ellipse-point'),\n    ellipseLine: require('./ellipse-line'),\n    ellipseBox: require('./ellipse-box'),\n    ellipseCircle: require('./ellipse-circle'),\n    ellipseEllipse: require('./ellipse-ellipse'),\n    ellipsePolygon: require('./ellipse-polygon')\n}","'use strict'\n\nvar boxPoint = require('./box-point')\nvar lineLine = require('./line-line')\n\n/**\n * line-box collision\n number @param {number} x1 point 1 of line\n number @param {number} y1 point 1 of line\n number @param {number} x2 point 2 of line\n number @param {number} y2 point 2 of line\n number @param {number} xb top-left of box\n number @param {number} yb top-left of box\n number @param {number} wb width of box\n number @param {number} hb height of box\n */\nmodule.exports = function lineBox(x1, y1, x2, y2, xb, yb, wb, hb)\n{\n    if (boxPoint(xb, yb, wb, hb, x1, y1) || boxPoint(xb, yb, wb, hb, x2, y2))\n    {\n        return true\n    }\n    return lineLine(x1, y1, x2, y2, xb, yb, xb + wb, yb) ||\n        lineLine(x1, y1, x2, y2, xb + wb, yb, xb + wb, yb + hb) ||\n        lineLine(x1, y1, x2, y2, xb, yb + hb, xb + wb, yb + hb) ||\n        lineLine(x1, y1, x2, y2, xb, yb, xb, yb + hb)\n}\n","'use strict'\n\n/**\n * line-circle collision\n number @param {number} x1 point 1 of line\n number @param {number} y1 point 1 of line\n number @param {number} x2 point 2 of line\n number @param {number} y2 point 2 of line\n number @param {number} xc center of circle\n number @param {number} yc center of circle\n number @param {number} rc radius of circle\n */\nmodule.exports = function lineCircle(x1, y1, x2, y2, xc, yc, rc)\n{\n    var ac = [xc - x1, yc - y1]\n    var ab = [x2 - x1, y2 - y1]\n    var ab2 = dot(ab, ab)\n    var acab = dot(ac, ab)\n    var t = acab / ab2\n    t = (t < 0) ? 0 : t\n    t = (t > 1) ? 1 : t\n    var h = [(ab[0] * t + x1) - xc, (ab[1] * t + y1) - yc]\n    var h2 = dot(h, h)\n    return h2 <= rc * rc\n}\n\nfunction dot(v1, v2)\n{\n    return (v1[0] * v2[0]) + (v1[1] * v2[1])\n}\n","var circleOutlineLine = require('./circleOutline-line')\n\n/**\n * line-circleOutline collision\n * @param {number} x1 of point 1 of line\n * @param {number} y1 of point 1 of line\n * @param {number} x2 of point 2 of line\n * @param {number} y2 of point 2 of line\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} thickness of circle outline\n */\nmodule.exports = function lineCircleOutline(x1, y1, x2, y2, xc, yc, rc, thickness)\n{\n    return circleOutlineLine(xc, yc, rc, x1, y1, x2, y2, thickness)\n}","var ellipseLine = require('./ellipse-line')\n\n/**\n * line-ellipse collision\n * @param {number} x1 first point of line\n * @param {number} y1 first point of line\n * @param {number} x2 second point of line\n * @param {number} y2 second point of line\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {number} rx radius-x of ellipse\n * @param {number} ry radius-y of ellipse\n */\nmodule.exports = function lineEllipse(x1, y1, x2, y2, xe, ye, rex, rey)\n{\n    return ellipseLine(xe, ye, rex, rey, x1, y1, x2, y2)\n}","'use strict'\n\nconst lineToPolygon = require('./lineToPolygon')\nconst polygonPolygon = require('./polygon-polygon')\nconst linePolygon = require('./line-polygon')\nconst lineToLine = require('./lineToLine')\n\n/**\n * line-line collision\n * from http://stackoverflow.com/questions/563198/how-do-you-detect-where-two-line-segments-intersect\n * @param {number} x1 first point in line 1\n * @param {number} y1 first point in line 1\n * @param {number} x2 second point in line 1\n * @param {number} y2 second point in line 1\n * @param {number} x3 first point in line 2\n * @param {number} y3 first point in line 2\n * @param {number} x4 second point in line 2\n * @param {number} y4 second point in line 2\n * @param {number} [thickness1] of line 1 (the line is centered in its thickness--see demo)\n * @param {number} [thickness2] of line 2 (the line is centered in its thickness--see demo)\n * @return {boolean}\n */\nmodule.exports = function lineLine(x1, y1, x2, y2, x3, y3, x4, y4, thickness1, thickness2)\n{\n    if (thickness1 || thickness2)\n    {\n        return lineLineThickness(x1, y1, x2, y2, x3, y3, x4, y4, thickness1, thickness2)\n    }\n    else\n    {\n        return lineToLine(x1, y1, x2, y2, x3, y3, x4, y4)\n    }\n}\n\nfunction lineLineThickness(x1, y1, x2, y2, x3, y3, x4, y4, thickness1, thickness2)\n{\n    if (thickness1 && thickness2)\n    {\n        return polygonPolygon(lineToPolygon(x1, y1, x2, y2, thickness1), lineToPolygon(x3, y3, x4, y4, thickness2))\n    }\n    else if (thickness1)\n    {\n        return linePolygon(x3, y3, x4, y4, lineToPolygon(x1, y1, x2, y2, thickness1))\n    }\n    else if (thickness2)\n    {\n        return linePolygon(x1, y1, x2, y2, lineToPolygon(x3, y3, x4, y4, thickness1))\n    }\n}","'use strict'\n\nfunction distanceSquared(x1, y1, x2, y2)\n{\n    return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2))\n}\n\n/**\n * line-point collision\n * from https://stackoverflow.com/a/17693146/1955997\n * @param {number} x1 first point in line\n * @param {number} y1 first point in line\n * @param {number} x2 second point in line\n * @param {number} y2 second point in line\n * @param {number} xp point\n * @param {number} yp point\n * @param {number} [tolerance=1]\n * @return {boolean}\n */\nmodule.exports = function linePoint(x1, y1, x2, y2, xp, yp, tolerance)\n{\n    tolerance = tolerance || 1\n    return Math.abs(distanceSquared(x1, y1, x2, y2) - (distanceSquared(x1, y1, xp, yp) + distanceSquared(x2, y2, xp, yp))) <= tolerance\n}","var polygonPoint = require('./polygon-point')\nvar lineLine = require('./lineToLine')\n\n/**\n * line-polygon collision\n @param {number} x1 point 1 of line\n @param {number} y1 point 1 of line\n @param {number} x2 point 2 of line\n @param {number} y2 point 2 of line\n @param {number[]} points of polygon\n @param {tolerance=1} maximum distance of point to polygon's edges that triggers collision (see pointLine)\n */\nmodule.exports = function linePolygon(x1, y1, x2, y2, points, tolerance)\n{\n    var length = points.length\n\n    // check if first point is inside the shape (this covers if the line is completely enclosed by the shape)\n    if (polygonPoint(points, x1, y1, tolerance))\n    {\n        return true\n    }\n\n    // check for intersections for all of the sides\n    for (var i = 0; i < length; i += 2)\n    {\n        var j = (i + 2) % length\n        if (lineLine(x1, y1, x2, y2, points[i], points[i + 1], points[j], points[j + 1]))\n        {\n            return true\n        }\n    }\n    return false\n}\n","'use strict'\n\n/**\n * lineToLine helper function (to avoid circular dependencies)\n * from http://stackoverflow.com/questions/563198/how-do-you-detect-where-two-line-segments-intersect\n * @param {number} x1 first point in line 1\n * @param {number} y1 first point in line 1\n * @param {number} x2 second point in line 1\n * @param {number} y2 second point in line 1\n * @param {number} x3 first point in line 2\n * @param {number} y3 first point in line 2\n * @param {number} x4 second point in line 2\n * @param {number} y4 second point in line 2\n * @return {boolean}\n */\nmodule.exports = function lineToLine(x1, y1, x2, y2, x3, y3, x4, y4)\n{\n    var s1_x = x2 - x1\n    var s1_y = y2 - y1\n    var s2_x = x4 - x3\n    var s2_y = y4 - y3\n    var s = (-s1_y * (x1 - x3) + s1_x * (y1 - y3)) / (-s2_x * s1_y + s1_x * s2_y)\n    var t = (s2_x * (y1 - y3) - s2_y * (x1 - x3)) / (-s2_x * s1_y + s1_x * s2_y)\n    return s >= 0 && s <= 1 && t >= 0 && t <= 1\n}","'use strict'\n\n/**\n * turns a line into a polygon using thickness\n * @param {number} x1 first point of line\n * @param {number} y1 first point of line\n * @param {number} x2 second point of line\n * @param {number} y2 second point of line\n * @param {number} thickness of line\n */\nmodule.exports = function lineToPolygon(x1, y1, x2, y2, thickness)\n{\n    const angle = Math.atan2(y2 - y1, x2 - x1) - Math.PI / 2\n    const half = thickness / 2\n    const cos = Math.cos(angle) * half\n    const sin = Math.sin(angle) * half\n    return [\n        x1 - cos, y1 - sin,\n        x2 - cos, y2 - sin,\n        x2 + cos, y2 + sin,\n        x1 + cos, y1 + sin\n    ]\n}","'use strict'\n\nvar boxPoint = require('./box-point')\n\n/**\n * point-box collision\n * @param {number} x1 point\n * @param {number} y1 point\n * @param {number} xb top-left corner of box\n * @param {number} yb top-left corner of box\n * @param {number} wb width of box\n * @param {number} hb height of box\n * @return {boolean}\n */\nmodule.exports = function pointBox(x1, y1, xb, yb, wb, hb)\n{\n    return boxPoint(xb, yb, wb, hb, x1, y1)\n}\n","'use strict'\n\nvar circlePoint = require('./circle-point')\n\nmodule.exports = function pointCircle(x1, y1, xc, yc, rc)\n{\n    return circlePoint(xc, yc, rc, x1, y1)\n}\n","var circleOutlinePoint = require('./circleOutline-point')\n\n/**\n * point-circleOutline collision\n * @param {number} x of point\n * @param {number} y of point\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {radius} rc radius of circle\n * @param {number} thickness of circle outline\n */\nmodule.exports = function pointCircleOutline(x, y, xc, yc, rc, thickness)\n{\n    return circleOutlinePoint(x, y, xc, yc, rc, thickness)\n}","var ellipsePoint = require('./ellipse-point')\n\n/**\n * point-ellipse collision\n * @param {number} x1 point\n * @param {number} y1 point\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {radius} rex radius-x of ellipse\n * @param {radius} rey radius-y of ellipse\n * @return {boolean}\n */\nmodule.exports = function pointEllipse(x1, y1, xe, ye, rex, rey)\n{\n    return ellipsePoint(xe, ye, rex, rey, x1, y1)\n}","'use strict'\n\nvar linePoint = require('./line-point')\n\n/**\n * point-line collision\n * @param {number} xp point\n * @param {number} yp point\n * @param {number} x1 first point in line\n * @param {number} y1 first point in line\n * @param {number} x2 second point in line\n * @param {number} y2 second point in line\n * @return {boolean}\n */\nmodule.exports = function pointLine(xp, yp, x1, y1, x2, y2)\n{\n    return linePoint(x1, y1, x2, y2, xp, yp)\n}\n","'use strict'\n\nvar polygonPoint = require('./polygon-point')\n\n/**\n * polygon-point collision\n * based on https://stackoverflow.com/a/17490923/1955997\n * @param {number} x1\n * @param {number} y1\n * @param {number[]} points\n * @param {number} [tolerance=1] maximum distance of point to polygon's edges that triggers collision (see pointLine)\n * @return {boolean}\n */\nmodule.exports = function pointPolygon(x1, y1, points, tolerance)\n{\n    return polygonPoint(points, x1, y1, tolerance)\n}\n","'use strict'\n\nvar polygonPolygon = require('./polygon-polygon')\n\n/**\n * polygon-box collision\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n * @param {number} x of box\n * @param {number} y of box\n * @param {number} w of box\n * @param {number} h of box\n */\nmodule.exports = function polygonBox(points, x, y, w, h)\n{\n    var points2 = [x, y, x + w, y, x + w, y + h, x, y + h]\n    return polygonPolygon(points, points2)\n}\n","var polygonPoint = require('./polygon-point')\nvar lineCircle = require('./line-circle')\n\n/**\n * polygon-circle collision\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n * @param {number} xc center of circle\n * @param {number} yc center of circle\n * @param {number} rc radius of circle\n * @param {number} [tolerance=1] maximum distance of point to polygon's edges that triggers collision (see pointLine)\n */\nmodule.exports = function polygonCircle(points, xc, yc, rc, tolerance)\n{\n    if (polygonPoint(points, xc, yc, tolerance))\n    {\n        return true\n    }\n    var count = points.length\n    for (var i = 0; i < count - 2; i += 2)\n    {\n        if (lineCircle(points[i], points[i + 1], points[i + 2], points[i + 3], xc, yc, rc))\n        {\n            return true\n        }\n    }\n    return lineCircle(points[0], points[1], points[count - 2], points[count - 1], xc, yc, rc)\n}\n","var polygonPoint = require('./polygon-point')\nvar lineEllipse = require('./line-ellipse')\n\n/**\n * polygon-ellipse collision\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n * @param {number} xe center of ellipse\n * @param {number} ye center of ellipse\n * @param {number} rex radius-x of ellipse\n * @param {number} rey radius-y of ellipse\n */\nmodule.exports = function polygonEllipse(points, xe, ye, rex, rey)\n{\n    if (polygonPoint(points, xe, ye))\n    {\n        return true\n    }\n    var count = points.length\n    for (var i = 0; i < count - 2; i += 2)\n    {\n        if (lineEllipse(points[i], points[i + 1], points[i + 2], points[i + 3], xe, ye, rex, rey))\n        {\n            return true\n        }\n    }\n    return lineEllipse(points[0], points[1], points[count - 2], points[count - 1], xe, ye, rex, rey)\n}","var linePolygon = require('./line-polygon')\n\n/**\n * polygon-line collisions\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n * @param {number} x1 first point in line\n * @param {number} y1 first point in line\n * @param {number} x2 second point in line\n * @param {number} y2 second point in line\n * @param {tolerance=1} maximum distance of point to polygon's edges that triggers collision (see pointLine)\n * @return {boolean}\n */\nmodule.exports = function polygonLine(points, x1, y1, x2, y2, tolerance)\n{\n    return linePolygon(x1, y1, x2, y2, points, tolerance)\n}\n","'use strict'\n\nconst linePoint = require('./line-point')\n\n/**\n * polygon-point collision\n * based on https://stackoverflow.com/a/17490923/1955997\n * @param {number[]} points [x1, y1, x2, y2, ... xn, yn] of polygon\n * @param {number} x of point\n * @param {number} y of point\n * @param {number} [tolerance=1] maximum distance of point to polygon's edges that triggers collision (see pointLine)\n */\nmodule.exports = function polygonPoint(points, x, y, tolerance)\n{\n    var length = points.length\n    var c = false\n    var i, j\n    for (i = 0, j = length - 2; i < length; i += 2)\n    {\n        if (((points[i + 1] > y) !== (points[j + 1] > y)) && (x < (points[j] - points[i]) * (y - points[i + 1]) / (points[j + 1] - points[i + 1]) + points[i]))\n        {\n            c = !c\n        }\n        j = i\n    }\n    if (c)\n    {\n        return true\n    }\n    for (i = 0; i < length; i += 2)\n    {\n        var p1x = points[i]\n        var p1y = points[i + 1]\n        var p2x, p2y\n        if (i === length - 2)\n        {\n            p2x = points[0]\n            p2y = points[1]\n        }\n        else\n        {\n            p2x = points[i + 2]\n            p2y = points[i + 3]\n        }\n        if (linePoint(p1x, p1y, p2x, p2y, x, y, tolerance))\n        {\n            return true\n        }\n    }\n    return false\n}\n","'use strict'\n\n/**\n * polygon-polygon collision\n * based on http://stackoverflow.com/questions/10962379/how-to-check-intersection-between-2-rotated-rectangles\n * @param {number[]} points1 [x1, y1, x2, y2, ... xn, yn] of first polygon\n * @param {number[]} points2 [x1, y1, x2, y2, ... xn, yn] of second polygon\n * @return {boolean}\n */\nmodule.exports = function polygonPolygon(points1, points2)\n{\n    var a = points1\n    var b = points2\n    var polygons = [a, b]\n    var minA, maxA, projected, minB, maxB, j\n    for (var i = 0; i < polygons.length; i++)\n    {\n        var polygon = polygons[i]\n        for (var i1 = 0; i1 < polygon.length; i1 += 2)\n        {\n            var i2 = (i1 + 2) % polygon.length\n            var normal = { x: polygon[i2 + 1] - polygon[i1 + 1], y: polygon[i1] - polygon[i2] }\n            minA = maxA = null\n            for (j = 0; j < a.length; j += 2)\n            {\n                projected = normal.x * a[j] + normal.y * a[j + 1]\n                if (minA === null || projected < minA)\n                {\n                    minA = projected\n                }\n                if (maxA === null || projected > maxA)\n                {\n                    maxA = projected\n                }\n            }\n            minB = maxB = null\n            for (j = 0; j < b.length; j += 2)\n            {\n                projected = normal.x * b[j] + normal.y * b[j + 1]\n                if (minB === null || projected < minB)\n                {\n                    minB = projected\n                }\n                if (maxB === null || projected > maxB)\n                {\n                    maxB = projected\n                }\n            }\n            if (maxA < minB || maxB < minA)\n            {\n                return false\n            }\n        }\n    }\n    return true\n}\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.URI = global.URI || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction merge() {\n    for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {\n        sets[_key] = arguments[_key];\n    }\n\n    if (sets.length > 1) {\n        sets[0] = sets[0].slice(0, -1);\n        var xl = sets.length - 1;\n        for (var x = 1; x < xl; ++x) {\n            sets[x] = sets[x].slice(1, -1);\n        }\n        sets[xl] = sets[xl].slice(1);\n        return sets.join('');\n    } else {\n        return sets[0];\n    }\n}\nfunction subexp(str) {\n    return \"(?:\" + str + \")\";\n}\nfunction typeOf(o) {\n    return o === undefined ? \"undefined\" : o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase();\n}\nfunction toUpperCase(str) {\n    return str.toUpperCase();\n}\nfunction toArray(obj) {\n    return obj !== undefined && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];\n}\nfunction assign(target, source) {\n    var obj = target;\n    if (source) {\n        for (var key in source) {\n            obj[key] = source[key];\n        }\n    }\n    return obj;\n}\n\nfunction buildExps(isIRI) {\n    var ALPHA$$ = \"[A-Za-z]\",\n        CR$ = \"[\\\\x0D]\",\n        DIGIT$$ = \"[0-9]\",\n        DQUOTE$$ = \"[\\\\x22]\",\n        HEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),\n        //case-insensitive\n    LF$$ = \"[\\\\x0A]\",\n        SP$$ = \"[\\\\x20]\",\n        PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),\n        //expanded\n    GEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n        SUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n        RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n        UCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",\n        //subset, excludes bidi control characters\n    IPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",\n        //subset\n    UNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n        SCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n        USERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n        DEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n        DEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),\n        //relaxed parsing rules\n    IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n        H16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n        LS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n        IPV6ADDRESS1$ = subexp(subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$),\n        //                           6( h16 \":\" ) ls32\n    IPV6ADDRESS2$ = subexp(\"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$),\n        //                      \"::\" 5( h16 \":\" ) ls32\n    IPV6ADDRESS3$ = subexp(subexp(H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$),\n        //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n    IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$),\n        //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n    IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$),\n        //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n    IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" + H16$ + \"\\\\:\" + LS32$),\n        //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n    IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\" + LS32$),\n        //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n    IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\" + H16$),\n        //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n    IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"),\n        //[ *6( h16 \":\" ) h16 ] \"::\"\n    IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n        ZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),\n        //RFC 6874\n    IPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),\n        //RFC 6874\n    IPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),\n        //RFC 6874, with relaxed parsing rules\n    IPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n        IP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),\n        //RFC 6874\n    REG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n        HOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n        PORT$ = subexp(DIGIT$$ + \"*\"),\n        AUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n        PCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n        SEGMENT$ = subexp(PCHAR$ + \"*\"),\n        SEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n        SEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n        PATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n        PATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),\n        //simplified\n    PATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),\n        //simplified\n    PATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n        PATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        QUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n        FRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n        HIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n        URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        RELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n        RELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n        URI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n        ABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n        GENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        RELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        ABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n        SAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n        AUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\";\n    return {\n        NOT_SCHEME: new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n        NOT_USERINFO: new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_HOST: new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH: new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_PATH_NOSCHEME: new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        NOT_QUERY: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n        NOT_FRAGMENT: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n        ESCAPE: new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n        UNRESERVED: new RegExp(UNRESERVED$$, \"g\"),\n        OTHER_CHARS: new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n        PCT_ENCODED: new RegExp(PCT_ENCODED$, \"g\"),\n        IPV4ADDRESS: new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n        IPV6ADDRESS: new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\") //RFC 6874, with relaxed parsing rules\n    };\n}\nvar URI_PROTOCOL = buildExps(false);\n\nvar IRI_PROTOCOL = buildExps(true);\n\nvar slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\n/** Highest positive signed 32-bit float value */\n\nvar maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nvar base = 36;\nvar tMin = 1;\nvar tMax = 26;\nvar skew = 38;\nvar damp = 700;\nvar initialBias = 72;\nvar initialN = 128; // 0x80\nvar delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nvar regexPunycode = /^xn--/;\nvar regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nvar regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nvar errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nvar baseMinusTMin = base - tMin;\nvar floor = Math.floor;\nvar stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error$1(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tvar result = [];\n\tvar length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tvar parts = string.split('@');\n\tvar result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tvar labels = string.split('.');\n\tvar encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\twhile (counter < length) {\n\t\tvar value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tvar extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) {\n\t\t\t\t// Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nvar ucs2encode = function ucs2encode(array) {\n\treturn String.fromCodePoint.apply(String, toConsumableArray(array));\n};\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nvar basicToDigit = function basicToDigit(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nvar digitToBasic = function digitToBasic(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nvar adapt = function adapt(delta, numPoints, firstTime) {\n\tvar k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nvar decode = function decode(input) {\n\t// Don't use UCS-2.\n\tvar output = [];\n\tvar inputLength = input.length;\n\tvar i = 0;\n\tvar n = initialN;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tvar basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (var j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror$1('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (var index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tvar oldi = i;\n\t\tfor (var w = 1, k = base;; /* no condition */k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror$1('invalid-input');\n\t\t\t}\n\n\t\t\tvar digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tvar baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror$1('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\t\t}\n\n\t\tvar out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\t}\n\n\treturn String.fromCodePoint.apply(String, output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nvar encode = function encode(input) {\n\tvar output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tvar inputLength = input.length;\n\n\t// Initialize the state.\n\tvar n = initialN;\n\tvar delta = 0;\n\tvar bias = initialBias;\n\n\t// Handle the basic code points.\n\tvar _iteratorNormalCompletion = true;\n\tvar _didIteratorError = false;\n\tvar _iteratorError = undefined;\n\n\ttry {\n\t\tfor (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\tvar _currentValue2 = _step.value;\n\n\t\t\tif (_currentValue2 < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(_currentValue2));\n\t\t\t}\n\t\t}\n\t} catch (err) {\n\t\t_didIteratorError = true;\n\t\t_iteratorError = err;\n\t} finally {\n\t\ttry {\n\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t_iterator.return();\n\t\t\t}\n\t\t} finally {\n\t\t\tif (_didIteratorError) {\n\t\t\t\tthrow _iteratorError;\n\t\t\t}\n\t\t}\n\t}\n\n\tvar basicLength = output.length;\n\tvar handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tvar m = maxInt;\n\t\tvar _iteratorNormalCompletion2 = true;\n\t\tvar _didIteratorError2 = false;\n\t\tvar _iteratorError2 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\tvar currentValue = _step2.value;\n\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow.\n\t\t} catch (err) {\n\t\t\t_didIteratorError2 = true;\n\t\t\t_iteratorError2 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t_iterator2.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror$1('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tvar _iteratorNormalCompletion3 = true;\n\t\tvar _didIteratorError3 = false;\n\t\tvar _iteratorError3 = undefined;\n\n\t\ttry {\n\t\t\tfor (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\tvar _currentValue = _step3.value;\n\n\t\t\t\tif (_currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror$1('overflow');\n\t\t\t\t}\n\t\t\t\tif (_currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\t\tvar q = delta;\n\t\t\t\t\tfor (var k = base;; /* no condition */k += base) {\n\t\t\t\t\t\tvar t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar qMinusT = q - t;\n\t\t\t\t\t\tvar baseMinusT = base - t;\n\t\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\t_didIteratorError3 = true;\n\t\t\t_iteratorError3 = err;\n\t\t} finally {\n\t\t\ttry {\n\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t_iterator3.return();\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nvar toUnicode = function toUnicode(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nvar toASCII = function toASCII(input) {\n\treturn mapDomain(input, function (string) {\n\t\treturn regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nvar punycode = {\n\t/**\n  * A string representing the current Punycode.js version number.\n  * @memberOf punycode\n  * @type String\n  */\n\t'version': '2.1.0',\n\t/**\n  * An object of methods to convert from JavaScript's internal character\n  * representation (UCS-2) to Unicode code points, and back.\n  * @see <https://mathiasbynens.be/notes/javascript-encoding>\n  * @memberOf punycode\n  * @type Object\n  */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\n/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\nvar SCHEMES = {};\nfunction pctEncChar(chr) {\n    var c = chr.charCodeAt(0);\n    var e = void 0;\n    if (c < 16) e = \"%0\" + c.toString(16).toUpperCase();else if (c < 128) e = \"%\" + c.toString(16).toUpperCase();else if (c < 2048) e = \"%\" + (c >> 6 | 192).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();else e = \"%\" + (c >> 12 | 224).toString(16).toUpperCase() + \"%\" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + \"%\" + (c & 63 | 128).toString(16).toUpperCase();\n    return e;\n}\nfunction pctDecChars(str) {\n    var newStr = \"\";\n    var i = 0;\n    var il = str.length;\n    while (i < il) {\n        var c = parseInt(str.substr(i + 1, 2), 16);\n        if (c < 128) {\n            newStr += String.fromCharCode(c);\n            i += 3;\n        } else if (c >= 194 && c < 224) {\n            if (il - i >= 6) {\n                var c2 = parseInt(str.substr(i + 4, 2), 16);\n                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);\n            } else {\n                newStr += str.substr(i, 6);\n            }\n            i += 6;\n        } else if (c >= 224) {\n            if (il - i >= 9) {\n                var _c = parseInt(str.substr(i + 4, 2), 16);\n                var c3 = parseInt(str.substr(i + 7, 2), 16);\n                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);\n            } else {\n                newStr += str.substr(i, 9);\n            }\n            i += 9;\n        } else {\n            newStr += str.substr(i, 3);\n            i += 3;\n        }\n    }\n    return newStr;\n}\nfunction _normalizeComponentEncoding(components, protocol) {\n    function decodeUnreserved(str) {\n        var decStr = pctDecChars(str);\n        return !decStr.match(protocol.UNRESERVED) ? str : decStr;\n    }\n    if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n    if (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    if (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n    return components;\n}\n\nfunction _stripLeadingZeros(str) {\n    return str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\nfunction _normalizeIPv4(host, protocol) {\n    var matches = host.match(protocol.IPV4ADDRESS) || [];\n\n    var _matches = slicedToArray(matches, 2),\n        address = _matches[1];\n\n    if (address) {\n        return address.split(\".\").map(_stripLeadingZeros).join(\".\");\n    } else {\n        return host;\n    }\n}\nfunction _normalizeIPv6(host, protocol) {\n    var matches = host.match(protocol.IPV6ADDRESS) || [];\n\n    var _matches2 = slicedToArray(matches, 3),\n        address = _matches2[1],\n        zone = _matches2[2];\n\n    if (address) {\n        var _address$toLowerCase$ = address.toLowerCase().split('::').reverse(),\n            _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2),\n            last = _address$toLowerCase$2[0],\n            first = _address$toLowerCase$2[1];\n\n        var firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n        var lastFields = last.split(\":\").map(_stripLeadingZeros);\n        var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n        var fieldCount = isLastFieldIPv4Address ? 7 : 8;\n        var lastFieldsStart = lastFields.length - fieldCount;\n        var fields = Array(fieldCount);\n        for (var x = 0; x < fieldCount; ++x) {\n            fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n        }\n        if (isLastFieldIPv4Address) {\n            fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n        }\n        var allZeroFields = fields.reduce(function (acc, field, index) {\n            if (!field || field === \"0\") {\n                var lastLongest = acc[acc.length - 1];\n                if (lastLongest && lastLongest.index + lastLongest.length === index) {\n                    lastLongest.length++;\n                } else {\n                    acc.push({ index: index, length: 1 });\n                }\n            }\n            return acc;\n        }, []);\n        var longestZeroFields = allZeroFields.sort(function (a, b) {\n            return b.length - a.length;\n        })[0];\n        var newHost = void 0;\n        if (longestZeroFields && longestZeroFields.length > 1) {\n            var newFirst = fields.slice(0, longestZeroFields.index);\n            var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n            newHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n        } else {\n            newHost = fields.join(\":\");\n        }\n        if (zone) {\n            newHost += \"%\" + zone;\n        }\n        return newHost;\n    } else {\n        return host;\n    }\n}\nvar URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nvar NO_MATCH_IS_UNDEFINED = \"\".match(/(){0}/)[1] === undefined;\nfunction parse(uriString) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var components = {};\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    if (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n    var matches = uriString.match(URI_PARSE);\n    if (matches) {\n        if (NO_MATCH_IS_UNDEFINED) {\n            //store each component\n            components.scheme = matches[1];\n            components.userinfo = matches[3];\n            components.host = matches[4];\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = matches[7];\n            components.fragment = matches[8];\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = matches[5];\n            }\n        } else {\n            //IE FIX for improper RegExp matching\n            //store each component\n            components.scheme = matches[1] || undefined;\n            components.userinfo = uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined;\n            components.host = uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined;\n            components.port = parseInt(matches[5], 10);\n            components.path = matches[6] || \"\";\n            components.query = uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined;\n            components.fragment = uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined;\n            //fix port number\n            if (isNaN(components.port)) {\n                components.port = uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined;\n            }\n        }\n        if (components.host) {\n            //normalize IP hosts\n            components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n        }\n        //determine reference type\n        if (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n            components.reference = \"same-document\";\n        } else if (components.scheme === undefined) {\n            components.reference = \"relative\";\n        } else if (components.fragment === undefined) {\n            components.reference = \"absolute\";\n        } else {\n            components.reference = \"uri\";\n        }\n        //check for reference errors\n        if (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n            components.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n        }\n        //find scheme handler\n        var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n        //check if scheme can't handle IRIs\n        if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n            //if host component is a domain name\n            if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            }\n            //convert IRI -> URI\n            _normalizeComponentEncoding(components, URI_PROTOCOL);\n        } else {\n            //normalize encodings\n            _normalizeComponentEncoding(components, protocol);\n        }\n        //perform scheme specific parsing\n        if (schemeHandler && schemeHandler.parse) {\n            schemeHandler.parse(components, options);\n        }\n    } else {\n        components.error = components.error || \"URI can not be parsed.\";\n    }\n    return components;\n}\n\nfunction _recomposeAuthority(components, options) {\n    var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    if (components.userinfo !== undefined) {\n        uriTokens.push(components.userinfo);\n        uriTokens.push(\"@\");\n    }\n    if (components.host !== undefined) {\n        //normalize IP hosts, add brackets and escape zone separator for IPv6\n        uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function (_, $1, $2) {\n            return \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\";\n        }));\n    }\n    if (typeof components.port === \"number\" || typeof components.port === \"string\") {\n        uriTokens.push(\":\");\n        uriTokens.push(String(components.port));\n    }\n    return uriTokens.length ? uriTokens.join(\"\") : undefined;\n}\n\nvar RDS1 = /^\\.\\.?\\//;\nvar RDS2 = /^\\/\\.(\\/|$)/;\nvar RDS3 = /^\\/\\.\\.(\\/|$)/;\nvar RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\nfunction removeDotSegments(input) {\n    var output = [];\n    while (input.length) {\n        if (input.match(RDS1)) {\n            input = input.replace(RDS1, \"\");\n        } else if (input.match(RDS2)) {\n            input = input.replace(RDS2, \"/\");\n        } else if (input.match(RDS3)) {\n            input = input.replace(RDS3, \"/\");\n            output.pop();\n        } else if (input === \".\" || input === \"..\") {\n            input = \"\";\n        } else {\n            var im = input.match(RDS5);\n            if (im) {\n                var s = im[0];\n                input = input.slice(s.length);\n                output.push(s);\n            } else {\n                throw new Error(\"Unexpected dot segment condition\");\n            }\n        }\n    }\n    return output.join(\"\");\n}\n\nfunction serialize(components) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;\n    var uriTokens = [];\n    //find scheme handler\n    var schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n    //perform scheme specific serialization\n    if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n    if (components.host) {\n        //if host component is an IPv6 address\n        if (protocol.IPV6ADDRESS.test(components.host)) {}\n        //TODO: normalize IPv6 address as per RFC 5952\n\n        //if host component is a domain name\n        else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {\n                //convert IDN via punycode\n                try {\n                    components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);\n                } catch (e) {\n                    components.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n            }\n    }\n    //normalize encoding\n    _normalizeComponentEncoding(components, protocol);\n    if (options.reference !== \"suffix\" && components.scheme) {\n        uriTokens.push(components.scheme);\n        uriTokens.push(\":\");\n    }\n    var authority = _recomposeAuthority(components, options);\n    if (authority !== undefined) {\n        if (options.reference !== \"suffix\") {\n            uriTokens.push(\"//\");\n        }\n        uriTokens.push(authority);\n        if (components.path && components.path.charAt(0) !== \"/\") {\n            uriTokens.push(\"/\");\n        }\n    }\n    if (components.path !== undefined) {\n        var s = components.path;\n        if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n            s = removeDotSegments(s);\n        }\n        if (authority === undefined) {\n            s = s.replace(/^\\/\\//, \"/%2F\"); //don't allow the path to start with \"//\"\n        }\n        uriTokens.push(s);\n    }\n    if (components.query !== undefined) {\n        uriTokens.push(\"?\");\n        uriTokens.push(components.query);\n    }\n    if (components.fragment !== undefined) {\n        uriTokens.push(\"#\");\n        uriTokens.push(components.fragment);\n    }\n    return uriTokens.join(\"\"); //merge tokens into a string\n}\n\nfunction resolveComponents(base, relative) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var skipNormalization = arguments[3];\n\n    var target = {};\n    if (!skipNormalization) {\n        base = parse(serialize(base, options), options); //normalize base components\n        relative = parse(serialize(relative, options), options); //normalize relative components\n    }\n    options = options || {};\n    if (!options.tolerant && relative.scheme) {\n        target.scheme = relative.scheme;\n        //target.authority = relative.authority;\n        target.userinfo = relative.userinfo;\n        target.host = relative.host;\n        target.port = relative.port;\n        target.path = removeDotSegments(relative.path || \"\");\n        target.query = relative.query;\n    } else {\n        if (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n            //target.authority = relative.authority;\n            target.userinfo = relative.userinfo;\n            target.host = relative.host;\n            target.port = relative.port;\n            target.path = removeDotSegments(relative.path || \"\");\n            target.query = relative.query;\n        } else {\n            if (!relative.path) {\n                target.path = base.path;\n                if (relative.query !== undefined) {\n                    target.query = relative.query;\n                } else {\n                    target.query = base.query;\n                }\n            } else {\n                if (relative.path.charAt(0) === \"/\") {\n                    target.path = removeDotSegments(relative.path);\n                } else {\n                    if ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n                        target.path = \"/\" + relative.path;\n                    } else if (!base.path) {\n                        target.path = relative.path;\n                    } else {\n                        target.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n                    }\n                    target.path = removeDotSegments(target.path);\n                }\n                target.query = relative.query;\n            }\n            //target.authority = base.authority;\n            target.userinfo = base.userinfo;\n            target.host = base.host;\n            target.port = base.port;\n        }\n        target.scheme = base.scheme;\n    }\n    target.fragment = relative.fragment;\n    return target;\n}\n\nfunction resolve(baseURI, relativeURI, options) {\n    var schemelessOptions = assign({ scheme: 'null' }, options);\n    return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n}\n\nfunction normalize(uri, options) {\n    if (typeof uri === \"string\") {\n        uri = serialize(parse(uri, options), options);\n    } else if (typeOf(uri) === \"object\") {\n        uri = parse(serialize(uri, options), options);\n    }\n    return uri;\n}\n\nfunction equal(uriA, uriB, options) {\n    if (typeof uriA === \"string\") {\n        uriA = serialize(parse(uriA, options), options);\n    } else if (typeOf(uriA) === \"object\") {\n        uriA = serialize(uriA, options);\n    }\n    if (typeof uriB === \"string\") {\n        uriB = serialize(parse(uriB, options), options);\n    } else if (typeOf(uriB) === \"object\") {\n        uriB = serialize(uriB, options);\n    }\n    return uriA === uriB;\n}\n\nfunction escapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);\n}\n\nfunction unescapeComponent(str, options) {\n    return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);\n}\n\nvar handler = {\n    scheme: \"http\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        //report missing host\n        if (!components.host) {\n            components.error = components.error || \"HTTP URIs must have a host.\";\n        }\n        return components;\n    },\n    serialize: function serialize(components, options) {\n        var secure = String(components.scheme).toLowerCase() === \"https\";\n        //normalize the default port\n        if (components.port === (secure ? 443 : 80) || components.port === \"\") {\n            components.port = undefined;\n        }\n        //normalize the empty path\n        if (!components.path) {\n            components.path = \"/\";\n        }\n        //NOTE: We do not parse query strings for HTTP URIs\n        //as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n        //and not the HTTP spec.\n        return components;\n    }\n};\n\nvar handler$1 = {\n    scheme: \"https\",\n    domainHost: handler.domainHost,\n    parse: handler.parse,\n    serialize: handler.serialize\n};\n\nfunction isSecure(wsComponents) {\n    return typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n//RFC 6455\nvar handler$2 = {\n    scheme: \"ws\",\n    domainHost: true,\n    parse: function parse(components, options) {\n        var wsComponents = components;\n        //indicate if the secure flag is set\n        wsComponents.secure = isSecure(wsComponents);\n        //construct resouce name\n        wsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n        wsComponents.path = undefined;\n        wsComponents.query = undefined;\n        return wsComponents;\n    },\n    serialize: function serialize(wsComponents, options) {\n        //normalize the default port\n        if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n            wsComponents.port = undefined;\n        }\n        //ensure scheme matches secure flag\n        if (typeof wsComponents.secure === 'boolean') {\n            wsComponents.scheme = wsComponents.secure ? 'wss' : 'ws';\n            wsComponents.secure = undefined;\n        }\n        //reconstruct path from resource name\n        if (wsComponents.resourceName) {\n            var _wsComponents$resourc = wsComponents.resourceName.split('?'),\n                _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2),\n                path = _wsComponents$resourc2[0],\n                query = _wsComponents$resourc2[1];\n\n            wsComponents.path = path && path !== '/' ? path : undefined;\n            wsComponents.query = query;\n            wsComponents.resourceName = undefined;\n        }\n        //forbid fragment component\n        wsComponents.fragment = undefined;\n        return wsComponents;\n    }\n};\n\nvar handler$3 = {\n    scheme: \"wss\",\n    domainHost: handler$2.domainHost,\n    parse: handler$2.parse,\n    serialize: handler$2.serialize\n};\n\nvar O = {};\nvar isIRI = true;\n//RFC 3986\nvar UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nvar HEXDIG$$ = \"[0-9A-Fa-f]\"; //case-insensitive\nvar PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)); //expanded\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nvar ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nvar QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nvar VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nvar SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nvar UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nvar PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nvar NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nvar NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nvar NOT_HFVALUE = NOT_HFNAME;\nfunction decodeUnreserved(str) {\n    var decStr = pctDecChars(str);\n    return !decStr.match(UNRESERVED) ? str : decStr;\n}\nvar handler$4 = {\n    scheme: \"mailto\",\n    parse: function parse$$1(components, options) {\n        var mailtoComponents = components;\n        var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(\",\") : [];\n        mailtoComponents.path = undefined;\n        if (mailtoComponents.query) {\n            var unknownHeaders = false;\n            var headers = {};\n            var hfields = mailtoComponents.query.split(\"&\");\n            for (var x = 0, xl = hfields.length; x < xl; ++x) {\n                var hfield = hfields[x].split(\"=\");\n                switch (hfield[0]) {\n                    case \"to\":\n                        var toAddrs = hfield[1].split(\",\");\n                        for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {\n                            to.push(toAddrs[_x]);\n                        }\n                        break;\n                    case \"subject\":\n                        mailtoComponents.subject = unescapeComponent(hfield[1], options);\n                        break;\n                    case \"body\":\n                        mailtoComponents.body = unescapeComponent(hfield[1], options);\n                        break;\n                    default:\n                        unknownHeaders = true;\n                        headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n                        break;\n                }\n            }\n            if (unknownHeaders) mailtoComponents.headers = headers;\n        }\n        mailtoComponents.query = undefined;\n        for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {\n            var addr = to[_x2].split(\"@\");\n            addr[0] = unescapeComponent(addr[0]);\n            if (!options.unicodeSupport) {\n                //convert Unicode IDN -> ASCII IDN\n                try {\n                    addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n                } catch (e) {\n                    mailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n                }\n            } else {\n                addr[1] = unescapeComponent(addr[1], options).toLowerCase();\n            }\n            to[_x2] = addr.join(\"@\");\n        }\n        return mailtoComponents;\n    },\n    serialize: function serialize$$1(mailtoComponents, options) {\n        var components = mailtoComponents;\n        var to = toArray(mailtoComponents.to);\n        if (to) {\n            for (var x = 0, xl = to.length; x < xl; ++x) {\n                var toAddr = String(to[x]);\n                var atIdx = toAddr.lastIndexOf(\"@\");\n                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n                var domain = toAddr.slice(atIdx + 1);\n                //convert IDN via punycode\n                try {\n                    domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);\n                } catch (e) {\n                    components.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n                }\n                to[x] = localPart + \"@\" + domain;\n            }\n            components.path = to.join(\",\");\n        }\n        var headers = mailtoComponents.headers = mailtoComponents.headers || {};\n        if (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n        if (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n        var fields = [];\n        for (var name in headers) {\n            if (headers[name] !== O[name]) {\n                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + \"=\" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));\n            }\n        }\n        if (fields.length) {\n            components.query = fields.join(\"&\");\n        }\n        return components;\n    }\n};\n\nvar URN_PARSE = /^([^\\:]+)\\:(.*)/;\n//RFC 2141\nvar handler$5 = {\n    scheme: \"urn\",\n    parse: function parse$$1(components, options) {\n        var matches = components.path && components.path.match(URN_PARSE);\n        var urnComponents = components;\n        if (matches) {\n            var scheme = options.scheme || urnComponents.scheme || \"urn\";\n            var nid = matches[1].toLowerCase();\n            var nss = matches[2];\n            var urnScheme = scheme + \":\" + (options.nid || nid);\n            var schemeHandler = SCHEMES[urnScheme];\n            urnComponents.nid = nid;\n            urnComponents.nss = nss;\n            urnComponents.path = undefined;\n            if (schemeHandler) {\n                urnComponents = schemeHandler.parse(urnComponents, options);\n            }\n        } else {\n            urnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n        }\n        return urnComponents;\n    },\n    serialize: function serialize$$1(urnComponents, options) {\n        var scheme = options.scheme || urnComponents.scheme || \"urn\";\n        var nid = urnComponents.nid;\n        var urnScheme = scheme + \":\" + (options.nid || nid);\n        var schemeHandler = SCHEMES[urnScheme];\n        if (schemeHandler) {\n            urnComponents = schemeHandler.serialize(urnComponents, options);\n        }\n        var uriComponents = urnComponents;\n        var nss = urnComponents.nss;\n        uriComponents.path = (nid || options.nid) + \":\" + nss;\n        return uriComponents;\n    }\n};\n\nvar UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\n//RFC 4122\nvar handler$6 = {\n    scheme: \"urn:uuid\",\n    parse: function parse(urnComponents, options) {\n        var uuidComponents = urnComponents;\n        uuidComponents.uuid = uuidComponents.nss;\n        uuidComponents.nss = undefined;\n        if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n            uuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n        }\n        return uuidComponents;\n    },\n    serialize: function serialize(uuidComponents, options) {\n        var urnComponents = uuidComponents;\n        //normalize UUID\n        urnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n        return urnComponents;\n    }\n};\n\nSCHEMES[handler.scheme] = handler;\nSCHEMES[handler$1.scheme] = handler$1;\nSCHEMES[handler$2.scheme] = handler$2;\nSCHEMES[handler$3.scheme] = handler$3;\nSCHEMES[handler$4.scheme] = handler$4;\nSCHEMES[handler$5.scheme] = handler$5;\nSCHEMES[handler$6.scheme] = handler$6;\n\nexports.SCHEMES = SCHEMES;\nexports.pctEncChar = pctEncChar;\nexports.pctDecChars = pctDecChars;\nexports.parse = parse;\nexports.removeDotSegments = removeDotSegments;\nexports.serialize = serialize;\nexports.resolveComponents = resolveComponents;\nexports.resolve = resolve;\nexports.normalize = normalize;\nexports.equal = equal;\nexports.escapeComponent = escapeComponent;\nexports.unescapeComponent = unescapeComponent;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=uri.all.js.map\n","import { defineStore } from \"pinia\";\r\nimport { ref } from \"vue\";\r\n\r\nexport const useSvgStore = defineStore(\"svgStore\", () => {\r\n  const magnifier_init = ref(1);\r\n  const zoom_up = () => {\r\n    magnifier_init.value += 0.1;\r\n  };\r\n  function zoom_in() {\r\n    magnifier_init.value -= 0.1;\r\n  }\r\n\r\n  const init_zoom = () => (magnifier_init.value = 1);\r\n  const set_zoom = (v) => (magnifier_init.value = v);\r\n\r\n  return { magnifier_init, zoom_up, zoom_in, init_zoom, set_zoom };\r\n});\r\n\r\nexport const useBoardStore = defineStore(\"myboard\", () => {\r\n  const board_name = ref(\"My Charting Board\");\r\n  const width = ref(800);\r\n  const height = ref(550);\r\n  const hand_selected = ref(false);\r\n  const select_selected = ref(false);\r\n  const dselect_selected = ref(true);\r\n  const grid = ref(false);\r\n\r\n  const set_name = (new_name) => (board_name.value = new_name);\r\n  const set_width = (v) => (width.value = v);\r\n  const set_height = (v) => (height.value = v);\r\n  const set_hand = () => (hand_selected.value = !hand_selected.value);\r\n  const set_hand_false = () => (hand_selected.value = false);\r\n  const grid_toggle = () => (grid.value = !grid.value);\r\n  const select_toggle = (v) => (select_selected.value = v);\r\n  const dselect_toggle = (v) => (dselect_selected.value = v);\r\n\r\n  return {\r\n    board_name,\r\n    width,\r\n    height,\r\n    set_name,\r\n    set_height,\r\n    set_width,\r\n    hand_selected,\r\n    set_hand,\r\n    set_hand_false,\r\n    grid,\r\n    grid_toggle,\r\n    select_selected,\r\n    dselect_selected,\r\n    select_toggle,\r\n    dselect_toggle,\r\n  };\r\n});\r\n","const round = (fl, places) => Number(fl.toFixed(places ? places : 0));\r\n\r\nconst generateID = () => Math.random().toString(36).substring(2, 9);\r\n\r\nexport { round, generateID };\r\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","import { circleBox, polygonBox, polygonEllipse } from 'intersects';\r\n\r\nconst positionInZone = (x, y, zoomTransform, zone) => {\r\n  x = (x - zoomTransform.x) / zoomTransform.k - (zone ? zone.position.x : 0);\r\n  y = (y - zoomTransform.y) / zoomTransform.k - (zone ? zone.position.y : 0);\r\n  return { x: x, y: y };\r\n};\r\n\r\nconst estimateTextWidth = (text, size) => {\r\n  /*\r\n  There is no native way to get the width of an SVG text, short of rendering it and calling getBBox(), which in our\r\n  case turned out to be unfeasibly complex due to the rendering cycle of vue. So we just use HTML5 canvas to get a\r\n  rough idea. In our experiments, this works perfectly fine in Chrome and Firefox.\r\n  */\r\n  const canvas = document.createElement('canvas');\r\n  const context = canvas.getContext('2d');\r\n  context.font = size + 'px ' + 'sans-serif';\r\n  return context.measureText(text).width;\r\n};\r\n\r\nconst rotateRectangluarBox = (area, abox) => {\r\n  let ox = area.position.x;\r\n  let oy = area.position.y;\r\n  const rotated_points_x = [\r\n    Math.cos((area.rotation / 180) * Math.PI) * (abox.x - ox) -\r\n      Math.sin((area.rotation / 180) * Math.PI) * (abox.y - oy) +\r\n      ox,\r\n    Math.cos((area.rotation / 180) * Math.PI) * (abox.x + abox.width - ox) -\r\n      Math.sin((area.rotation / 180) * Math.PI) * (abox.y - oy) +\r\n      ox,\r\n    Math.cos((area.rotation / 180) * Math.PI) * (abox.x - ox) -\r\n      Math.sin((area.rotation / 180) * Math.PI) * (abox.y + abox.height - oy) +\r\n      ox,\r\n    Math.cos((area.rotation / 180) * Math.PI) * (abox.x + abox.width - ox) -\r\n      Math.sin((area.rotation / 180) * Math.PI) * (abox.y + abox.height - oy) +\r\n      ox,\r\n  ];\r\n  const rotated_points_y = [\r\n    Math.sin((area.rotation / 180) * Math.PI) * (abox.x - ox) +\r\n      Math.cos((area.rotation / 180) * Math.PI) * (abox.y - oy) +\r\n      oy,\r\n    Math.sin((area.rotation / 180) * Math.PI) * (abox.x + abox.width - ox) +\r\n      Math.cos((area.rotation / 180) * Math.PI) * (abox.y - oy) +\r\n      oy,\r\n    Math.sin((area.rotation / 180) * Math.PI) * (abox.x - ox) +\r\n      Math.cos((area.rotation / 180) * Math.PI) * (abox.y + abox.height - oy) +\r\n      oy,\r\n    Math.sin((area.rotation / 180) * Math.PI) * (abox.x + abox.width - ox) +\r\n      Math.cos((area.rotation / 180) * Math.PI) * (abox.y + abox.height - oy) +\r\n      oy,\r\n  ];\r\n  const minx = Math.min(...rotated_points_x);\r\n  const miny = Math.min(...rotated_points_y);\r\n  const maxx = Math.max(...rotated_points_x);\r\n  const maxy = Math.max(...rotated_points_y);\r\n  return {\r\n    x: minx,\r\n    y: miny,\r\n    width: maxx - minx,\r\n    height: maxy - miny,\r\n  };\r\n};\r\n\r\nconst rectangleBBox = (area) => {\r\n  let abox = {\r\n    x: area.position.x,\r\n    y: area.position.y,\r\n    width: area.rectangle.width,\r\n    height: area.rectangle.height,\r\n  };\r\n  if (area.rotation) {\r\n    abox = rotateRectangluarBox(area, abox);\r\n  }\r\n  return abox;\r\n};\r\n\r\nconst roundTableBBox = (area) => {\r\n  let abox = {\r\n    x: area.position.x - area.radius - 20,\r\n    y: area.position.y - area.radius - 20,\r\n    width: (area.radius + 20) * 2,\r\n    height: (area.radius + 20) * 2,\r\n  };\r\n  if (area.rotation) {\r\n    // abox = {\r\n    //   x: (area.position.x - area.radius - 20) * Math.cos(area.rotation / 180 * Math.PI),\r\n    //   y: (area.position.y - area.radius - 20) * Math.sin(area.rotation / 180 * Math.PI),\r\n    //   width: (area.radius + 20) * 2,\r\n    // height: (area.radius + 20) * 2\r\n    // }\r\n  }\r\n  return abox;\r\n};\r\n\r\nconst rectangleTableBBox = (area) => {\r\n  const top = area.seats.some((i) => i.special === 'top') ? 1 : 0;\r\n  const bottom = area.seats.some((i) => i.special === 'bottom') ? 1 : 0;\r\n  const left = area.seats.some((i) => i.special === 'left') ? 1 : 0;\r\n  const right = area.seats.some((i) => i.special === 'right') ? 1 : 0;\r\n  const width = area.rectangleTable.width + 20 * (left + right);\r\n  const height = area.rectangleTable.height + 20 * (top + bottom);\r\n  let abox = {\r\n    x: area.position.x - area.rectangleTable.width / 2 - left * 20,\r\n    y: area.position.y - area.rectangleTable.height / 2 - top * 20,\r\n    width: width,\r\n    height: height,\r\n  };\r\n  if (area.rotation) {\r\n    abox = rotateRectangluarBox(area, abox);\r\n  }\r\n  return abox;\r\n};\r\n\r\nconst textBBox = (area, text, size) => {\r\n  const width = estimateTextWidth(text, size);\r\n  let abox = {\r\n    x: area.position.x + area.text.position.x - width / 2,\r\n    y: area.position.y + area.text.position.y - size / 2,\r\n    width: width,\r\n    height: size,\r\n  };\r\n  if (area.rotation) {\r\n    abox = rotateRectangluarBox(area, abox);\r\n  }\r\n  return abox;\r\n};\r\n\r\nconst polygonBBox = (area) => {\r\n  const points = area.rotation\r\n    ? area.polygon.points.map((p) => ({\r\n        x:\r\n          Math.cos((area.rotation / 180) * Math.PI) * p.x -\r\n          Math.sin((area.rotation / 180) * Math.PI) * p.y,\r\n        y:\r\n          Math.sin((area.rotation / 180) * Math.PI) * p.x +\r\n          Math.cos((area.rotation / 180) * Math.PI) * p.y,\r\n      }))\r\n    : area.polygon.points;\r\n  const minx = Math.min(...points.map((s) => s.x));\r\n  const miny = Math.min(...points.map((s) => s.y));\r\n  const maxx = Math.max(...points.map((s) => s.x));\r\n  const maxy = Math.max(...points.map((s) => s.y));\r\n  return {\r\n    x: area.position.x + minx,\r\n    y: area.position.y + miny,\r\n    width: maxx - minx,\r\n    height: maxy - miny,\r\n  };\r\n};\r\n\r\nconst ellipseBBox = (area) => {\r\n  // See https://math.stackexchange.com/a/91304 for math\r\n  const thetha = ((area.rotation || 0) / 180) * Math.PI;\r\n  const a = area.ellipse.radius.x;\r\n  const b = area.ellipse.radius.y;\r\n  const width =\r\n    2 *\r\n    Math.sqrt(\r\n      Math.pow(a * Math.cos(thetha), 2) + Math.pow(b * Math.sin(thetha), 2)\r\n    );\r\n  const height =\r\n    2 *\r\n    Math.sqrt(\r\n      Math.pow(a * Math.sin(thetha), 2) + Math.pow(b * Math.cos(thetha), 2)\r\n    );\r\n  return {\r\n    x: area.position.x - width / 2,\r\n    y: area.position.y - height / 2,\r\n    width: width,\r\n    height: height,\r\n  };\r\n};\r\n\r\nconst findClosestGridPoint = ({ x, y, zone }) => {\r\n  if (zone) {\r\n    x += zone.position.x;\r\n    y += zone.position.y;\r\n  }\r\n  // grid-size was 10, but 5 fits better with default seating distance of 25\r\n  x = Math.round(x / 20) * 20;\r\n  y = Math.round(y / 20) * 20;\r\n  if (zone) {\r\n    x -= zone.position.x;\r\n    y -= zone.position.y;\r\n  }\r\n  return {\r\n    x,\r\n    y,\r\n  };\r\n};\r\n\r\nconst rotatePolygon = (points, rotation, ox, oy) => {\r\n  return rotation\r\n    ? points.map((p) => ({\r\n        x:\r\n          Math.cos((rotation / 180) * Math.PI) * (p.x - ox) -\r\n          Math.sin((rotation / 180) * Math.PI) * (p.y - oy) +\r\n          ox,\r\n        y:\r\n          Math.sin((rotation / 180) * Math.PI) * (p.x - ox) +\r\n          Math.cos((rotation / 180) * Math.PI) * (p.y - oy) +\r\n          oy,\r\n      }))\r\n    : points;\r\n};\r\n\r\nconst testOverlap = (area, zone, xmin, ymin, xmax, ymax) => {\r\n  // Check if an area should be selected by the selection box [xmin, ymin, xmax, ymax]\r\n  // For text, circle, and ellipse, we return true as soon as the object is touched\r\n  // For polygons and rectangles, we return true when a *point* of the object is in the box\r\n  // Yes, this is inconsistent, but it makes sense with how things are used in seating plans. Polygons and rectangles\r\n  // are very commonly used as \"background\" objects (e.g. to mark an area of the plan) and it would be absolutely\r\n  // annoying if you'd always select them when selecting any seats within them. Also, intersection of arbitrary\r\n  // non-convex polygons is really hard.\r\n  if (area.shape === 'circle') {\r\n    return circleBox(\r\n      zone.position.x + area.position.x,\r\n      zone.position.y + area.position.y,\r\n      area.circle.radius,\r\n      xmin,\r\n      ymin,\r\n      xmax - xmin,\r\n      ymax - ymin\r\n    );\r\n  } else if (area.shape === 'ellipse' || area.shape === 'gaCircle') {\r\n    // the intersection library only does axis-oriented ellipses… so what do we do? we rotate our rectangle instead…\r\n    return polygonEllipse(\r\n      rotatePolygon(\r\n        [\r\n          { x: xmin, y: ymin },\r\n          { x: xmax, y: ymin },\r\n          { x: xmax, y: ymax },\r\n          { x: xmin, y: ymax },\r\n        ],\r\n        -area.rotation,\r\n        zone.position.x + area.position.x,\r\n        zone.position.y + area.position.y\r\n      ).flatMap((p) => [p.x, p.y]),\r\n      zone.position.x + area.position.x,\r\n      zone.position.y + area.position.y,\r\n      area.ellipse.radius.x,\r\n      area.ellipse.radius.y\r\n    );\r\n  } else if (area.shape === 'rectangle' || area.shape === 'gaSquare') {\r\n    return rotatePolygon(\r\n      [\r\n        {\r\n          x: zone.position.x + area.position.x,\r\n          y: zone.position.y + area.position.y,\r\n        },\r\n        {\r\n          x: zone.position.x + area.position.x + area.rectangle.width,\r\n          y: zone.position.y + area.position.y,\r\n        },\r\n        {\r\n          x: zone.position.x + area.position.x + area.rectangle.width,\r\n          y: zone.position.y + area.position.y + area.rectangle.height,\r\n        },\r\n        {\r\n          x: zone.position.x + area.position.x,\r\n          y: zone.position.y + area.position.y + area.rectangle.height,\r\n        },\r\n      ],\r\n      area.rotation,\r\n      zone.position.x + area.position.x,\r\n      zone.position.y + area.position.y\r\n    ).some((p) => p.x >= xmin && p.x <= xmax && p.y >= ymin && p.y <= ymax);\r\n  } else if (area.shape === 'polygon' || area.shape === 'gaPolygon') {\r\n    return rotatePolygon(\r\n      area.polygon.points.map((p) => ({\r\n        x: zone.position.x + area.position.x + p.x,\r\n        y: zone.position.y + area.position.y + p.y,\r\n      })),\r\n      area.rotation,\r\n      zone.position.x + area.position.x,\r\n      zone.position.y + area.position.y\r\n    ).some((p) => p.x >= xmin && p.x <= xmax && p.y >= ymin && p.y <= ymax);\r\n  } else if (area.shape === 'text') {\r\n    const s = area.text.size || 16;\r\n    const width = estimateTextWidth(area.text.text, s);\r\n    return polygonBox(\r\n      rotatePolygon(\r\n        [\r\n          {\r\n            x: zone.position.x + area.position.x - width / 2,\r\n            y: zone.position.y + area.position.y - s / 2,\r\n          },\r\n          {\r\n            x: zone.position.x + area.position.x + width / 2,\r\n            y: zone.position.y + area.position.y - s / 2,\r\n          },\r\n          {\r\n            x: zone.position.x + area.position.x + width / 2,\r\n            y: zone.position.y + area.position.y + s / 2,\r\n          },\r\n          {\r\n            x: zone.position.x + area.position.x - width / 2,\r\n            y: zone.position.y + area.position.y + s / 2,\r\n          },\r\n        ],\r\n        area.rotation,\r\n        zone.position.x + area.position.x,\r\n        zone.position.y + area.position.y\r\n      ).flatMap((p) => [p.x, p.y]),\r\n      xmin,\r\n      ymin,\r\n      xmax - xmin,\r\n      ymax - ymin\r\n    );\r\n  } else if (area.shape === 'roundTable') {\r\n    return circleBox(\r\n      zone.position.x + area.position.x,\r\n      zone.position.y + area.position.y,\r\n      area.radius + 20,\r\n      xmin,\r\n      ymin,\r\n      xmax - xmin,\r\n      ymax - ymin\r\n    );\r\n  } else if (area.shape === 'rectangleTable') {\r\n    const top = area.seats.some((i) => i.special === 'top') ? 1 : 0;\r\n    const bottom = area.seats.some((i) => i.special === 'bottom') ? 1 : 0;\r\n    const left = area.seats.some((i) => i.special === 'left') ? 1 : 0;\r\n    const right = area.seats.some((i) => i.special === 'right') ? 1 : 0;\r\n    const width = area.rectangleTable.width + 20 * (left + right);\r\n    const height = area.rectangleTable.height + 20 * (top + bottom);\r\n    const stX = area.position.x - area.rectangleTable.width / 2 - left * 20;\r\n    const stY = area.position.y - area.rectangleTable.height / 2 - top * 20;\r\n    return rotatePolygon(\r\n      [\r\n        {\r\n          x: zone.position.x + stX,\r\n          y: zone.position.y + stY,\r\n        },\r\n        {\r\n          x: zone.position.x + stX + width,\r\n          y: zone.position.y + stY,\r\n        },\r\n        {\r\n          x: zone.position.x + stX + width,\r\n          y: zone.position.y + stY + height,\r\n        },\r\n        {\r\n          x: zone.position.x + stX,\r\n          y: zone.position.y + stY + height,\r\n        },\r\n      ],\r\n      area.rotation,\r\n      zone.position.x + area.position.x,\r\n      zone.position.y + area.position.y\r\n    ).some((p) => p.x >= xmin && p.x <= xmax && p.y >= ymin && p.y <= ymax);\r\n  }\r\n};\r\n\r\nconst findCircleCenter = ({ x1, y1, x2, y2, radius, sign }) => {\r\n  // See https://math.stackexchange.com/a/1781546 for reasoning\r\n  const centerx = 0.5 * (x1 + x2);\r\n  const centery = 0.5 * (y1 + y2);\r\n  const distance = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\r\n  const b = Math.sqrt(radius * radius - (distance / 2) * (distance / 2));\r\n  const cx = centerx + ((b * (centery - y1)) / (distance / 2)) * sign;\r\n  const cy = centery - ((b * (centerx - x1)) / (distance / 2)) * sign;\r\n\r\n  return { cx, cy };\r\n};\r\n\r\nlet degreeInCircle = (y, x) => {\r\n  // Finds the position a point relative to the circle in polar coordinates\r\n  let theta = Math.atan2(-y, x); // y goes up in math, but our y goes down!\r\n  if (theta < 0) {\r\n    // We don't want negative angles for consistency\r\n    theta += 2 * Math.PI;\r\n  }\r\n  return theta;\r\n};\r\n\r\nexport {\r\n  findClosestGridPoint,\r\n  findCircleCenter,\r\n  degreeInCircle,\r\n  positionInZone,\r\n  rectangleBBox,\r\n  polygonBBox,\r\n  textBBox,\r\n  ellipseBBox,\r\n  testOverlap,\r\n  roundTableBBox,\r\n  rectangleTableBBox,\r\n  estimateTextWidth,\r\n  rotateRectangluarBox,\r\n};\r\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","function letterCounter(number, start) {\r\n  // A, B, … Z, AA, AB, … ZZ, AAA …\r\n  let baseChar = start.charCodeAt(0);\r\n  let letters = \"\";\r\n\r\n  do {\r\n    number -= 1;\r\n    letters = String.fromCharCode(baseChar + (number % 26)) + letters;\r\n    number = (number / 26) >> 0; // quick `floor`\r\n  } while (number > 0);\r\n\r\n  return letters;\r\n}\r\n\r\nfunction skipLetterCounter(number, start, skip_letter, count) {\r\n  const res = [];\r\n  let num = number;\r\n  const skips = skip_letter.split(/\\s*,\\s*/);\r\n  while (res.length < count) {\r\n    let baseChar = start.charCodeAt(0);\r\n    let letters = \"\";\r\n    do {\r\n      number -= 1;\r\n      letters = String.fromCharCode(baseChar + (number % 26)) + letters;\r\n      number = (number / 26) >> 0; // quick `floor`\r\n    } while (number > 0);\r\n    if (!skips.includes(letters.toString())) res.push(letters);\r\n    number = num + 1;\r\n    num++;\r\n  }\r\n  return res;\r\n}\r\n\r\nfunction reverseLetterCounter(letters) {\r\n  let n = 0;\r\n  for (let p = 0; p < letters.length; p++) {\r\n    n = letters[p].charCodeAt() - 64 + n * 26;\r\n  }\r\n  return n;\r\n}\r\n\r\nconst SEAT_NUMBERINGS = [\r\n  {\r\n    id: \"natural\",\r\n    label: \"1, 2, 3, …\",\r\n    compute: (seats, startAt) => {\r\n      let counter = startAt;\r\n      return seats.map((s) => (counter++).toString());\r\n    },\r\n    skip: (seats, startAt, skip_letter) => {\r\n      let counter = startAt;\r\n      const res = [];\r\n      const len = seats.length;\r\n      const skips = skip_letter.split(/\\s*,\\s*/);\r\n      while (res.length < len) {\r\n        if (!skips.includes(counter.toString())) res.push(counter.toString());\r\n        counter++;\r\n      }\r\n      return res;\r\n      // return rows.map((r) => skipLetterCounter(counter++, 'a', skip_letter));\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return parseInt(firstValue);\r\n    },\r\n    start: (val) => {\r\n      return val;\r\n    },\r\n  },\r\n  {\r\n    id: \"odd\",\r\n    label: \"1, 3, 5, …\",\r\n    compute: (seats, startAt) => {\r\n      let counter = startAt;\r\n      if (startAt % 2)\r\n        return seats.map((s) => {\r\n          const n = counter;\r\n          counter += 2;\r\n          return n.toString();\r\n        });\r\n      return null;\r\n    },\r\n    skip: (seats, startAt, skip_letter) => {\r\n      let counter = startAt;\r\n      const res = [];\r\n      const len = seats.length;\r\n      const skips = skip_letter.split(/\\s*,\\s*/);\r\n      while (res.length < len) {\r\n        if (!skips.includes(counter.toString())) res.push(counter.toString());\r\n        counter += 2;\r\n      }\r\n      return res;\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return parseInt(firstValue);\r\n    },\r\n    start: (value) => {\r\n      return value;\r\n    },\r\n  },\r\n  {\r\n    id: \"even\",\r\n    label: \"2, 4, 6, …\",\r\n    compute: (seats, startAt) => {\r\n      let counter = startAt;\r\n      if (startAt % 2) return null;\r\n      return seats.map((s) => {\r\n        const n = counter;\r\n        counter += 2;\r\n        return n.toString();\r\n      });\r\n    },\r\n    skip: (seats, startAt, skip_letter) => {\r\n      let counter = startAt;\r\n      const res = [];\r\n      const len = seats.length;\r\n      const skips = skip_letter.split(/\\s*,\\s*/);\r\n      while (res.length < len) {\r\n        if (!skips.includes(counter.toString())) res.push(counter.toString());\r\n        counter += 2;\r\n      }\r\n      return res;\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return parseInt(firstValue);\r\n    },\r\n    start: (value) => {\r\n      return value;\r\n    },\r\n  },\r\n  // {\r\n  //   id: \"odd\",\r\n  //   label: \"1, 3, 5, … / 2, 4, 6, …\",\r\n  //   compute: (seats, startAt) => {\r\n  //     let counter = startAt;\r\n  //     return seats.map((s) => {\r\n  //       const n = counter;\r\n  //       counter += 2;\r\n  //       return n.toString();\r\n  //     });\r\n  //   },\r\n  //   skip: (seats, startAt, skip_letter) => {\r\n  //     let counter = startAt;\r\n  //     const res = [];\r\n  //     const len = seats.length;\r\n  //     const skips = skip_letter.split(/\\s*,\\s*/);\r\n  //     while (res.length < len) {\r\n  //       if (!skips.includes(counter.toString())) res.push(counter.toString());\r\n  //       counter += 2;\r\n  //     }\r\n  //     return res;\r\n  //   },\r\n  //   findStartAt: (firstValue) => {\r\n  //     return parseInt(firstValue);\r\n  //   },\r\n  // },\r\n  {\r\n    id: \"alpha\",\r\n    label: \"A, B, C, …\",\r\n    compute: (seats, startAt) => {\r\n      let counter = startAt;\r\n      return seats.map((s) => letterCounter(counter++, \"A\"));\r\n    },\r\n    skip: (seats, startAt, skip_letter) => {\r\n      let counter = startAt;\r\n      return skipLetterCounter(counter, \"A\", skip_letter, seats.length);\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return reverseLetterCounter(firstValue.toUpperCase());\r\n    },\r\n    start: (value) => {\r\n      return letterCounter(value, \"A\");\r\n    },\r\n  },\r\n  {\r\n    id: \"alphalower\",\r\n    label: \"a, b, c, …\",\r\n    compute: (seats, startAt) => {\r\n      let counter = startAt;\r\n      return seats.map((s) => letterCounter(counter++, \"a\"));\r\n    },\r\n    skip: (seats, startAt, skip_letter) => {\r\n      return skipLetterCounter(startAt, \"a\", skip_letter, seats.length);\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return reverseLetterCounter(firstValue.toUpperCase());\r\n    },\r\n    start: (value) => {\r\n      return letterCounter(value, \"a\");\r\n    },\r\n  },\r\n];\r\n\r\nconst ROW_NUMBERINGS = [\r\n  {\r\n    id: \"natural\",\r\n    label: \"1, 2, 3, …\",\r\n    compute: (rows, startAt) => {\r\n      let counter = startAt;\r\n      return rows.map((r) => (counter++).toString());\r\n    },\r\n    skip: (rows, startAt, skip_letter) => {\r\n      let counter = startAt;\r\n      const res = [];\r\n      const len = rows.length;\r\n      const skips = skip_letter.split(/\\s*,\\s*/);\r\n      while (res.length < len) {\r\n        if (!skips.includes(counter.toString())) res.push(counter.toString());\r\n        counter++;\r\n      }\r\n      return res;\r\n    },\r\n    start: (val) => {\r\n      return val;\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return parseInt(firstValue);\r\n    },\r\n  },\r\n  {\r\n    id: \"odd\",\r\n    label: \"1, 3, 5, …\",\r\n    compute: (rows, startAt) => {\r\n      let counter = startAt;\r\n      if (startAt % 2)\r\n        return rows.map((s) => {\r\n          const n = counter;\r\n          counter += 2;\r\n          return n.toString();\r\n        });\r\n      return null;\r\n    },\r\n    skip: (rows, startAt, skip_letter) => {\r\n      let counter = startAt;\r\n      const res = [];\r\n      const len = rows.length;\r\n      const skips = skip_letter.split(/\\s*,\\s*/);\r\n      while (res.length < len) {\r\n        if (!skips.includes(counter.toString())) res.push(counter.toString());\r\n        counter += 2;\r\n      }\r\n      return res;\r\n    },\r\n    start: (value) => {\r\n      return value;\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return parseInt(firstValue);\r\n    },\r\n  },\r\n  {\r\n    id: \"even\",\r\n    label: \"2, 4, 6, …\",\r\n    compute: (rows, startAt) => {\r\n      let counter = startAt;\r\n      if (startAt % 2) return null;\r\n      return rows.map((s) => {\r\n        const n = counter;\r\n        counter += 2;\r\n        return n.toString();\r\n      });\r\n    },\r\n    start: (value) => {\r\n      return value;\r\n    },\r\n    skip: (rows, startAt, skip_letter) => {\r\n      let counter = startAt;\r\n      const res = [];\r\n      const len = rows.length;\r\n      const skips = skip_letter.split(/\\s*,\\s*/);\r\n      while (res.length < len) {\r\n        if (!skips.includes(counter.toString())) res.push(counter.toString());\r\n        counter += 2;\r\n      }\r\n      return res;\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return parseInt(firstValue);\r\n    },\r\n  },\r\n  {\r\n    id: \"alpha\",\r\n    label: \"A, B, C, …\",\r\n    compute: (rows, startAt) => {\r\n      let counter = startAt;\r\n      return rows.map((r) => letterCounter(counter++, \"A\"));\r\n    },\r\n    skip: (rows, startAt, skip_letter) => {\r\n      let counter = startAt;\r\n      return skipLetterCounter(counter, \"A\", skip_letter, rows.length);\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return reverseLetterCounter(firstValue.toUpperCase());\r\n    },\r\n    start: (value) => {\r\n      return letterCounter(value, \"A\");\r\n    },\r\n  },\r\n  {\r\n    id: \"alphalower\",\r\n    label: \"a, b, c, …\",\r\n    compute: (rows, startAt) => {\r\n      let counter = startAt;\r\n      return rows.map((r) => letterCounter(counter++, \"a\"));\r\n    },\r\n    skip: (rows, startAt, skip_letter) => {\r\n      return skipLetterCounter(startAt, \"a\", skip_letter, rows.length);\r\n    },\r\n    findStartAt: (firstValue) => {\r\n      return reverseLetterCounter(firstValue.toUpperCase());\r\n    },\r\n    start: (value) => {\r\n      return letterCounter(value, \"a\");\r\n    },\r\n  },\r\n  // roman numbers?\r\n];\r\n\r\nconst reverse = (array) =>\r\n  array.map((item, idx) => array[array.length - 1 - idx]);\r\n\r\nexport {\r\n  letterCounter,\r\n  skipLetterCounter,\r\n  reverse,\r\n  SEAT_NUMBERINGS,\r\n  ROW_NUMBERINGS,\r\n};\r\n","import { defineStore } from \"pinia\";\r\nimport Vue, { ref } from \"vue\";\r\n\r\nimport { v4 as uuid } from \"uuid\";\r\nimport Ajv from \"ajv\";\r\nimport schema from \"../schema/seating-plan.schema.json\";\r\nimport {\r\n  letterCounter,\r\n  skipLetterCounter,\r\n  reverse,\r\n  SEAT_NUMBERINGS,\r\n} from \"@/lib/numbering\";\r\nimport { generateID } from \"@/lib/numbers\";\r\nimport { useMainStore } from \".\";\r\n\r\n// This is certainly not a best practice, but we don't want these two reactive for performance reasons\r\n\r\nconst zoneNameToID = (name) => name.replace(/[^0-9A-Za-z]/, \"\");\r\n\r\nexport const usePlanStore = defineStore(\"plan\", {\r\n  state: () => ({\r\n    _plan: {\r\n      zones: [],\r\n      categories: [],\r\n      sections: [],\r\n      size: {\r\n        width: 0,\r\n        height: 0,\r\n      },\r\n      point: {\r\n        x: 0,\r\n        y: 0,\r\n      },\r\n      name: \"My Charting Board\",\r\n      mode: false,\r\n    },\r\n    validationErrors: undefined,\r\n    hasUndo: false,\r\n    hasRedo: false,\r\n    undoStack: [],\r\n    redoStack: [],\r\n    timeoutID: null,\r\n  }),\r\n  getters: {\r\n    plan: (state) => state._plan,\r\n    planSize: (state) => state._plan.size || 0,\r\n    getCategoryByName: (state) => (category) => {\r\n      return state._plan.categories.find((c) => c.name === category);\r\n    },\r\n    categories: (state) => state._plan.categories,\r\n  },\r\n  actions: {\r\n    persistPlan(skipHistory = false) {\r\n      const s = JSON.stringify(this._plan);\r\n      localStorage.setItem(\"frontrow2.editor.plan\", s);\r\n\r\n      if (!skipHistory) {\r\n        this.recordHistoryState(s);\r\n      }\r\n\r\n      this.setValidationErrors(undefined);\r\n\r\n      if (this.timeoutID) {\r\n        clearTimeout(this.timeoutID);\r\n      }\r\n\r\n      this.timeoutID = setTimeout(() => {\r\n        this.validatePlan();\r\n        this.timeoutID = null;\r\n      }, 500);\r\n    },\r\n\r\n    setMode(mode) {\r\n      this._plan.mode = mode;\r\n      this.persistPlan();\r\n    },\r\n\r\n    validationPlan() {\r\n      let nCategory = 0;\r\n      let nSection = 0;\r\n      const seatIds = [];\r\n      let nTableLabel = 0;\r\n      let nTableAbv = 0;\r\n      let nCapacity = 0;\r\n      let nSectionLabel = 0;\r\n      let nSectionAbv = 0;\r\n      let nSeatLabel = 0;\r\n      let nRowLabel = 0;\r\n\r\n      for (const z of this.plan.zones) {\r\n        for (const r of z.rows) {\r\n          for (const s of r.seats) {\r\n            if (!s.category || !s.section_label || !s.seat_number) {\r\n              s.valid = false;\r\n              if (!s.category) {\r\n                nCategory++;\r\n              }\r\n              if (!s.section_label) {\r\n                nSection++;\r\n              }\r\n              if (!s.seat_number) {\r\n                nSeatLabel++;\r\n              }\r\n            } else {\r\n              s.valid = true;\r\n            }\r\n            seatIds.push(s.guid);\r\n          }\r\n          if (!r.row_number) nRowLabel++;\r\n        }\r\n        for (const a of z.areas) {\r\n          if (\r\n            a.shape === \"gaCircle\" ||\r\n            a.shape === \"gaSquare\" ||\r\n            a.shape === \"gaPolygon\"\r\n          ) {\r\n            if (\r\n              !a.category ||\r\n              !a.section_label ||\r\n              a.capacity < 1 ||\r\n              !a.label ||\r\n              !a.abbreviation\r\n            ) {\r\n              a.valid = false;\r\n              if (!a.category) {\r\n                nCategory++;\r\n              }\r\n              if (!a.section_label) {\r\n                nSection++;\r\n              }\r\n              if (a.capacity <= 0) {\r\n                nCapacity++;\r\n              }\r\n              if (!a.label) {\r\n                nSectionLabel++;\r\n              }\r\n              if (!a.abbreviation) {\r\n                nSectionAbv++;\r\n              }\r\n            } else a.valid = true;\r\n            seatIds.push(a.guid);\r\n          }\r\n          if (a.shape === \"roundTable\" || a.shape === \"rectangleTable\") {\r\n            for (const s of a.seats) {\r\n              if (\r\n                !s.category ||\r\n                !s.section_label ||\r\n                !s.seat_number ||\r\n                !a.label.name ||\r\n                !a.label.abv\r\n              ) {\r\n                s.valid = false;\r\n                if (!s.category) {\r\n                  nCategory++;\r\n                }\r\n                if (!s.section_label) {\r\n                  nSection++;\r\n                }\r\n                if (!s.seat_number) nSeatLabel++;\r\n              } else s.valid = true;\r\n              seatIds.push(s.guid);\r\n            }\r\n            if (!a.label.name) {\r\n              nTableLabel += a.seats.length;\r\n            }\r\n            if (!a.label.abv) {\r\n              nTableAbv += a.seats.length;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      const temp = [...new Set(seatIds)];\r\n      const nSeat = seatIds.length - temp.length;\r\n      const isValid =\r\n        nCategory ||\r\n        nSection ||\r\n        nSeat ||\r\n        nTableLabel ||\r\n        nTableAbv ||\r\n        nCapacity ||\r\n        nSectionLabel ||\r\n        nSectionAbv ||\r\n        nSeatLabel ||\r\n        nRowLabel;\r\n\r\n      return {\r\n        category: nCategory,\r\n        section: nSection,\r\n        seatId: nSeat,\r\n        tableLabel: nTableLabel,\r\n        tableAbv: nTableAbv,\r\n        capacity: nCapacity,\r\n        sectionLabel: nSectionLabel,\r\n        sectionAbv: nSectionAbv,\r\n        seatLabel: nSeatLabel,\r\n        rowLabel: nRowLabel,\r\n        isValid,\r\n      };\r\n\r\n      // return {\r\n      //   category: nCategory\r\n      //     ? `${nCategory} element(s) without category.`\r\n      //     : \"All elements contain category.\",\r\n      //   section: nSection\r\n      //     ? `${nSection} element(s) without section.`\r\n      //     : \"All elements contain section.\",\r\n      // };\r\n    },\r\n\r\n    validatePosition() {\r\n      let nSeat = 0;\r\n      const positions = [];\r\n\r\n      for (const z of this.plan.zones) {\r\n        for (const r of z.rows) {\r\n          for (const s of r.seats) {\r\n            positions.push({\r\n              x: s.position.x + r.position.x,\r\n              y: s.position.y + r.position.y,\r\n            });\r\n          }\r\n        }\r\n      }\r\n\r\n      const res = this.detectOverlaps(positions, 19);\r\n      return res;\r\n    },\r\n\r\n    detectOverlaps(positions, threshold) {\r\n      const cellSize = threshold;\r\n      const grid = new Map();\r\n\r\n      function getGridKey(x, y) {\r\n        const gridX = Math.floor(x / cellSize);\r\n        const gridY = Math.floor(y / cellSize);\r\n        return `${gridX},${gridY}`;\r\n      }\r\n\r\n      // Place each position into the grid\r\n      for (const { x, y } of positions) {\r\n        const key = getGridKey(x, y);\r\n        if (!grid.has(key)) {\r\n          grid.set(key, []);\r\n        }\r\n        grid.get(key).push({ x, y });\r\n      }\r\n\r\n      let overlapCount = 0;\r\n\r\n      // Check for overlaps within each cell and adjacent cells\r\n      for (const [key, points] of grid.entries()) {\r\n        const [gridX, gridY] = key.split(\",\").map(Number);\r\n\r\n        for (let i = 0; i < points.length; i++) {\r\n          const { x: x1, y: y1 } = points[i];\r\n\r\n          // Check the same cell\r\n          for (let j = i + 1; j < points.length; j++) {\r\n            const { x: x2, y: y2 } = points[j];\r\n            if (\r\n              Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)) <\r\n              threshold\r\n            ) {\r\n              overlapCount++;\r\n            }\r\n          }\r\n\r\n          // Check the adjacent cells\r\n          for (let dx = -1; dx <= 1; dx++) {\r\n            for (let dy = -1; dy <= 1; dy++) {\r\n              if (dx === 0 && dy === 0) continue; // Skip the current cell\r\n              const adjacentKey = `${gridX + dx},${gridY + dy}`;\r\n              if (grid.has(adjacentKey)) {\r\n                for (const { x: x2, y: y2 } of grid.get(adjacentKey)) {\r\n                  if (\r\n                    Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2)) <\r\n                    threshold\r\n                  ) {\r\n                    overlapCount++;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      return overlapCount;\r\n    },\r\n\r\n    validatePlan() {\r\n      const ajv = new Ajv({ allErrors: true, verbose: true });\r\n      const plan = this._plan;\r\n      Promise.resolve(\r\n        ajv.validate(JSON.parse(JSON.stringify(schema)), plan)\r\n      ).then((valid) => {\r\n        if (valid) {\r\n          const errors = [];\r\n          const seatGuids = new Set();\r\n          const seatNames = new Set();\r\n          const errorIds = new Set();\r\n\r\n          for (const z of plan.zones) {\r\n            if (errors.length > 50) break;\r\n            for (const r of z.rows) {\r\n              if (errors.length > 50) break;\r\n              for (const s of r.seats) {\r\n                if (errors.length > 50) break;\r\n                const sname = `${z.name}>${r.row_number}>${s.seat_number}`;\r\n                if (!s.seat_guid) {\r\n                  errors.push({\r\n                    text: `Seat ${z.name} > ${r.row_number} > ${s.seat_number} has no seat ID.`,\r\n                    uuid: s.uuid,\r\n                    tool: \"seatselect\",\r\n                  });\r\n                } else if (\r\n                  seatGuids.has(s.seat_guid) &&\r\n                  !errorIds.has(s.seat_guid)\r\n                ) {\r\n                  errors.push({\r\n                    text: `Seat ID \"${s.seat_guid}\" is not unique! This will lead to errors when people try to book these seats. (Seen again in \"${z.name}\" > \"${r.row_number}\" > \"${s.seat_number}\")`,\r\n                    uuid: s.uuid,\r\n                    tool: \"seatselect\",\r\n                  });\r\n                  errorIds.add(s.seat_guid);\r\n                } else if (seatNames.has(sname) && !errorIds.has(sname)) {\r\n                  errors.push({\r\n                    text: `You have multiple seats with zone \"${z.name}\", row \"${r.row_number}\", and seat \"${s.seat_number}\". This is going to be very confusing.`,\r\n                    uuid: s.uuid,\r\n                    tool: \"seatselect\",\r\n                  });\r\n                  errorIds.add(sname);\r\n                }\r\n                seatGuids.add(s.seat_guid);\r\n                seatNames.add(sname);\r\n              }\r\n            }\r\n          }\r\n\r\n          this.setValidationErrors(errors);\r\n        } else {\r\n          this.setValidationErrors([\r\n            {\r\n              text:\r\n                \"JSON schema validation error (contact support for help): \" +\r\n                ajv.errorsText(ajv.errors),\r\n            },\r\n          ]);\r\n        }\r\n      });\r\n    },\r\n\r\n    setValidationErrors(errors) {\r\n      this.validationErrors = errors;\r\n    },\r\n\r\n    createRowBlock(zone, position, rows, seats, row_spacing, seat_spacing) {\r\n      return new Promise((res, rej) => {\r\n        try {\r\n          const rowids = [];\r\n          zone = this._plan.zones.find((z) => z.uuid === zone);\r\n          for (const rix of [...Array(rows).keys()]) {\r\n            const row = {\r\n              position: { x: position.x, y: position.y + rix * row_spacing },\r\n              // row_number: (rix + 1).toString(),\r\n              row_number: letterCounter(rix + 1, \"A\"),\r\n              row_number_position: \"both\",\r\n              seats: [],\r\n              uuid: uuid(),\r\n              guid: generateID(),\r\n              rotation: 0,\r\n            };\r\n            for (const six of [...Array(seats).keys()]) {\r\n              row.seats.push({\r\n                seat_number: (six + 1).toString(),\r\n                seat_guid: uuid(),\r\n                uuid: uuid(),\r\n                guid: generateID(),\r\n                position: { x: six * seat_spacing, y: 0 },\r\n                category: \"\",\r\n              });\r\n            }\r\n            this.createRowAfter(zone.uuid, row, false);\r\n            rowids.push(row.uuid);\r\n          }\r\n          this.persistPlan();\r\n          return rowids;\r\n        } catch (err) {\r\n          rej(err);\r\n        }\r\n      });\r\n    },\r\n\r\n    createStgRowBlock(zone, position, rows, seats, row_spacing, seat_spacing) {\r\n      return new Promise((res, rej) => {\r\n        try {\r\n          const rowids = [];\r\n          zone = this._plan.zones.find((z) => z.uuid === zone);\r\n          // console.log(rows);\r\n          for (const rix of [...Array(rows).keys()]) {\r\n            // console.log(rix)\r\n            let row = {};\r\n            if (rix % 2 === 0) {\r\n              row = {\r\n                position: { x: position.x, y: position.y + rix * row_spacing },\r\n                // row_number: (rix + 1).toString(),\r\n                row_number: letterCounter(rix + 1, \"A\"),\r\n                row_number_position: \"both\",\r\n                seats: [],\r\n                guid: generateID(),\r\n                uuid: uuid(),\r\n                rotation: 0,\r\n              };\r\n\r\n              for (const six of [...Array(seats).keys()]) {\r\n                row.seats.push({\r\n                  seat_number: (six + 1).toString(),\r\n                  // row_number: letterCounter(rix + 1, 'A'),\r\n                  seat_guid: uuid(),\r\n                  uuid: uuid(),\r\n                  guid: generateID(),\r\n                  position: { x: six * seat_spacing, y: 0 },\r\n                  category: \"\",\r\n                });\r\n              }\r\n            } else {\r\n              row = {\r\n                position: {\r\n                  x: position.x + 10,\r\n                  y: position.y + rix * row_spacing,\r\n                },\r\n                // row_number: (rix + 1).toString(),\r\n                row_number: letterCounter(rix + 1, \"A\"),\r\n                row_number_position: \"both\",\r\n                seats: [],\r\n                uuid: uuid(),\r\n                guid: generateID(),\r\n                rotation: 0,\r\n              };\r\n              for (const six of [...Array(seats - 1).keys()]) {\r\n                row.seats.push({\r\n                  seat_number: (six + 1).toString(),\r\n                  seat_guid: uuid(),\r\n                  uuid: uuid(),\r\n                  guid: generateID(),\r\n                  position: { x: six * seat_spacing, y: 0 },\r\n                  category: \"\",\r\n                });\r\n              }\r\n            }\r\n\r\n            this.createRowAfter(zone.uuid, row, false);\r\n            rowids.push(row.uuid);\r\n          }\r\n          this.persistPlan();\r\n          return rowids;\r\n        } catch (err) {\r\n          rej(err);\r\n        }\r\n      });\r\n    },\r\n\r\n    undo() {\r\n      if (this.undoStack.length > 2) {\r\n        const plan = this.undoStack.pop();\r\n        this.redoStack.push(plan);\r\n        this._plan = JSON.parse(this.undoStack[this.undoStack.length - 1]);\r\n        this.hasRedo = true;\r\n        this.hasUndo = this.undoStack.length > 2;\r\n        this.persistPlan({ skipHistory: true });\r\n      }\r\n    },\r\n\r\n    redo() {\r\n      if (this.redoStack.length) {\r\n        const plan = this.redoStack.pop();\r\n        this.undoStack.push(plan);\r\n        this._plan = JSON.parse(plan);\r\n        this.hasUndo = this.undoStack.length >= 2;\r\n        this.hasRedo = this.redoStack.length >= 1;\r\n        this.persistPlan({ skipHistory: false });\r\n      }\r\n    },\r\n\r\n    restackAreas(areaIds, front) {\r\n      for (const z of this._plan.zones) {\r\n        let movedAreas = [];\r\n        z.areas = z.areas.filter((a) => {\r\n          const isTarget = areaIds.includes(a.uuid);\r\n          if (isTarget) movedAreas.push(a);\r\n          return !isTarget;\r\n        });\r\n        if (front) {\r\n          z.areas.push(...movedAreas);\r\n        } else {\r\n          z.areas.unshift(...movedAreas);\r\n        }\r\n      }\r\n      this.persistPlan();\r\n    },\r\n\r\n    deleteCategory(name) {\r\n      if (this._plan.mode) {\r\n        alert(\"Can not delete category\");\r\n        return;\r\n      }\r\n      this._plan.categories = this._plan.categories.filter(\r\n        (z) => z.name !== name\r\n      );\r\n      this.persistPlan();\r\n    },\r\n\r\n    deleteObjects(objects) {\r\n      if (this._plan.mode) {\r\n        alert(\"Can not delete object\");\r\n        return;\r\n      }\r\n      objects = useMainStore().selection;\r\n      this._plan.zones = this._plan.zones.filter(\r\n        (z) => !objects.includes(z.uuid)\r\n      );\r\n      for (const z of this._plan.zones) {\r\n        z.areas = z.areas.filter((a) => !objects.includes(a.uuid));\r\n        z.rows = z.rows.filter((r) => !objects.includes(r.uuid));\r\n        for (const r of z.rows) {\r\n          r.seats = r.seats.filter((s) => !objects.includes(s.uuid));\r\n        }\r\n        for (const a of z.areas) {\r\n          if (a.shape === \"roundTable\" || a.shape === \"rectangleTable\") {\r\n            a.seats = a.seats.filter((s) => !objects.includes(s.uuid));\r\n          }\r\n        }\r\n      }\r\n      // Assume there's an `unselect` action\r\n      // this.unselect(objects);\r\n      useMainStore().unselect(objects);\r\n      this.persistPlan();\r\n    },\r\n\r\n    // unselect(uuids) {\r\n    //   // let res = useMainStore().selection;\r\n    //   // uuids.forEach(uuid => res = res.filter(uid => uid !== uuid));\r\n    //   // useMainStore().setSelection(res);\r\n    //   // this.persistPlan();\r\n    // },\r\n\r\n    recordHistoryState(json) {\r\n      this.undoStack.push(json);\r\n      if (this.undoStack.length > 100) {\r\n        this.undoStack.shift(); // Maintain a maximum of 100 states\r\n      }\r\n      this.redoStack = [];\r\n      this.hasUndo = this.undoStack.length >= 2;\r\n      this.hasRedo = false;\r\n    },\r\n\r\n    setTableCategory(tables, val) {\r\n      tables.forEach((t) => {\r\n        for (const s of t.seats) {\r\n          s.category = val;\r\n        }\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    setTableSeatCategory(seats, val) {\r\n      for (const s of seats) {\r\n        s.category = val;\r\n      }\r\n      this.persistPlan();\r\n    },\r\n\r\n    setGACategory(areas, val) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.areas.forEach((a) => {\r\n          if (areas.includes(a.uuid)) {\r\n            a.category = val;\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyRows({ rowIds, ...args }) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid)) {\r\n            for (const arg in args) {\r\n              if (arg.includes(\"__\")) {\r\n                let inner = r;\r\n                const argparts = arg.split(\"__\");\r\n                argparts.forEach((part, index) => {\r\n                  if (index === argparts.length - 1) {\r\n                    inner[part] = args[arg];\r\n                  } else {\r\n                    inner = inner[part];\r\n                  }\r\n                });\r\n              } else {\r\n                r[arg] = args[arg];\r\n              }\r\n            }\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifySeats({ seatIds, ...args }) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          r.seats.forEach((s) => {\r\n            if (seatIds.includes(s.uuid)) {\r\n              for (const arg in args) {\r\n                if (arg.includes(\"__\")) {\r\n                  let inner = s;\r\n                  const argparts = arg.split(\"__\");\r\n                  argparts.forEach((part, index) => {\r\n                    if (index === argparts.length - 1) {\r\n                      inner[part] = args[arg];\r\n                    } else {\r\n                      inner = inner[part];\r\n                    }\r\n                  });\r\n                } else {\r\n                  s[arg] = args[arg];\r\n                }\r\n              }\r\n            }\r\n          });\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyRectangleTableWidth(areas, w) {\r\n      areas.forEach((a) => {\r\n        a.rectangleTable.width = w;\r\n        let top = a.seats.filter((item) => item.special === \"top\");\r\n        let bottom = a.seats.filter((item) => item.special === \"bottom\");\r\n        let left = a.seats.filter((item) => item.special === \"left\");\r\n        let right = a.seats.filter((item) => item.special === \"right\");\r\n        const dt = (w - 20) / (top.length - 1);\r\n        const db = (w - 20) / (bottom.length - 1);\r\n        top = top.map((item, idx) => {\r\n          item.position.x = dt * idx + 10;\r\n          return item;\r\n        });\r\n        bottom = bottom.map((item, idx) => {\r\n          item.position.x = db * idx + 10;\r\n          return item;\r\n        });\r\n        right = right.map((item, idx) => {\r\n          item.position.x = w + 10;\r\n          return item;\r\n        });\r\n        a.seats = [...top, ...bottom, ...left, ...right];\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyRectangleTableHeight(areas, h) {\r\n      areas.forEach((a) => {\r\n        a.rectangleTable.height = h;\r\n        let top = a.seats.filter((item) => item.special === \"top\");\r\n        let bottom = a.seats.filter((item) => item.special === \"bottom\");\r\n        let left = a.seats.filter((item) => item.special === \"left\");\r\n        let right = a.seats.filter((item) => item.special === \"right\");\r\n        const dl = (h - 20) / (left.length - 1);\r\n        const dr = (h - 20) / (right.length - 1);\r\n        bottom = bottom.map((item, idx) => {\r\n          item.position.y = h + 10;\r\n          return item;\r\n        });\r\n        left = left.map((item, idx) => {\r\n          item.position.y = idx * dl + 10;\r\n          return item;\r\n        });\r\n        right = right.map((item, idx) => {\r\n          item.position.y = idx * dr + 10;\r\n          return item;\r\n        });\r\n        a.seats = [...top, ...bottom, ...left, ...right];\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyRectangleTableCapacityT(areas, val) {\r\n      areas.forEach((r) => {\r\n        const width = r.rectangleTable.width;\r\n        let top = r.seats.filter((item) => item.special === \"top\");\r\n        const category = r.seats[r.seats.length - 1].category;\r\n        const dt = (width - 20) / (val - 1);\r\n        let numbers = [];\r\n        for (let numbering of SEAT_NUMBERINGS) {\r\n          try {\r\n            let guessedStartAt = numbering.findStartAt(r.seats[0].seat_number);\r\n\r\n            let guessedNumbers = numbering.compute(r.seats, guessedStartAt);\r\n            if (\r\n              r.seats.filter((s, idx) => s.seat_number === guessedNumbers[idx])\r\n                .length === r.seats.length\r\n            ) {\r\n              const temp = [];\r\n              for (let i = 0; i < 500; i++) {\r\n                temp.push({});\r\n              }\r\n              numbers = numbering.compute(r.seats.concat(temp), guessedStartAt);\r\n\r\n              break;\r\n            }\r\n\r\n            let seatsReversed = [...r.seats].reverse();\r\n            let guessedStartAtRev = numbering.findStartAt(\r\n              seatsReversed[0].seat_number\r\n            );\r\n            let guessedNumbersRev = numbering.compute(\r\n              seatsReversed,\r\n              guessedStartAtRev\r\n            );\r\n            if (\r\n              seatsReversed.filter(\r\n                (s, idx) => s.seat_number === guessedNumbersRev[idx]\r\n              ).length === r.seats.length\r\n            ) {\r\n              numbers = numbering.compute(\r\n                seatsReversed.concat([{}]),\r\n                guessedStartAtRev\r\n              );\r\n              // for (const s of r.seats) {\r\n              //   s.seat_number = newNumbers.pop();\r\n              //   // s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n              //   s.seat_guid = uuid();\r\n              // }\r\n              break;\r\n            }\r\n          } catch (e) {\r\n            console.warn(\r\n              \"Crash while trying to test seat numbering schema\",\r\n              numbering,\r\n              e\r\n            );\r\n          }\r\n        }\r\n\r\n        if (val > 1) {\r\n          top = Array(val)\r\n            .fill(0)\r\n            .map((item, idx) => {\r\n              return {\r\n                position: {\r\n                  x: idx * dt + 10,\r\n                  y: -10,\r\n                },\r\n                radius: 10,\r\n                seat_number: numbers[idx],\r\n                color: \"#333333\",\r\n                guid: generateID(),\r\n                uuid: uuid(),\r\n                special: \"top\",\r\n                category,\r\n              };\r\n            });\r\n        } else {\r\n          top = Array(val)\r\n            .fill(0)\r\n            .map((item, idx) => {\r\n              return {\r\n                position: {\r\n                  x: width / 2,\r\n                  y: -10,\r\n                },\r\n                radius: 10,\r\n                seat_number: numbers[idx],\r\n                color: \"#333333\",\r\n                uuid: uuid(),\r\n                guid: generateID(),\r\n                special: \"top\",\r\n                category,\r\n              };\r\n            });\r\n        }\r\n\r\n        const ss = r.seats.filter((item) => item.special !== \"top\");\r\n        ss.forEach((item, idx) => (item.seat_number = numbers[idx + val]));\r\n        r.seats = [...top, ...ss];\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyRectangleTableCapacityB(areas, val) {\r\n      areas.forEach((r) => {\r\n        const width = r.rectangleTable.width;\r\n        const height = r.rectangleTable.height;\r\n        let bottom = r.seats.filter((item) => item.special === \"bottom\");\r\n        const category = r.seats[r.seats.length - 1].category;\r\n        const dt = (width - 20) / (val - 1);\r\n        let numbers = [];\r\n        for (let numbering of SEAT_NUMBERINGS) {\r\n          try {\r\n            let guessedStartAt = numbering.findStartAt(r.seats[0].seat_number);\r\n\r\n            let guessedNumbers = numbering.compute(r.seats, guessedStartAt);\r\n            if (\r\n              r.seats.filter((s, idx) => s.seat_number === guessedNumbers[idx])\r\n                .length === r.seats.length\r\n            ) {\r\n              const temp = [];\r\n              for (let i = 0; i < 500; i++) {\r\n                temp.push({});\r\n              }\r\n              numbers = numbering.compute(r.seats.concat(temp), guessedStartAt);\r\n\r\n              break;\r\n            }\r\n\r\n            let seatsReversed = [...r.seats].reverse();\r\n            let guessedStartAtRev = numbering.findStartAt(\r\n              seatsReversed[0].seat_number\r\n            );\r\n            let guessedNumbersRev = numbering.compute(\r\n              seatsReversed,\r\n              guessedStartAtRev\r\n            );\r\n            if (\r\n              seatsReversed.filter(\r\n                (s, idx) => s.seat_number === guessedNumbersRev[idx]\r\n              ).length === r.seats.length\r\n            ) {\r\n              numbers = numbering.compute(\r\n                seatsReversed.concat([{}]),\r\n                guessedStartAtRev\r\n              );\r\n              // for (const s of r.seats) {\r\n              //   s.seat_number = newNumbers.pop();\r\n              //   // s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n              //   s.seat_guid = uuid();\r\n              // }\r\n              break;\r\n            }\r\n          } catch (e) {\r\n            console.warn(\r\n              \"Crash while trying to test seat numbering schema\",\r\n              numbering,\r\n              e\r\n            );\r\n          }\r\n        }\r\n\r\n        const top = r.seats.filter((item) => item.special === \"top\");\r\n        const right = r.seats.filter((item) => item.special === \"right\");\r\n        const left = r.seats.filter((item) => item.special === \"left\");\r\n\r\n        let st = top.length + right.length;\r\n\r\n        if (val > 1) {\r\n          bottom = Array(val)\r\n            .fill(0)\r\n            .map((item, idx) => {\r\n              return {\r\n                position: {\r\n                  x: idx * dt + 10,\r\n                  y: height + 10,\r\n                },\r\n                radius: 10,\r\n                seat_number: numbers[st + idx],\r\n                color: \"#333333\",\r\n                uuid: uuid(),\r\n                guid: generateID(),\r\n                special: \"bottom\",\r\n                category,\r\n              };\r\n            });\r\n        } else {\r\n          bottom = Array(val)\r\n            .fill(0)\r\n            .map((item, idx) => {\r\n              return {\r\n                position: {\r\n                  x: width / 2,\r\n                  y: height + 10,\r\n                },\r\n                radius: 10,\r\n                seat_number: numbers[st + idx],\r\n                color: \"#333333\",\r\n                uuid: uuid(),\r\n                guid: generateID(),\r\n                special: \"bottom\",\r\n                category,\r\n              };\r\n            });\r\n        }\r\n\r\n        st += val;\r\n\r\n        left.forEach((i, idx) => {\r\n          i.seat_number = numbers[st + idx];\r\n        });\r\n        r.seats = [...top, ...right, ...bottom, ...left];\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyRectangleTableCapacityR(areas, val) {\r\n      areas.forEach((r) => {\r\n        const width = r.rectangleTable.width;\r\n        const height = r.rectangleTable.height;\r\n        let right = r.seats.filter((item) => item.special === \"right\");\r\n        const category = r.seats[r.seats.length - 1].category;\r\n        const dt = (height - 20) / (val - 1);\r\n        let numbers = [];\r\n        for (let numbering of SEAT_NUMBERINGS) {\r\n          try {\r\n            let guessedStartAt = numbering.findStartAt(r.seats[0].seat_number);\r\n\r\n            let guessedNumbers = numbering.compute(r.seats, guessedStartAt);\r\n            if (\r\n              r.seats.filter((s, idx) => s.seat_number === guessedNumbers[idx])\r\n                .length === r.seats.length\r\n            ) {\r\n              const temp = [];\r\n              for (let i = 0; i < 500; i++) {\r\n                temp.push({});\r\n              }\r\n              numbers = numbering.compute(r.seats.concat(temp), guessedStartAt);\r\n\r\n              break;\r\n            }\r\n\r\n            let seatsReversed = [...r.seats].reverse();\r\n            let guessedStartAtRev = numbering.findStartAt(\r\n              seatsReversed[0].seat_number\r\n            );\r\n            let guessedNumbersRev = numbering.compute(\r\n              seatsReversed,\r\n              guessedStartAtRev\r\n            );\r\n            if (\r\n              seatsReversed.filter(\r\n                (s, idx) => s.seat_number === guessedNumbersRev[idx]\r\n              ).length === r.seats.length\r\n            ) {\r\n              numbers = numbering.compute(\r\n                seatsReversed.concat([{}]),\r\n                guessedStartAtRev\r\n              );\r\n              // for (const s of r.seats) {\r\n              //   s.seat_number = newNumbers.pop();\r\n              //   // s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n              //   s.seat_guid = uuid();\r\n              // }\r\n              break;\r\n            }\r\n          } catch (e) {\r\n            console.warn(\r\n              \"Crash while trying to test seat numbering schema\",\r\n              numbering,\r\n              e\r\n            );\r\n          }\r\n        }\r\n\r\n        const top = r.seats.filter((item) => item.special === \"top\");\r\n        const bottom = r.seats.filter((item) => item.special === \"bottom\");\r\n        const left = r.seats.filter((item) => item.special === \"left\");\r\n\r\n        let st = top.length;\r\n        if (val > 1) {\r\n          right = Array(val)\r\n            .fill(0)\r\n            .map((item, idx) => {\r\n              return {\r\n                position: {\r\n                  x: width + 10,\r\n                  y: idx * dt + 10,\r\n                },\r\n                radius: 10,\r\n                seat_number: numbers[idx + st],\r\n                color: \"#333333\",\r\n                uuid: uuid(),\r\n                guid: generateID(),\r\n                special: \"right\",\r\n                category,\r\n              };\r\n            });\r\n        } else {\r\n          right = Array(val)\r\n            .fill(0)\r\n            .map((item, idx) => {\r\n              return {\r\n                position: {\r\n                  x: width + 10,\r\n                  y: height / 2,\r\n                },\r\n                radius: 10,\r\n                seat_number: numbers[idx + st],\r\n                color: \"#333333\",\r\n                uuid: uuid(),\r\n                guid: generateID(),\r\n                special: \"right\",\r\n                category,\r\n              };\r\n            });\r\n        }\r\n\r\n        st += val;\r\n        bottom.forEach((i, idx) => {\r\n          i.seat_number = numbers[st + idx];\r\n        });\r\n        st += bottom.length;\r\n        left.forEach((i, idx) => {\r\n          i.seat_number = numbers[st + idx];\r\n        });\r\n        r.seats = [...top, ...right, ...bottom, ...left];\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyRectangleTableCapacityL(areas, val) {\r\n      areas.forEach((r) => {\r\n        const width = r.rectangleTable.width;\r\n        const height = r.rectangleTable.height;\r\n        let left = r.seats.filter((item) => item.special === \"left\");\r\n        const category = r.seats[r.seats.length - 1].category;\r\n        const dt = (height - 20) / (val - 1);\r\n        let numbers = [];\r\n        for (let numbering of SEAT_NUMBERINGS) {\r\n          try {\r\n            let guessedStartAt = numbering.findStartAt(r.seats[0].seat_number);\r\n\r\n            let guessedNumbers = numbering.compute(r.seats, guessedStartAt);\r\n            if (\r\n              r.seats.filter((s, idx) => s.seat_number === guessedNumbers[idx])\r\n                .length === r.seats.length\r\n            ) {\r\n              const temp = [];\r\n              for (let i = 0; i < 500; i++) {\r\n                temp.push({});\r\n              }\r\n              numbers = numbering.compute(r.seats.concat(temp), guessedStartAt);\r\n\r\n              break;\r\n            }\r\n\r\n            let seatsReversed = [...r.seats].reverse();\r\n            let guessedStartAtRev = numbering.findStartAt(\r\n              seatsReversed[0].seat_number\r\n            );\r\n            let guessedNumbersRev = numbering.compute(\r\n              seatsReversed,\r\n              guessedStartAtRev\r\n            );\r\n            if (\r\n              seatsReversed.filter(\r\n                (s, idx) => s.seat_number === guessedNumbersRev[idx]\r\n              ).length === r.seats.length\r\n            ) {\r\n              numbers = numbering.compute(\r\n                seatsReversed.concat([{}]),\r\n                guessedStartAtRev\r\n              );\r\n              // for (const s of r.seats) {\r\n              //   s.seat_number = newNumbers.pop();\r\n              //   // s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n              //   s.seat_guid = uuid();\r\n              // }\r\n              break;\r\n            }\r\n          } catch (e) {\r\n            console.warn(\r\n              \"Crash while trying to test seat numbering schema\",\r\n              numbering,\r\n              e\r\n            );\r\n          }\r\n        }\r\n\r\n        const top = r.seats.filter((item) => item.special === \"top\");\r\n        const right = r.seats.filter((item) => item.special === \"right\");\r\n        const bottom = r.seats.filter((item) => item.special === \"bottom\");\r\n        const st = top.length + right.length + bottom.length;\r\n\r\n        if (val > 1) {\r\n          left = Array(val)\r\n            .fill(0)\r\n            .map((item, idx) => {\r\n              return {\r\n                position: {\r\n                  x: -10,\r\n                  y: idx * dt + 10,\r\n                },\r\n                radius: 10,\r\n                seat_number: numbers[st + idx],\r\n                color: \"#333333\",\r\n                uuid: uuid(),\r\n                guid: generateID(),\r\n                special: \"left\",\r\n                category,\r\n              };\r\n            });\r\n        } else {\r\n          left = Array(val)\r\n            .fill(0)\r\n            .map((item, idx) => {\r\n              return {\r\n                position: {\r\n                  x: -10,\r\n                  y: height / 2,\r\n                },\r\n                radius: 10,\r\n                seat_number: numbers[st + idx],\r\n                color: \"#333333\",\r\n                uuid: uuid(),\r\n                guid: generateID(),\r\n                special: \"left\",\r\n                category,\r\n              };\r\n            });\r\n        }\r\n        r.seats = [...top, ...right, ...bottom, ...left];\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyRoundTableRadius(areas, r) {\r\n      areas.forEach((a) => {\r\n        a.radius = r;\r\n        const total = a.seats.length + a?.space;\r\n        a.seats.forEach((s, idx, arr) => {\r\n          const degree = ((2 * Math.PI) / total) * idx;\r\n          s.position.x = (r + 10) * Math.cos(degree);\r\n          s.position.y = (r + 10) * Math.sin(degree);\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyRoundTableSpace(areas, value) {\r\n      areas.forEach((a) => {\r\n        a.space = value;\r\n        const total = value + a.capacity;\r\n        const r = a.radius;\r\n        a.seats.forEach((s, idx, arr) => {\r\n          const degree = ((2 * Math.PI) / total) * idx;\r\n          s.position.x = (r + 10) * Math.cos(degree);\r\n          s.position.y = (r + 10) * Math.sin(degree);\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyTableSeatLabel(seatId, seat_number) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.areas.forEach((a) => {\r\n          if (a.shape === \"roundTable\" || a.shape === \"rectangleTable\") {\r\n            const seat = a.seats.find((s) => s.uuid === seatId);\r\n            if (seat) {\r\n              seat.seat_number = seat_number;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    modifyAreas({ areaIds, ...args }) {\r\n      // console.log(areaIds, args)\r\n      this._plan.zones.forEach((z) => {\r\n        z.areas.forEach((a) => {\r\n          if (areaIds.includes(a.uuid)) {\r\n            for (const arg in args) {\r\n              if (arg.includes(\"__\")) {\r\n                let inner = a;\r\n                const argparts = arg.split(\"__\");\r\n                argparts.forEach((part, index) => {\r\n                  if (index === argparts.length - 1) {\r\n                    inner[part] = args[arg];\r\n                  } else {\r\n                    inner = inner[part];\r\n                  }\r\n                });\r\n              } else {\r\n                a[arg] = args[arg];\r\n              }\r\n            }\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    addPolygonPoint(area, pid, point) {\r\n      area.polygon.points.splice(pid, 0, point);\r\n      this.persistPlan();\r\n    },\r\n\r\n    removePolygonPoint(area, pid) {\r\n      area.polygon.points.splice(area, pid);\r\n      this.persistPlan();\r\n    },\r\n\r\n    addSeat(rowIds) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid) && r.seats.length) {\r\n            let newposition;\r\n\r\n            // Figure out new position\r\n            if (r.seats.length === 1) {\r\n              newposition = {\r\n                x: r.seats[0].position.x + 25,\r\n                y: r.seats[0].position.y,\r\n              };\r\n            } else {\r\n              const dx =\r\n                r.seats[r.seats.length - 1].position.x -\r\n                r.seats[r.seats.length - 2].position.x;\r\n              const dy =\r\n                r.seats[r.seats.length - 1].position.y -\r\n                r.seats[r.seats.length - 2].position.y;\r\n              newposition = {\r\n                x: r.seats[r.seats.length - 1].position.x + dx,\r\n                y: r.seats[r.seats.length - 1].position.y + dy,\r\n              };\r\n            }\r\n\r\n            // Assuming SEAT_NUMBERINGS is available and imported\r\n            //Changed here\r\n            let newnumber = \"?\";\r\n            for (let numbering of SEAT_NUMBERINGS) {\r\n              try {\r\n                let guessedStartAt = numbering.findStartAt(\r\n                  r.seats[0].seat_number\r\n                );\r\n                let guessedNumbers = numbering.compute(r.seats, guessedStartAt);\r\n                if (\r\n                  r.seats.filter(\r\n                    (s, idx) => s.seat_number === guessedNumbers[idx]\r\n                  ).length === r.seats.length\r\n                ) {\r\n                  let newNumbers = numbering.compute(\r\n                    r.seats.concat([{}]),\r\n                    guessedStartAt\r\n                  );\r\n                  newnumber = newNumbers[newNumbers.length - 1];\r\n                  break;\r\n                }\r\n\r\n                let seatsReversed = [...r.seats].reverse();\r\n                let guessedStartAtRev = numbering.findStartAt(\r\n                  seatsReversed[0].seat_number\r\n                );\r\n                let guessedNumbersRev = numbering.compute(\r\n                  seatsReversed,\r\n                  guessedStartAtRev\r\n                );\r\n                if (\r\n                  seatsReversed.filter(\r\n                    (s, idx) => s.seat_number === guessedNumbersRev[idx]\r\n                  ).length === r.seats.length\r\n                ) {\r\n                  let newNumbers = numbering.compute(\r\n                    seatsReversed.concat([{}]),\r\n                    guessedStartAtRev\r\n                  );\r\n                  for (const s of r.seats) {\r\n                    s.seat_number = newNumbers.pop();\r\n                    s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n                  }\r\n                  newnumber = newNumbers[0];\r\n                  break;\r\n                }\r\n              } catch (e) {\r\n                console.warn(\r\n                  \"Crash while trying to test seat numbering schema\",\r\n                  numbering,\r\n                  e\r\n                );\r\n              }\r\n            }\r\n\r\n            r.seats.push({\r\n              seat_number: newnumber,\r\n              // seat_guid: `${z.zone_id}-${r.row_number}-${newnumber}`,\r\n              seat_guid: uuid(),\r\n              uuid: uuid(),\r\n              guid: generateID(),\r\n              position: newposition,\r\n              category: r.seats[r.seats.length - 1].category,\r\n            });\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    addSectionLabel(rowIds, label, abv) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid) && r.seats.length) {\r\n            r.seats.forEach((s) => {\r\n              s.section_label = label;\r\n              s.section_abv = abv;\r\n            });\r\n          } else {\r\n            r.seats.forEach((s) => {\r\n              if (rowIds.includes(s.uuid)) {\r\n                s.section_label = label;\r\n                s.section_abv = abv;\r\n              }\r\n            });\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    addGASectionLabel(areaIds, label, abv) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.areas.forEach((r) => {\r\n          if (areaIds.includes(r.uuid)) {\r\n            r.section_label = label;\r\n            r.section_abv = abv;\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    addTableSectionLabel(ids, label, abv) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.areas.forEach((r) => {\r\n          if (ids.includes(r.uuid) && r.seats.length) {\r\n            r.seats.forEach((s) => {\r\n              s.section_label = label;\r\n              s.section_abv = abv;\r\n            });\r\n          } else {\r\n            if (r?.seats?.length)\r\n              r.seats.forEach((s) => {\r\n                if (ids.includes(s.uuid)) {\r\n                  s.section_label = label;\r\n                  s.section_abv = abv;\r\n                }\r\n              });\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    renumberRows(rowIds, numbering, startAt, reversed) {\r\n      const rows = [];\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid)) {\r\n            rows.push([z, r]);\r\n          }\r\n        });\r\n      });\r\n      const numbers = numbering.compute(\r\n        rows.map(([z, r]) => r),\r\n        startAt\r\n      );\r\n      rows.forEach(([z, r], index) => {\r\n        r.row_number = reversed ? numbers.pop() : numbers.shift();\r\n        r.seats.forEach((s) => {\r\n          s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    renumberSeats(rowIds, numbering, startAt, reversed) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid) && r.seats.length) {\r\n            const numbers = numbering.compute(r.seats, startAt);\r\n            // console.log(r.seats, numbers);\r\n            r.seats.forEach((s) => {\r\n              s.seat_number = reversed ? numbers.pop() : numbers.shift();\r\n              s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n            });\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    skipLetterSeats(rowIds, numbering, startAt, reversed, skip_letter) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid) && r.seats.length) {\r\n            const numbers = numbering.skip(r.seats, startAt, skip_letter);\r\n            // console.log(r.seats, numbers);\r\n            r.seats.forEach((s) => {\r\n              s.skip_number = reversed ? numbers.pop() : numbers.shift();\r\n            });\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    skipLetterRows(rowIds, numbering, startAt, reversed, skip_letter) {\r\n      const numbers = numbering.skip(rowIds, startAt, skip_letter);\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid) && r.seats.length) {\r\n            r.skip_number = reversed ? numbers.pop() : numbers.shift();\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    renumberTableSeats(areaIds, numbering, startAt, reversed) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.areas.forEach((r) => {\r\n          if (areaIds.includes(r.uuid) && r.seats.length) {\r\n            const numbers = numbering.compute(r.seats, startAt);\r\n            // console.log(r.seats, numbers);\r\n            r.seats.forEach((s) => {\r\n              s.seat_number = reversed ? numbers.pop() : numbers.shift();\r\n              s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n            });\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    skipLetterTableSeats(areaIds, numbering, startAt, reversed, skip_letter) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.areas.forEach((r) => {\r\n          if (areaIds.includes(r.uuid) && r.seats.length) {\r\n            const numbers = numbering.skip(r.seats, startAt, skip_letter);\r\n            r.seats.forEach((s) => {\r\n              s.skip_number = reversed ? numbers.pop() : numbers.shift();\r\n              // s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n            });\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    changeNumberSeats(rowIds, value) {\r\n      value = Math.max(1, value);\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid) && r.seats.length) {\r\n            // add seats\r\n            if (r.seats.length === value) return;\r\n            const cnt = Math.abs(r.seats.length - value);\r\n\r\n            let newnumber = [];\r\n            if (r.seats.length < value) {\r\n              let newPositions = [];\r\n              if (r.seats.length === 1) {\r\n                for (let i = 0; i < cnt; i++) {\r\n                  newPositions.push({\r\n                    x: r.seats[0].position.x + 25 * (i + 1),\r\n                    y: r.seats[0].position.y,\r\n                  });\r\n                }\r\n              } else {\r\n                const dx =\r\n                  r.seats[r.seats.length - 1].position.x -\r\n                  r.seats[r.seats.length - 2].position.x;\r\n                const dy =\r\n                  r.seats[r.seats.length - 1].position.y -\r\n                  r.seats[r.seats.length - 2].position.y;\r\n\r\n                for (let i = 0; i < cnt; i++) {\r\n                  newPositions.push({\r\n                    x: r.seats[r.seats.length - 1].position.x + dx * (i + 1),\r\n                    y: r.seats[r.seats.length - 1].position.y + dy * (i + 1),\r\n                  });\r\n                }\r\n              }\r\n\r\n              for (let numbering of SEAT_NUMBERINGS) {\r\n                try {\r\n                  let guessedStartAt = numbering.findStartAt(\r\n                    r.seats[0].seat_number\r\n                  );\r\n\r\n                  let guessedNumbers = numbering.compute(\r\n                    r.seats,\r\n                    guessedStartAt\r\n                  );\r\n                  if (\r\n                    r.seats.filter(\r\n                      (s, idx) => s.seat_number === guessedNumbers[idx]\r\n                    ).length === r.seats.length\r\n                  ) {\r\n                    const temp = [];\r\n                    for (let i = 0; i < cnt; i++) {\r\n                      temp.push({});\r\n                    }\r\n                    let newNumbers = numbering.compute(\r\n                      r.seats.concat(temp),\r\n                      guessedStartAt\r\n                    );\r\n\r\n                    newnumber = newNumbers.slice(\r\n                      r.seats.length,\r\n                      r.seats.length + cnt + 1\r\n                    );\r\n                    break;\r\n                  }\r\n\r\n                  let seatsReversed = [...r.seats].reverse();\r\n                  let guessedStartAtRev = numbering.findStartAt(\r\n                    seatsReversed[0].seat_number\r\n                  );\r\n                  let guessedNumbersRev = numbering.compute(\r\n                    seatsReversed,\r\n                    guessedStartAtRev\r\n                  );\r\n                  if (\r\n                    seatsReversed.filter(\r\n                      (s, idx) => s.seat_number === guessedNumbersRev[idx]\r\n                    ).length === r.seats.length\r\n                  ) {\r\n                    let newNumbers = numbering.compute(\r\n                      seatsReversed.concat([{}]),\r\n                      guessedStartAtRev\r\n                    );\r\n                    for (const s of r.seats) {\r\n                      s.seat_number = newNumbers.pop();\r\n                      // s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n                      s.seat_guid = uuid();\r\n                    }\r\n                    newnumber = newNumbers.slice(0, cnt);\r\n                    break;\r\n                  }\r\n                } catch (e) {\r\n                  console.warn(\r\n                    \"Crash while trying to test seat numbering schema\",\r\n                    numbering,\r\n                    e\r\n                  );\r\n                }\r\n              }\r\n\r\n              for (let i = 0; i < cnt; i++) {\r\n                r.seats.push({\r\n                  seat_number: newnumber[i],\r\n                  // seat_guid: `${z.zone_id}-${r.row_number}-${newnumber[i]}`,\r\n                  uuid: uuid(),\r\n                  guid: generateID(),\r\n                  position: newPositions[i],\r\n                  category: r.seats[r.seats.length - 1].category,\r\n                });\r\n              }\r\n            }\r\n            // remove seats\r\n            else {\r\n              // r.seats = r.seats.slice(0, cnt);\r\n              for (let i = 0; i < cnt; i++) {\r\n                r.seats.pop();\r\n              }\r\n            }\r\n            this.persistPlan();\r\n          }\r\n        });\r\n      });\r\n    },\r\n\r\n    renumberCircleSeats(rowIds, count) {\r\n      count = Math.max(1, count);\r\n      this._plan.zones.forEach((z) => {\r\n        z.areas.forEach((r) => {\r\n          if (rowIds.includes(r.uuid)) {\r\n            const res = [];\r\n            r.capacity = count;\r\n            let numbers = [];\r\n            for (let numbering of SEAT_NUMBERINGS) {\r\n              try {\r\n                let guessedStartAt = numbering.findStartAt(\r\n                  r.seats[0].seat_number\r\n                );\r\n\r\n                let guessedNumbers = numbering.compute(r.seats, guessedStartAt);\r\n                if (\r\n                  r.seats.filter(\r\n                    (s, idx) => s.seat_number === guessedNumbers[idx]\r\n                  ).length === r.seats.length\r\n                ) {\r\n                  const temp = [];\r\n                  for (let i = 0; i < 500; i++) {\r\n                    temp.push({});\r\n                  }\r\n                  numbers = numbering.compute(\r\n                    r.seats.concat(temp),\r\n                    guessedStartAt\r\n                  );\r\n\r\n                  break;\r\n                }\r\n\r\n                let seatsReversed = [...r.seats].reverse();\r\n                let guessedStartAtRev = numbering.findStartAt(\r\n                  seatsReversed[0].seat_number\r\n                );\r\n                let guessedNumbersRev = numbering.compute(\r\n                  seatsReversed,\r\n                  guessedStartAtRev\r\n                );\r\n                if (\r\n                  seatsReversed.filter(\r\n                    (s, idx) => s.seat_number === guessedNumbersRev[idx]\r\n                  ).length === r.seats.length\r\n                ) {\r\n                  numbers = numbering.compute(\r\n                    seatsReversed.concat([{}]),\r\n                    guessedStartAtRev\r\n                  );\r\n                  // for (const s of r.seats) {\r\n                  //   s.seat_number = newNumbers.pop();\r\n                  //   // s.seat_guid = `${z.zone_id}-${r.row_number}-${s.seat_number}`;\r\n                  //   s.seat_guid = uuid();\r\n                  // }\r\n                  break;\r\n                }\r\n              } catch (e) {\r\n                console.warn(\r\n                  \"Crash while trying to test seat numbering schema\",\r\n                  numbering,\r\n                  e\r\n                );\r\n              }\r\n            }\r\n\r\n            const total = count + (r.space || 0);\r\n            for (let i = 0; i < count; i++) {\r\n              const degree = ((2 * Math.PI) / total) * i;\r\n              res.push({\r\n                seat_number: numbers[i],\r\n                position: {\r\n                  x: (r.radius + 10) * Math.cos(degree),\r\n                  y: (r.radius + 10) * Math.sin(degree),\r\n                },\r\n                category: r.seats[r.seats.length - 1].category,\r\n                r: 10,\r\n                guid: generateID(),\r\n                uuid: uuid(),\r\n              });\r\n            }\r\n\r\n            r.seats = res;\r\n\r\n            // for (let si = 0; si < count; si++) {\r\n            //   const degree = ((2 * Math.PI) / count) * si;\r\n            //   res.push({\r\n            //     text: (si + 1).toString(),\r\n            //     position: {\r\n            //       x: (r.radius + 10) * Math.cos(degree),\r\n            //       y: (r.radius + 10) * Math.sin(degree),\r\n            //     },\r\n            //     category: r.seats[r.seats.length - 1].category,\r\n            //     r: 10,\r\n            //     uuid: uuid(),\r\n            //   });\r\n            // }\r\n            // r.seats = res;\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    respaceRows(rowIds, spacing) {\r\n      spacing = Math.max(spacing, 1); // Ensure spacing is at least 1\r\n      this._plan.zones.forEach((z) => {\r\n        const rows = z.rows.filter((r) => rowIds.includes(r.uuid));\r\n        if (rows.length < 2) return; // Skip if not enough rows to re-space\r\n\r\n        const newPositions = [rows[0].position]; // Start with the first position\r\n        rows.slice(1).forEach((row, index) => {\r\n          let previousRow = rows[index];\r\n          let dx = row.position.x - previousRow.position.x;\r\n          let dy = row.position.y - previousRow.position.y;\r\n          let distance = Math.sqrt(dx * dx + dy * dy);\r\n          let normalisationFactor = distance ? spacing / distance : 0;\r\n\r\n          newPositions.push({\r\n            x: previousRow.position.x + dx * normalisationFactor,\r\n            y: previousRow.position.y + dy * normalisationFactor,\r\n          });\r\n        });\r\n\r\n        rows.forEach((row, index) => {\r\n          row.position = newPositions[index];\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    createRowAfter(zone, row, persist) {\r\n      zone = this._plan.zones.find((z) => z.uuid === zone);\r\n      zone.rows.push(row);\r\n      if (persist) this.persistPlan();\r\n    },\r\n\r\n    createRow(zone, position, seats) {\r\n      return new Promise((res, rej) => {\r\n        try {\r\n          zone = this._plan.zones.find((z) => z.uuid === zone);\r\n          const row = {\r\n            position: { x: position.x, y: position.y },\r\n            row_number: \"A\",\r\n            row_number_position: \"both\",\r\n            seats: [],\r\n            guid: generateID(),\r\n            uuid: uuid(),\r\n            rotation: 0,\r\n          };\r\n          for (const [six, spos] of seats.entries()) {\r\n            row.seats.push({\r\n              seat_number: (six + 1).toString(),\r\n              guid: generateID(),\r\n              uuid: uuid(),\r\n              position: { x: spos.x, y: spos.y },\r\n              category: \"\",\r\n            });\r\n          }\r\n\r\n          this.createRowAfter(zone.uuid, row, false);\r\n          // if (temp[0] == \"0\") {\r\n          //   for (const [six, spos] of seats.entries()) {\r\n          //     console.log(six, spos);\r\n          //     row.seats.push({\r\n          //       seat_number: (six + 1).toString(),\r\n          //       seat_guid: uuid(),\r\n          //       uuid: uuid(),\r\n          //       position: { x: spos.x, y: spos.y },\r\n          //       category: \"\",\r\n          //     });\r\n          //   }\r\n          // } else {\r\n          //   seats.seats.forEach((v) => {\r\n          //     row.seats.push(v);\r\n          //   });\r\n          // }\r\n          // zone.rows.push(row);\r\n          this.persistPlan();\r\n          return row.uuid;\r\n        } catch (err) {\r\n          rej(err);\r\n        }\r\n      });\r\n    },\r\n\r\n    createAreaAfter(zone, area) {\r\n      zone = this._plan.zones.find((z) => z.uuid === zone);\r\n      zone.areas.push(area);\r\n      this.persistPlan();\r\n    },\r\n\r\n    createArea(zone, area) {\r\n      return new Promise((res, rej) => {\r\n        try {\r\n          this.createAreaAfter(zone, area);\r\n        } catch (err) {\r\n          rej(err);\r\n        }\r\n      });\r\n    },\r\n\r\n    respaceSeats(rowIds, spacing) {\r\n      spacing = Math.max(spacing, 20); // Ensure minimum spacing is at least 1\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid) && r.seats.length > 1) {\r\n            const newPositions = [r.seats[0].position];\r\n            for (let si = 1; si < r.seats.length; si++) {\r\n              const previousPosition = newPositions[si - 1];\r\n              const dxOld = r.seats[si].position.x - r.seats[si - 1].position.x;\r\n              const dyOld = r.seats[si].position.y - r.seats[si - 1].position.y;\r\n              const dOld = Math.sqrt(dxOld * dxOld + dyOld * dyOld);\r\n              const scale = spacing / dOld;\r\n              newPositions.push({\r\n                x: previousPosition.x + dxOld * scale,\r\n                y: previousPosition.y + dyOld * scale,\r\n              });\r\n            }\r\n            r.seats.forEach((s, index) => {\r\n              s.position = newPositions[index];\r\n            });\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    loadPlan(plan) {\r\n      console.log(plan);\r\n      for (const z of plan.zones) {\r\n        if (!z.uuid) z.uuid = uuid();\r\n        if (z._editor_id) {\r\n          z.zone_id = z._editor_id;\r\n          delete z._editor_id;\r\n        }\r\n        if (!z.zone_id) z.zone_id = zoneNameToID(z.name);\r\n        for (const r of z.rows) {\r\n          if (!r.uuid) r.uuid = uuid();\r\n          for (const s of r.seats) {\r\n            if (!s.uuid) s.uuid = uuid();\r\n          }\r\n        }\r\n        for (const a of z.areas) {\r\n          if (!a.uuid) a.uuid = uuid();\r\n        }\r\n      }\r\n\r\n      this._plan = plan;\r\n      this.undoStack.splice(0, this.undoStack.length);\r\n      this.redoStack.splice(0, this.redoStack.length);\r\n      this.hasUndo = false;\r\n      this.hasRedo = false;\r\n      this.persistPlan();\r\n    },\r\n\r\n    setPlanName(name) {\r\n      this._plan.name = name;\r\n      this.persistPlan();\r\n    },\r\n\r\n    setPlanSize(width, height) {\r\n      if (width) this._plan.size.width = width;\r\n      if (height) this._plan.size.height = height;\r\n      window.dispatchEvent(new Event(\"resize\"));\r\n      this.persistPlan();\r\n    },\r\n\r\n    setFocusPoint(x, y) {\r\n      this._plan.point.x = x;\r\n      this._plan.point.y = y;\r\n      this.persistPlan();\r\n    },\r\n\r\n    setTag(rowIds, value) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid) && r.seats.length > 0) {\r\n            r.seats.forEach((s) => {\r\n              s.tag_name = value;\r\n            });\r\n          } else {\r\n            r.seats.forEach((s) => {\r\n              if (rowIds.includes(s.uuid)) {\r\n                s.tag_name = value;\r\n              }\r\n            });\r\n          }\r\n        });\r\n\r\n        z.areas.forEach((r) => {\r\n          if (r.shape === \"roundTable\" || r.shape === \"rectangleTable\") {\r\n            if (rowIds.includes(r.uuid) && r.seats.length > 0) {\r\n              r.seats.forEach((s) => {\r\n                s.tag_name = value;\r\n              });\r\n            } else {\r\n              r.seats.forEach((s) => {\r\n                if (rowIds.includes(s.uuid)) {\r\n                  s.tag_name = value;\r\n                }\r\n              });\r\n            }\r\n          } else if (\r\n            r.shape === \"gaCircle\" ||\r\n            r.shape === \"gaSquare\" ||\r\n            r.shape === \"gaPolygon\"\r\n          ) {\r\n            if (rowIds.includes(r.uuid)) {\r\n              r.tag_name = value;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    setRotateLabel(rowIds, value) {\r\n      this._plan.zones.forEach((z) => {\r\n        z.rows.forEach((r) => {\r\n          if (rowIds.includes(r.uuid)) {\r\n            r.rotate_label = value;\r\n          }\r\n        });\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    createZone(name, uuid) {\r\n      this._plan.zones.push({\r\n        name: name,\r\n        zone_id: zoneNameToID(name),\r\n        uuid: uuid,\r\n        position: { x: 0, y: 0 },\r\n        rows: [],\r\n        areas: [],\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    moveZoneInOrder(uuid, delta) {\r\n      const zone = this._plan.zones.find((z) => z.uuid === uuid);\r\n      const currentIdx = this._plan.zones.findIndex((z) => z.uuid === uuid);\r\n      const newIdx = Math.min(\r\n        Math.max(currentIdx + delta, 0),\r\n        this._plan.zones.length - 1\r\n      );\r\n      this._plan.zones.splice(currentIdx, 1);\r\n      this._plan.zones.splice(newIdx, 0, zone);\r\n      this.persistPlan();\r\n    },\r\n\r\n    changeZone(uuid, name, zone_id) {\r\n      const zone = this._plan.zones.find((z) => z.uuid === uuid);\r\n      zone.name = name;\r\n      zone.zone_id = zone_id;\r\n      this.persistPlan();\r\n    },\r\n\r\n    createCategory(name, color) {\r\n      this._plan.categories.push({\r\n        id: uuid(),\r\n        name: name,\r\n        color: color,\r\n      });\r\n      this.persistPlan();\r\n    },\r\n\r\n    changeCategory(oldname, newname, color) {\r\n      const cat = this._plan.categories.find((c) => c.name === oldname);\r\n      if (oldname !== newname) {\r\n        if (this._plan.categories.filter((c) => c.name === newname).length) {\r\n          // duplicate name, ignore\r\n          // todo: error message\r\n        } else {\r\n          cat.name = newname;\r\n          for (const z of this._plan.zones) {\r\n            for (const r of z.rows) {\r\n              for (const s of r.seats) {\r\n                if (s.category === oldname) {\r\n                  s.category = newname;\r\n                }\r\n              }\r\n            }\r\n            for (const a of z.areas) {\r\n              if (\r\n                a.shape === \"gaCircle\" ||\r\n                a.shape === \"gaSquare\" ||\r\n                a.shape === \"gaPolygon\"\r\n              )\r\n                if (a.category === oldname) {\r\n                  a.category = newname;\r\n                }\r\n              if (a.shape === \"roundTable\" || a.shape === \"rectanlgeTable\") {\r\n                for (const s of a.seats) {\r\n                  if (s.category === oldname) {\r\n                    s.category = newname;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        cat.color = color;\r\n      }\r\n      this.persistPlan();\r\n    },\r\n  },\r\n});\r\n","import Vue from \"vue\";\r\n\r\nimport { defineStore } from \"pinia\";\r\nimport { generateID, round } from \"../lib/numbers\";\r\nimport * as d3 from \"d3\";\r\nimport {\r\n  findClosestGridPoint,\r\n  findCircleCenter,\r\n  degreeInCircle,\r\n  positionInZone,\r\n  rectangleBBox,\r\n  polygonBBox,\r\n  textBBox,\r\n  ellipseBBox,\r\n  testOverlap,\r\n  roundTableBBox,\r\n  rectangleTableBBox,\r\n  estimateTextWidth,\r\n  rotateRectangluarBox,\r\n} from \"../lib/geometry\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { usePlanStore } from \"./plan\";\r\n\r\nconst planStore = usePlanStore();\r\nconst minimum = 0.0001;\r\nconst nextX = (x0, a, b, R) => {\r\n  let l = x0;\r\n  let r = x0 + R;\r\n  const f = (x) => a * x * x - b;\r\n\r\n  let y0 = f(x0);\r\n\r\n  const d = (x, y) => {\r\n    return (x - x0) * (x - x0) + (y - y0) * (y - y0);\r\n  };\r\n\r\n  while (r - l >= minimum) {\r\n    const x = (l + r) / 2;\r\n    const y = f(x);\r\n    if (d(x, y) >= R * R) {\r\n      r = x;\r\n    } else {\r\n      l = x;\r\n    }\r\n  }\r\n  return (r + l) / 2;\r\n};\r\n\r\nconst available = (x0, x1, a, b, n, r) => {\r\n  let x = x0;\r\n  let i;\r\n  for (i = 0; i < n - 1; i++) {\r\n    x = nextX(x, a, b, r);\r\n    if (x > x1) return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nconst getPoints = (a, b, n) => {\r\n  let x0 = -Math.sqrt(b / a);\r\n  let x1 = -x0;\r\n  let l = 0,\r\n    r = Math.sqrt(b * b + 200 * 200),\r\n    R;\r\n  while (r - l >= minimum) {\r\n    R = (r + l) / 2;\r\n    console.log(\"LOGTRACE\", available(x0, x1, a, b, n, R), R, x0, x1, r, l);\r\n    if (available(x0, x1, a, b, n, R)) {\r\n      l = R;\r\n    } else {\r\n      r = R;\r\n    }\r\n  }\r\n  R = r;\r\n\r\n  const f = (x) => a * x * x - b;\r\n  let i,\r\n    x = x0,\r\n    res = [];\r\n  for (i = 0; i < n; i++) {\r\n    res.push({ x, y: f(x) });\r\n    x = nextX(x, a, b, R);\r\n  }\r\n  return res;\r\n};\r\n\r\nexport const useMainStore = defineStore({\r\n  id: \"main\",\r\n  state: () => ({\r\n    zoomTransform: d3.zoomTransform({ k: 1, x: 0, y: 0 }),\r\n    // grid: (window.localStorage.getItem(\"grid_enabled\") || \"false\") === \"true\",\r\n    // snap: (window.localStorage.getItem(\"snap_enabled\") || \"false\") === \"true\",\r\n    grid: false,\r\n    snap: true,\r\n    bfocus: false,\r\n    bvalid: false,\r\n    clipboardAreas: [],\r\n    clipboardRows: [],\r\n    tool: \"select\",\r\n    ignoreNextSelection: false,\r\n    selectedZone: null,\r\n    lockedZones: [],\r\n    selection: [],\r\n    dragging: false,\r\n    draggingPolygonPoint: false,\r\n    draggingPolygonPointId: 0,\r\n    dragged: false,\r\n    dragStartX: 0,\r\n    dragStartY: 0,\r\n    plan: planStore.plan,\r\n    section_label: window.localStorage.getItem(\"section_label\")\r\n      ? JSON.parse(window.localStorage.getItem(\"section_label\"))\r\n      : [],\r\n    temp_ox: 0,\r\n    temp_oy: 0,\r\n  }),\r\n\r\n  getters: {\r\n    cursor: (state) => {\r\n      switch (state.tool) {\r\n        case \"select\":\r\n        case \"seatselect\":\r\n          return \"default\";\r\n        case \"circle\":\r\n        case \"rectangle\":\r\n        case \"polygon\":\r\n        case \"ellipse\":\r\n        case \"text\":\r\n        case \"roundTable\":\r\n        case \"rectangleTable\":\r\n        case \"gaSquare\":\r\n        case \"gaCircle\":\r\n        case \"gaPolygon\":\r\n        case \"rows\":\r\n        case \"row\":\r\n        case \"stgrows\":\r\n          return \"crosshair\";\r\n        case \"hand\":\r\n          return \"grab\";\r\n        case \"handon\":\r\n          return \"grabbing\";\r\n        default:\r\n          return \"default\";\r\n      }\r\n    },\r\n  },\r\n\r\n  actions: {\r\n    set_Ox(v) {\r\n      this.temp_ox = v;\r\n    },\r\n    set_Oy(v) {\r\n      this.temp_oy = v;\r\n    },\r\n\r\n    setBvalid(valid) {\r\n      this.bvalid = valid;\r\n    },\r\n\r\n    loadPlan(plan) {\r\n      // console.log(plan);\r\n      const temp = usePlanStore();\r\n      temp.loadPlan(plan);\r\n      this.selectedZone = temp.plan.zones[0].uuid;\r\n      this.selection = [];\r\n    },\r\n\r\n    toggleGrid() {\r\n      this.grid = !this.grid;\r\n      window.localStorage.setItem(\"grid_enabled\", this.grid ? \"true\" : \"false\");\r\n    },\r\n    toggleSnap() {\r\n      this.snap = !this.snap;\r\n      window.localStorage.setItem(\"snap_enabled\", this.snap ? \"true\" : \"false\");\r\n    },\r\n\r\n    setSectionLabel(s) {\r\n      this.section_label = s;\r\n      window.localStorage.setItem(\"section_label\", JSON.stringify(s));\r\n    },\r\n\r\n    removeSectionLabel(id) {\r\n      this.section_label = this.section_label.filter((i) => i.id !== id);\r\n      window.localStorage.setItem(\"section_label\", this.section_label);\r\n    },\r\n\r\n    disableGrid() {\r\n      this.grid = false;\r\n      window.localStorage.setItem(\"grid_enabled\", \"false\");\r\n    },\r\n    toggleZoneLock(uuid) {\r\n      if (!this.lockedZones.includes(uuid)) {\r\n        this.lockedZones.push(uuid);\r\n        this.selection = [];\r\n      } else {\r\n        this.lockedZones = this.lockedZones.filter((s) => s !== uuid);\r\n      }\r\n    },\r\n    selectAllInZone(uuid) {\r\n      if (this.lockedZones.includes(uuid)) return;\r\n      if (this.selectedZone !== uuid) {\r\n        this.selectedZone = uuid;\r\n      }\r\n      this.selection = [];\r\n      const temp = usePlanStore();\r\n      const z = temp.plan.zones.find((z) => z.uuid === this.selectedZone);\r\n      if (this.tool === \"seatselect\") {\r\n        for (const r of z.rows) {\r\n          for (const s of r.seats) {\r\n            this.selection.push(s.uuid);\r\n          }\r\n        }\r\n      } else {\r\n        for (const r of z.rows) {\r\n          this.selection.push(r.uuid);\r\n        }\r\n        for (const a of z.areas) {\r\n          this.selection.push(a.uuid);\r\n        }\r\n      }\r\n    },\r\n    selectZone(uuid) {\r\n      if (this.selectedZone !== uuid) {\r\n        this.selectedZone = uuid;\r\n        this.selection = [];\r\n      }\r\n    },\r\n    unselect(uuids) {\r\n      this.selection = this.selection.filter((s) => !uuids.includes(s));\r\n    },\r\n\r\n    setSelection(uuids, addition, zone) {\r\n      // if (uuids.length) console.log('setSelection in store', uuids);\r\n      // console.log(addition, zone, this.selection);\r\n      // console.log('store setselection', uuids, this.selection, addition);\r\n\r\n      this.selection = [];\r\n      if (addition && this.selection.length > 0) {\r\n        for (const uuid of uuids) {\r\n          if (!this.selection.includes(uuid)) {\r\n            this.selection.push(uuid);\r\n          }\r\n        }\r\n      } else {\r\n        this.selectedZone = addition;\r\n        this.selection = uuids;\r\n      }\r\n    },\r\n    toggleSelection(uuids, addition, zone) {\r\n      if (this.ignoreNextSelection) {\r\n        // Work around that the end of a \"drag\" also might be a \"click\"\r\n        this.ignoreNextSelection = false;\r\n        return;\r\n      }\r\n      if (addition && this.selection.length > 0) {\r\n        for (const uuid of uuids) {\r\n          if (this.selection.includes(uuid)) {\r\n            this.selection = this.selection.filter((s) => s !== uuid);\r\n          } else {\r\n            this.selection.push(uuid);\r\n          }\r\n        }\r\n      } else {\r\n        this.selectedZone = zone;\r\n        if (\r\n          this.selection.length === 1 &&\r\n          uuids.filter((u) => this.selection.includes(u)).length\r\n        ) {\r\n          this.selection = [];\r\n        } else {\r\n          this.selection = uuids;\r\n        }\r\n      }\r\n    },\r\n    changeTool(tool) {\r\n      const rowTools = [\r\n        \"rows\",\r\n        \"row\",\r\n        \"stgrows\",\r\n        \"select\",\r\n        \"rowCircle\",\r\n        \"rowCircleFixedCenter\",\r\n      ];\r\n      const keepSelection =\r\n        tool === this.tool ||\r\n        ((this.tool === \"rows\" ||\r\n          this.tool === \"row\" ||\r\n          this.tool === \"stgrows\") &&\r\n          tool === \"select\") ||\r\n        (rowTools.includes(this.tool) && rowTools.includes(tool));\r\n      if (!keepSelection) {\r\n        this.selection = [];\r\n      }\r\n      this.tool = tool;\r\n      this.bfocus = false;\r\n      if (tool === \"focusPoint\") {\r\n        this.bfocus = true;\r\n      }\r\n      // console.log('changed tool', tool)\r\n    },\r\n    clearSelection() {\r\n      this.selection = [];\r\n    },\r\n\r\n    startDragging(uuid, addition, x, y, zone) {\r\n      // console.log('selection start here!!!');\r\n      if (!this.selection.includes(uuid)) {\r\n        if (addition) this.selection.push(uuid);\r\n        else {\r\n          this.selection = [uuid];\r\n          this.selectedZone = zone;\r\n        }\r\n        this.ignoreNextSelection = true;\r\n      }\r\n      // console.log('selection', this.selection)\r\n      this.dragging = true;\r\n      this.draggingPolygonPoint = false;\r\n      this.dragged = false;\r\n      this.dragStartX = x;\r\n      this.dragStartY = y;\r\n    },\r\n    startDraggingPolygonPoint(uuid, pid, addition, x, y, zone) {\r\n      if (!this.selection.includes(uuid)) {\r\n        return;\r\n      }\r\n      this.dragging = true;\r\n      this.draggingPolygonPoint = true;\r\n      this.draggingPolygonPointId = pid;\r\n      this.dragged = false;\r\n      this.dragStartX = x;\r\n      this.dragStartY = y;\r\n    },\r\n    stopDragging() {\r\n      if (this.dragging && this.dragged) {\r\n        planStore.persistPlan();\r\n      }\r\n      this.dragging = false;\r\n      this.dragged = false;\r\n    },\r\n    selectAll() {\r\n      this.selection = [];\r\n      if (this.tool === \"seatselect\") {\r\n        const temp = usePlanStore();\r\n        for (const z of temp.plan.zones) {\r\n          if (this.lockedZones.includes(z.uuid)) continue;\r\n          for (const r of z.rows) {\r\n            for (const s of r.seats) {\r\n              this.selection.push(s.uuid);\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        const temp = usePlanStore();\r\n        for (const z of temp.plan.zones) {\r\n          if (this.lockedZones.includes(z.uuid)) continue;\r\n          for (const r of z.rows) {\r\n            if (r.seats.length === 0) continue;\r\n            this.selection.push(r.uuid);\r\n          }\r\n          for (const a of z.areas) {\r\n            this.selection.push(a.uuid);\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    calculateQuadraticCoefficients(x0, y0, x1, y1, x2, y2) {\r\n      // Using Cramer's rule to solve the system of equations\r\n      let denominator = (x0 - x1) * (x0 - x2) * (x1 - x2);\r\n      let a = (y0 * (x1 - x2) + y1 * (x2 - x0) + y2 * (x0 - x1)) / denominator;\r\n      let b =\r\n        (y0 * (x1 * x1 - x2 * x2) +\r\n          y1 * (x2 * x2 - x0 * x0) +\r\n          y2 * (x0 * x0 - x1 * x1)) /\r\n        denominator;\r\n      let c =\r\n        (y0 * (x2 - x1) * x1 * x2 +\r\n          y1 * (x0 - x2) * x0 * x2 +\r\n          y2 * (x1 - x0) * x0 * x1) /\r\n        denominator;\r\n\r\n      return { a: a, b: b, c: c };\r\n    },\r\n\r\n    calculateCircleCenter(x0, y0, x1, y1, x2, y2) {\r\n      // Calculate midpoints of line segments\r\n      const midPointX01 = (x0 + x1) / 2;\r\n      const midPointY01 = (y0 + y1) / 2;\r\n      const midPointX12 = (x1 + x2) / 2;\r\n      const midPointY12 = (y1 + y2) / 2;\r\n\r\n      // Calculate slopes of lines passing through the pairs of points\r\n      const slope01 = (y1 - y0) / (x1 - x0);\r\n      const slope12 = (y2 - y1) / (x2 - x1);\r\n\r\n      // Calculate perpendicular slopes\r\n      const perpendicularSlope01 = -1 / slope01;\r\n      const perpendicularSlope12 = -1 / slope12;\r\n\r\n      // Calculate y-intercepts of perpendicular bisectors\r\n      const yIntercept01 = midPointY01 - perpendicularSlope01 * midPointX01;\r\n      const yIntercept12 = midPointY12 - perpendicularSlope12 * midPointX12;\r\n\r\n      // Calculate center coordinates\r\n      const centerX =\r\n        (yIntercept12 - yIntercept01) /\r\n        (perpendicularSlope01 - perpendicularSlope12);\r\n      const centerY = perpendicularSlope01 * centerX + yIntercept01;\r\n      // const centerX =\r\n      //   (yIntercept12 - yIntercept01) /\r\n      //   (perpendicularSlope01 - perpendicularSlope12);\r\n      // const centerY = perpendicularSlope01 * centerX + yIntercept01;\r\n      return { x: centerX, y: centerY };\r\n    },\r\n\r\n    findPointOnLine(x0, y0, x1, y1, d) {\r\n      // Calculate direction vector from X0 to X1\r\n      const dx = x1 - x0;\r\n      const dy = y1 - y0;\r\n\r\n      // Calculate distance between X0 and X1\r\n      const distanceX0X1 = Math.sqrt(dx * dx + dy * dy);\r\n\r\n      // Normalize direction vector\r\n      const nx = dx / distanceX0X1;\r\n      const ny = dy / distanceX0X1;\r\n\r\n      // Calculate perpendicular vector\r\n      const px = -ny;\r\n      const py = nx;\r\n\r\n      // Scale perpendicular vector by distance 'd'\r\n      const newX = Math.max(1, (x0 + x1) / 2 + d * px);\r\n      const newY = Math.max(1, (y0 + y1) / 2 + d * py);\r\n      return { x: newX, y: newY };\r\n    },\r\n\r\n    curveRows(s) {\r\n      const temp = usePlanStore();\r\n      for (const z of temp.plan.zones) {\r\n        if (this.lockedZones.includes(z.uuid)) continue;\r\n        for (const r of z.rows) {\r\n          if (!this.selection.includes(r.uuid) || r.seats.length < 2) {\r\n            continue;\r\n          }\r\n          r.curve = s / 10;\r\n\r\n          // Our circle line segment starts with the first seat of the row\r\n          const x0 = r.seats[0].position.x;\r\n          const y0 = r.seats[0].position.y;\r\n\r\n          // and ends with the last seat of the row (at least in the non-fixedCenter case)\r\n          const x1 = r.seats[r.seats.length - 1].position.x;\r\n          const y1 = r.seats[r.seats.length - 1].position.y;\r\n\r\n          //\r\n          if (r.seats.length <= 2) return;\r\n          if (s === 0) {\r\n            const dx = (x1 - x0) / (r.seats.length - 1);\r\n            const dy = (y1 - y0) / (r.seats.length - 1);\r\n            for (let i = 0; i < r.seats.length; i++) {\r\n              r.seats[i].position.x = x0 + dx * i;\r\n              r.seats[i].position.y = y0 + dy * i;\r\n            }\r\n          } else {\r\n            const a = s / 150 / 100;\r\n            const b = 10000 * a;\r\n            const positions = getPoints(a, b, r.seats.length);\r\n            let i;\r\n            for (i = 0; i < r.seats.length; i++) {\r\n              let fromX = positions[i].x + 100;\r\n              let fromY = positions[i].y;\r\n\r\n              let a00 = (x1 - x0) / 200;\r\n              let a01 = (y1 - y0) / 200;\r\n              let a10 = (y0 - y1) / 200;\r\n              let a11 = (x1 - x0) / 200;\r\n\r\n              let toX = a00 * fromX + a10 * fromY;\r\n              let toY = a01 * fromX + a11 * fromY;\r\n\r\n              r.seats[i].position.x = toX;\r\n              r.seats[i].position.y = toY;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      planStore.persistPlan();\r\n    },\r\n\r\n    circleRows(tx, ty, fixedCenter) {\r\n      /**\r\n       * Align all currently selected rows along a circle line with radius specified by target position {tx, ty}\r\n       */\r\n\r\n      const temp = usePlanStore();\r\n      for (const z of temp.plan.zones) {\r\n        if (this.lockedZones.includes(z.uuid)) continue;\r\n        for (const r of z.rows) {\r\n          if (!this.selection.includes(r.uuid) || r.seats.length === 0) {\r\n            continue;\r\n          }\r\n\r\n          // Our circle line segment starts with the first seat of the row\r\n          const firstx = r.seats[0].position.x;\r\n          const firsty = r.seats[0].position.y;\r\n\r\n          // and ends with the last seat of the row (at least in the non-fixedCenter case)\r\n          const lastx = r.seats[r.seats.length - 1].position.x;\r\n          const lasty = r.seats[r.seats.length - 1].position.y;\r\n\r\n          // The distance between those two points is e.g. our minimum diameter\r\n          const distance = Math.sqrt(\r\n            (lastx - firstx) * (lastx - firstx) +\r\n              (lasty - firsty) * (lasty - firsty)\r\n          );\r\n\r\n          // rtx,rty is the position of the mouse which we'll use to compute the circle center\r\n          const rtx = tx - r.position.x - z.position.x;\r\n          const rty = ty - r.position.y - z.position.y;\r\n          const sign = Math.sign(\r\n            (rtx - firstx) * (lasty - firsty) -\r\n              (rty - firsty) * (lastx - firstx)\r\n          );\r\n          let radius, cx, cy;\r\n\r\n          if (fixedCenter) {\r\n            // The radius is computed from the distance of rtx,rty to the first seat\r\n            radius = Math.sqrt(\r\n              (rtx - firstx) * (rtx - firstx) + (rty - firsty) * (rty - firsty)\r\n            );\r\n            cx = rtx;\r\n            cy = rty;\r\n          } else {\r\n            // The radius is computed from the distance of rtx,rty to the line between the first and last seat\r\n            radius = Math.max(\r\n              Math.abs(\r\n                (rtx - firstx) * (lasty - firsty) -\r\n                  (rty - firsty) * (lastx - firstx)\r\n              ) / distance,\r\n              distance / 2\r\n            );\r\n\r\n            // The center of the circle is found using the two points and the radius\r\n            const cc = findCircleCenter({\r\n              x1: firstx,\r\n              y1: firsty,\r\n              x2: lastx,\r\n              y2: lasty,\r\n              radius,\r\n              sign,\r\n            });\r\n            cx = cc.cx;\r\n            cy = cc.cy;\r\n          }\r\n          let theta0 = degreeInCircle(firsty - cy, firstx - cx);\r\n          let theta1 = degreeInCircle(lasty - cy, lastx - cx);\r\n\r\n          // This makes sure we always take the \"short\" path over the circle, i.e. never more than 180°\r\n          if (theta1 - theta0 > Math.PI) {\r\n            theta0 += 2 * Math.PI;\r\n          } else if (theta0 - theta1 > Math.PI) {\r\n            theta1 += 2 * Math.PI;\r\n          }\r\n\r\n          // This deals with problem at minimum radius: Our circle equation has two solutions and we want to use one\r\n          // or the other depending on the mouse position\r\n          if (Math.abs(distance / 2 - radius) < 0.00001) {\r\n            if (theta0 <= Math.PI && sign < 0 && theta1 > theta0) {\r\n              theta1 -= 2 * Math.PI;\r\n            } else if (theta0 >= Math.PI && sign > 0 && theta1 < theta0) {\r\n              theta1 += 2 * Math.PI;\r\n            }\r\n          }\r\n\r\n          // Distribute the seats evenly along the circle line\r\n          const thetaStep = (theta1 - theta0) / (r.seats.length - 1);\r\n          for (const [sidx, s] of r.seats.entries()) {\r\n            s.position.x = cx + radius * Math.cos(theta0 + thetaStep * sidx);\r\n            s.position.y = cy - radius * Math.sin(theta0 + thetaStep * sidx);\r\n          }\r\n        }\r\n      }\r\n      planStore.persistPlan();\r\n    },\r\n    moveSelected(x, y) {\r\n      // TODO: delegate to plan module?\r\n      const temp = usePlanStore();\r\n      for (const z of temp.plan.zones) {\r\n        if (this.lockedZones.includes(z.uuid)) continue;\r\n        for (const r of z.rows) {\r\n          if (this.selection.includes(r.uuid)) {\r\n            r.position.x += x;\r\n            r.position.y += y;\r\n          }\r\n          for (const s of r.seats) {\r\n            if (this.selection.includes(s.uuid)) {\r\n              s.position.x += x;\r\n              s.position.y += y;\r\n            }\r\n          }\r\n        }\r\n        for (const a of z.areas) {\r\n          if (this.selection.includes(a.uuid)) {\r\n            a.position.x += x;\r\n            a.position.y += y;\r\n          }\r\n        }\r\n      }\r\n      planStore.persistPlan();\r\n    },\r\n    moveDragging(x, y, snap, zoomLevel) {\r\n      if (!this.dragging) return;\r\n      let dx = x - this.dragStartX;\r\n      let dy = y - this.dragStartY;\r\n      if (dx * zoomLevel < 2 && dy * zoomLevel < 2) {\r\n        // More likely a misclick than an intentional drag\r\n      }\r\n      if (Math.abs(dx) > 0 || Math.abs(dy) > 0) this.dragged = true;\r\n      if (\r\n        this.tool === \"select\" ||\r\n        this.tool === \"seatselect\" ||\r\n        this.tool === \"polygon\"\r\n      ) {\r\n        // TODO: delegate to plan module?\r\n        const temp = usePlanStore();\r\n        for (const z of temp.plan.zones) {\r\n          if (this.lockedZones.includes(z.uuid)) continue;\r\n          if (!this.draggingPolygonPoint) {\r\n            for (const r of z.rows) {\r\n              if (this.selection.includes(r.uuid)) {\r\n                // const minx = Math.min(...r.seats.map((s) => s.position.x));\r\n                // const maxx = Math.max(...r.seats.map((s) => s.position.x));\r\n                // const miny = Math.min(...r.seats.map((s) => s.position.y));\r\n                // const maxy = Math.max(...r.seats.map((s) => s.position.y));\r\n                // if (\r\n                //   r.position.x + minx + dx + 10 < 0 ||\r\n                //   r.position.y + miny + dy + 10 < 0 ||\r\n                //   r.position.x + maxx + dx + 10 > temp.plan.size.width ||\r\n                //   r.position.y + maxy + dy + 10 > temp.plan.size.height\r\n                // ) {\r\n                //   return;\r\n                // }\r\n\r\n                r.position.x += dx;\r\n                r.position.y += dy;\r\n                if (snap) {\r\n                  const oldpos = r.position;\r\n                  r.position = findClosestGridPoint({\r\n                    x: r.position.x,\r\n                    y: r.position.y,\r\n                    zone: z,\r\n                  });\r\n                  if (r.position.x !== oldpos.x || r.position.y !== oldpos.y) {\r\n                    dx += r.position.x - oldpos.x;\r\n                    dy += r.position.y - oldpos.y;\r\n                    x += r.position.x - oldpos.x;\r\n                    y += r.position.y - oldpos.y;\r\n                  }\r\n                  snap = false;\r\n                }\r\n              }\r\n              for (const s of r.seats) {\r\n                if (this.selection.includes(s.uuid)) {\r\n                  s.position.x += dx;\r\n                  s.position.y += dy;\r\n                  if (snap) {\r\n                    const oldpos = s.position;\r\n                    s.position = findClosestGridPoint({\r\n                      x: s.position.x + r.position.x,\r\n                      y: s.position.y + r.position.y,\r\n                      zone: z,\r\n                    });\r\n                    s.position.x -= r.position.x;\r\n                    s.position.y -= r.position.y;\r\n                    if (\r\n                      s.position.x !== oldpos.x ||\r\n                      s.position.y !== oldpos.y\r\n                    ) {\r\n                      dx += s.position.x - oldpos.x;\r\n                      dy += s.position.y - oldpos.y;\r\n                      x += s.position.x - oldpos.x;\r\n                      y += s.position.y - oldpos.y;\r\n                    }\r\n                    snap = false;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n          for (const a of z.areas) {\r\n            if (this.selection.includes(a.uuid)) {\r\n              if (this.draggingPolygonPoint) {\r\n                if (a.shape !== \"polygon\" && a.shape !== \"gaPolygon\") {\r\n                  console.warn(\r\n                    \"trying to move polygon points, but shape is not a polygon\"\r\n                  );\r\n                  continue;\r\n                }\r\n                let ppoint = a.polygon.points[this.draggingPolygonPointId];\r\n                ppoint.x += dx;\r\n                ppoint.y += dy;\r\n                if (snap) {\r\n                  const oldpos = ppoint;\r\n                  ppoint = findClosestGridPoint({\r\n                    x: ppoint.x,\r\n                    y: ppoint.y,\r\n                    zone: z,\r\n                  });\r\n                  a.polygon.points[this.draggingPolygonPointId] = ppoint;\r\n                  // Vue.set(\r\n                  //   a.polygon.points,\r\n                  //   this.draggingPolygonPointId,\r\n                  //   ppoint\r\n                  // );\r\n                  if (ppoint.x !== oldpos.x || ppoint.y !== oldpos.y) {\r\n                    dx += ppoint.x - oldpos.x;\r\n                    dy += ppoint.y - oldpos.y;\r\n                    x += ppoint.x - oldpos.x;\r\n                    y += ppoint.y - oldpos.y;\r\n                  }\r\n                  snap = false;\r\n                }\r\n              } else {\r\n                // let abox;\r\n                // if (\r\n                //   a.shape === 'circle' &&\r\n                //   (a.position.x + dx - a.circle.radius < 0 ||\r\n                //     a.position.y + dy - a.circle.radius < 0 ||\r\n                //     a.position.x + dx + a.circle.radius >\r\n                //       temp.plan.size.width ||\r\n                //     a.position.y + dy + a.circle.radius > temp.plan.size.height)\r\n                // )\r\n                //   return;\r\n                // if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n                //   abox = ellipseBBox(a);\r\n                //   if (\r\n                //     abox.x + dx < 0 ||\r\n                //     abox.x + dx + abox.width > temp.plan.size.width ||\r\n                //     abox.y + dy < 0 ||\r\n                //     abox.y + dy + abox.height > temp.plan.size.height\r\n                //   )\r\n                //     return;\r\n                // }\r\n                // if (\r\n                //   (a.shape === 'rectangle' || a.shape === 'gaSquare') &&\r\n                //   (a.position.x + dx < 0 ||\r\n                //     a.position.x + dx + a.rectangle.width >\r\n                //       temp.plan.size.width ||\r\n                //     a.position.y + dy < 0 ||\r\n                //     a.position.y + dy + a.rectangle.height >\r\n                //       temp.plan.size.height)\r\n                // )\r\n                //   return;\r\n                // if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n                //   const minx = Math.min(...a.polygon.points.map((p) => p.x));\r\n                //   const maxx = Math.max(...a.polygon.points.map((p) => p.x));\r\n                //   const miny = Math.max(...a.polygon.points.map((p) => p.y));\r\n                //   const maxy = Math.max(...a.polygon.points.map((p) => p.y));\r\n                //   if (\r\n                //     a.position.x + minx + dx < 0 ||\r\n                //     a.position.x + maxx + dx > temp.plan.size.width ||\r\n                //     a.position.y + miny + dy < 0 ||\r\n                //     a.position.y + maxy + dy > temp.plan.size.height\r\n                //   )\r\n                //     return;\r\n                // }\r\n                // if (a.shape === 'text') {\r\n                //   const width = estimateTextWidth(a.text.text, a.text.size);\r\n                //   const height = a.text.size;\r\n                //   if (\r\n                //     a.position.x + dx - width / 2 < 0 ||\r\n                //     a.position.x + dx + width / 2 > temp.plan.size.width ||\r\n                //     a.position.y + dy - height / 2 < 0 ||\r\n                //     a.position.y + dy + height / 2 > temp.plan.size.height\r\n                //   )\r\n                //     return;\r\n                // }\r\n                // if (a.shape === 'roundTable') {\r\n                //   if (\r\n                //     a.position.x + dx - a.radius - 20 < 0 ||\r\n                //     a.position.x + dx + a.radius + 20 > temp.plan.size.width ||\r\n                //     a.position.y + dy - a.radius - 20 < 0 ||\r\n                //     a.position.y + dy + a.radius + 20 > temp.plan.size.height\r\n                //   )\r\n                //     return;\r\n                // }\r\n                // if (a.shape === 'rectangleTable') {\r\n                //   const top =\r\n                //     a.seats.findIndex((s) => s.special === 'top') > -1 ? 1 : 0;\r\n                //   const bottom =\r\n                //     a.seats.findIndex((s) => s.special === 'bottom') > -1\r\n                //       ? 1\r\n                //       : 0;\r\n                //   const left =\r\n                //     a.seats.findIndex((s) => s.special === 'left') > -1 ? 1 : 0;\r\n                //   const right =\r\n                //     a.seats.findIndex((s) => s.special === 'right') > -1\r\n                //       ? 1\r\n                //       : 0;\r\n                //   const minx =\r\n                //     a.position.x + dx - a.rectangleTable.width / 2 - left * 20;\r\n                //   const maxx =\r\n                //     a.position.x + dx + a.rectangleTable.width / 2 + right * 20;\r\n                //   const miny =\r\n                //     a.position.y + dy - a.rectangleTable.height / 2 - top * 20;\r\n                //   const maxy =\r\n                //     a.position.y +\r\n                //     dy +\r\n                //     a.rectangleTable.height / 2 +\r\n                //     bottom * 20;\r\n                //   if (\r\n                //     minx < 0 ||\r\n                //     miny < 0 ||\r\n                //     maxx > temp.plan.size.width ||\r\n                //     maxy > temp.plan.size.height\r\n                //   )\r\n                //     return;\r\n                // }\r\n                a.position.x += dx;\r\n                a.position.y += dy;\r\n                if (snap) {\r\n                  const oldpos = a.position;\r\n                  a.position = findClosestGridPoint({\r\n                    x: a.position.x,\r\n                    y: a.position.y,\r\n                    zone: z,\r\n                  });\r\n                  if (a.position.x !== oldpos.x || a.position.y !== oldpos.y) {\r\n                    dx += a.position.x - oldpos.x;\r\n                    dy += a.position.y - oldpos.y;\r\n                    x += a.position.x - oldpos.x;\r\n                    y += a.position.y - oldpos.y;\r\n                  }\r\n                  snap = false;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        // TODO\r\n      }\r\n      this.dragStartX = x;\r\n      this.dragStartY = y;\r\n    },\r\n    moveRotating(ox, oy, theta) {\r\n      const deg = (theta / Math.PI) * 180;\r\n      const planStore = usePlanStore(); // Retrieve the plan store\r\n\r\n      const temp = usePlanStore();\r\n      for (const z of temp.plan.zones) {\r\n        if (this.lockedZones.includes(z.uuid)) continue;\r\n\r\n        const lox = ox - z.position.x;\r\n        const loy = oy - z.position.y;\r\n\r\n        for (const r of z.rows) {\r\n          let rdx = 0;\r\n          let rdy = 0;\r\n\r\n          if (this.selection.includes(r.uuid)) {\r\n            rdx =\r\n              Math.cos(theta) * (r.position.x - lox) -\r\n              Math.sin(theta) * (r.position.y - loy) +\r\n              lox -\r\n              r.position.x;\r\n            rdy =\r\n              Math.sin(theta) * (r.position.x - lox) +\r\n              Math.cos(theta) * (r.position.y - loy) +\r\n              loy -\r\n              r.position.y;\r\n          }\r\n\r\n          const llox = lox - r.position.x;\r\n          const lloy = loy - r.position.y;\r\n\r\n          for (const s of r.seats) {\r\n            if (\r\n              this.selection.includes(s.uuid) ||\r\n              this.selection.includes(r.uuid)\r\n            ) {\r\n              const oldx = s.position.x;\r\n              const oldy = s.position.y;\r\n              s.position.x =\r\n                Math.cos(theta) * (oldx - llox) -\r\n                Math.sin(theta) * (oldy - lloy) +\r\n                llox -\r\n                rdx;\r\n              s.position.y =\r\n                Math.sin(theta) * (oldx - llox) +\r\n                Math.cos(theta) * (oldy - lloy) +\r\n                lloy -\r\n                rdy;\r\n            }\r\n          }\r\n\r\n          if (rdx) r.position.x += rdx;\r\n          if (rdy) r.position.y += rdy;\r\n          r.rotation = Math.round((r.rotation + deg + 360) % 360);\r\n        }\r\n\r\n        for (const area of z.areas) {\r\n          if (this.selection.includes(area.uuid)) {\r\n            const oldx = area.position.x;\r\n            const oldy = area.position.y;\r\n            area.position.x =\r\n              Math.cos(theta) * (oldx - lox) -\r\n              Math.sin(theta) * (oldy - loy) +\r\n              lox;\r\n            area.position.y =\r\n              Math.sin(theta) * (oldx - lox) +\r\n              Math.cos(theta) * (oldy - loy) +\r\n              loy;\r\n            area.rotation = round((area.rotation + deg) % 360, 2);\r\n            if (area.rotation < 0) area.rotation += 360;\r\n          }\r\n        }\r\n      }\r\n      planStore.persistPlan(); // Call the persistPlan action from the plan store\r\n    },\r\n    moveResizing(ox, oy, factor) {\r\n      const temp = usePlanStore();\r\n      for (const z of temp.plan.zones) {\r\n        if (this.lockedZones.includes(z.uuid)) continue;\r\n\r\n        const lox = ox - z.position.x;\r\n        const loy = oy - z.position.y;\r\n\r\n        for (const row of z.rows) {\r\n          if (this.selection.includes(row.uuid)) {\r\n            // if (row.seats.length < 2) return;\r\n            // const x0 = row.seats[0].position.x;\r\n            // const y0 = row.seats[0].position.y;\r\n            // const x1 = row.seats[1].position.x;\r\n            // const y1 = row.seats[1].position.y;\r\n            // if (\r\n            //   Math.sqrt((x0 - x1) * (x0 - x1) + (y0 - y1) * (y0 - y1)) *\r\n            //     factor <\r\n            //   20\r\n            // )\r\n            //   return;\r\n\r\n            row.position.x = lox + (row.position.x - lox) * factor;\r\n            row.position.y = loy + (row.position.y - loy) * factor;\r\n\r\n            for (const seat of row.seats) {\r\n              seat.position.x *= factor;\r\n              seat.position.y *= factor;\r\n            }\r\n          }\r\n        }\r\n\r\n        for (const area of z.areas) {\r\n          if (this.selection.includes(area.uuid)) {\r\n            if (area.shape === \"roundTable\" || area.shape === \"rectangleTable\")\r\n              return;\r\n            area.position.x = lox + (area.position.x - lox) * factor;\r\n            area.position.y = loy + (area.position.y - loy) * factor;\r\n\r\n            switch (area.shape) {\r\n              case \"rectangle\":\r\n                area.rectangle.width *= factor;\r\n                area.rectangle.height *= factor;\r\n                break;\r\n              case \"gaSquare\":\r\n                area.rectangle.width *= factor;\r\n                area.rectangle.height *= factor;\r\n                area.text.position.x = round(area.rectangle.width / 2, 4);\r\n                area.text.position.y = round(area.rectangle.height / 2, 4);\r\n                break;\r\n              case \"circle\":\r\n                area.circle.radius *= factor;\r\n                break;\r\n              case \"ellipse\":\r\n              case \"gaCircle\":\r\n                area.ellipse.radius.x *= factor;\r\n                area.ellipse.radius.y *= factor;\r\n                break;\r\n              case \"polygon\":\r\n                for (let p of area.polygon.points) {\r\n                  p.x *= factor;\r\n                  p.y *= factor;\r\n                }\r\n                break;\r\n              case \"text\":\r\n                area.text.size =\r\n                  (area.text.size ? area.text.size : 16) * factor;\r\n                break;\r\n              default:\r\n                console.warn(\"Unknown shape type\", area.shape);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    setZoomTransform(t) {\r\n      this.zoomTransform = t;\r\n    },\r\n\r\n    copy(objects, offset) {\r\n      offset = offset === undefined ? 100 : offset;\r\n      this.clipboardAreas = [];\r\n      this.clipboardRows = [];\r\n      const clone = (o) => JSON.parse(JSON.stringify(o));\r\n      const temp = usePlanStore();\r\n      for (const z of temp.plan.zones) {\r\n        if (this.lockedZones.includes(z.uuid)) continue;\r\n\r\n        const rowsToClip = z.rows\r\n          .filter((r) => objects.includes(r.uuid))\r\n          .map(clone);\r\n        for (const r of rowsToClip) {\r\n          r.position.x += z.position.x + offset;\r\n          r.position.y += z.position.y;\r\n        }\r\n        this.clipboardRows.push(...rowsToClip);\r\n\r\n        const areasToClip = z.areas\r\n          .filter((a) => objects.includes(a.uuid))\r\n          .map(clone);\r\n        for (const a of areasToClip) {\r\n          a.position.x += z.position.x + offset;\r\n          a.position.y += z.position.y;\r\n        }\r\n        this.clipboardAreas.push(...areasToClip);\r\n      }\r\n    },\r\n\r\n    //edit\r\n    cut(objects) {\r\n      this.copy(objects, 0);\r\n      planStore.deleteObjects(objects);\r\n    },\r\n\r\n    paste() {\r\n      const temp = usePlanStore();\r\n      const z = temp.plan.zones.find((z) => z.uuid === this.selectedZone);\r\n      let uid;\r\n      const select = [];\r\n      for (let r of this.clipboardRows) {\r\n        r = JSON.parse(JSON.stringify(r));\r\n        uid = uuid();\r\n        r.uuid = uid;\r\n        for (const s of r.seats) {\r\n          s.uuid = uuid();\r\n          s.guid = generateID();\r\n          s.seat_guid =\r\n            z.zone_id +\r\n            \"-\" +\r\n            r.row_number.toString() +\r\n            \"-\" +\r\n            s.seat_number.toString();\r\n        }\r\n        select.push(r.uuid);\r\n        r.position.x -= z.position.x;\r\n        r.position.y -= z.position.y;\r\n        z.rows.push(r);\r\n      }\r\n      for (let a of this.clipboardAreas) {\r\n        a = JSON.parse(JSON.stringify(a));\r\n        uid = uuid();\r\n        a.uuid = uid;\r\n        a.guid = generateID();\r\n        a.position.x -= z.position.x;\r\n        a.position.y -= z.position.y;\r\n        if (a.shape === \"roundTable\" || a.shape === \"rectangleTable\") {\r\n          for (const s of a.seats) {\r\n            s.uuid = uuid();\r\n            s.guid = generateID();\r\n          }\r\n        }\r\n        z.areas.push(a);\r\n        select.push(uid);\r\n      }\r\n      this.ignoreNextSelection = false;\r\n      this.toggleSelection(select, false, z.uuid);\r\n      planStore.persistPlan();\r\n    },\r\n  },\r\n});\r\n","<template>\r\n  <v-btn class=\"zoom-btn\" @click=\"setTransform((zoomValue - 10) / 100)\">\r\n    <v-icon color=\"black\" icon=\"mdi-minus\" size=\"large\"></v-icon>\r\n    <v-tooltip activator=\"parent\" location=\"bottom\">Zoom out</v-tooltip>\r\n  </v-btn>\r\n\r\n  <v-text-field append-inner-icon=\"mdi-percent-outline\" v-model=\"zoomValue\"\r\n    class=\"custom-input-1\" @change=\"onChange\" type=\"number\" solo-inverted flat />\r\n\r\n  <v-btn class=\"zoom-btn\" @click=\"setTransform((zoomValue + 10) / 100)\">\r\n    <v-icon color=\"black\" icon=\"mdi-plus\" size=\"large\"></v-icon>\r\n    <v-tooltip activator=\"parent\" location=\"bottom\">Zoom In</v-tooltip>\r\n  </v-btn>\r\n\r\n  <v-btn @click=\"fitScreen\">\r\n    <v-icon color=\"black\" icon=\"mdi-fullscreen\" size=\"large\"></v-icon>\r\n    <v-tooltip activator=\"parent\" location=\"bottom\">Fit Screen</v-tooltip>\r\n  </v-btn>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, defineProps, ref, watch } from \"vue\";\r\nimport { useSvgStore } from \"../../../../stores/svgStore\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\nimport * as d3 from \"d3\";\r\nconst store = useMainStore();\r\nconst planStore = usePlanStore();\r\nconst plan = computed(() => planStore.plan)\r\nconst zoomTransform = computed(() => store.zoomTransform);\r\n\r\nconst zoomValue = ref(computed(() => Math.round(store.zoomTransform.k * 100)));\r\n\r\nconst onChange = (e) => {\r\n  if (e.target.value > 999) return;\r\n  zoomTransform.value.k = (e.target.value / 100);\r\n};\r\n\r\nconst setTransform = val => {\r\n  if (val < 0.05) val = 0.05;\r\n  zoomTransform.value.k = val;\r\n}\r\n\r\nconst fitScreen = () => {\r\n  const svg = document.getElementById('svg');\r\n  const viewportHeight = svg.clientHeight;\r\n  const viewportWidth = svg.clientWidth;\r\n  const panPadding = viewportHeight * -10;\r\n  const defaultScale = plan.value.size.height\r\n    ? Math.min(\r\n      (viewportWidth - 130) / plan.value.size.width,\r\n      (viewportHeight - 130) / plan.value.size.height\r\n    ) : 1;\r\n  const initTransform = d3.zoomIdentity\r\n    .scale(defaultScale)\r\n    .translate(\r\n      (viewportWidth / defaultScale - plan.value.size.width) / 2,\r\n      (viewportHeight / defaultScale - plan.value.size.height) / 2\r\n    );\r\n  zoomTransform.value.x = initTransform.x;\r\n  zoomTransform.value.y = initTransform.y;\r\n  zoomTransform.value.k = initTransform.k;\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.custom-input-1 {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 85px;\r\n  font-size: 12px !important;\r\n}\r\n\r\n.v-field--appended {\r\n  font-size: 14px;\r\n}\r\n\r\n.zoom-btn {\r\n  width: 30px;\r\n  min-width: 30px;\r\n}\r\n\r\n.v-text-field input[type=\"number\"]::-webkit-inner-spin-button,\r\n.v-text-field input[type=\"number\"]::-webkit-outer-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n\r\n/* For global style, you can remove scoped and use deep selectors if necessary */\r\n</style>\r\n","import script from \"./MagnifierView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MagnifierView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MagnifierView.vue?vue&type=style&index=0&id=59c1900d&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./SettingModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SettingModal.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <v-btn class=\"btn\" @click=\"onClick\">\r\n    <v-icon v-if=\"!isValid && !validateSeatSection && !validatePosition\"\r\n      color=\"green\" icon=\"mdi-check-circle\" size=\"large\"></v-icon>\r\n    <v-icon v-else color=\"red\" icon=\"mdi-close-circle\" size=\"large\"></v-icon>\r\n    <v-tooltip activator=\"parent\" location=\"bottom\">Validation</v-tooltip>\r\n  </v-btn>\r\n</template>\r\n<script setup>\r\nimport { ref, computed } from \"vue\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\n\r\nconst plan = computed(() => usePlanStore().plan)\r\nconst validationErrors = computed(() => usePlanStore().validationPlan());\r\nconst section_label = computed(() => useMainStore().section_label)\r\nconst bvalid = computed(() => useMainStore().bvalid);\r\nconst mainStore = useMainStore();\r\n\r\nconst onClick = () => {\r\n  mainStore.setBvalid(!bvalid.value);\r\n}\r\n\r\nconst isValid = computed(() => {\r\n  return validationErrors.value.isValid;\r\n})\r\n\r\nconst validatePosition = computed(() => {\r\n  return usePlanStore().validatePosition();\r\n})\r\n\r\nconst validateSeatSection = computed(() => {\r\n  let nSection = 0;\r\n  section_label.value.forEach(section => {\r\n    for (const z of plan.value.zones) {\r\n      const temp = []\r\n      for (const r of z.rows) {\r\n        for (const s of r.seats) {\r\n          if (s.section_label === section.label)\r\n            temp.push(`${r.row_number}${s.seat_number}`)\r\n        }\r\n      }\r\n      const tt = [...new Set(temp)];\r\n      nSection += (temp.length - tt.length);\r\n    }\r\n  })\r\n  return nSection;\r\n})\r\n\r\nconst dialog = ref(false);\r\nconst status = ref(false);\r\n\r\n</script>\r\n","import script from \"./CheckModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CheckModal.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <v-btn class=\"btn\" @click=\"onClick\"><v-icon color=\"black\" icon=\"mdi-download\"\r\n      size=\"large\"></v-icon>Export\r\n  </v-btn>\r\n  <div class=\"text-center\">\r\n    <v-dialog v-model=\"dialog\" width=\"400\">\r\n      <v-card prepend-icon=\"mdi-download\" title=\"Save / Email Chart\">\r\n        <v-card-text>\r\n          Once your chart is complete, download the chart file so it can be\r\n          imported into BookTix. A copy of the chart is also emailed to you\r\n          based on the below email address.\r\n          <v-text-field label=\"Email Address\" required clearable\r\n            v-model=\"emailAddress\" @change=\"onChangeEmail\"\r\n            style=\"margin-top: 30px\"></v-text-field>\r\n\r\n          <!-- <v-text-field label=\"Service ID\" required clearable v-model=\"serviceID\"\r\n            style=\"margin-top: 30px\" placeholder=\"service_jv2oiml\"></v-text-field>\r\n\r\n          <v-text-field label=\"Template ID\" required clearable\r\n            v-model=\"templateID\" style=\"margin-top: 30px\"\r\n            placeholder=\"template_60b0p0p\"></v-text-field>\r\n\r\n          <v-text-field label=\"Public Key\" required clearable v-model=\"key\"\r\n            style=\"margin-top: 30px\"\r\n            placeholder=\"yAHgq8gPUad2EXNq2\"></v-text-field> -->\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions>\r\n          <v-btn text=\"Close\" variant=\"plain\" @click=\"dialog = false\"></v-btn>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"primary\" text=\"Download & Email\" variant=\"tonal\"\r\n            @click=\"onSave\"></v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, defineProps, computed } from \"vue\";\r\nimport { usePlanStore } from \"@/stores/plan\"\r\nimport { useToast } from \"vue-toastification\";\r\n// import { useBoardStore } from \"../../../../stores/svgStore\";\r\n\r\n// const boardStore = useBoardStore();\r\nconst dialog = ref(false);\r\nconst plan = usePlanStore();\r\nconst emailAddress = ref(\"hereis.topdev@gmail.com\");\r\nconst key = ref(\"\");\r\nconst templateID = ref(\"\");\r\nconst serviceID = ref(\"\");\r\nconst onChangeEmail = (v) => (emailAddress.value = v.target.value);\r\nconst isValid = computed(() => plan.validationPlan().isValid);\r\nconst props = defineProps({\r\n  export: Function,\r\n});\r\nconst onSave = () => {\r\n  props.export(emailAddress.value);\r\n  // props.export(emailAddress.value, serviceID.value, templateID.value, key.value);\r\n  dialog.value = false;\r\n};\r\n\r\nconst toast = useToast();\r\n\r\nconst onClick = () => {\r\n  if (!isValid.value) {\r\n    dialog.value = true\r\n  } else {\r\n    toast.error(\"Validation Error!\", {\r\n      timeout: 1000\r\n    });\r\n  }\r\n}\r\n</script>\r\n","import script from \"./ExportModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ExportModal.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M17.7,0H7.9C6.7,0,5.6,1,5.6,2.3v2.6H2.3C1,4.9,0,6,0,7.2v10.5C0,19,1,20,2.3,20h9.8c1.3,0,2.3-1,2.3-2.3v-2.6h3.4\r\n\tc1.3,0,2.3-1,2.3-2.3V2.3C20,1,19,0,17.7,0z M13.6,17.7c0,0.9-0.7,1.5-1.5,1.5H2.3c-0.9,0-1.5-0.7-1.5-1.5V7.2\r\n\tc0-0.9,0.7-1.5,1.5-1.5h3.4v7.1c0,1.3,1,2.3,2.3,2.3h5.7V17.7z M19.2,12.8c0,0.9-0.7,1.5-1.5,1.5h-3.4h-0.8H7.9\r\n\tc-0.9,0-1.5-0.7-1.5-1.5V5.7V4.9V2.3c0-0.9,0.7-1.5,1.5-1.5h9.8c0.9,0,1.5,0.7,1.5,1.5V12.8z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./CloneIcon.vue?vue&type=template&id=3e478b2d\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M16.2,8.9c-0.2-0.2-0.4-0.3-0.6-0.4l-1-0.7C12.8,6.4,11,5.1,9.1,3.8C8.3,3.3,7.5,2.7,6.7,2.1L6.1,1.7\r\n\tC5.9,1.6,5.7,1.4,5.5,1.3C5.4,1.3,5.3,1.2,5.1,1.2c-0.4,0-0.7,0.2-0.8,0.6c0,0.1,0,0.3,0,0.4l0.1,1.4c0.1,1.9,0.3,3.8,0.4,5.6\r\n\tc0.1,1.4,0.2,2.8,0.3,4.2l0.1,1.2c0,0.2,0,0.4,0.1,0.6c0,0.2,0.1,0.3,0.2,0.4C5.7,16,6,16.1,6.3,15.9c0.1-0.1,0.2-0.1,0.3-0.2\r\n\tl0.1-0.1c0.2-0.3,0.5-0.6,0.7-0.8c0.5-0.6,0.9-1.2,1.4-1.8L9,12.5l2.7,4.7c0.1,0.2,0.2,0.4,0.3,0.6c0,0.1,0.1,0.1,0.2,0.2\r\n\tc0.1,0.1,0.2,0.1,0.3,0.2c0,0,0.1,0,0.1,0c0.1,0,0.2,0,0.3,0c0.1,0,0.2-0.1,0.3-0.1c0.5-0.3,0.9-0.5,1.3-0.8\r\n\tc0.1-0.1,0.2-0.1,0.3-0.2l0.1-0.1c0.1-0.1,0.2-0.3,0.2-0.4c0-0.1,0-0.2,0-0.3L15,16.2c-0.1-0.1-0.1-0.3-0.2-0.4\r\n\tc-0.6-1.1-1.2-2.2-1.8-3.3L12,10.8l3.1-0.5c0.2,0,0.5-0.1,0.7-0.1c0.1,0,0.2-0.1,0.3-0.1c0.3-0.2,0.4-0.4,0.4-0.6\r\n\tC16.6,9.4,16.5,9.1,16.2,8.9z M15,9.4l-3.7,0.5c0,0-0.1,0-0.1,0c-0.2,0-0.3,0.2-0.3,0.3c-0.1,0.2,0,0.3,0.1,0.5l1.2,2.2\r\n\tc0.6,1.1,1.2,2.2,1.8,3.3c0,0.1,0.1,0.1,0.1,0.2c0,0,0,0,0,0c-0.4,0.2-0.8,0.5-1.3,0.7c-0.1-0.1-0.2-0.3-0.3-0.4l-3-5.3\r\n\tc-0.1-0.1-0.2-0.2-0.4-0.2c0,0,0,0,0,0c-0.1,0-0.3,0.1-0.4,0.2L8,12.3c-0.5,0.6-0.9,1.2-1.4,1.8c-0.2,0.2-0.3,0.4-0.5,0.6\r\n\tc0,0,0,0,0,0l-0.1-1.2C5.9,12,5.8,10.6,5.7,9.2C5.6,7.3,5.5,5.4,5.3,3.6L5.2,2.3c0.1,0.1,0.2,0.1,0.3,0.2l0.6,0.4\r\n\tC7,3.5,7.8,4,8.6,4.6c1.8,1.3,3.7,2.6,5.5,3.9l1,0.7c0.1,0,0.1,0.1,0.2,0.1C15.2,9.4,15.1,9.4,15,9.4z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./DirectSelectionArrowIcon.vue?vue&type=template&id=38f614e5\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M9.6,0.1C7.2,0.1,4.9,1,3.2,2.4L2.4,1.7c0,0-0.1-0.1-0.1-0.1C2,1.4,1.7,1.2,1.4,0.9C1.3,0.9,1.2,0.8,1,0.9\r\n\tC0.6,1,0.5,1.2,0.5,1.6c0.1,1.2,0.2,2.5,0.3,3.7c0,0.2,0,0.4,0.1,0.6c0,0.4,0.3,0.6,0.7,0.7c0.1,0,0.1,0,0.2,0\r\n\tC3.1,6.5,4.6,6.4,6,6.3c0.1,0,0.2,0,0.2,0c0.1,0,0.2-0.1,0.3-0.2c0.2-0.3,0.3-0.7,0-1C6.1,4.9,5.9,4.6,5.6,4.4c0,0-0.1-0.1-0.1-0.1\r\n\tL4.1,3.2C5.6,2,7.5,1.3,9.6,1.3c4.8,0,8.7,3.9,8.7,8.7s-3.9,8.7-8.7,8.7c-1.8,0-3.5-0.6-4.9-1.5c-0.9-0.6-1.6-1.3-2.2-2.2l-0.9,0.9\r\n\tc0.4,0.6,0.9,1.1,1.5,1.6c1.7,1.5,4,2.4,6.4,2.4c5.5,0,9.9-4.5,9.9-9.9S15,0.1,9.6,0.1z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./UndoIcon.vue?vue&type=template&id=5189d8e6\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <g>\r\n      <path\r\n        d=\"M16.1,5.9c-2.1,0-4.1,0-6.2,0c0,0,0,0,0,0c-2,0-4.1,0-6.1,0c-1,0-1.2,0.2-1.1,1.2c0.2,2.2,0.4,4.5,0.6,6.7\r\n\t\tc0.2,1.7,0.3,3.4,0.5,5.2C3.9,19.8,4.2,20,5.2,20c3.1,0,6.3,0,9.4,0c1.2,0,1.6-0.3,1.7-1.5c0.4-3.8,0.7-7.6,1.1-11.3\r\n\t\tC17.4,6.1,17.2,5.9,16.1,5.9z M6.8,18.6c-0.5,0-0.7-0.3-0.7-0.7c-0.1-1.6-0.2-3.2-0.3-4.8c0,0,0,0,0,0c-0.1-1.6-0.2-3.1-0.3-4.7\r\n\t\tc0-0.5,0.2-0.8,0.7-0.8c0.5,0,0.7,0.3,0.7,0.7c0.2,3.2,0.4,6.3,0.6,9.5C7.5,18.3,7.3,18.6,6.8,18.6z M10,18.6c-0.1,0-0.1,0-0.2,0\r\n\t\tc-0.4-0.1-0.6-0.3-0.6-0.8c0-1.6,0-3.2,0-4.8c0,0,0,0,0,0c0-1.5,0-3.1,0-4.6c0-0.5,0.1-0.8,0.6-0.9c0,0,0,0,0.1,0c0,0,0,0,0,0\r\n\t\tc0,0,0,0,0,0c0,0,0,0,0,0c0.6,0,0.7,0.4,0.7,0.9c0,1.5,0,3.1,0,4.6c0,0,0,0,0,0c0,1.5,0,3.1,0,4.6C10.7,18.2,10.6,18.6,10,18.6zM14.5,8.4c0,0.2,0,0.5,0,0.7c0,0,0,0,0,0c-0.2,2.9-0.4,5.9-0.5,8.8c0,0.5-0.2,0.8-0.7,0.7c-0.5,0-0.7-0.3-0.7-0.8\r\n\t\tc0.2-3.2,0.4-6.3,0.6-9.5c0-0.4,0.3-0.7,0.8-0.7C14.3,7.7,14.5,7.9,14.5,8.4z\"\r\n      />\r\n    </g>\r\n    <path\r\n      d=\"M18.3,2.3c-1.2,0-2.4,0-3.5,0c-0.4,0-0.6-0.1-0.7-0.6c-0.2-1-0.9-1.7-1.9-1.7c-0.7,0-1.3,0-2,0l0,0c0,0-0.1,0-0.1,0\r\n\tS9.9,0,9.9,0l0,0c-0.7,0-1.3,0-2,0C6.9,0,6.2,0.7,6,1.7C5.9,2.2,5.7,2.3,5.3,2.3c-1.2,0-2.3,0-3.5,0C1.4,4.7,1.4,4.7,3.5,4.7\r\n\tc2.1,0,4.2,0,6.4,0l0,0c0,0,0.1,0,0.1,0s0.1,0,0.1,0l0,0c2.1,0,4.2,0,6.4,0C18.6,4.7,18.6,4.7,18.3,2.3z M10.1,2.2\r\n\tc-0.1,0-0.1,0-0.2,0c-0.8,0-1.7,0-2.5,0c0.1-0.8,0.6-1,1.1-1c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c0.5,0,1,0.3,1.1,1\r\n\tC11.8,2.2,10.9,2.2,10.1,2.2z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./TrashIcon.vue?vue&type=template&id=21d77cf7\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M15.6,8.7C13.3,7.1,11,5.5,8.7,3.9C7.6,3.1,6.5,2.4,5.4,1.6C5.2,1.5,5,1.4,4.8,1.3c-0.1,0-0.1-0.1-0.2-0.1\r\n\tc-0.1,0-0.3,0.1-0.3,0.2c0,0.1,0,0.2,0,0.3c0.2,2.5,0.4,5,0.5,7.5C5,11.1,5.1,13.1,5.3,15c0,0.2,0,0.4,0.1,0.6\r\n\tc0,0.1,0.1,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0c0.1,0,0.1-0.1,0.2-0.2c0.3-0.3,0.6-0.7,0.9-1c0.7-0.9,1.5-1.8,2.2-2.7\r\n\tc0,0,0-0.1,0.1-0.1c0.1,0.1,0.2,0.3,0.2,0.4c1,1.7,2,3.5,3,5.2c0.1,0.2,0.2,0.4,0.4,0.6c0,0.1,0.1,0.1,0.2,0.2c0,0,0,0,0.1,0\r\n\tc0.1,0,0.2-0.1,0.3-0.1c0.5-0.3,1-0.5,1.4-0.8c0.1-0.1,0.2-0.2,0.3-0.2c0,0,0-0.1,0-0.1c-0.1-0.2-0.1-0.4-0.2-0.5\r\n\tc-0.7-1.3-1.4-2.5-2.2-3.8c-0.4-0.7-0.8-1.4-1.2-2c0,0,0,0-0.1-0.1c0,0,0.1,0,0.1,0c1.3-0.2,2.7-0.4,4-0.6c0.3,0,0.5-0.1,0.8-0.1\r\n\tc0.1,0,0.1,0,0.2-0.1c0.2-0.1,0.2-0.3,0-0.5C16.1,9.1,15.9,8.9,15.6,8.7z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./SelectionArrowIcon.vue?vue&type=template&id=47fb2db3\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.0\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"64.000000pt\"\r\n    height=\"64.000000pt\"\r\n    viewBox=\"0 0 64.000000 64.000000\"\r\n    preserveAspectRatio=\"xMidYMid meet\"\r\n  >\r\n    <g\r\n      transform=\"translate(0.000000,64.000000) scale(0.100000,-0.100000)\"\r\n      fill=\"#000000\"\r\n      stroke=\"none\"\r\n    >\r\n      <path\r\n        d=\"M300 580 c-6 -11 -17 -17 -24 -14 -8 3 -24 1 -35 -6 -20 -10 -21 -19\r\n-21 -136 l0 -125 -29 17 c-32 19 -78 13 -88 -11 -7 -21 107 -224 141 -249 23\r\n-18 42 -21 120 -21 101 0 134 11 163 54 15 22 19 55 21 214 3 163 2 191 -13\r\n213 -12 19 -23 25 -40 22 -14 -3 -26 2 -34 14 -7 11 -23 18 -41 18 -18 0 -33\r\n6 -36 15 -9 23 -71 20 -84 -5z m70 -120 c0 -148 18 -162 22 -17 3 101 3 102\r\n28 102 25 0 25 -1 28 -102 3 -125 22 -139 22 -18 0 67 3 87 15 91 8 4 22 1 30\r\n-6 12 -10 15 -44 15 -179 0 -259 -11 -276 -166 -276 -76 0 -96 3 -113 19 -28\r\n26 -133 214 -126 226 11 18 45 11 71 -15 14 -14 29 -25 34 -25 5 0 11 64 12\r\n143 3 134 4 142 23 142 19 0 20 -8 23 -102 4 -141 22 -133 22 10 0 63 3 117 7\r\n120 3 4 17 7 30 7 23 0 23 -1 23 -120z\"\r\n      />\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./HandIcon.vue?vue&type=template&id=f97e1040\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-toolbar-items class=\"border-left\">\r\n    <v-btn @click=\"changeTool('select')\"\r\n      :class=\"tool == 'select' ? 'current-tool' : ''\">\r\n      <v-tooltip activator=\"parent\" location=\"bottom\">Select</v-tooltip>\r\n      <SelectionArrowIcon width=\"20px\" height=\"20px\" />\r\n    </v-btn>\r\n    <v-btn @click=\"changeTool('seatselect')\"\r\n      :class=\"tool == 'seatselect' ? 'current-tool' : ''\">\r\n      <v-tooltip activator=\"parent\" location=\"bottom\">Direct Select</v-tooltip>\r\n      <DirectSelectionArrowIcon width=\"20px\" height=\"20px\" />\r\n    </v-btn>\r\n    <v-btn @click=\"clip\">\r\n      <v-tooltip activator=\"parent\" location=\"bottom\">Copy</v-tooltip>\r\n      <CloneIcon width=\"20px\" height=\"20px\" />\r\n    </v-btn>\r\n    <v-btn @click=\"undo\" :disabled=\"hasUndo ? false : true\">\r\n      <v-tooltip activator=\"parent\" location=\"bottom\">Undo</v-tooltip>\r\n      <UndoIcon width=\"20px\" height=\"20px\" />\r\n    </v-btn>\r\n    <v-btn @click=\"changeTool('hand')\"\r\n      :class=\"tool == 'hand' ? 'current-tool' : ''\">\r\n      <v-tooltip activator=\"parent\" location=\"bottom\">Hand</v-tooltip>\r\n      <HandIcon width=\"20px\" height=\"20px\" />\r\n    </v-btn>\r\n    <v-btn class=\"btn\" @click.prevent=\"deleteObjects\">\r\n      <v-tooltip activator=\"parent\" location=\"bottom\">Delete</v-tooltip>\r\n      <TrashIcon width=\"20px\" height=\"20px\" />\r\n    </v-btn>\r\n  </v-toolbar-items>\r\n</template>\r\n<script setup>\r\nimport { defineProps, ref, computed, onMounted, onUnmounted } from \"vue\";\r\nimport CloneIcon from \"@/assets/svgs/menuIcons/CloneIcon.vue\";\r\nimport DirectSelectionArrowIcon from \"@/assets/svgs/menuIcons/DirectSelectionArrowIcon.vue\";\r\nimport UndoIcon from \"@/assets/svgs/menuIcons/UndoIcon.vue\";\r\nimport TrashIcon from \"@/assets/svgs/menuIcons/TrashIcon.vue\";\r\nimport SelectionArrowIcon from \"@/assets/svgs/menuIcons/SelectionArrowIcon.vue\";\r\nimport HandIcon from \"@/assets/svgs/menuIcons/HandIcon.vue\";\r\n\r\nimport { useMainStore } from \"@/stores\";\r\n\r\nconst store = useMainStore();\r\nconst tool = ref(computed(() => store.tool));\r\nconst changeTool = (tool) => store.changeTool(tool);\r\n\r\nimport { useBoardStore } from \"@/stores/svgStore\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\n\r\nconst plan = usePlanStore();\r\nconst boardstore = useBoardStore();\r\nconst hand_selected = ref(computed(() => boardstore.hand_selected));\r\nconst select_selected = ref(computed(() => boardstore.select_selected));\r\nconst dselect_selected = ref(computed(() => boardstore.dselect_selected));\r\nconst hasUndo = ref(computed(() => plan.hasUndo))\r\nconst undo = plan.undo;\r\n\r\nconst props = defineProps({\r\n  selectionBoundary: Function\r\n})\r\n\r\nconst clip = () => {\r\n  if (store.selection.length) {\r\n    store.copy(store.selection, props.selectionBoundary().width + 20);\r\n    store.paste();\r\n  }\r\n}\r\n\r\nconst selection = computed(() => store.selection());\r\n\r\nconst deleteObjects = () => usePlanStore().deleteObjects(selection);\r\nconst set_all_false = () => {\r\n  boardstore.select_toggle(false);\r\n  boardstore.dselect_toggle(false);\r\n  boardstore.set_hand_false();\r\n  store.clearSelection();\r\n};\r\nconst onHand = () => {\r\n  set_all_false();\r\n  boardstore.set_hand();\r\n};\r\n\r\nconst onSelect = () => {\r\n  set_all_false();\r\n  boardstore.select_toggle(true);\r\n};\r\n\r\nconst onDselect = () => {\r\n  set_all_false();\r\n  boardstore.dselect_toggle(true);\r\n};\r\n\r\nconst item_selected = {\r\n  background: \"#d5d5d5b0\",\r\n};\r\n\r\nfunction onEscPress(event) {\r\n  if (event.key === \"Escape\") {\r\n    set_all_false();\r\n  }\r\n}\r\n\r\nonMounted(() => {\r\n  window.addEventListener(\"keydown\", onEscPress);\r\n});\r\n\r\nonUnmounted(() => {\r\n  window.removeEventListener(\"keydown\", onEscPress);\r\n});\r\n</script>\r\n\r\n<style></style>\r\n","import script from \"./MainTools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MainTools.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","export default {\r\n  sampleplan: {\r\n    name: \"My Seating Chart\",\r\n    categories: [],\r\n    sections: [],\r\n    zones: [\r\n      {\r\n        name: \"Ground floor\",\r\n        position: {\r\n          x: 0,\r\n          y: 0,\r\n        },\r\n        rows: [],\r\n        areas: [],\r\n      },\r\n    ],\r\n    size: {\r\n      width: 900,\r\n      height: 900,\r\n    },\r\n    point: {\r\n      x: 0,\r\n      y: 0,\r\n    },\r\n    mode: false,\r\n  },\r\n};\r\n","<template>\r\n  <v-toolbar-items class=\"border-left\">\r\n    <v-btn color=\"primary\" style=\"margin-left: 10px\" @click=\"reset\"><v-icon\r\n        color=\"black\" icon=\"mdi-file\" size=\"large\"></v-icon>\r\n      <v-tooltip activator=\"parent\" location=\"bottom\">New</v-tooltip>\r\n    </v-btn>\r\n    <v-btn class=\"btn\" @click=\"importSVG\">\r\n      <v-icon color=\"black\" icon=\"mdi-folder\" size=\"large\"></v-icon>\r\n      <v-tooltip activator=\"parent\" location=\"bottom\">Import</v-tooltip>\r\n    </v-btn>\r\n  </v-toolbar-items>\r\n</template>\r\n<script setup>\r\nimport { defineProps } from \"vue\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport sampleplan from \"@/sampleplan\";\r\nimport Ajv from 'ajv'\r\nimport schema from '@/schema/seating-plan.schema.json'\r\n// import ImportIcon from \"@/assets/svgs/menuIcons/ImportIcon.vue\";\r\nconst store = useMainStore();\r\n\r\nconst props = defineProps({\r\n  importSVG: Function,\r\n})\r\n\r\nconst reset = () => {\r\n  if (\r\n    window.confirm(\r\n      \"Do you want to start a new plan? Your current plan will be discarded.\"\r\n    )\r\n  ) {\r\n    const store = useMainStore();\r\n    localStorage.clear(\"frontrow2.editor.plan\");\r\n    location.reload();\r\n    store.loadPlan(sampleplan.sampleplan);\r\n  }\r\n};\r\n\r\nconst onImport = () => {\r\n  const input = document.createElement('input')\r\n  input.type = 'file'\r\n  input.accept = '.json'\r\n  input.onchange = (e) => {\r\n    const fileReader = new FileReader()\r\n    fileReader.onload = () => {\r\n      let data\r\n      try {\r\n        data = JSON.parse(fileReader.result)\r\n      } catch {\r\n        alert('Failed to load file (not a JSON file)')\r\n        return\r\n      }\r\n      const ajv = new Ajv({\r\n        allErrors: true,\r\n        verbose: true,\r\n      })\r\n      Promise.resolve(ajv.validate(schema, data)).then((valid) => {\r\n        if (valid || ajv.errors.every((e) => e.keyword === \"additionalProperties\")) {\r\n          store.loadPlan(JSON.parse(fileReader.result))\r\n        } else {\r\n          console.log(ajv.errors)\r\n          alert('Failed to load file (invalid seating plan)')\r\n        }\r\n      })\r\n    }\r\n    fileReader.readAsText(input.files[0])\r\n  }\r\n  input.click()\r\n}\r\n</script>\r\n","import script from \"./FileTool.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FileTool.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"800px\"\r\n    height=\"800px\"\r\n    viewBox=\"0 0 24 24\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      d=\"M10 4H6V1H5v3H1v1h4v4H1v1h4v4H1v1h4v4H1v1h4v3h1v-3h4v3h1V1h-1zM6 5h4v4H6zm0 5h4v4H6zm0 9v-4h4v4zM17.8 6H12v4h5.8a2 2 0 0 1 0 4H12v4h5.8a6 6 0 0 0 0-12zM13 7h2v2h-2zm0 8h2v2h-2zm4.8 2H16v-2h1.8a3 3 0 0 0 0-6H16V7h1.8a5 5 0 0 1 0 10z\"\r\n    />\r\n    <path fill=\"none\" d=\"M0 0h24v24H0z\" />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./SnapToGridIcon.vue?vue&type=template&id=61ea0546\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineStore } from 'pinia';\r\n\r\nexport const useToolbarStore = defineStore('toolbarstore', {\r\n  state: () => ({\r\n    bSnap2Grid: false\r\n  }),\r\n  actions: {\r\n    changeSnap2Grid() {\r\n      this.bSnap2Grid = !this.bSnap2Grid;\r\n    }\r\n  },\r\n});\r\n","<template>\r\n  <v-btn @click=\"toggleGrid\" :class=\"grid ? 'current-tool' : ''\">\r\n    <v-tooltip activator=\"parent\" location=\"bottom\">Grid</v-tooltip>\r\n    <v-icon v-if=\"grid == true\" color=\"black\" icon=\"mdi-grid\"\r\n      size=\"large\"></v-icon>\r\n    <v-icon v-if=\"grid == false\" color=\"black\" icon=\"mdi-grid-off\"\r\n      size=\"large\"></v-icon>\r\n  </v-btn>\r\n  <v-btn @click=\"toogleSnap\" :class=\"snap ? 'current-tool' : ''\">\r\n    <v-tooltip activator=\"parent\" location=\"bottom\">Snap to Grid</v-tooltip>\r\n    <SnapToGridIcon width=\"20\" height=\"20\" />\r\n  </v-btn>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from \"vue\";\r\nimport { useBoardStore } from \"../../../../stores/svgStore\";\r\nimport SnapToGridIcon from \"../../../../assets/svgs/menuIcons/SnapToGridIcon.vue\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport { useToolbarStore } from \"@/stores/toolbar\";\r\n\r\nconst boardStore = useBoardStore();\r\n// const grid = ref(computed(() => boardStore.grid));\r\nconst grid = ref(computed(() => store.grid));\r\nconst snap = ref(computed(() => store.snap));\r\n\r\n// const toggleGrid = () => boardStore.grid_toggle();\r\nconst store = useMainStore();\r\nconst toolbarStore = useToolbarStore();\r\nconst toogleSnap = () => store.toggleSnap();\r\nconst toggleGrid = () => store.toggleGrid()\r\n\r\nconst bSnap2Grid = ref(computed(() => toolbarStore.bSnap2Grid))\r\n\r\n// const tool = ref(computed(() => store.tool));\r\nconst btn_snap_2_grid_clicked = () => toolbarStore.changeSnap2Grid();\r\n</script>\r\n","import script from \"./GridView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GridView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <v-toolbar flat class=\"app-toolbar-container\">\r\n    <FileTool :importSVG=\"importSVG\" />\r\n    <MainTools :selectionBoundary=\"selectionBoundary\" />\r\n    <v-toolbar-title :style=\"toolbarTitleStyle\">\r\n      <div style=\"display: flex; align-items: center; justify-content: center; \">\r\n        <span :style=\"mode ? { 'color': '#ffcf37' } : {}\">{{ boardName }}</span>\r\n        <div v-if=\"mode\"\r\n          style=\"margin-left: 8px; display: flex; align-items: center;\">\r\n          <v-icon color=\"yellow\">\r\n            mdi-star\r\n          </v-icon>\r\n          <v-tooltip activator=\"parent\" location=\"bottom\">\r\n            <div class=\"tooltip-content\">\r\n              This chart only allows updates. No seats or GA sections can be\r\n              deleted, only edited or moved. Changes here to seats and GA sections\r\n              WILL impact already sold tickets, so use this feature with extreme\r\n              caution\r\n            </div>\r\n          </v-tooltip>\r\n        </div>\r\n      </div>\r\n    </v-toolbar-title>\r\n    <v-toolbar-items class=\"border-left\">\r\n      <MagnifierComponent />\r\n    </v-toolbar-items>\r\n    <v-toolbar-items class=\"border-left\">\r\n      <GridView />\r\n    </v-toolbar-items>\r\n    <v-toolbar-items class=\"border-left\">\r\n      <!-- <SettingModal /> -->\r\n      <CheckModal />\r\n      <ExportModal :export=\"exportSVG\" />\r\n    </v-toolbar-items>\r\n  </v-toolbar>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, defineProps } from \"vue\";\r\nimport MagnifierComponent from \"./utils/MagnifierView.vue\";\r\nimport { useBoardStore } from \"../../../stores/svgStore\";\r\nimport axios from 'axios';\r\n\r\nimport SettingModal from \"./utils/SettingModal.vue\";\r\nimport CheckModal from \"./utils/CheckModal.vue\";\r\nimport ExportModal from \"./utils/ExportModal.vue\";\r\nimport MainTools from \"./tools/MainTools.vue\";\r\nimport FileTool from \"./tools/FileTool.vue\";\r\nimport GridView from \"./utils/GridView.vue\";\r\nimport sampleplan from \"@/sampleplan\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport emailjs from 'emailjs-com';\r\nimport { useToast } from \"vue-toastification\";\r\nimport Plunk from \"@plunk/node\"\r\n\r\nconst planStore = usePlanStore();\r\nconst boardStore = useBoardStore();\r\nconst boardName = ref(computed(() => planStore.plan.name));\r\nconst plan = ref(computed(() => planStore.plan))\r\nconst store = useMainStore();\r\n\r\nconst mode = computed(() => plan.value.mode);\r\n\r\nconst props = defineProps({\r\n  selectionBoundary: Function\r\n})\r\n\r\nconst showYellowIcon = true;\r\n\r\nconst toast = useToast();\r\n\r\nconst getTags = (tags) => {\r\n  if (!tags) return [];\r\n  const descriptionMap = {\r\n    W: 'Wheelchair',\r\n    C: 'Wheelchair Companion',\r\n    P: 'Partial View',\r\n    F: 'Folding Chair',\r\n    S: 'Standing Room Only'\r\n  };\r\n\r\n  const codes = tags.split(',');\r\n  const descriptions = codes.map(code => descriptionMap[code.trim()]);\r\n  return descriptions;\r\n}\r\n\r\n\r\nconst importSVG = () => {\r\n  const input = document.createElement('input')\r\n  input.type = 'file'\r\n  input.accept = '.svg'\r\n  input.onchange = (e) => {\r\n    const reader = new FileReader();\r\n    const file = e.target.files[0];\r\n    reader.onload = function (e) {\r\n      const parser = new DOMParser();\r\n      const doc = parser.parseFromString(e.target.result, \"image/svg+xml\");\r\n      const svgElement = doc.querySelector('svg');\r\n      const metadataElement = doc.querySelector('metadata');\r\n\r\n      if (!metadataElement) {\r\n        alert('Sorry, this seating map does not look like it was made with the BookTix Seating Chart tool. Please import another map that was created using the BookTix tool.');\r\n        return;\r\n      }\r\n\r\n      const booktixDataElement = metadataElement.querySelector('booktix-data');\r\n\r\n      if (!booktixDataElement) {\r\n        alert('Sorry, this seating map does not look like it was made with the BookTix Seating Chart tool. Please import another map that was created using the BookTix tool.');\r\n        return;\r\n      }\r\n\r\n      // Extract chart name\r\n      const chartNameElement = booktixDataElement.querySelector('chartname');\r\n      const chartName = chartNameElement ? chartNameElement.textContent : null;\r\n\r\n      // Extract categories\r\n      const categories = [];\r\n      const categoryNodes = booktixDataElement.querySelectorAll('categories category');\r\n      categoryNodes.forEach(category => {\r\n        const nameElement = category.querySelector('name');\r\n        const colorElement = category.querySelector('color');\r\n        if (nameElement && colorElement) {\r\n          categories.push({\r\n            name: nameElement.textContent,\r\n            color: colorElement.textContent\r\n          });\r\n        }\r\n      });\r\n\r\n      // Extract sections\r\n      const sections = [];\r\n      const sectionNodes = booktixDataElement.querySelectorAll('sections section');\r\n      sectionNodes.forEach(section => {\r\n        const nameElement = section.querySelector('name');\r\n        const abvElement = section.querySelector('abv');\r\n        if (nameElement && abvElement) {\r\n          sections.push({\r\n            name: nameElement.textContent,\r\n            abv: abvElement.textContent\r\n          });\r\n        }\r\n      });\r\n\r\n      // Validate extracted data\r\n      if (!chartName || categories.length === 0 || sections.length === 0) {\r\n        alert('Sorry, this seating map does not look like it was made with the BookTix Seating Chart tool. Please import another map that was created using the BookTix tool.');\r\n        return;\r\n      }\r\n\r\n      console.log(sections)\r\n      const sec = sections.map(s => ({\r\n        label: s.name,\r\n        abv: s.abv,\r\n        id: uuid()\r\n      }))\r\n      store.setSectionLabel(sec);\r\n\r\n      const planData = doc.querySelector('svg').getAttribute('data-json');\r\n      store.loadPlan(JSON.parse(planData))\r\n      planStore.setMode(false);\r\n      planStore.persistPlan();\r\n\r\n      const isNumeric = value => !isNaN(value) && !isNaN(parseInt(value))\r\n      const chart_id = metadataElement.querySelector('booktik-chart-id')\r\n      const chart_sec = metadataElement.querySelector('booktik-chart-sec')\r\n      if (chart_id && chart_sec) {\r\n        const chartId = chart_id.textContent.trim();\r\n        const chartSec = chart_sec.textContent.trim();\r\n        if (chartId !== '' && chartSec !== '' && isNumeric(chartId)) {\r\n          planStore.setMode(true);\r\n        }\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  }\r\n  input.click()\r\n}\r\n\r\nconst removeComments = rootElement => {\r\n  const walker = document.createTreeWalker(\r\n    rootElement,\r\n    NodeFilter.SHOW_COMMENT,\r\n    {\r\n      acceptNode: function (node) {\r\n        return NodeFilter.FILTER_ACCEPT;\r\n      }\r\n    },\r\n    false\r\n  );\r\n\r\n  const comments = [];\r\n  let currentNode = walker.nextNode();\r\n  while (currentNode) {\r\n    comments.push(currentNode);\r\n    currentNode = walker.nextNode();\r\n  }\r\n\r\n  // Remove all collected comment nodes\r\n  comments.forEach(comment => {\r\n    comment.parentNode.removeChild(comment);\r\n  });\r\n  return rootElement;\r\n}\r\n\r\nconst extractTexts = (svgDoc) => {\r\n  const gElements = svgDoc.querySelectorAll('g.area-text');\r\n  const texts = []\r\n  gElements.forEach(gElement => {\r\n    const transform = gElement.getAttribute('transform');\r\n    const translateMatch = transform.match(/translate\\((\\d+),\\s*(\\d+)\\)/);\r\n    const rotateMatch = transform.match(/rotate\\((\\d+)/);\r\n    const textElement = gElement.querySelector('text');\r\n    const fontSize = textElement.getAttribute('font-size');\r\n    const fillColor = textElement.getAttribute('fill');\r\n    const data = {\r\n      position: { x: parseInt(translateMatch[1], 10), y: parseInt(translateMatch[2], 10) },\r\n      rotation: rotateMatch ? parseInt(rotateMatch[1], 10) : 0,\r\n      shape: \"text\",\r\n      text: {\r\n        position: { x: 0, y: 0 }, // Assuming position is always (0,0) as in the example\r\n        color: fillColor,\r\n        text: textElement.textContent,\r\n        size: parseInt(fontSize, 10)\r\n      },\r\n      uuid: uuid() // This needs to be dynamically generated if it changes\r\n    };\r\n    texts.push(data);\r\n  })\r\n  return texts;\r\n}\r\nconst extractRectangle = svgDoc => {\r\n  const rectElements = svgDoc.querySelectorAll('g.area-rectangle');\r\n  const rectangleData = [];\r\n  rectElements.forEach(gElement => {\r\n    // Extract transform data (translation and rotation)\r\n    const transform = gElement.getAttribute('transform');\r\n    const translateMatch = transform.match(/translate\\(([\\d.]+),\\s*([\\d.]+)\\)/);\r\n    const rotateMatch = transform.match(/rotate\\((\\d+)/);\r\n    // Extract rectangle attributes\r\n    const rect = gElement.querySelector('rect');\r\n    const fillColor = rect.getAttribute('fill');\r\n    const strokeColor = rect.getAttribute('stroke');\r\n    const strokeWidth = parseInt(rect.getAttribute('stroke-width'), 10);\r\n    const width = parseFloat(rect.getAttribute('width'));\r\n    const height = parseFloat(rect.getAttribute('height'));\r\n    const textElement = gElement.querySelector('text');\r\n    const textContent = textElement ? textElement.textContent : \"\";\r\n    const textColor = textElement ? textElement.getAttribute('fill') : \"#333333\";\r\n    const fontSize = textElement ? parseInt(textElement.getAttribute('font-size'), 10) : 16;\r\n    // Construct the data object for each rectangle\r\n    const data = {\r\n      border_color: strokeColor,\r\n      border_width: strokeWidth,\r\n      color: fillColor,\r\n      position: {\r\n        x: parseFloat(translateMatch[1]),\r\n        y: parseFloat(translateMatch[2])\r\n      },\r\n      rectangle: { width, height },\r\n      rotation: rotateMatch ? parseInt(rotateMatch[1], 10) : 0,\r\n      shape: \"rectangle\",\r\n      text: {\r\n        position: { x: width / 2, y: height / 2 }, // Center of the circle\r\n        color: textColor,\r\n        text: textContent,\r\n        size: fontSize\r\n      },\r\n      uuid: uuid() // This should be dynamically generated if it changes\r\n    };\r\n    rectangleData.push(data);\r\n  });\r\n  return rectangleData;\r\n}\r\nconst extractCircle = svgDoc => {\r\n  const circleElements = svgDoc.querySelectorAll('g.area-circle');\r\n  const circleData = [];\r\n  circleElements.forEach(gElement => {\r\n    // Extract transform data for position (no rotation in example)\r\n    const transform = gElement.getAttribute('transform');\r\n    const translateMatch = transform.match(/translate\\(([\\d.]+),\\s*([\\d.]+)\\)/);\r\n    // Extract circle attributes\r\n    const circle = gElement.querySelector('circle');\r\n    const fillColor = circle.getAttribute('fill');\r\n    const strokeColor = circle.getAttribute('stroke');\r\n    const strokeWidth = parseInt(circle.getAttribute('stroke-width'), 10);\r\n    const radius = parseFloat(circle.getAttribute('r'));\r\n    // Extract text if present\r\n    const textElement = gElement.querySelector('text');\r\n    const textContent = textElement ? textElement.textContent : \"\";\r\n    const textColor = textElement ? textElement.getAttribute('fill') : \"#333333\";\r\n    const fontSize = textElement ? parseInt(textElement.getAttribute('font-size'), 10) : 16;\r\n    const data = {\r\n      areas: {\r\n        shape: \"circle\",\r\n        color: fillColor,\r\n        border_color: strokeColor,\r\n        border_width: strokeWidth,\r\n        rotation: 0,\r\n        position: {\r\n          x: parseFloat(translateMatch[1]),\r\n          y: parseFloat(translateMatch[2])\r\n        },\r\n        radius: radius,\r\n        text: {\r\n          position: { x: 0, y: 0 },\r\n          color: textColor,\r\n          text: textContent,\r\n          size: fontSize\r\n        },\r\n        uuid: uuid(),\r\n      },\r\n    };\r\n    circleData.push(data);\r\n  });\r\n  return circleData;\r\n}\r\nconst extractEllipse = svgDoc => {\r\n  const ellipses = svgDoc.querySelectorAll('g.area-ellipse');\r\n  let data = [];\r\n  ellipses.forEach(area => {\r\n    const transformData = parseTransform(area.getAttribute('transform'));\r\n    const ellipse = area.querySelector('ellipse');\r\n    const textElement = area.querySelector('text');\r\n    data.push({\r\n      border_color: ellipse.getAttribute('stroke'),\r\n      border_width: parseInt(ellipse.getAttribute('stroke-width'), 10),\r\n      color: ellipse.getAttribute('fill'),\r\n      ellipse: {\r\n        radius: {\r\n          x: parseFloat(ellipse.getAttribute('rx')),\r\n          y: parseFloat(ellipse.getAttribute('ry'))\r\n        }\r\n      },\r\n      position: {\r\n        x: transformData.e,\r\n        y: transformData.f\r\n      },\r\n      rotation: transformData.rotation,\r\n      shape: \"ellipse\",\r\n      text: {\r\n        position: { x: 0, y: 0 },\r\n        color: textElement ? textElement.getAttribute('fill') : \"#333333\",\r\n        text: textElement ? textElement.textContent : \"\",\r\n        size: textElement ? parseInt(textElement.getAttribute('font-size'), 10) : 16\r\n      },\r\n      uuid: uuid()\r\n    });\r\n  });\r\n  return data;\r\n}\r\nconst extractPolygon = svgDoc => {\r\n  const polygons = svgDoc.querySelectorAll('g.area-polygon');\r\n  let data = [];\r\n  polygons.forEach(area => {\r\n    const transformData = parseTransform(area.getAttribute('transform'));\r\n    const polygon = area.querySelector('polygon');\r\n    const text = area.querySelector('text');\r\n    const pointsString = polygon.getAttribute('points').trim();\r\n    const pointsArray = pointsString.split(' ').map(point => {\r\n      const coords = point.split(',');\r\n      return {\r\n        x: parseFloat(coords[0]),\r\n        y: parseFloat(coords[1])\r\n      };\r\n    });\r\n    data.push({\r\n      border_color: polygon.getAttribute('stroke'),\r\n      border_width: parseInt(polygon.getAttribute('stroke-width'), 10),\r\n      color: polygon.getAttribute('fill'),\r\n      polygon: {\r\n        points: pointsArray\r\n      },\r\n      position: {\r\n        x: transformData.e,\r\n        y: transformData.f\r\n      },\r\n      rotation: transformData.rotation,\r\n      shape: \"polygon\",\r\n      text: {\r\n        // This assumes there's text data somewhere to extract; adjust accordingly.\r\n        position: { x: 0, y: 0 }, // Placeholder values\r\n        color: text ? text.getAttribute('fill') : '#333333', // Default placeholder, adjust as needed\r\n        text: text ? text.textContent : \"\",\r\n        size: text ? parseInt(text.getAttribute('font-size'), 10) : 16\r\n      },\r\n      uuid: uuid()\r\n    });\r\n  });\r\n  return data;\r\n}\r\nconst extractGARect = svgDoc => {\r\n  const rectElements = svgDoc.querySelectorAll('g.area-gaSquare');\r\n  const gaRects = [];\r\n  rectElements.forEach(gElement => {\r\n    const rect = gElement.querySelector('rect');\r\n    const text = gElement.querySelector('text');\r\n    const transform = gElement.getAttribute('transform');\r\n    const translateMatch = transform.match(/translate\\(([\\d.]+),\\s*([\\d.]+)\\)/);\r\n    const rotateMatch = transform.match(/rotate\\((\\d+)/);\r\n    gaRects.push({\r\n      section_abv: rect.getAttribute('data-section-abv') || \"\",\r\n      section_label: rect.getAttribute('data-section-label') || \"\",\r\n      label: rect.getAttribute('data-label') || \"\",\r\n      abbreviation: rect.getAttribute('data-abv') || \"\",\r\n      border_color: rect.getAttribute('stroke'),\r\n      border_width: parseInt(rect.getAttribute('stroke-width'), 10),\r\n      capacity: parseInt(rect.getAttribute('data-capacity'), 10),\r\n      color: rect.getAttribute('fill'),\r\n      guid: rect.getAttribute('id'),\r\n      tag_name: getTags(rect.getAttribute('data-tags') || ''),\r\n      position: {\r\n        x: parseFloat(translateMatch[1]),\r\n        y: parseFloat(translateMatch[2])\r\n      },\r\n      rectangle: {\r\n        width: parseFloat(rect.getAttribute('width'), 10),\r\n        height: parseFloat(rect.getAttribute('height'), 10)\r\n      },\r\n      rotation: rotateMatch ? parseInt(rotateMatch[1], 10) : 0,\r\n      category: rect.getAttribute('data-category-name') || \"\",\r\n      shape: \"gaSquare\",\r\n      text: {\r\n        position: {\r\n          x: text ? parseInt(text.getAttribute('x'), 10) : 0,\r\n          y: text ? parseInt(text.getAttribute('y'), 10) : 0,\r\n        },\r\n        color: text ? text.getAttribute('fill') : '#333333',\r\n        text: text ? text.textContent : \"\",\r\n        size: text ? text.getAttribute('font-size') : 16,\r\n      },\r\n      uuid: uuid()\r\n    })\r\n  })\r\n  return gaRects;\r\n}\r\nconst extractGACircle = (svgDoc) => {\r\n  const areas = svgDoc.querySelectorAll('g.area-gaCircle');\r\n  let data = [];\r\n  areas.forEach(area => {\r\n    const transformData = parseTransform(area.getAttribute('transform'));\r\n    const ellipse = area.querySelector('ellipse');\r\n    const text = area.querySelector('text');\r\n    const tags = ellipse.getAttribute('data-tags') || \"\";\r\n    data.push({\r\n      label: ellipse.getAttribute('data-label') || \"\",\r\n      abbreviation: ellipse.getAttribute('data-abv') || \"\",\r\n      section_label: ellipse.getAttribute('data-section-label') || \"\",\r\n      section_abv: ellipse.getAttribute('data-section-abv') || \"\",\r\n      capacity: parseInt(ellipse.getAttribute('data-capacity'), 10),\r\n      category: ellipse.getAttribute('data-category-name') || \"\",\r\n      border_color: ellipse.getAttribute('stroke'),\r\n      border_width: parseInt(ellipse.getAttribute('stroke-width'), 10),\r\n      color: ellipse.getAttribute('fill'),\r\n      guid: ellipse.getAttribute('id'),\r\n      ellipse: {\r\n        radius: {\r\n          x: parseFloat(ellipse.getAttribute('rx')),\r\n          y: parseFloat(ellipse.getAttribute('ry'))\r\n        }\r\n      },\r\n      tag_name: getTags(ellipse.getAttribute('data-tags') || ''),\r\n      position: {\r\n        x: transformData.e,\r\n        y: transformData.f\r\n      },\r\n      rotation: transformData.rotation,\r\n      shape: \"gaCircle\", // This is static; adjust if your SVG has different shapes\r\n      text: {\r\n        position: {\r\n          x: text ? parseInt(text.getAttribute('x'), 10) : 0,\r\n          y: text ? parseInt(text.getAttribute('y'), 10) : 0,\r\n        },\r\n        color: text ? text.getAttribute('fill') : '#333333',\r\n        text: text ? text.textContent : \"\",\r\n        size: text ? text.getAttribute('font-size') : 16,\r\n      },\r\n      uuid: uuid()\r\n    });\r\n  });\r\n  return data;\r\n}\r\nconst extractGAPolygon = svgDoc => {\r\n  const polygons = svgDoc.querySelectorAll('g.area-gaPolygon');\r\n  let data = [];\r\n  polygons.forEach(area => {\r\n    const transformData = parseTransform(area.getAttribute('transform'));\r\n    const polygon = area.querySelector('polygon');\r\n    const pointsString = polygon.getAttribute('points').trim();\r\n    const pointsArray = pointsString.split(' ').map(point => {\r\n      const coords = point.split(',');\r\n      return {\r\n        x: parseFloat(coords[0]),\r\n        y: parseFloat(coords[1])\r\n      };\r\n    });\r\n    // Extract text data if available\r\n    const textElement = area.querySelector('text');\r\n    const textData = textElement ? {\r\n      position: {\r\n        x: parseFloat(textElement.getAttribute('x')),\r\n        y: parseFloat(textElement.getAttribute('y'))\r\n      },\r\n      color: textElement.getAttribute('fill'),\r\n      text: textElement.textContent\r\n    } : { position: { x: 0, y: 0 }, color: \"\", text: \"\" };\r\n    data.push({\r\n      label: polygon.getAttribute('data-label') || \"\",\r\n      abbreviation: polygon.getAttribute('data-abv') || \"\",\r\n      section_label: polygon.getAttribute('data-section-label') || \"\",\r\n      section_abv: polygon.getAttribute('data-section-abv') || \"\",\r\n      capacity: parseInt(polygon.getAttribute('data-capacity'), 10),\r\n      category: polygon.getAttribute('data-category-name') || \"\",\r\n      border_color: polygon.getAttribute('stroke'),\r\n      border_width: parseInt(polygon.getAttribute('stroke-width'), 10),\r\n      color: polygon.getAttribute('fill'),\r\n      guid: polygon.getAttribute('id'),\r\n      polygon: {\r\n        points: pointsArray\r\n      },\r\n      position: {\r\n        x: transformData.e,\r\n        y: transformData.f\r\n      },\r\n      tag_name: getTags(polygon.getAttribute('data-tags') || ''),\r\n      rotation: transformData.rotation,\r\n      shape: \"gaPolygon\",\r\n      text: textData,\r\n      uuid: uuid()\r\n    });\r\n  });\r\n  return data;\r\n}\r\nconst parseTransform = (transformString) => {\r\n  const result = { a: 1, b: 0, c: 0, d: 1, e: 0, f: 0, rotation: 0 }; // Include rotation in the matrix components\r\n  if (!transformString) return result;\r\n  const translate = transformString.match(/translate\\(([\\d.+-]+),\\s*([\\d.+-]+)\\)/);\r\n  const rotate = transformString.match(/rotate\\(([\\d.+-]+)\\)/);\r\n  if (translate) {\r\n    result.e = parseFloat(translate[1]);\r\n    result.f = parseFloat(translate[2]);\r\n  }\r\n  if (rotate) {\r\n    result.rotation = parseFloat(rotate[1]);\r\n  }\r\n  return result;\r\n}\r\nconst extractRoundTable = (svgDoc) => {\r\n  const tables = svgDoc.querySelectorAll('g.area-roundTable');\r\n  let data = [];\r\n  tables.forEach(area => {\r\n    const table = area.querySelector('.table');\r\n    const circle = table.querySelector('.table_circle');\r\n    const label = table.querySelector('.table_label');\r\n    const seats = table.querySelectorAll('.table_seat_group');\r\n    let seatData = [];\r\n    seats.forEach(seat => {\r\n      const seatLabel = seat.querySelector('text');\r\n      const seatCircle = seat.querySelector('circle');\r\n      seatData.push({\r\n        seat_number: seatLabel ? seatLabel.textContent : \"\",\r\n        position: {\r\n          x: parseFloat(seatCircle.getAttribute('cx')),\r\n          y: parseFloat(seatCircle.getAttribute('cy'))\r\n        },\r\n        r: parseFloat(seatCircle.getAttribute('r')),\r\n        guid: seatCircle.id,\r\n        uuid: uuid(),\r\n        tag_name: getTags(seatCircle.getAttribute(\"data-tags\") || \"\")\r\n      });\r\n    });\r\n    data.push({\r\n      capacity: seats.length,\r\n      label: {\r\n        position: {\r\n          x: parseFloat(label.getAttribute('x')),\r\n          y: parseFloat(label.getAttribute('y'))\r\n        },\r\n        name: \"\",\r\n        abv: \"\",\r\n        color: label.getAttribute('fill'),\r\n        size: parseFloat(label.getAttribute('font-size'))\r\n      },\r\n      position: {\r\n        x: parseFloat(area.getAttribute('transform').match(/translate\\(([\\d.+-]+),\\s*([\\d.+-]+)\\)/)[1]),\r\n        y: parseFloat(area.getAttribute('transform').match(/translate\\(([\\d.+-]+),\\s*([\\d.+-]+)\\)/)[2])\r\n      },\r\n      radius: parseFloat(circle.getAttribute('r')),\r\n      rotation: parseFloat(area.getAttribute('transform').match(/rotate\\(([\\d.+-]+)\\)/) ? area.getAttribute('transform').match(/rotate\\(([\\d.+-]+)\\)/)[1] : 0),\r\n      seats: seatData,\r\n      shape: \"roundTable\",\r\n      space: 0,\r\n      uuid: uuid()\r\n    });\r\n  });\r\n  return data;\r\n}\r\nconst extractRectangleTable = svgDoc => {\r\n  const tables = svgDoc.querySelectorAll('g.area-rectangleTable');\r\n  let data = [];\r\n  tables.forEach(area => {\r\n    const tableTransform = parseTransform(area.getAttribute('transform'));\r\n    const table = area.querySelector('.table');\r\n    const rect = table.querySelector('.table_rect');\r\n    const seats = table.querySelectorAll('.table_seat_group');\r\n    let seatData = [];\r\n    seats.forEach((seat, index) => {\r\n      const seatCircle = seat.querySelector('circle');\r\n      const seatText = seat.querySelector('text');\r\n      seatData.push({\r\n        position: {\r\n          x: parseFloat(seatCircle.getAttribute('cx')),\r\n          y: parseFloat(seatCircle.getAttribute('cy'))\r\n        },\r\n        seat_number: seatText ? seatText.textContent : \"\",\r\n        radius: parseFloat(seatCircle.getAttribute('r')),\r\n        color: seatText.getAttribute('fill'),\r\n        guid: seatCircle.id,\r\n        tag_name: getTags(seatCircle.getAttribute('data-tags') || \"\")\r\n      });\r\n    });\r\n    data.push({\r\n      capacity: {\r\n        top: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0\r\n      },\r\n      label: {\r\n        name: \"\",\r\n        abv: \"\",\r\n        position: { x: parseFloat(rect.getAttribute('x')) + 70, y: parseFloat(rect.getAttribute('y')) + 30 }, // Center of the rectangle\r\n        color: \"#333333\",\r\n        text: \"\",\r\n        size: 16\r\n      },\r\n      position: {\r\n        x: tableTransform.e,\r\n        y: tableTransform.f\r\n      },\r\n      rectangleTable: {\r\n        width: parseFloat(rect.getAttribute('width')),\r\n        height: parseFloat(rect.getAttribute('height'))\r\n      },\r\n      rotation: parseFloat(area.getAttribute('transform').match(/rotate\\(([\\d.+-]+)\\)/) ? area.getAttribute('transform').match(/rotate\\(([\\d.+-]+)\\)/)[1] : 0),\r\n      seats: seatData,\r\n      shape: \"rectangleTable\",\r\n      uuid: uuid() // Example UUID; adjust as needed\r\n    });\r\n  });\r\n  return data;\r\n}\r\nconst extractRows = svgDoc => {\r\n  const rowElements = svgDoc.querySelectorAll('g.row');\r\n  let rowsData = [];\r\n  rowElements.forEach(row => {\r\n    const transform = parseTransform(row.getAttribute('transform'));\r\n    const rows = row.querySelector('g.row_group');\r\n    const row_label = rows.querySelector('text');\r\n    const seats = rows.querySelectorAll('g.seat_group');\r\n    const seatData = []\r\n    seats.forEach(seat => {\r\n      const circle = seat.querySelector('circle');\r\n      const text = seat.querySelector('text');\r\n      seatData.push({\r\n        seat_number: text.textContent,\r\n        category: circle.getAttribute('data-category-name') || \"\",\r\n        position: {\r\n          x: parseFloat(circle.getAttribute('cx')),\r\n          y: parseFloat(circle.getAttribute('cy'))\r\n        },\r\n        guid: circle.getAttribute('id'),\r\n        uuid: uuid(),\r\n        tag_name: getTags(circle.getAttribute('data-tags') || \"\")\r\n      })\r\n    })\r\n    rowsData.push({\r\n      guid: rows.getAttribute('id'),\r\n      position: {\r\n        x: transform.e,\r\n        y: transform.f,\r\n      },\r\n      seats: seatData,\r\n      rotation: transform.rotation,\r\n      row_number: row_label.textContent,\r\n      row_number_position: \"both\",\r\n      uuid: uuid(),\r\n    })\r\n  })\r\n  return rowsData;\r\n}\r\nconst extractCategories = (dom) => {\r\n  const categories = dom.querySelectorAll('category');\r\n  const categoryData = [];\r\n  categories.forEach(category => {\r\n    const name = category.querySelector('name').textContent;\r\n    const color = category.querySelector('color').textContent;\r\n    categoryData.push({ name, color });\r\n  });\r\n  return categoryData;\r\n}\r\nconst extractSections = (dom) => {\r\n  const sections = dom.querySelectorAll('section');\r\n  const res = []\r\n  sections.forEach(section => {\r\n    const name = section.querySelector('name').textContent;\r\n    const abv = section.querySelector('abv').textContent;\r\n    res.push({ name, abv })\r\n  })\r\n  return res;\r\n}\r\nconst extractChartName = dom => {\r\n  const chartname = dom.querySelector('chartname');\r\n  return chartname.textContent;\r\n}\r\n\r\nconst exportSVG = (emailAddress) => {\r\n  let svgElement = document.getElementsByClassName('zone')[0];\r\n  let metadata = document.getElementsByTagName('metadata');\r\n  let newSvg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\r\n  newSvg.setAttribute(\"xmlns\", \"http://www.w3.org/2000/svg\");\r\n  newSvg.setAttribute(\"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\r\n  newSvg.setAttribute(\"version\", \"1.1\");\r\n  newSvg.setAttribute(\"width\", \"100%\");\r\n  newSvg.setAttribute(\"height\", \"100%\");\r\n  newSvg.setAttribute(\"viewBox\", \"0 0 900 900\");\r\n  newSvg.setAttribute(\"data-json\", JSON.stringify(plan.value));\r\n  for (let i = 0; i < metadata.length; i++) {\r\n    newSvg.appendChild(metadata[i].cloneNode(true));\r\n  }\r\n  newSvg.appendChild(svgElement.cloneNode(true));\r\n  newSvg = removeComments(newSvg)\r\n  const chartName = plan.value.name.replace(/ /g, \"_\");\r\n  const filename = `booktix_${chartName.toLowerCase()}_${Date.now()}.svg`\r\n  var serializer = new XMLSerializer();\r\n  var svgString = serializer.serializeToString(newSvg);\r\n  var blob = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\r\n  var url = URL.createObjectURL(blob);\r\n  var a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = filename || 'booktix_name_of_chart_.svg';\r\n  document.body.appendChild(a);\r\n  a.click();\r\n  document.body.removeChild(a);\r\n  URL.revokeObjectURL(url);\r\n\r\n  // const serviceID = 'service_jv2oiml';\r\n  // const templateID = 'template_60b0p0p';\r\n  // const publicKey = 'yAHgq8gPUad2EXNq2';\r\n\r\n  // const reader = new FileReader();\r\n  // reader.readAsDataURL(blob);\r\n  // reader.onloadend = () => {\r\n  //   const publicKey = \"sk_a32804368b8622a5160fdf9b40dc276784a299440246a2c5\"\r\n  //   const plunk = new Plunk(publicKey)\r\n  //   const base64data = reader.result.split(',')[1];\r\n\r\n  //   console.log(base64data)\r\n\r\n  //   const options = {\r\n  //     to: emailAddress,\r\n  //     subject: \"SVG Map\",\r\n  //     body: \"Here is your SVG file\",\r\n  //     attachments: [\r\n  //       {\r\n  //         content: base64data,\r\n  //         filename: 'file.svg',\r\n  //         type: 'image/svg+xml',\r\n  //         // disposition: 'attachment'\r\n  //       }\r\n  //     ]\r\n  //   }\r\n\r\n  //   plunk.emails.send(options)\r\n  //     .then(response => {\r\n  //       toast.success(\"Success!\");\r\n  //     }).catch(err => {\r\n  //       toast.error(\"Failed\");\r\n  //     })\r\n  // }\r\n}\r\n\r\nconst toolbarTitleStyle = computed(() => {\r\n  return {\r\n    fontSize: \"16px\",\r\n    fontWeight: \"bold\",\r\n    // lineHeight: \"1\",\r\n    height: boardName.value.length < 50 ? \"20px\" : \"38.4px\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n    display: \"-webkit-box\",\r\n    WebkitLineClamp: \"2\",\r\n    WebkitBoxOrient: \"vertical\",\r\n    whiteSpace: \"normal\",\r\n  };\r\n});\r\n\r\n</script>\r\n\r\n<style>\r\n.app-toolbar-container {\r\n  position: fixed;\r\n  opacity: 1;\r\n  height: 50px;\r\n  z-index: 999;\r\n}\r\n\r\n.app-toolbar {\r\n  background-color: #eee;\r\n  padding: 10px;\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.v-toolbar__content {\r\n  height: 50px !important;\r\n}\r\n\r\n.border-both {\r\n  border-right: 2px solid rgba(255, 255, 255, 0.5);\r\n  border-left: 2px solid rgb(255, 255, 255, 0.5);\r\n}\r\n\r\n.border-left {\r\n  border-left: 2px solid rgb(255, 255, 255, 0.5);\r\n}\r\n\r\n.v-toolbar-title__placeholder {\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  line-height: 1.2;\r\n  height: 38.4px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  white-space: normal;\r\n}\r\n\r\n.tooltip-content {\r\n  max-width: 300px;\r\n  padding: 10px;\r\n  white-space: pre-wrap;\r\n  overflow: auto;\r\n}\r\n</style>\r\n","import script from \"./AppToolbar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AppToolbar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AppToolbar.vue?vue&type=style&index=0&id=57ff126e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","export const groupValue = (areas, mapper) => {\r\n  const uniques = areas.map(mapper).filter((v, i, s) => s.indexOf(v) === i);\r\n  if (uniques.length === 1) {\r\n    return uniques[0];\r\n  } else {\r\n    return undefined;\r\n  }\r\n};\r\n","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>Row</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\"> Number of seats </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"custom-small-text-field v-custom-input\" type=\"number\"\r\n            min=\"1\" name=\"number_seats\" :value=\"numberSeats\"\r\n            @input=\"setNumberSeats\" />\r\n          <!-- <v-btn @click=\"addSeat\">Add Seat</v-btn> -->\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Curve </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <!-- <v-text-field class=\"custom-small-text-field\" variant=\"outlined\"\r\n            type=\"number\" density=\"compact\"></v-text-field> -->\r\n          <input class=\"custom-small-text-field v-custom-input\" type=\"number\"\r\n            name=\"row_spacing\" :value=\"curve\" @input=\"setCurve\" min=\"-30\"\r\n            max=\"30\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Seats spacing </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"custom-small-text-field v-custom-input\" type=\"number\"\r\n            min=\"20\" name=\"row_spacing\" :value=\"seatSpacing\"\r\n            @input=\"setSeatSpacing\" />\r\n        </v-col>\r\n\r\n        <!-- <v-col cols=\"12\" sm=\"6\">\r\n          <v-text-field class=\"custom-small-text-field\" variant=\"outlined\"\r\n            type=\"number\" density=\"compact\" name=\"row_spacing\"\r\n            :value=\"seatSpacing\" @input=\"setSeatSpacing\"></v-text-field>\r\n        </v-col> -->\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.v-custom-input {\r\n  width: 100%;\r\n  padding: 6px 10px;\r\n  margin: 8px 0;\r\n  box-sizing: border-box;\r\n  border-radius: 5px;\r\n  border: 1px solid light-dark(rgb(118, 118, 118), rgb(133, 133, 133));\r\n  border-radius: 5px;\r\n  user-select: none;\r\n}\r\n\r\n.v-custom-input:focus {\r\n  outline: 3px solid #bae0ff;\r\n}\r\n\r\n.v-col-sm-6 {\r\n  padding: 5px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { defineComponent, computed, ref } from 'vue';\r\nimport { useSeatFormatStore } from '@/stores/seatFormat';\r\nimport { usePlanStore } from '@/stores/plan';\r\nimport { useMainStore } from '@/stores';\r\n// import NumberInput from '../../home/components/NumberInput.vue';\r\nconst round = (fl, places) => Number(fl.toFixed(places ? places : 0))\r\n\r\nconst shallowEqual = (object1, object2) => {\r\n  if (object1 === null || object2 === null || typeof object1 !== \"object\" || typeof object2 !== \"object\") {\r\n    return object1 === object2\r\n  }\r\n  const keys1 = Object.keys(object1)\r\n  const keys2 = Object.keys(object2)\r\n  if (keys1.length !== keys2.length) {\r\n    return false\r\n  }\r\n  for (let key of keys1) {\r\n    if (object1[key] !== object2[key]) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nconst groupValue = (rows, mapper) => {\r\n  let lastFound = undefined\r\n  for (let row of rows) {\r\n    let val = mapper(row)\r\n    if (lastFound === undefined) {\r\n      lastFound = val\r\n    } else if (!shallowEqual(lastFound, val)) {\r\n      return undefined\r\n    }\r\n  }\r\n  return lastFound\r\n}\r\n\r\nexport default defineComponent({\r\n  data() {\r\n    return {\r\n      testInput: 20\r\n    }\r\n  },\r\n  setup() {\r\n    const seatStore = useSeatFormatStore();\r\n    const nseat = computed(() => seatStore.nseat);\r\n    const setNseat = seatStore.setNseat;\r\n    const planStore = usePlanStore();\r\n    const store = useMainStore();\r\n\r\n    return {\r\n      nseat,\r\n      planStore,\r\n      setNseat,\r\n      store\r\n    };\r\n  },\r\n  props: {\r\n    rows: Array\r\n  },\r\n  methods: {\r\n    onChange(e) {\r\n      this.testInput = e.target.value;\r\n    },\r\n\r\n    setCurve(val) {\r\n      const value = parseInt(val.target.value * 10);\r\n      this.store.curveRows(value);\r\n    },\r\n\r\n    handle_seat_num_changed(e) {\r\n      this.setNseat(e.target.value);\r\n      // console.log('okay', this.rows[0].shape)\r\n      this.planStore.renumberCircleSeats(this.rows.map(i => i.uuid), e.target.value);\r\n    },\r\n    setRowSpacing(e) {\r\n      this.planStore.respaceRows(this.rows.map(r => r.uuid), e.target.value)\r\n    },\r\n    setSeatSpacing(e) {\r\n      if (e.target.value >= 20) {\r\n        this.planStore.respaceSeats(this.rows.map(r => r.uuid), e.target.value)\r\n      }\r\n    },\r\n    setNumberSeats(e) {\r\n      if (e.target.value > 0) {\r\n        this.planStore.modifyRows({ rowIds: this.rows.map(r => r.uuid), skip_letter: '' })\r\n        this.planStore.changeNumberSeats(this.rows.map(r => r.uuid), e.target.value)\r\n      }\r\n    },\r\n    addSeat() {\r\n      this.planStore.addSeat(this.rows.map(r => r.uuid));\r\n    }\r\n  },\r\n  computed: {\r\n    curve() {\r\n      return groupValue(this.rows, row => row.curve) || 0\r\n    },\r\n    numberSeats() {\r\n      return groupValue(this.rows, row => {\r\n        return row.seats.length;\r\n      })\r\n    },\r\n    seatSpacing() {\r\n      return Math.floor(groupValue(this.rows, row => {\r\n        let minSpace = null;\r\n        for (let si = 1; si < row.seats.length; si++) {\r\n          let space = round(Math.sqrt(\r\n            Math.pow(row.seats[si].position.x - row.seats[si - 1].position.x, 2) +\r\n            Math.pow(row.seats[si].position.y - row.seats[si - 1].position.y, 2)\r\n          ), 2);\r\n          if (minSpace === null || space < minSpace) {\r\n            minSpace = space;\r\n          }\r\n        }\r\n        return minSpace ? minSpace : 25;\r\n      }));\r\n    },\r\n\r\n    rowSpacing() {\r\n      let allSpace = null;\r\n      for (let ri = 0; ri < this.rows.length - 1; ri++) {\r\n        let row = this.rows[ri];\r\n        if (!row.seats.length) continue;\r\n\r\n        let rowNormal = [\r\n          -row.seats[row.seats.length - 1].position.y - row.seats[0].position.y,\r\n          row.seats[row.seats.length - 1].position.x + row.seats[0].position.x,\r\n        ];\r\n        rowNormal = [\r\n          rowNormal[0] / Math.sqrt(Math.pow(rowNormal[0], 2) + Math.pow(rowNormal[1], 2)),\r\n          rowNormal[1] / Math.sqrt(Math.pow(rowNormal[0], 2) + Math.pow(rowNormal[1], 2))\r\n        ];\r\n\r\n        let rowDist = [\r\n          this.rows[ri + 1].position.x - row.position.x,\r\n          this.rows[ri + 1].position.y - row.position.y,\r\n        ];\r\n\r\n        let rowDistProjectedOnRowNormal = [\r\n          (rowNormal[0] * rowDist[0] + rowNormal[1] * rowDist[1]) * rowNormal[0],\r\n          (rowNormal[0] * rowDist[0] + rowNormal[1] * rowDist[1]) * rowNormal[1],\r\n        ];\r\n\r\n        let space = round(Math.sqrt(\r\n          Math.pow(rowDistProjectedOnRowNormal[0], 2) + Math.pow(rowDistProjectedOnRowNormal[1], 2)\r\n        ), 2);\r\n\r\n        if (allSpace === null) {\r\n          allSpace = space;\r\n        } else if (allSpace !== space) {\r\n          allSpace = undefined;\r\n        }\r\n      }\r\n      return allSpace;\r\n    }\r\n\r\n  }\r\n});\r\n</script>","import { defineStore } from 'pinia';\r\n\r\nexport const useSeatFormatStore = defineStore('seatformat', {\r\n  state: () => ({\r\n    rowsLabel: ['1, 2, 3, …', 'A, B, C, …', 'a, b, c, …'],\r\n    rowCur: 1,\r\n    seatsLabel: ['1, 2, 3, …', 'A, B, C, …', 'a, b, c, …'],\r\n    seatCur: 0,\r\n    nseat: 6,\r\n  }),\r\n  actions: {\r\n    changeRow(cur) {\r\n      this.rowCur = cur;\r\n    },\r\n    changeSeat(cur) {\r\n      this.seatCur = cur;\r\n    },\r\n    setNseat(seat) {\r\n      this.nseat = seat;\r\n    }\r\n  },\r\n});","import { render } from \"./RowSetting.vue?vue&type=template&id=103c6026\"\nimport script from \"./RowSetting.vue?vue&type=script&lang=js\"\nexport * from \"./RowSetting.vue?vue&type=script&lang=js\"\n\nimport \"./RowSetting.vue?vue&type=style&index=0&id=103c6026&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>Shape</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\"> Rotate </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <!-- <v-text-field\r\n            class=\"custom-small-text-field\"\r\n            variant=\"outlined\"\r\n            type=\"number\"\r\n            density=\"compact\"\r\n          ></v-text-field> -->\r\n          <!-- <v-btn @click=\"testFunc\">Check</v-btn>\r\n          <h5>{{ rotate_val }}</h5> -->\r\n          <input class=\"v-custom-input\" type=\"number\" name=\"rotate\"\r\n            :value=\"rotate_val\" @input=\"handleRotate\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.v-col-sm-6 {\r\n  padding: 5px;\r\n}\r\n</style>\r\n\r\n<script setup>\r\nimport { defineProps, computed } from 'vue'\r\nimport { usePlanStore } from '@/stores/plan.js';\r\nimport { useMainStore } from '@/stores';\r\n\r\nconst planStore = usePlanStore();\r\n\r\n\r\nconst props = defineProps({\r\n  rows: Array,\r\n  temp_Rotate: Function,\r\n})\r\n\r\n// const testFunc = () => {\r\n//   console.log('This is testFunc');\r\n//   console.log(props.rows);\r\n// }\r\n\r\nconst rotate_val = computed(() => props.rows.length ? props.rows[0].rotation : '0');\r\n\r\nconst handleRotate = (e) => {\r\n  const val = e.target.value;\r\n  const temp = val - rotate_val.value;\r\n  props.temp_Rotate(temp);\r\n}\r\n</script>","import script from \"./RotatePanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RotatePanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RotatePanel.vue?vue&type=style&index=0&id=3d84eb2d&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>Row Labeling</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\"> Row label </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <select class=\"toolbox-input v-custom-input\" @input=\"setRowNumbering\"\r\n            :value=\"rowNumbering ? rowNumbering.scheme.id : null\">\r\n            <option v-for=\"numbering in rowNumberings\" :key=\"numbering\"\r\n              option-label=\"label\" name=\"row_numbering\"\r\n              :value=\"numbering.id ? numbering.id : null\">\r\n              {{ numbering.label }}\r\n            </option>\r\n          </select>\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Start At </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"custom-small-text-field v-custom-input\"\r\n            name=\"row_numbering_start_at\"\r\n            :value=\"rowNumbering ? rowNumbering.start : null\"\r\n            @input=\"setRowNumberingStartAt\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Label Direction </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <!-- <select class=\"v-custom-input\" @input=\"setRowNumberingReversed\"\r\n            :value=\"rowNumbering ? rowNumbering.reversed : false\">\r\n            <option v-for=\"label in labelDirection\" :value=\"label.value\"\r\n              :key=\"label\">\r\n              {{ label.text }}\r\n            </option>\r\n          </select> -->\r\n          <select class=\"v-custom-input\" @input=\"setRowNumberingReversed\"\r\n            :value=\"rowNumbering ? rowNumbering.reversed : false\">\r\n            <option v-for=\"label in labelDirection\" :value=\"label.value\"\r\n              :key=\"label\">\r\n              {{ label.text }}\r\n            </option>\r\n          </select>\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Row Label Location </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <select class=\"toolbox-input v-custom-input\"\r\n            @input=\"handleLabelLocation\" :value=\"labelLocation\">\r\n            <option v-for=\"op in labelDisplay\" :key=\"op\" :value=\"op.value\">\r\n              {{ op.text }}\r\n            </option>\r\n          </select>\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Skip Rows </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" :value=\"skip\" @input=\"setSkip\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Rotate Label with Element </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input type=\"checkbox\" :checked=\"rotate\" @change=\"handle_rotate\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.v-input__details {\r\n  display: none;\r\n}\r\n\r\n.v-col-sm-6 {\r\n  padding: 5px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue'\r\nimport { letterCounter, reverse, ROW_NUMBERINGS, SEAT_NUMBERINGS } from '@/lib/numbering';\r\nimport { useSeatFormatStore } from '@/stores/seatFormat';\r\nimport { usePlanStore } from '@/stores/plan';\r\nimport { useMainStore } from '@/stores/index';\r\n\r\nconst groupValue = (rows, mapper) => {\r\n  let lastFound = undefined\r\n  for (let row of rows) {\r\n    let val = mapper(row)\r\n    if (lastFound === undefined) {\r\n      lastFound = val\r\n    } else if (!shallowEqual(lastFound, val)) {\r\n      return undefined\r\n    }\r\n  }\r\n  return lastFound\r\n}\r\n\r\nconst shallowEqual = (object1, object2) => {\r\n  if (object1 === null || object2 === null || typeof object1 !== \"object\" || typeof object2 !== \"object\") {\r\n    return object1 === object2\r\n  }\r\n  const keys1 = Object.keys(object1)\r\n  const keys2 = Object.keys(object2)\r\n  if (keys1.length !== keys2.length) {\r\n    return false\r\n  }\r\n  for (let key of keys1) {\r\n    if (object1[key] !== object2[key]) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nexport default ({\r\n  setup() {\r\n    const seatStore = useSeatFormatStore();\r\n    const planstore = usePlanStore();\r\n    const mainStore = useMainStore();\r\n    return {\r\n      // rowsLabel: seatStore.rowsLabel,\r\n      // changeRow: seatStore.changeRow,\r\n      planstore,\r\n      mainStore,\r\n    }\r\n  },\r\n  data() {\r\n    const labelDirection = [{\r\n      text: 'Ascending', value: false\r\n    }, {\r\n      text: 'Descending', value: true\r\n    }];\r\n    const labelDisplay = [{\r\n      text: 'None', value: 0, left: false, right: false,\r\n    }, {\r\n      text: 'Left', value: 1, left: true, right: false,\r\n    }, {\r\n      text: 'Right', value: 2, left: false, right: true,\r\n    }, {\r\n      text: 'Both', value: 3, left: true, right: true,\r\n    }];\r\n    return {\r\n      // selectedItem: this.rowsLabel[0]\r\n      rowNumberings: ROW_NUMBERINGS,\r\n      labelDirection,\r\n      labelDisplay,\r\n    }\r\n  },\r\n  props: {\r\n    rows: Array\r\n  },\r\n  computed: {\r\n    skip() {\r\n      return groupValue(this.rows, row => row.skip)\r\n    },\r\n    rotate() {\r\n      return groupValue(this.rows, row => row.rotate_label);\r\n    },\r\n    labelLocation() {\r\n      if (this.rowNumberPositionStart && this.rowNumberPositionEnd) return 3;\r\n      else if (this.rowNumberPositionStart) return 1;\r\n      else if (this.rowNumberPositionEnd) return 2;\r\n      else return 0;\r\n    },\r\n    rowLabel() {\r\n      return groupValue(this.rows, row => (row.row_label || ''))\r\n    },\r\n    rowLabelStatus() {\r\n      if (this.rowNumberPositionStart() && this.rowNumberPositionEnd()) return \"Both\";\r\n      else if (this.rowNumberPositionStart()) return \"Left\";\r\n      else if (this.rowNumberPositionEnd()) return \"Right\";\r\n      return null;\r\n    },\r\n    rowNumbering() {\r\n      for (let numbering of ROW_NUMBERINGS) {\r\n        try {\r\n          let guessedStartAt = numbering.findStartAt(this.rows[0].row_number)\r\n          let guessedNumbers = numbering.compute(this.rows, guessedStartAt)\r\n          if (this.rows.filter((r, idx) => r.row_number === guessedNumbers[idx]).length === this.rows.length) {\r\n            const start = numbering.start(guessedStartAt)\r\n            return { scheme: numbering, reversed: false, startAt: guessedStartAt, start }\r\n          }\r\n\r\n          let rowsReversed = reverse(this.rows)\r\n          let guessedStartAtRev = numbering.findStartAt(rowsReversed[0].row_number)\r\n          let guessedNumbersRev = numbering.compute(rowsReversed, guessedStartAtRev)\r\n          if (rowsReversed.filter((r, idx) => r.row_number === guessedNumbersRev[idx]).length === this.rows.length) {\r\n            const start = numbering.start(guessedStartAt)\r\n            return { scheme: numbering, reversed: true, startAt: guessedStartAtRev, start }\r\n          }\r\n        } catch (e) {\r\n          // console.warn('Crash while trying to test row numbering schema', numbering, e)\r\n        }\r\n      }\r\n      return undefined\r\n    },\r\n\r\n    rowNumberPositionStart() {\r\n      return groupValue(this.rows, row => row.row_number_position === 'start' || row.row_number_position === 'both')\r\n    },\r\n    rowNumberPositionEnd() {\r\n      return groupValue(this.rows, row => row.row_number_position === 'end' || row.row_number_position === 'both')\r\n    },\r\n    seatNumbering() {\r\n      return groupValue(this.rows, row => {\r\n        for (let numbering of SEAT_NUMBERINGS) {\r\n          try {\r\n            let guessedStartAt = numbering.findStartAt(row.seats[0].seat_number)\r\n            let guessedNumbers = numbering.compute(row.seats, guessedStartAt)\r\n            if (row.seats.filter((s, idx) => s.seat_number === guessedNumbers[idx]).length === row.seats.length) {\r\n              return { scheme: numbering, reversed: false, startAt: guessedStartAt }\r\n            }\r\n            let seatsReversed = reverse(row.seats)\r\n            let guessedStartAtRev = numbering.findStartAt(seatsReversed[0].seat_number)\r\n            let guessedNumbersRev = numbering.compute(seatsReversed, guessedStartAtRev)\r\n            if (seatsReversed.filter((s, idx) => s.seat_number === guessedNumbersRev[idx]).length === row.seats.length) {\r\n              return { scheme: numbering, reversed: true, startAt: guessedStartAtRev }\r\n            }\r\n          } catch (e) {\r\n            console.warn('Crash while trying to test seat numbering schema', numbering, e)\r\n          }\r\n        }\r\n        return undefined\r\n      })\r\n      // skip ?\r\n    },\r\n  },\r\n  methods: {\r\n    handle_rotate(e) {\r\n      this.planstore.setRotateLabel(this.rows.map(i => i.uuid), e.target.checked);\r\n    },\r\n    setSkip(val) {\r\n      if (!this.rowNumbering) return;\r\n      const id = this.rowNumbering.scheme.id;\r\n      const input = val.target;\r\n      const value = input.value;\r\n      const validUpper = /^[A-Z,]+$/;\r\n      const validLower = /^[a-z,]+$/;\r\n      const validNumbers = /^[0-9,]+$/;\r\n\r\n      if (id === 'alpha') input.value = value.toUpperCase();\r\n      if (id === 'alphalower') input.value = value.toLowerCase();\r\n\r\n      if ((id === 'alpha') && !validUpper.test(input.value)) {\r\n        input.value = value.toUpperCase().replace(/[^A-Z,]/g, '');\r\n      } else if (id === 'alphalower' && !validLower.test(input.value)) {\r\n        input.value = value.toLowerCase().replace(/[^a-z,]/g, '');\r\n      } else if ((id === 'natural' || id === 'even' || id === 'odd') && !validNumbers.test(input.value)) {\r\n        input.value = value.replace(/[^0-9,]/g, '');\r\n      } else if (id === 'even' && (parseInt(input.value) % 2)) return;\r\n      else if (id === 'odd' && !(parseInt(input.value) % 2)) return;\r\n\r\n      // const upperValidation = /^[A-Z]+$/;\r\n      // const lowerValidation = /^[a-z]+$/;\r\n      // const numberValidation = /^[0-9]+$/;\r\n\r\n      else {\r\n        this.planstore.modifyRows({ rowIds: this.rows.map(r => r.uuid), skip: val.target.value })\r\n        this.planstore.skipLetterRows(this.rows.map(r => r.uuid), this.rowNumbering.scheme, this.rowNumbering.startAt, this.rowNumbering.reversed, val.target.value);\r\n      }\r\n    },\r\n    handleChange(newValue) {\r\n      // console.log(newValue)\r\n    },\r\n    handleLabelLocation(e) {\r\n\r\n      const val = this.labelDisplay.filter(i => i.value == e.target.value)[0];\r\n      this.setRowNumberPositionStart(val.left);\r\n      this.setRowNumberPositionEnd(val.right);\r\n\r\n    },\r\n    setLabelDirection(e) {\r\n\r\n    },\r\n    setRowNumbering(val) {\r\n      let numbering = ROW_NUMBERINGS.find(n => n.id === val.target.value);\r\n      this.planstore.modifyRows({ rowIds: this.rows.map(r => r.uuid), skip: '' })\r\n      if (val.target.value === 'even') {\r\n        this.planstore.renumberRows(this.rows.map(r => r.uuid), numbering, 2, false)\r\n      } else\r\n        this.planstore.renumberRows(this.rows.map(r => r.uuid), numbering, 1, false)\r\n    },\r\n    setRowNumberingStartAt(e) {\r\n      if (!this.rowNumbering) return;\r\n      const id = this.rowNumbering.scheme.id;\r\n      const input = e.target;\r\n      const value = input.value;\r\n      const validUpper = /^[A-Z]+$/;\r\n      const validLower = /^[a-z]+$/;\r\n      const validNumbers = /^[0-9]+$/;\r\n\r\n      if (id === 'alpha') input.value = value.toUpperCase();\r\n      if (id === 'alphalower') input.value = value.toLowerCase();\r\n\r\n      if (id === 'alpha' && !validUpper.test(input.value)) {\r\n        input.value = value.toUpperCase().replace(/[^A-Z]/g, '');\r\n      } else if (id === 'alphalower' && !validLower.test(input.value)) {\r\n        input.value = value.toLowerCase().replace(/[^a-z]/g, '');\r\n      } else if ((id === 'natural' || id === 'even' || id === 'odd') && !validNumbers.test(e.target.value)) {\r\n        input.value = value.replace(/[^0-9]/g, '');\r\n      } else if (id === 'even' && (parseInt(input.value) % 2)) return;\r\n      else if (id === 'odd' && !(parseInt(input.value) % 2)) return;\r\n      else {\r\n        const le = this.rowNumbering.scheme.findStartAt(input.value)\r\n        this.planstore.modifyRows({ rowIds: this.rows.map(r => r.uuid), skip: '' })\r\n        this.planstore.renumberRows(this.rows.map(r => r.uuid), this.rowNumbering.scheme, le, this.rowNumbering.reversed)\r\n      }\r\n    },\r\n    setRowNumberingReversed(val) {\r\n      const value = val.target.value === 'true';\r\n      if (this.rowNumbering) {\r\n        this.planstore.modifyRows({ rowIds: this.rows.map(r => r.uuid), skip: '' })\r\n        this.planstore.renumberRows(this.rows.map(r => r.uuid), this.rowNumbering.scheme, this.rowNumbering.startAt, value)\r\n      }\r\n    },\r\n    setRowNumberPositionStart(val) {\r\n      if (this.rowNumberPositionEnd)\r\n        this.planstore.modifyRows({ rowIds: this.rows.map(r => r.uuid), row_number_position: val ? 'both' : 'end' })\r\n      else\r\n        this.planstore.modifyRows({ rowIds: this.rows.map(r => r.uuid), row_number_position: val ? 'start' : null })\r\n    },\r\n    setRowNumberPositionEnd(val) {\r\n      if (this.rowNumberPositionStart)\r\n        this.planstore.modifyRows({ rowIds: this.rows.map(r => r.uuid), row_number_position: val ? 'both' : 'start' })\r\n      else\r\n        this.planstore.modifyRows({ rowIds: this.rows.map(r => r.uuid), row_number_position: val ? 'end' : null })\r\n    },\r\n  }\r\n})\r\n</script>\r\n","import { render } from \"./RowLabeling.vue?vue&type=template&id=6eeb3419\"\nimport script from \"./RowLabeling.vue?vue&type=script&lang=js\"\nexport * from \"./RowLabeling.vue?vue&type=script&lang=js\"\n\nimport \"./RowLabeling.vue?vue&type=style&index=0&id=6eeb3419&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>Seat Labeling</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\"> Seat label </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <!-- <v-text-field\r\n            class=\"custom-small-text-field\"\r\n            variant=\"outlined\"\r\n            type=\"text\"\r\n            density=\"compact\"\r\n          ></v-text-field> -->\r\n          <!-- <v-select v-model=\"curRow\" @change=\"changeRow\"\r\n            :items=\"rowsLabel\"></v-select> -->\r\n          <!-- <v-btn @click=\"changeSeat(0)\">{{ seatsLabel[0] }}</v-btn>\r\n          <v-btn @click=\"changeSeat(1)\">{{ seatsLabel[1] }}</v-btn>\r\n          <v-btn @click=\"changeSeat(2)\">{{ seatsLabel[2] }}</v-btn> -->\r\n          <select class=\"toolbox-input v-custom-input\"\r\n            @input=\"setSeatNumbering($event)\"\r\n            :value=\"seatNumbering ? seatNumbering.scheme.id : null\">\r\n            <option v-for=\"numbering in seatNumberings\" :key=\"numbering\"\r\n              option-label=\"label\" name=\"seat_numbering\"\r\n              :value=\"numbering.id ? numbering.id : null\">\r\n              {{ numbering.label }}\r\n            </option>\r\n          </select>\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Start At </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"custom-small-text-field v-custom-input\"\r\n            name=\"row_numbering_start_at\"\r\n            :value=\"seatNumbering ? seatNumbering.start : null\"\r\n            @input=\"setSeatNumberingStartAt\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Label Direction </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <select class=\"v-custom-input\" @input=\"setSeatNumberingReversed\"\r\n            :value=\"seatNumbering ? seatNumbering.reversed : false\">\r\n            <option v-for=\"label in labelDirection\" :value=\"label.value\"\r\n              :key=\"label\">\r\n              {{ label.text }}\r\n            </option>\r\n          </select>\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Skip Labels </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" :value=\"skip\" @input=\"setSkip\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.v-input__details {\r\n  display: none;\r\n}\r\n\r\n.v-col-sm-6 {\r\n  padding: 5px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { useSeatFormatStore } from '@/stores/seatFormat';\r\nimport { usePlanStore } from '@/stores/plan';\r\nimport { SEAT_NUMBERINGS, reverse, letterCounter } from '@/lib/numbering';\r\nimport { tickStep } from 'd3';\r\n\r\nconst groupValue = (rows, mapper) => {\r\n  let lastFound = undefined\r\n  for (let row of rows) {\r\n    let val = mapper(row)\r\n    if (lastFound === undefined) {\r\n      lastFound = val\r\n    } else if (!shallowEqual(lastFound, val)) {\r\n      return undefined\r\n    }\r\n  }\r\n  return lastFound\r\n}\r\n\r\nconst shallowEqual = (object1, object2) => {\r\n  if (object1 === null || object2 === null || typeof object1 !== \"object\" || typeof object2 !== \"object\") {\r\n    return object1 === object2\r\n  }\r\n  const keys1 = Object.keys(object1)\r\n  const keys2 = Object.keys(object2)\r\n  if (keys1.length !== keys2.length) {\r\n    return false\r\n  }\r\n  for (let key of keys1) {\r\n    if (object1[key] !== object2[key]) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\n\r\nexport default ({\r\n  setup() {\r\n    const seatStore = useSeatFormatStore();\r\n    const planStore = usePlanStore();\r\n    return {\r\n      seatsLabel: seatStore.seatsLabel,\r\n      changeSeat: seatStore.changeSeat,\r\n      planStore,\r\n    }\r\n  },\r\n  data() {\r\n    const labelDirection = [{\r\n      text: 'Ascending', value: false\r\n    }, {\r\n      text: 'Descending', value: true\r\n    }]\r\n    const labelDisplay = [{\r\n      text: 'None', value: 0, left: false, right: false,\r\n    }, {\r\n      text: 'Left', value: 1, left: true, right: false,\r\n    }, {\r\n      text: 'Right', value: 2, left: false, right: true,\r\n    }, {\r\n      text: 'Both', value: 3, left: true, right: true,\r\n    }]\r\n    return {\r\n      // cur: null\r\n      seatNumberings: SEAT_NUMBERINGS,\r\n      labelDirection,\r\n      labelDisplay\r\n    }\r\n  },\r\n\r\n  props: {\r\n    rows: Array\r\n  },\r\n\r\n  computed: {\r\n    skip() {\r\n      return groupValue(this.rows, row => row.skip_letter)\r\n    },\r\n    seatNumbering() {\r\n      return groupValue(this.rows, row => {\r\n        for (let numbering of SEAT_NUMBERINGS) {\r\n          try {\r\n            let guessedStartAt = numbering.findStartAt(row.seats[0].seat_number)\r\n            let guessedNumbers = numbering.compute(row.seats, guessedStartAt)\r\n            if (row.seats.filter((s, idx) => s.seat_number === guessedNumbers[idx]).length === row.seats.length) {\r\n              const start = numbering.start(guessedStartAt)\r\n              return { scheme: numbering, reversed: false, startAt: guessedStartAt, start }\r\n            }\r\n\r\n            let seatsReversed = reverse(row.seats)\r\n            let guessedStartAtRev = numbering.findStartAt(seatsReversed[0].seat_number)\r\n            let guessedNumbersRev = numbering.compute(seatsReversed, guessedStartAtRev)\r\n            if (seatsReversed.filter((s, idx) => s.seat_number === guessedNumbersRev[idx]).length === row.seats.length) {\r\n              const start = numbering.start(guessedStartAt)\r\n              return { scheme: numbering, reversed: true, startAt: guessedStartAtRev, start }\r\n            }\r\n          } catch (e) {\r\n            console.warn('Crash while trying to test seat numbering schema', numbering, e)\r\n          }\r\n        }\r\n        return undefined\r\n      })\r\n      // skip ?\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    setSeatNumberingStartAt(e) {\r\n      if (!this.seatNumbering) return;\r\n      const id = this.seatNumbering.scheme.id;\r\n      const input = e.target;\r\n      const value = input.value;\r\n      const validUpper = /^[A-Z]+$/;\r\n      const validLower = /^[a-z]+$/;\r\n      const validNumbers = /^[0-9]+$/;\r\n\r\n      if (id === 'alpha') input.value = value.toUpperCase();\r\n      if (id === 'alphalower') input.value = value.toLowerCase();\r\n\r\n\r\n      if ((id === 'alpha') && !validUpper.test(input.value)) {\r\n        input.value = value.toUpperCase().replace(/[^A-Z]/g, '');\r\n      } else if (id === 'alphalower' && !validLower.test(input.value)) {\r\n        input.value = value.toLowerCase().replace(/[^a-z]/g, '');\r\n      } else if ((id === 'natural' || id === 'even' || id === 'odd') && !validNumbers.test(e.target.value)) {\r\n        input.value = value.replace(/[^0-9]/g, '');\r\n      } else if (id === 'even' && (parseInt(input.value) % 2)) return;\r\n      else if (id === 'odd' && !(parseInt(input.value) % 2)) return;\r\n      else {\r\n        const le = this.seatNumbering.scheme.findStartAt(input.value)\r\n        this.planStore.renumberSeats(this.rows.map(r => r.uuid), this.seatNumbering.scheme, le, this.seatNumbering.reversed)\r\n        this.planStore.modifyRows({ rowIds: this.rows.map(r => r.uuid), skip_letter: '' })\r\n      }\r\n    },\r\n    setSeatNumberingReversed(val) {\r\n      const value = val.target.value === 'true';\r\n      if (this.seatNumbering) {\r\n        this.planStore.renumberSeats(this.rows.map(r => r.uuid), this.seatNumbering.scheme, this.seatNumbering.startAt, value)\r\n        this.planStore.modifyRows({ rowIds: this.rows.map(r => r.uuid), skip_letter: '' })\r\n      }\r\n    },\r\n    setSeatNumbering(val) {\r\n      // let numbering = SEAT_NUMBERINGS.find(n => n.id === val.target.value);\r\n      // this.planStore.modifyRows(this.rows.map(r => r.uuid), numbering, 1, false);\r\n      let numbering = SEAT_NUMBERINGS.find(n => n.id === val.target.value)\r\n      this.planStore.modifyRows({ rowIds: this.rows.map(r => r.uuid), skip_letter: '' })\r\n      if (val.target.value === 'even') {\r\n        this.planStore.renumberSeats(this.rows.map(r => r.uuid), numbering, 2, false)\r\n      } else\r\n        this.planStore.renumberSeats(this.rows.map(r => r.uuid), numbering, 1, false)\r\n    },\r\n    setSkip(val) {\r\n      if (!this.seatNumbering) return;\r\n      const id = this.seatNumbering.scheme.id;\r\n      const input = val.target;\r\n      const value = input.value;\r\n      const validUpper = /^[A-Z,]+$/;\r\n      const validLower = /^[a-z]+$/;\r\n      const validNumbers = /^[0-9]+$/;\r\n\r\n      if (id === 'alpha') input.value = value.toUpperCase();\r\n      if (id === 'alphalower') input.value = value.toLowerCase();\r\n\r\n      if ((id === 'alpha') && !validUpper.test(input.value)) {\r\n        input.value = value.toUpperCase().replace(/[^A-Z,]/g, '');\r\n      } else if (id === 'alphalower' && !validLower.test(input.value)) {\r\n        input.value = value.toLowerCase().replace(/[^a-z,]/g, '');\r\n      } else if ((id === 'natural' || id === 'even' || id === 'odd') && !validNumbers.test(val.target.value)) {\r\n        input.value = value.replace(/[^0-9,]/g, '');\r\n      } else if (id === 'even' && (parseInt(input.value) % 2)) return;\r\n      else if (id === 'odd' && !(parseInt(input.value) % 2)) return;\r\n\r\n      else {\r\n        this.planStore.modifyRows({ rowIds: this.rows.map(r => r.uuid), skip_letter: val.target.value })\r\n        this.planStore.skipLetterSeats(this.rows.map(r => r.uuid), this.seatNumbering.scheme, this.seatNumbering.startAt, this.seatNumbering.reversed, val.target.value);\r\n      }\r\n    }\r\n  }\r\n})\r\n</script>","import { render } from \"./SeatLabeling.vue?vue&type=template&id=85d60d1e\"\nimport script from \"./SeatLabeling.vue?vue&type=script&lang=js\"\nexport * from \"./SeatLabeling.vue?vue&type=script&lang=js\"\n\nimport \"./SeatLabeling.vue?vue&type=style&index=0&id=85d60d1e&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import script from \"./RowTools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RowTools.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>Seat Label</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\"> Seat Label </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" name=\"seat_label\" :value=\"seat\"\r\n            @input=\"setSeat\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps, computed } from \"vue\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\nconst planStore = usePlanStore();\r\nconst props = defineProps({\r\n  seats: Array\r\n})\r\n\r\nconst seat = computed(() => props.seats ? props.seats[0].seat_number : '');\r\nconst setSeat = (e) => {\r\n  if (e.target.value) {\r\n    planStore.modifySeats({ seatIds: props.seats.map(i => i.uuid), seat_number: e.target.value })\r\n  }\r\n}\r\n</script>","import script from \"./SeatLabel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SeatLabel.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div>\r\n    <SeatLabel v-if=\"show\" :seats=\"seats\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, defineProps } from 'vue';\r\nimport SeatLabel from './Context/SeatLabel.vue';\r\n\r\nconst props = defineProps({\r\n  rows: Array,\r\n  seats: Array,\r\n})\r\n\r\nconst show = computed(() => props.seats.length === 1)\r\n\r\n</script>","import script from \"./SeatTools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SeatTools.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>\r\n      GA Option\r\n    </h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Capacity </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"capacity\"\r\n            :value=\"capacity\" @input=\"setCapacity\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Label </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" name=\"label\" :value=\"label\"\r\n            @input=\"setLabel\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Abbreviation </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" name=\"abbreviation\" :value=\"abbreviation\"\r\n            @input=\"setAbbreviation\" maxlength=\"6\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Show Label </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input type=\"checkbox\" name=\"show_label\" :checked=\"isShow\"\r\n            @change=\"setShow\" />\r\n        </v-col>\r\n\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, defineProps, ref } from \"vue\";\r\nimport {\r\n  usePlanStore\r\n} from '@/stores/plan';\r\n\r\nimport { groupValue } from \"@/lib/utils\";\r\n\r\nconst props = defineProps({\r\n  areas: Array\r\n});\r\n\r\nconst planStore = usePlanStore();\r\n\r\nconst abbreviation = computed(() => groupValue(props.areas, a => a.abbreviation));\r\nconst label = computed(() => groupValue(props.areas, a => a.label));\r\nconst capacity = computed(() => groupValue(props.areas, a => a.capacity));\r\nconst isShow = computed(() => groupValue(props.areas, a => a.show_label));\r\n\r\nconst setAbbreviation = (e) => {\r\n  const input = e.target;\r\n  const value = input.value;\r\n  const validCharacters = /^[a-zA-Z0-9-]*$/;\r\n\r\n  if (!validCharacters.test(e.target.value)) {\r\n    input.value = value.replace(/[^a-zA-Z0-9-]/g, '');\r\n  }\r\n\r\n  planStore.modifyAreas({\r\n    areaIds: props.areas.map(a => a.uuid),\r\n    abbreviation: input.value,\r\n    text__text: input.value\r\n\r\n  })\r\n}\r\n\r\nconst setLabel = (e) => {\r\n  planStore.modifyAreas({\r\n    areaIds: props.areas.map(a => a.uuid),\r\n    label: e.target.value\r\n  })\r\n}\r\n\r\nconst setCapacity = (e) => {\r\n  planStore.modifyAreas({\r\n    areaIds: props.areas.map(a => a.uuid),\r\n    capacity: parseInt(e.target.value)\r\n  })\r\n}\r\n\r\nconst setShow = (e) => {\r\n  planStore.modifyAreas({\r\n    areaIds: props.areas.map(a => a.uuid),\r\n    show_label: e.target.checked\r\n  })\r\n}\r\n\r\n</script>\r\n","import script from \"./GAPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GAPanel.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>\r\n      Shape\r\n    </h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'rectangle' || shape === 'gaSquare'\"> Width </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'rectangle' || shape === 'gaSquare'\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"width\"\r\n            :value=\"width\" @input=\"setWidth\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'rectangle' || shape === 'gaSquare'\"> Height </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'rectangle' || shape === 'gaSquare'\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"height\"\r\n            :value=\"height\" @input=\"setHeight\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'circle'\"> Radius </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'circle'\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"radius\"\r\n            :value=\"radius\" @input=\"setRadius\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'ellipse' || shape === 'gaCircle'\"> Radius X </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'ellipse' || shape === 'gaCircle'\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"radius_x\"\r\n            :value=\"radiusX\" @input=\"setRadiusX\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'ellipse' || shape === 'gaCircle'\"> Radius Y </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'ellipse' || shape === 'gaCircle'\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"radius_y\"\r\n            :value=\"radiusY\" @input=\"setRadiusY\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Rotation </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input type=\"number\" class=\"v-custom-input\" name=\"rotation\"\r\n            :value=\"rotation\" @input=\"setRotation\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          Text </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          <input class=\" v-custom-input\" name=\"text_value\" :value=\"textValue\"\r\n            @input=\"setText\" maxlength=\"15\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Text size </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"text_size\"\r\n            :value=\"textSize\" @input=\"setTextSize\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          Text Color </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          <InputColor :color=\"textColor\" :setColor=\"setTextColor\" />\r\n        </v-col>\r\n        <!-- <v-col cols=\"12\" sm=\"12\" v-if=\"bTextColor\">\r\n          <v-color-picker class=\"v-color-picker\" mode=\"hexa\"\r\n            v-model=\"text_color\" />\r\n        </v-col> -->\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'gaCircle' || shape === 'gaSquare' || shape === 'gaPolygon'\">\r\n          Text Color </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape === 'gaCircle' || shape === 'gaSquare' || shape === 'gaPolygon'\">\r\n          <select class=\"v-custom-input\" :value=\"gaTextColor\"\r\n            @input=\"setGATextColor\">\r\n            <option v-for=\"(op, idx) in gaColorOptions\" :key=\"idx\"\r\n              :value=\"op.name\">\r\n              {{ op.name }}\r\n            </option>\r\n          </select>\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          label Text position (x) </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          <input type=\"number\" class=\"v-custom-input\" name=\"text_x\" :value=\"textX\"\r\n            @input=\"setTextX\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          label Text position (y) </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          <input type=\"number\" class=\"v-custom-input\" name=\"text_y\" :value=\"textY\"\r\n            @input=\"setTextY\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'text' && shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          Stroke Width </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'text' && shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          <input type=\"number\" min=\"0\" class=\"v-custom-input\" name=\"text_size\"\r\n            :value=\"borderWidth\" @input=\"setBorderWidth\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'text' && shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          Stroke Color </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'text' && shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          <InputColor :color=\"borderColor\" :setColor=\"setBorderColor\" />\r\n        </v-col>\r\n        <!-- <v-col cols=\"12\" sm=\"12\" v-if=\"shape !== 'text'\">\r\n          <v-color-picker class=\"v-color-picker\" mode=\"hexa\"\r\n            v-model=\"stroke_color\" />\r\n        </v-col> -->\r\n\r\n\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'text' && shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          Fill Color </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"\r\n          v-if=\"shape !== 'text' && shape !== 'gaCircle' && shape !== 'gaSquare' && shape !== 'gaPolygon'\">\r\n          <InputColor :color=\"color\" :setColor=\"setColor\" />\r\n        </v-col>\r\n\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { usePlanStore } from '@/stores/plan';\r\nimport { ref } from 'vue'\r\nimport InputColor from '@/views/home/components/InputColor.vue'\r\n\r\nconst groupValue = (areas, mapper) => {\r\n  const uniques = areas.map(mapper).filter((v, i, s) => s.indexOf(v) === i)\r\n  if (uniques.length === 1) {\r\n    return uniques[0]\r\n  } else {\r\n    return undefined\r\n  }\r\n}\r\n\r\nexport default {\r\n  props: {\r\n    areas: Array,\r\n    temp_Rotate: Function,\r\n  },\r\n  components: {\r\n    InputColor\r\n  },\r\n  data() {\r\n    const text_color = ref(groupValue(this.areas, a => a.text ? a.text.color : undefined))\r\n    const fill_color = ref(groupValue(this.areas, a => a.color))\r\n    const stroke_color = ref(groupValue(this.areas, a => a.border_color))\r\n    const gaColorOptions = ref([\r\n      { name: 'White', color: '#ffffff' },\r\n      { name: 'Gray', color: '#333333' },\r\n      { name: 'Black', color: '#000000' }\r\n    ]);\r\n\r\n    return {\r\n      text_color,\r\n      fill_color,\r\n      stroke_color,\r\n      gaColorOptions\r\n    }\r\n  },\r\n  watch: {\r\n    text_color(newValue, oldValue) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), text__color: newValue })\r\n    },\r\n    fill_color(newValue, oldValue) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), color: newValue })\r\n    },\r\n    stroke_color(newValue, oldValue) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), border_color: newValue })\r\n    }\r\n  },\r\n  setup() {\r\n    const planStore = usePlanStore();\r\n    return {\r\n      planStore,\r\n    }\r\n  },\r\n  computed: {\r\n    gaTextColor() {\r\n      const value = this.gaColorOptions.find(item => item.color === groupValue(this.areas, a => a.text.color));\r\n      return value.name;\r\n    },\r\n    rotation() {\r\n      return Math.round(groupValue(this.areas, a => a.rotation))\r\n    },\r\n    shape() {\r\n      return groupValue(this.areas, a => a.shape)\r\n    },\r\n    color() {\r\n      return groupValue(this.areas, a => a.color)\r\n    },\r\n    borderColor() {\r\n      return groupValue(this.areas, a => a.border_color)\r\n    },\r\n    borderWidth() {\r\n      return Math.round(groupValue(this.areas, a => a.border_width))\r\n    },\r\n    textColor() {\r\n      return groupValue(this.areas, a => a.text ? a.text.color : undefined)\r\n    },\r\n    textValue() {\r\n      return groupValue(this.areas, a => a.text ? a.text.text : undefined)\r\n    },\r\n    textSize() {\r\n      return Math.round(groupValue(this.areas, a => (a.text && a.text.size) ? a.text.size : 16))\r\n    },\r\n    textX() {\r\n      return Math.round(groupValue(this.areas, a => a.text ? a.text.position.x : 0))\r\n    },\r\n    textY() {\r\n      return Math.round(groupValue(this.areas, a => a.text ? a.text.position.y : 0))\r\n    },\r\n    width() {\r\n      return Math.round(groupValue(this.areas, a => a.rectangle ? a.rectangle.width : 0))\r\n    },\r\n    height() {\r\n      return Math.round(groupValue(this.areas, a => a.rectangle ? a.rectangle.height : 0))\r\n    },\r\n    radius() {\r\n      return Math.round(groupValue(this.areas, a => a.circle ? a.circle.radius : 0))\r\n    },\r\n    radiusX() {\r\n      return Math.round(groupValue(this.areas, a => a.ellipse ? a.ellipse.radius.x : 0))\r\n    },\r\n    radiusY() {\r\n      return Math.round(groupValue(this.areas, a => a.ellipse ? a.ellipse.radius.y : 0))\r\n    },\r\n    rotate_val() {\r\n      // console.log(typeof (this.areas[0].rotation), this.areas[0].rotation)\r\n      if (this.areas[0].rotation) return this.areas[0].rotation;\r\n      return 0;\r\n    }\r\n  },\r\n  methods: {\r\n    setGATextColor(e) {\r\n      const value = this.gaColorOptions.find(item => item.name === e.target.value);\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), text__color: value.color })\r\n    },\r\n    setColor(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), color: e })\r\n    },\r\n    setBorderColor(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), border_color: e })\r\n    },\r\n    setBorderWidth(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), border_width: parseInt(e.target.value) })\r\n    },\r\n    setRotation(e) {\r\n      // this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), rotation: parseInt(e.target.value) })\r\n      const val = parseInt(e.target.value);\r\n      const temp = val - this.rotate_val;\r\n      this.temp_Rotate(temp);\r\n    },\r\n    setTextColor(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), text__color: e })\r\n    },\r\n    setText(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), text__text: e.target.value })\r\n    },\r\n    setTextSize(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), text__size: parseInt(e.target.value) })\r\n    },\r\n    setTextX(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), text__position__x: parseInt(e.target.value) })\r\n    },\r\n    setTextY(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), text__position__y: parseInt(e.target.value) })\r\n    },\r\n    setWidth(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), rectangle__width: parseInt(e.target.value) })\r\n    },\r\n    setHeight(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), rectangle__height: parseInt(e.target.value) })\r\n    },\r\n    setRadius(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), circle__radius: parseInt(e.target.value) })\r\n    },\r\n    setRadiusX(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), ellipse__radius__x: parseInt(e.target.value) })\r\n    },\r\n    setRadiusY(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), ellipse__radius__y: parseInt(e.target.value) })\r\n    },\r\n  }\r\n}\r\n\r\n</script>\r\n","<template>\r\n  <div>\r\n    <input type=\"color\" class=\"v-custom-input v-custom-color-input\"\r\n      @click=\"onClick\" v-model=\"color\" />\r\n    <div class=\"d-relative\">\r\n      <v-color-picker v-show=\"show\" class=\"v-color-picker\" mode=\"hexa\"\r\n        :style=\"popupStyles\" v-model=\"color\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineProps, watch } from \"vue\";\r\nconst props = defineProps({\r\n  setColor: Function,\r\n  color: String\r\n})\r\nconst popupStyles = ref({})\r\nconst show = ref(false)\r\nconst color = ref(props?.color)\r\nconst onClick = (e) => {\r\n  e.preventDefault();\r\n  if (e.clientY + 350 > window.innerHeight) {\r\n    popupStyles.value = {\r\n      bottom: '38px'\r\n    }\r\n  }\r\n  show.value = !show.value;\r\n}\r\n\r\nwatch(color, (newValue, oldValue) => {\r\n  props.setColor(newValue)\r\n})\r\n</script>\r\n\r\n<style>\r\n.d-relative {\r\n  position: relative;\r\n}\r\n\r\n.v-color-picker {\r\n  position: absolute;\r\n  right: 0;\r\n  max-width: 250px !important;\r\n  width: 250px !important;\r\n  z-index: 999;\r\n}\r\n\r\n.v-custom-color-input {\r\n  margin: 0;\r\n  padding: 0;\r\n  height: 35px;\r\n}\r\n</style>","import script from \"./InputColor.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./InputColor.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./InputColor.vue?vue&type=style&index=0&id=2682aec8&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./AreaPanel.vue?vue&type=template&id=2b7a87db\"\nimport script from \"./AreaPanel.vue?vue&type=script&lang=js\"\nexport * from \"./AreaPanel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <GAPanel v-if=\"show()\" :areas=\"areas\" />\r\n    <v-divider></v-divider>\r\n    <AreaPanel v-if=\"show()\" :areas=\"areas\" :temp_Rotate=\"temp_Rotate\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, defineProps } from \"vue\";\r\nimport GAPanel from \"./Context/GAPanel.vue\";\r\nimport AreaPanel from \"./Context/AreaPanel.vue\";\r\n\r\nconst props = defineProps({\r\n  areas: Array,\r\n  temp_Rotate: Function,\r\n})\r\n\r\nconst show = () => {\r\n  if (props.areas) {\r\n    const shape = props.areas[0].shape;\r\n    const filtered = props.areas.filter(a => a.shape === shape);\r\n    return filtered.length === props.areas.length;\r\n  }\r\n}\r\n</script>","import script from \"./GATools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GATools.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>\r\n      Shape Setting\r\n    </h4>\r\n    <v-container>\r\n\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\"> Width </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"width\"\r\n            :value=\"width\" @input=\"setWidth\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\"> Height </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"height\"\r\n            :value=\"height\" @input=\"setHeight\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'roundTable'\"> Radius </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'roundTable'\">\r\n          <input type=\"number\" min=\"1\" class=\"v-custom-input\" name=\"radius\"\r\n            :value=\"radius\" @input=\"setRadius\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\"> Rotation </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input type=\"number\" class=\"v-custom-input\" name=\"rotation\"\r\n            :value=\"rotation\" @input=\"setRotation\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'roundTable'\"> Open spaces\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'roundTable'\">\r\n          <input type=\"number\" min=\"0\" class=\"v-custom-input\" name=\"open_space\"\r\n            :value=\"space\" @input=\"setSpace\" />\r\n        </v-col>\r\n\r\n      </v-row>\r\n\r\n    </v-container>\r\n  </div>\r\n\r\n  <v-divider></v-divider>\r\n\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>\r\n      Capacity\r\n    </h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'roundTable'\"> Capacity </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'roundTable'\">\r\n          <input type=\"number\" min=\"0\" class=\"v-custom-input\" name=\"rotation\"\r\n            :value=\"capacity\" @input=\"setCapacity\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\"> Top </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\">\r\n          <input type=\"number\" min=\"0\" class=\"v-custom-input\" name=\"capacity_top\"\r\n            :value=\"capacityT\" @input=\"setCapacityT\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\"> Bottom </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\">\r\n          <input type=\"number\" min=\"0\" class=\"v-custom-input\"\r\n            name=\"capacity_bottom\" :value=\"capacityB\" @input=\"setCapacityB\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\"> Left </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\">\r\n          <input type=\"number\" min=\"0\" class=\"v-custom-input\" name=\"capacity_left\"\r\n            :value=\"capacityL\" @input=\"setCapacityL\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\"> Right </v-col>\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\">\r\n          <input type=\"number\" min=\"0\" class=\"v-custom-input\"\r\n            name=\"capacity_right\" :value=\"capacityR\" @input=\"setCapacityR\" />\r\n        </v-col>\r\n\r\n        <v-col cols=\"12\" sm=\"6\" v-if=\"shape === 'rectangleTable'\"> Total: {{\r\n          capacityTotal }}\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"></v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { usePlanStore } from '@/stores/plan';\r\n\r\nconst groupValue = (areas, mapper) => {\r\n  const uniques = areas.map(mapper).filter((v, i, s) => s.indexOf(v) === i)\r\n  if (uniques.length === 1) {\r\n    return uniques[0]\r\n  } else {\r\n    return undefined\r\n  }\r\n}\r\n\r\nexport default {\r\n  props: {\r\n    areas: Array,\r\n  },\r\n  data() {\r\n    return {\r\n    }\r\n  },\r\n  setup() {\r\n    const planStore = usePlanStore();\r\n    return {\r\n      planStore\r\n    }\r\n  },\r\n  computed: {\r\n    shape() {\r\n      return groupValue(this.areas, a => a.shape)\r\n    },\r\n    width() {\r\n      return Math.round(groupValue(this.areas, a => a.rectangleTable ? a.rectangleTable.width : 0))\r\n    },\r\n    height() {\r\n      return Math.round(groupValue(this.areas, a => a.rectangleTable ? a.rectangleTable.height : 0))\r\n    },\r\n    radius() {\r\n      return Math.round(groupValue(this.areas, a => a.radius))\r\n    },\r\n    capacityT() {\r\n      return groupValue(this.areas, a => a.seats.filter(i => i.special === 'top').length)\r\n    },\r\n    capacityB() {\r\n      return groupValue(this.areas, a => a.seats.filter(i => i.special === 'bottom').length)\r\n    },\r\n    capacityR() {\r\n      return groupValue(this.areas, a => a.seats.filter(i => i.special === 'right').length)\r\n    },\r\n    capacityL() {\r\n      return groupValue(this.areas, a => a.seats.filter(i => i.special === 'left').length)\r\n    },\r\n    rotation() {\r\n      return Math.round(groupValue(this.areas, a => a.rotation))\r\n    },\r\n    capacity() {\r\n      return groupValue(this.areas, a => a.capacity)\r\n    },\r\n    label() {\r\n      return groupValue(this.areas, a => a.label)\r\n    },\r\n    space() {\r\n      return groupValue(this.areas, a => a.space)\r\n    },\r\n    capacityTotal() {\r\n      return groupValue(this.areas, a => a.seats.length);\r\n    }\r\n  },\r\n  methods: {\r\n    setRotation(e) {\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), rotation: parseInt(e.target.value) })\r\n    },\r\n    setWidth(e) {\r\n      this.planStore.modifyRectangleTableWidth(this.areas, parseInt(e.target.value))\r\n    },\r\n    setHeight(e) {\r\n      this.planStore.modifyRectangleTableHeight(this.areas, parseInt(e.target.value))\r\n    },\r\n    setRadius(e) {\r\n      this.planStore.modifyRoundTableRadius(this.areas, parseInt(e.target.value))\r\n    },\r\n    setCapacity(e) {\r\n      if (e.target.value > 0) {\r\n        this.planStore.renumberCircleSeats(this.areas.map(a => a.uuid), parseInt(e.target.value))\r\n        this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), skip_letter: '' })\r\n      }\r\n    },\r\n    setSpace(e) {\r\n      this.planStore.modifyRoundTableSpace(this.areas, parseInt(e.target.value))\r\n    },\r\n    setCapacityT(e) {\r\n      this.planStore.modifyRectangleTableCapacityT(this.areas, parseInt(e.target.value))\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), skip_letter: '' })\r\n    },\r\n    setCapacityB(e) {\r\n      this.planStore.modifyRectangleTableCapacityB(this.areas, parseInt(e.target.value))\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), skip_letter: '' })\r\n    },\r\n    setCapacityR(e) {\r\n      this.planStore.modifyRectangleTableCapacityR(this.areas, parseInt(e.target.value))\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), skip_letter: '' })\r\n    },\r\n    setCapacityL(e) {\r\n      this.planStore.modifyRectangleTableCapacityL(this.areas, parseInt(e.target.value))\r\n      this.planStore.modifyAreas({ areaIds: this.areas.map(a => a.uuid), skip_letter: '' })\r\n    },\r\n  }\r\n}\r\n\r\n</script>\r\n","import { render } from \"./TablePanel.vue?vue&type=template&id=9909724e\"\nimport script from \"./TablePanel.vue?vue&type=script&lang=js\"\nexport * from \"./TablePanel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>Labeling</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\"> Name </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" name=\"table_label\" :value=\"tableName\"\r\n            @input=\"setTableName\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Abbreviation </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" name=\"table_abv\" :value=\"tableAbv\"\r\n            maxlength=\"6\" @input=\"setTableAbv\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Position X </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" type=\"number\" name=\"position_x\"\r\n            :value=\"positionX\" @input=\"setPositionX\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Position Y </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" type=\"number\" name=\"position_y\"\r\n            :value=\"positionY\" @input=\"setPositionY\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Text Size </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" type=\"number\" min=\"1\" name=\"text_size\"\r\n            :value=\"textSize\" @input=\"setTextSize\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Text Color </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <InputColor :color=\"textColor\" :setColor=\"setTextColor\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Rotate Label with Table </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input type=\"checkbox\" :checked=\"rotate\" @change=\"setRotate\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, defineProps, watch } from 'vue';\r\nimport { usePlanStore } from '@/stores/plan';\r\nimport { useMainStore } from '@/stores';\r\nimport InputColor from '@/views/home/components/InputColor.vue'\r\n\r\nconst plan = usePlanStore();\r\nconst round = (fl, places) => Number(fl.toFixed(places ? places : 0))\r\n\r\nconst shallowEqual = (object1, object2) => {\r\n  if (object1 === null || object2 === null || typeof object1 !== \"object\" || typeof object2 !== \"object\") {\r\n    return object1 === object2\r\n  }\r\n  const keys1 = Object.keys(object1)\r\n  const keys2 = Object.keys(object2)\r\n  if (keys1.length !== keys2.length) {\r\n    return false\r\n  }\r\n  for (let key of keys1) {\r\n    if (object1[key] !== object2[key]) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nconst groupValue = (rows, mapper) => {\r\n  let lastFound = undefined\r\n  for (let row of rows) {\r\n    let val = mapper(row)\r\n    if (lastFound === undefined) {\r\n      lastFound = val\r\n    } else if (!shallowEqual(lastFound, val)) {\r\n      return undefined\r\n    }\r\n  }\r\n  return lastFound\r\n}\r\n\r\nconst props = defineProps({\r\n  areas: Array\r\n})\r\n\r\nconst text_color = ref(groupValue(props.areas, a => a.label.color))\r\n\r\nwatch(text_color, (newValue, oldValue) => {\r\n  plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), label__color: newValue })\r\n})\r\n\r\nconst tableName = computed(() => {\r\n  return groupValue(props.areas, a => a.label ? a.label.name : undefined)\r\n})\r\n\r\nconst tableAbv = computed(() => {\r\n  return groupValue(props.areas, a => a.label ? a.label.abv : undefined)\r\n})\r\n\r\nconst positionX = computed(() => {\r\n  return groupValue(props.areas, a => a.label ? a.label.position.x : 0)\r\n})\r\n\r\nconst positionY = computed(() => {\r\n  return groupValue(props.areas, a => a.label ? a.label.position.y : 0)\r\n})\r\n\r\nconst textSize = computed(() => {\r\n  return groupValue(props.areas, a => a.label ? a.label.size : 0)\r\n})\r\n\r\nconst textColor = computed(() => {\r\n  return groupValue(props.areas, a => a.label.color);\r\n})\r\n\r\nconst rotate = computed(() => {\r\n  return groupValue(props.areas, a => a.rotate_label);\r\n})\r\n\r\nconst setTableName = (e) => {\r\n  plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), label__name: e.target.value })\r\n}\r\n\r\nconst setTableAbv = (e) => {\r\n  const input = e.target;\r\n  const value = input.value;\r\n  const validCharacters = /^[a-zA-Z0-9-]*$/;\r\n\r\n  if (!validCharacters.test(e.target.value)) {\r\n    input.value = value.replace(/[^a-zA-Z0-9-]/g, '');\r\n  }\r\n  plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), label__abv: input.value })\r\n}\r\n\r\nconst setPositionX = (e) => {\r\n  plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), label__position__x: parseInt(e.target.value) })\r\n}\r\n\r\nconst setPositionY = (e) => {\r\n  plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), label__position__y: parseInt(e.target.value) })\r\n}\r\n\r\nconst setTextSize = (e) => {\r\n  plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), label__size: parseInt(e.target.value) })\r\n}\r\n\r\nconst setTextColor = (e) => {\r\n  plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), label__color: e })\r\n}\r\n\r\nconst setRotate = (e) => {\r\n  plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), rotate_label: e.target.checked })\r\n}\r\n\r\n</script>","import script from \"./TableLabeling.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TableLabeling.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>Seat Labeling</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\"> Seat label </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <select class=\"v-custom-input\" @input=\"setSeatNumbering\"\r\n            :value=\"seatNumbering ? seatNumbering.scheme.id : null\">\r\n            <option v-for=\"numbering in seatNumberings\" :key=\"numbering\"\r\n              option-label=\"label\" name=\"seat_numbering\"\r\n              :value=\"numbering.id ? numbering.id : null\">\r\n              {{ numbering.label }}\r\n            </option>\r\n          </select>\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Start At </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" name=\"seat_numbering_start_at\"\r\n            :value=\"seatNumbering ? seatNumbering.start : null\"\r\n            @input=\"setSeatNumberingStartAt\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Label Direction </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <select class=\"v-custom-input\" @input=\"setSeatNumberingReversed\"\r\n            :value=\"seatNumbering ? seatNumbering.reversed : false\">\r\n            <option v-for=\"label in labelDirection\" :value=\"label.value\"\r\n              :key=\"label\">\r\n              {{ label.text }}\r\n            </option>\r\n          </select>\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Skip Function </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" name=\"skip\" :value=\"skip\"\r\n            @input=\"setSkip\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, defineProps } from 'vue'\r\nimport { letterCounter, reverse, ROW_NUMBERINGS, SEAT_NUMBERINGS } from '@/lib/numbering';\r\nimport { useSeatFormatStore } from '@/stores/seatFormat';\r\nimport { usePlanStore } from '@/stores/plan';\r\nimport { useMainStore } from '@/stores/index';\r\n\r\nconst plan = usePlanStore();\r\n\r\nconst groupValue = (rows, mapper) => {\r\n  let lastFound = undefined\r\n  for (let row of rows) {\r\n    let val = mapper(row)\r\n    if (lastFound === undefined) {\r\n      lastFound = val\r\n    } else if (!shallowEqual(lastFound, val)) {\r\n      return undefined\r\n    }\r\n  }\r\n  return lastFound\r\n}\r\n\r\nconst shallowEqual = (object1, object2) => {\r\n  if (object1 === null || object2 === null || typeof object1 !== \"object\" || typeof object2 !== \"object\") {\r\n    return object1 === object2\r\n  }\r\n  const keys1 = Object.keys(object1)\r\n  const keys2 = Object.keys(object2)\r\n  if (keys1.length !== keys2.length) {\r\n    return false\r\n  }\r\n  for (let key of keys1) {\r\n    if (object1[key] !== object2[key]) {\r\n      return false\r\n    }\r\n  }\r\n  return true\r\n}\r\n\r\nconst props = defineProps({\r\n  areas: Array\r\n})\r\n\r\nconst labelDirection = [{\r\n  text: 'Clockwise', value: false\r\n}, {\r\n  text: 'Counter Clockwise', value: true\r\n}]\r\n\r\nconst seatNumberings = SEAT_NUMBERINGS;\r\n\r\nconst seatNumbering = computed(() => {\r\n  return groupValue(props.areas, area => {\r\n    for (let numbering of SEAT_NUMBERINGS) {\r\n      try {\r\n        let guessedStartAt = numbering.findStartAt(area.seats[0].seat_number)\r\n        let guessedNumbers = numbering.compute(area.seats, guessedStartAt)\r\n        if (area.seats.filter((s, idx) => s.seat_number === guessedNumbers[idx]).length === area.seats.length) {\r\n          const start = numbering.start(guessedStartAt)\r\n          return { scheme: numbering, reversed: false, startAt: guessedStartAt, start }\r\n        }\r\n\r\n        let seatsReversed = reverse(area.seats)\r\n        let guessedStartAtRev = numbering.findStartAt(seatsReversed[0].seat_number)\r\n        let guessedNumbersRev = numbering.compute(seatsReversed, guessedStartAtRev)\r\n        if (seatsReversed.filter((s, idx) => s.seat_number === guessedNumbersRev[idx]).length === area.seats.length) {\r\n          const start = numbering.start(guessedStartAt)\r\n          return { scheme: numbering, reversed: true, startAt: guessedStartAtRev, start }\r\n        }\r\n      } catch (e) {\r\n        console.warn('Crash while trying to test seat numbering schema', numbering, e)\r\n      }\r\n    }\r\n    return undefined\r\n  })\r\n})\r\n\r\nconst setSeatNumberingStartAt = (e) => {\r\n  if (!seatNumbering.value) return;\r\n  const id = seatNumbering.value.scheme.id;\r\n  const input = e.target;\r\n  const value = input.value;\r\n  const validUpper = /^[A-Z]+$/;\r\n  const validLower = /^[a-z]+$/;\r\n  const validNumbers = /^[0-9]+$/;\r\n\r\n  if (id === 'alpha') input.value = value.toUpperCase();\r\n  if (id === 'alphalower') input.value = value.toLowerCase();\r\n\r\n  if ((id === 'alpha') && !validUpper.test(input.value)) {\r\n    input.value = value.toUpperCase().replace(/[^A-Z]/g, '');\r\n  } else if (id === 'alphalower' && !validLower.test(input.value)) {\r\n    input.value = value.toLowerCase().replace(/[^a-z]/g, '');\r\n  } else if ((id === 'natural' || id === 'even' || id === 'odd') && !validNumbers.test(e.target.value)) {\r\n    input.value = value.replace(/[^0-9]/g, '');\r\n  } else if (id === 'even' && (parseInt(input.value) % 2)) return;\r\n  else if (id === 'odd' && !(parseInt(input.value) % 2)) return;\r\n  else {\r\n    const le = seatNumbering.value.scheme.findStartAt(e.target.value)\r\n    plan.renumberTableSeats(props.areas.map(a => a.uuid), seatNumbering.value.scheme, le, seatNumbering.value.reversed)\r\n    plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), skip_letter: '' });\r\n  }\r\n}\r\n\r\nconst setSeatNumbering = e => {\r\n  let numbering = SEAT_NUMBERINGS.find(n => n.id === e.target.value)\r\n  if (e.target.value === 'even') {\r\n    plan.renumberTableSeats(props.areas.map(a => a.uuid), numbering, 2, false)\r\n  }\r\n  else {\r\n    plan.renumberTableSeats(props.areas.map(a => a.uuid), numbering, 1, false)\r\n  }\r\n  plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), skip_letter: '' });\r\n}\r\n\r\nconst setSeatNumberingReversed = e => {\r\n  const value = e.target.value === 'true';\r\n  if (seatNumbering.value) {\r\n    plan.renumberTableSeats(props.areas.map(r => r.uuid), seatNumbering.value.scheme, seatNumbering.value.startAt, value)\r\n    plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), skip_letter: '' });\r\n  }\r\n}\r\n\r\nconst skip = computed(() => {\r\n  return groupValue(props.areas, area => area?.skip_letter)\r\n})\r\n\r\nconst setSkip = e => {\r\n  if (!seatNumbering.value) return;\r\n  const id = seatNumbering.value.scheme.id;\r\n  const input = e.target;\r\n  const value = input.value;\r\n  const validUpper = /^[A-Z,]+$/;\r\n  const validLower = /^[a-z,]+$/;\r\n  const validNumbers = /^[0-9,]+$/;\r\n\r\n  if (id === 'alpha') input.value = value.toUpperCase();\r\n  if (id === 'alphalower') input.value = value.toLowerCase();\r\n\r\n  if ((id === 'alpha') && !validUpper.test(input.value)) {\r\n    input.value = value.toUpperCase().replace(/[^A-Z,]/g, '');\r\n  } else if (id === 'alphalower' && !validLower.test(input.value)) {\r\n    input.value = value.toLowerCase().replace(/[^a-z,]/g, '');\r\n  } else if ((id === 'natural' || id === 'even' || id === 'odd') && !validNumbers.test(e.target.value)) {\r\n    input.value = value.replace(/[^0-9,]/g, '');\r\n  } else if (id === 'even' && (parseInt(input.value) % 2)) return;\r\n  else if (id === 'odd' && !(parseInt(input.value) % 2)) return;\r\n  else {\r\n    plan.modifyAreas({ areaIds: props.areas.map(a => a.uuid), skip_letter: e.target.value });\r\n    plan.skipLetterTableSeats(props.areas.map(a => a.uuid), seatNumbering.value.scheme, seatNumbering.value.startAt, seatNumbering.value.reversed, e.target.value)\r\n  }\r\n}\r\n\r\n</script>\r\n","import script from \"./TableSeatLabeling.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TableSeatLabeling.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div>\r\n    <TablePanel v-if=\"show\" :areas=\"areas\" />\r\n    <v-divider></v-divider>\r\n    <TableLabeling v-if=\"show\" :areas=\"areas\" />\r\n    <v-divider></v-divider>\r\n    <TableSeatLabeling v-if=\"show\" :areas=\"areas\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, defineProps } from 'vue';\r\nimport TablePanel from './Context/TablePanel.vue';\r\nimport TableLabeling from './Context/TableLabeling.vue';\r\nimport TableSeatLabeling from './Context/TableSeatLabeling.vue';\r\n\r\nconst props = defineProps({\r\n  areas: Array,\r\n  seats: Array\r\n})\r\n\r\nconst show = computed(() => {\r\n  if (props.areas) {\r\n    const shape = props.areas[0].shape;\r\n    const filtered = props.areas.filter(a => a.shape === shape);\r\n    return filtered.length === props.areas.length;\r\n  }\r\n  return false;\r\n})\r\n</script>","import script from \"./TableTools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TableTools.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div>\r\n    <AreaPanel v-if=\"show()\" :areas=\"areas\" :temp_Rotate=\"temp_Rotate\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, defineProps } from 'vue';\r\nimport AreaPanel from './Context/AreaPanel.vue';\r\n\r\nconst props = defineProps({\r\n  areas: Array,\r\n  temp_Rotate: Function\r\n})\r\n\r\nconst show = () => {\r\n  if (props.areas) {\r\n    const shape = props.areas[0].shape;\r\n    const filtered = props.areas.filter(a => a.shape === shape);\r\n    return filtered.length === props.areas.length;\r\n  }\r\n}\r\n</script>","import script from \"./AreaTools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AreaTools.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\" v-if=\"seats.length === 1\">\r\n    <h4>Seat Label</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\"> Seat Label </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" name=\"seat_label\" :value=\"seat\"\r\n            @input=\"setSeat\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref, defineProps, watch, onMounted } from 'vue';\r\nimport { usePlanStore } from '@/stores/plan';\r\nimport { groupValue } from \"@/lib/utils\";\r\n\r\nconst planStore = usePlanStore();\r\n\r\nconst props = defineProps({\r\n  seats: Array,\r\n})\r\n\r\nconst seat = computed(() => {\r\n  return groupValue(props.seats, seat => seat.seat_number);\r\n})\r\n\r\nconst setSeat = (e) => {\r\n  if (e.target.value) {\r\n    planStore.modifyTableSeatLabel(props.seats[0].uuid, e.target.value)\r\n  }\r\n}\r\n</script>","import script from \"./TableSeatTools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TableSeatTools.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <v-row class=\"mb-2\">\r\n      <v-col class=\"d-flex align-center\">\r\n        <h1 style=\"font-size: 16px; font-weight: bold; margin-right: auto;\">\r\n          Validation\r\n        </h1>\r\n        <v-btn icon @click=\"onClose\"\r\n          style=\"min-width: 0; width: 24px; height: 24px; background-color: transparent; box-shadow: none;\">\r\n          <v-icon small style=\"color: rgba(0, 0, 0, 0.6);\">mdi-close</v-icon>\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n    <v-container>\r\n      <v-row>\r\n        <v-col cols=\"12\" md=\"12\">\r\n\r\n          <v-chip v-if=\"validateCategory\" class=\"ma-2\" color=\"red\" closable label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateCategory} element(s) without category.` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'All elements contain category.' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateSection\" class=\"ma-2\" color=\"red\" closable label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateSection} element(s) without section.` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'All elements contain section.' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateSeatId\" class=\"ma-2\" color=\"red\" closable label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateSeatId} duplicate element(s)` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'No duplicate elements' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateTableLabel\" class=\"ma-2\" color=\"red\" closable\r\n            label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateTableLabel} table seat(s) without table label` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'All table seats contain table label' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateTableAbv\" class=\"ma-2\" color=\"red\" closable label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateTableAbv} table seat(s) without table abbreviation` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'All table seats contain table abbreviation' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateCapacity\" class=\"ma-2\" color=\"red\" closable label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateCapacity} GA sections without capacity` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'All GA sections has capacity' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateSectionLabel\" class=\"ma-2\" color=\"red\" closable\r\n            label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateSectionLabel} GA section(s) without label` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'All GA sections contain label' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateSectionAbv\" class=\"ma-2\" color=\"red\" closable\r\n            label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateSectionAbv} GA section(s) without abbreviation` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'All GA sections contain abbreviation' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateSeatLabel\" class=\"ma-2\" color=\"red\" closable\r\n            label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateSeatLabel} seat(s) without label` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'All seats contain label' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateRowLabel\" class=\"ma-2\" color=\"red\" closable label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateRowLabel} row(s) without label` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'All rows contain label' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validateSeatSection\" class=\"ma-2\" color=\"red\" closable\r\n            label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `${validateSeatSection} seat(s) duplicate seat label` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'No seats duplicate seat label' }}\r\n          </v-chip>\r\n\r\n          <v-chip v-if=\"validatePosition\" class=\"ma-2\" color=\"red\" closable label>\r\n            <v-icon icon=\"mdi-close\" start></v-icon>\r\n            {{ `Some seats are on top of another seat` }}\r\n          </v-chip>\r\n          <v-chip v-else class=\"ma-2\" color=\"green\" closable label>\r\n            <v-icon icon=\"mdi-check\" start></v-icon>\r\n            {{ 'No seat is on top of another seat' }}\r\n          </v-chip>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed } from \"vue\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\nimport { useMainStore } from \"@/stores\";\r\n\r\nconst planstore = usePlanStore();\r\nconst validationErrors = computed(() => planstore.validationPlan());\r\nconst plan = computed(() => planstore.plan)\r\nconst section_label = computed(() => useMainStore().section_label)\r\n\r\nconst onClose = () => {\r\n  useMainStore().setBvalid(false);\r\n}\r\n\r\nconst validatePosition = computed(() => {\r\n  return planstore.validatePosition();\r\n})\r\n\r\nconst validateCategory = computed(() => {\r\n  return validationErrors.value.category;\r\n})\r\n\r\nconst validateSection = computed(() => {\r\n  return validationErrors.value.section;\r\n})\r\n\r\nconst validateSeatId = computed(() => {\r\n  return validationErrors.value.seatId;\r\n})\r\n\r\nconst validateTableLabel = computed(() => {\r\n  return validationErrors.value.tableLabel;\r\n})\r\n\r\nconst validateTableAbv = computed(() => {\r\n  return validationErrors.value.tableAbv;\r\n})\r\n\r\nconst validateCapacity = computed(() => {\r\n  return validationErrors.value.capacity;\r\n})\r\n\r\nconst validateSectionLabel = computed(() => {\r\n  return validationErrors.value.sectionLabel;\r\n})\r\n\r\nconst validateSectionAbv = computed(() => {\r\n  return validationErrors.value.sectionAbv;\r\n})\r\n\r\nconst validateSeatLabel = computed(() => {\r\n  return validationErrors.value.seatLabel;\r\n})\r\n\r\nconst validateRowLabel = computed(() => {\r\n  return validationErrors.value.rowLabel;\r\n})\r\n\r\n\r\nconst validateSeatSection = computed(() => {\r\n  let nSection = 0;\r\n  section_label.value.forEach(section => {\r\n    for (const z of plan.value.zones) {\r\n      const temp = []\r\n      for (const r of z.rows) {\r\n        for (const s of r.seats) {\r\n          if (s.section_label === section.label)\r\n            temp.push(`${r.row_number}${s.seat_number}`)\r\n        }\r\n      }\r\n      const tt = [...new Set(temp)];\r\n      nSection += (temp.length - tt.length);\r\n    }\r\n  })\r\n  return nSection;\r\n})\r\n\r\n</script>\r\n\r\n<style>\r\n.v-chip {\r\n  height: auto !important;\r\n}\r\n\r\n.v-chip .v-chip__content {\r\n  max-width: 100%;\r\n  height: auto;\r\n  min-height: 32px;\r\n  white-space: pre-wrap;\r\n}\r\n</style>","import script from \"./ValidationPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ValidationPanel.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ValidationPanel.vue?vue&type=style&index=0&id=0f3de14b&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","function luminanace(r, g, b) {\r\n  var a = [r, g, b].map(function (v) {\r\n    v /= 255;\r\n    return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);\r\n  });\r\n  return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\r\n}\r\n\r\nfunction contrast(rgb1, rgb2) {\r\n  const l1 = luminanace(rgb1[0], rgb1[1], rgb1[2]) + 0.05;\r\n  const l2 = luminanace(rgb2[0], rgb2[1], rgb2[2]) + 0.05;\r\n  let ratio = l1 / l2;\r\n  if (l2 > l1) {\r\n    ratio = 1 / ratio;\r\n  }\r\n  return ratio;\r\n}\r\n\r\nfunction hex2rgb(hex) {\r\n  // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\r\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  hex = hex.replace(shorthandRegex, function (m, r, g, b) {\r\n    return r + r + g + g + b + b;\r\n  });\r\n\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result\r\n    ? [\r\n        parseInt(result[1], 16),\r\n        parseInt(result[2], 16),\r\n        parseInt(result[3], 16),\r\n      ]\r\n    : null;\r\n}\r\n\r\nconst categoryColors = [\r\n  \"#2b68e8\",\r\n  \"#2144ac\",\r\n  \"#646bee\",\r\n  \"#21a6e6\",\r\n  \"#106a9f\",\r\n  \"#1992a1\",\r\n  \"#20b6d2\",\r\n  \"#25b8a6\",\r\n  \"#2fc463\",\r\n  \"#1d7f40\",\r\n  \"#86ca2e\",\r\n  \"#67a221\",\r\n  \"#f39d2a\",\r\n  \"#d77720\",\r\n  \"#f7732a\",\r\n  \"#bc173f\",\r\n  \"#df224c\",\r\n];\r\n\r\nexport { contrast, hex2rgb, categoryColors };\r\n","<template>\r\n  <div class=\"color-picker-container\">\r\n    <v-btn :color=\"selected\" class=\"border-rounded\" @click=\"setToggle\"></v-btn>\r\n    <div v-show=\"toggle\" class=\"color-picker-dropdown\">\r\n      <div class=\"color-picker\">\r\n        <v-btn class=\"color-item-btn\" v-for=\"color in colors\" :key=\"color\"\r\n          :color=\"color\" @click=\"() => onColorSelected(color)\"></v-btn>\r\n      </div>\r\n      <div class=\"color-picker-action\">\r\n        <v-btn class=\"action-button\" @click=\"onOk\">Ok</v-btn>\r\n        <v-btn class=\"action-button\" @click=\"onCancel\">Cancel</v-btn>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineProps, computed } from 'vue';\r\n\r\nconst props = defineProps({\r\n  setColor: Function,\r\n  selected: String,\r\n  index: Number,\r\n  setToggle: Function,\r\n  clearToggle: Function,\r\n  toggle: Boolean,\r\n})\r\n\r\nconst onColorSelected = color => {\r\n  selected.value = color;\r\n}\r\nconst setToggle = () => {\r\n  props.setToggle(props.index);\r\n}\r\n\r\nconst onOk = () => {\r\n  props.setColor(selected.value, props.index);\r\n  props.clearToggle();\r\n}\r\n\r\nconst onCancel = () => {\r\n  props.clearToggle();\r\n}\r\n\r\nconst selected = ref(props.selected)\r\n\r\nconst colors = [\r\n  '#2b68e8',\r\n  '#2144ac',\r\n  '#646bee',\r\n  '#21a6e6',\r\n  '#106a9f',\r\n  '#1992a1',\r\n  '#20b6d2',\r\n  '#25b8a6',\r\n  '#2fc463',\r\n  '#1d7f40',\r\n  '#86ca2e',\r\n  '#67a221',\r\n  '#f39d2a',\r\n  '#d77720',\r\n  '#f7732a',\r\n  '#bc173f',\r\n  '#df224c',\r\n]\r\n</script>\r\n\r\n<style>\r\n.border-rounded {\r\n  min-width: 30px;\r\n  height: 30px !important;\r\n  border-radius: 50%;\r\n}\r\n\r\n.color-picker-container {\r\n  position: relative;\r\n}\r\n\r\n.color-picker-dropdown {\r\n  position: absolute;\r\n  bottom: 30px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 300px;\r\n  padding: 10px 20px;\r\n  margin: 10px 0;\r\n  background-color: rgb(255, 255, 255);\r\n  color: rgba(0, 0, 0, 0.87);\r\n  transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\r\n  border-radius: 4px;\r\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 3px 3px -2px, rgba(0, 0, 0, 0.14) 0px 3px 4px 0px, rgba(0, 0, 0, 0.12) 0px 1px 8px 0px;\r\n}\r\n\r\n.color-picker {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 30px 0;\r\n}\r\n\r\n.color-picker-action {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.color-item-btn {\r\n  min-width: 30px;\r\n  height: 30px !important;\r\n  border-radius: 50%;\r\n  margin: 5px;\r\n}\r\n\r\n.action-button {\r\n  min-width: 100px;\r\n}\r\n</style>","import script from \"./ColorPicker.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ColorPicker.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ColorPicker.vue?vue&type=style&index=0&id=8117a758&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"display: flex; justify-content: space-between; align-items: center\">\r\n    <h4>Categories</h4>\r\n    <v-btn class=\"btn\" @click=\"dialog = true\" size=\"small\" variant=\"flat\"\r\n      style=\"padding: 0px\"><v-icon icon=\"mdi-cog\"></v-icon>Manage\r\n    </v-btn>\r\n  </div>\r\n  <div class=\"text-center\">\r\n    <v-dialog v-model=\"dialog\" width=\"600\" persistent>\r\n      <v-card class=\"v-card-container\">\r\n        <div class=\"close-btn\">\r\n          <v-btn density=\"comfortable\" icon=\"$close\" variant=\"plain\"\r\n            @click=\"dialog = false\"></v-btn>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h2 class=\"category-title\">Categories</h2>\r\n          <p class=\"category-description\">\r\n            Categories are used to alert users of different pricing options\r\n            available. Example, If most seats are Standard Pricing of Adult $12\r\n            and\r\n            Child $8 but your front 2 rows are Premium with Adult $15 and Child\r\n            $13,\r\n            Create one Premium category and one Standard category for your chart.\r\n          </p>\r\n        </div>\r\n        <div class=\"widget-container\">\r\n          <div class=\"widget-body\">\r\n            <button type=\"button\" class=\"add-button\" id=\"addRow\"\r\n              @click=\"onCreate\">+ Create new\r\n              category</button>\r\n            <table>\r\n              <tr v-for=\"(ca, idx) in categories\" :key=\"idx\">\r\n                <td class=\"color-container-td\">\r\n                  <ColorPicker :setColor=\"setColor\" :selected=\"ca.color\"\r\n                    :index=\"idx\" :setToggle=\"setToggle\" :clearToggle=\"clearToggle\"\r\n                    :toggle=\"toggle[idx]\" />\r\n                </td>\r\n                <td class=\"input-container-td\">\r\n                  <input class=\"category-input\" :class=\"{ 'invalid': valid }\"\r\n                    type=\" text\" name=\"inputForm\" :defaultValue=\"ca.name\"\r\n                    ref=\"categoryInput\" @input=\"(e) => onChange(e, idx)\"\r\n                    @blur=\"(e) => onBlur(e, idx)\" />\r\n                </td>\r\n                <td class=\"delete-container-td\">\r\n                  <div class=\"delete-container-div\">\r\n                    <v-btn v-if=\"deleteBtnShow(idx)\" density=\"comfortable\"\r\n                      icon=\"$delete\" variant=\"plain\"\r\n                      @click=\"() => handle_delete(idx)\"></v-btn>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </table>\r\n            <div class=\"actions\">\r\n              <v-btn color=\"green\" @click=\"onSave\">Submit</v-btn>\r\n              <v-btn color=\"red\" @click=\"onDiscard\">Discard</v-btn>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { ref, defineProps, computed, defineComponent, nextTick, onMounted } from \"vue\";\r\nimport { usePlanStore } from '@/stores/plan.js'\r\nimport { categoryColors } from \"@/lib/colors\";\r\nimport ColorPicker from \"./ColorPicker.vue\";\r\nconst dialog = ref(false);\r\nconst valid = ref(false)\r\nconst colors = categoryColors;\r\n\r\nconst planStore = usePlanStore();\r\n\r\nconst categories = ref(computed(() => planStore.categories));\r\nconst addCategories = ref([]);\r\nconst deleteCategories = ref([]);\r\n\r\nconst toggle = ref(Array(colors.length).fill(false));\r\nconst setToggle = (idx) => {\r\n  const value = toggle.value[idx];\r\n  clearToggle();\r\n  toggle.value[idx] = !value\r\n}\r\nconst clearToggle = () => {\r\n  toggle.value = Array(colors.length).fill(false);\r\n}\r\n\r\nconst assigned_category = (categoryName) => {\r\n  for (const z of planStore._plan.zones) {\r\n    for (const r of z.rows) {\r\n      for (const s of r.seats) {\r\n        if (s?.category === categoryName) return false;\r\n      }\r\n    }\r\n    for (const a of z.areas) {\r\n      if (a.seats) {\r\n        for (const s of a.seats)\r\n          if (s?.category === categoryName) return false;\r\n      } else {\r\n        if (a.category === categoryName) return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n\r\nconst deleteBtnShow = ((idx) => {\r\n  const bStatus = assigned_category(categories.value[idx].name);\r\n  return bStatus;\r\n})\r\n\r\nconst onBlur = (e, idx) => {\r\n  if (!valid.value && e.target.value) {\r\n    planStore.changeCategory(categories.value[idx].name, e.target.value, categories.value[idx].color);\r\n  } else {\r\n    const allCategoryInput = document.querySelectorAll('.category-input')\r\n    allCategoryInput[idx].select();\r\n  }\r\n}\r\n\r\nconst onChange = (e, idx) => {\r\n  valid.value = categories.value.findIndex(i => i.name === e.target.value) !== -1;\r\n}\r\n\r\nconst setColor = (color, idx) => {\r\n  planStore.changeCategory(categories.value[idx].name, categories.value[idx].name, color);\r\n}\r\n\r\nconst handle_delete = (idx) => {\r\n  planStore.deleteCategory(categories.value[idx].name);\r\n}\r\n\r\nconst getUniqueCategoryName = name => {\r\n  let newName = name;\r\n  let counter = 1;\r\n  while (categories.value.some(category => category.name === newName)) {\r\n    newName = `${name} ${counter}`;\r\n    counter++;\r\n  }\r\n  return newName;\r\n}\r\n\r\nconst onCreate = () => {\r\n  if (categories.value.length === 17) {\r\n    alert('Can not add category anymore')\r\n    return;\r\n  }\r\n  const len = colors.length;\r\n  let color = null;\r\n  while (!color) {\r\n    const rand = Math.floor(Math.random() * len);\r\n    color = colors[rand]\r\n    if ((categories.value.findIndex(item => item.color === color)) === -1) break;\r\n  }\r\n  const newName = getUniqueCategoryName('New Category');\r\n  planStore.createCategory(newName, color);\r\n  addCategories.value.push(newName);\r\n  nextTick(() => {\r\n    const allCategoryInput = document.querySelectorAll('.category-input')\r\n    const cnt = allCategoryInput.length;\r\n    allCategoryInput[cnt - 1].select();\r\n  })\r\n}\r\n\r\nconst onSave = () => {\r\n  dialog.value = false;\r\n}\r\n\r\nconst onDiscard = () => {\r\n  // addCategories.value.forEach(cat => planStore.deleteCategory(cat));\r\n  // addCategories.value = []\r\n  dialog.value = false;\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.v-card-container {\r\n  padding: 40px 30px;\r\n}\r\n\r\n.widget-container {\r\n  padding-top: 50px;\r\n  margin: auto;\r\n  width: 80%;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.widget-body {\r\n  width: 500px;\r\n}\r\n\r\n.colorcontainer {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50px;\r\n  overflow: hidden;\r\n}\r\n\r\n.colorcontainer>input[type='color'] {\r\n  opacity: 1;\r\n  width: 160px;\r\n  height: 160px;\r\n  background: #FFFFFF 0% 0% no-repeat padding-box;\r\n  box-shadow: 0px 3px 6px #0000001A;\r\n  padding: 0;\r\n  margin: -30px 0 0 -30px;\r\n}\r\n\r\n.add-button {\r\n  background-color: transparent;\r\n  color: #3d9ffb;\r\n  border: none;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\n\r\n.category-input {\r\n  width: 100%;\r\n  padding: 6px 10px;\r\n  margin: 8px 0;\r\n  box-sizing: border-box;\r\n  border: none;\r\n  border-radius: 5px;\r\n}\r\n\r\n.error {\r\n  border: 1px solid red;\r\n}\r\n\r\n.error-msg {\r\n  color: red;\r\n}\r\n\r\n.category-input:focus {\r\n  outline: 3px solid #bae0ff;\r\n}\r\n\r\n.category-input.invalid:focus {\r\n  outline: 3px solid red;\r\n}\r\n\r\ntable {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n\r\ntable,\r\nth,\r\ntd {\r\n  border-bottom: 1px solid #ccc;\r\n  padding: 0 10px;\r\n}\r\n\r\ntd {\r\n  vertical-align: middle;\r\n}\r\n\r\n.left-container-td {\r\n  width: 15%;\r\n}\r\n\r\n.color-container-td {\r\n  width: 25px;\r\n}\r\n\r\n.input-container-td {\r\n  width: calc(75% - 25px);\r\n}\r\n\r\n.delete-container-td {\r\n  width: 10%;\r\n}\r\n\r\n.delete-container-div {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.category-description {\r\n  color: #8b8b8b;\r\n  font-size: 12px;\r\n  margin: 0 20px;\r\n}\r\n\r\n.category-title {\r\n  margin: 10px 0;\r\n}\r\n\r\n.close-btn {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.widget-body>.actions {\r\n  text-align: center;\r\n}\r\n\r\n.widget-body>.actions>button {\r\n  text-transform: capitalize !important;\r\n  margin: 20px 30px 0;\r\n}\r\n</style>","import script from \"./CategoryManage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CategoryManage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CategoryManage.vue?vue&type=style&index=0&id=7acf2917&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./ChartCategoryOption.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChartCategoryOption.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>Chart Options</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"6\"> Chart\r\n          Name </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" name=\"chart_name\" :value=\"chartName\"\r\n            @input=\"setChartName\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Width </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" type=\"number\" name=\"width\" :value=\"width\"\r\n            @keydown=\"isSetBackground\" @input=\"setWidth\" min=\"0\" />\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"6\"> Height </v-col>\r\n        <v-col cols=\"12\" sm=\"6\">\r\n          <input class=\"v-custom-input\" type=\"number\" name=\"height\"\r\n            :value=\"height\" @keydown=\"isSetBackground\" @input=\"setHeight\"\r\n            min=\"0\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { ref, computed, inject } from \"vue\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\n\r\nconst plan = computed(() => usePlanStore().plan);\r\nconst planRef = inject('planRef');\r\n\r\nconst chartName = ref(plan.value.name);\r\nconst width = ref(plan.value.size.width);\r\nconst height = ref(plan.value.size.height);\r\n\r\nconst isSetBackground = (e) => {\r\n  if (planRef.value?.background) {\r\n    e.preventDefault();\r\n    alert('Please remove the background image before updating the size of this seating chart.')\r\n  }\r\n}\r\n\r\nconst setChartName = (e) => {\r\n  const name = e.target.value;\r\n  if (!name.trim()) {\r\n    return;\r\n  }\r\n  chartName.value = name;\r\n  usePlanStore().setPlanName(chartName.value);\r\n}\r\n\r\nconst setWidth = (e) => {\r\n  const { value } = e.target;\r\n  if (value <= 0) return;\r\n  width.value = value;\r\n  usePlanStore().setPlanSize(width.value, height.value);\r\n}\r\n\r\nconst setHeight = (e) => {\r\n  const { value } = e.target;\r\n  if (value <= 0) return;\r\n  height.value = value;\r\n  usePlanStore().setPlanSize(width.value, height.value);\r\n}\r\n\r\n</script>","import script from \"./ChartGeneralOption.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChartGeneralOption.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"display: flex; justify-content: space-between; align-items: center\">\r\n    <button type=\"button\" class=\"add-button\" id=\"addRow\" @click=\"dialog = true\">+\r\n      Create new</button>\r\n  </div>\r\n\r\n  <div class=\"text-center\">\r\n    <v-dialog v-model=\"dialog\" width=\"400\">\r\n      <v-card prepend-icon=\"mdi-label\" title=\"Add Section Label\">\r\n        <v-card-text>\r\n          <v-text-field type=\"text\" label=\"Section label\"\r\n            v-model=\"newLabel\"></v-text-field>\r\n        </v-card-text>\r\n        <v-card-text>\r\n          <v-text-field type=\"text\" label=\"Section Abbreviation\"\r\n            v-model=\"newAbr\"></v-text-field>\r\n        </v-card-text>\r\n        <v-divider></v-divider>\r\n        <v-card-actions>\r\n          <v-btn text=\"Close\" @click=\"dialog = false\"></v-btn>\r\n          <v-spacer></v-spacer>\r\n          <v-btn text=\"Add\" @click=\"onAdd\" color=\"primary\"></v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, defineProps, computed } from \"vue\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { useMainStore } from \"@/stores\";\r\nconst store = useMainStore();\r\nconst sections = computed(() => store.section_label)\r\nconst dialog = ref(false);\r\nconst newLabel = ref(\"\");\r\nconst newAbr = ref(\"\");\r\nconst props = defineProps({\r\n  addTags: Function,\r\n});\r\n\r\nconst onAdd = () => {\r\n  if (newLabel.value && newAbr.value) {\r\n    const abvPattern = /^[a-zA-Z0-9-]+$/\r\n    if (newAbr.value.length > 6 || !abvPattern.test(newAbr.value)) {\r\n      alert('Abbreviation must be limit to 6 or letters, numbers and hyphen(-)')\r\n      return;\r\n    }\r\n\r\n    const findLabel = sections.value.find(s => s.label === newLabel.value)\r\n    const findAbv = sections.value.find(s => s.abv === newAbr.value)\r\n    if (findLabel || findAbv) {\r\n      alert('This label or abbreviation already exists. Please use a different one')\r\n      return\r\n    }\r\n\r\n    const id = uuid();\r\n    props.addTags({ id, label: newLabel.value, abv: newAbr.value });\r\n    dialog.value = false;\r\n    newLabel.value = ''\r\n    newAbr.value = ''\r\n  } else {\r\n    alert('Data Input Error');\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.add-button {\r\n  background-color: transparent;\r\n  color: #3d9ffb;\r\n  border: none;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\n</style>","import script from \"./SectionLabelModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SectionLabelModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SectionLabelModal.vue?vue&type=style&index=0&id=951c00d8&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"display: flex; justify-content: space-between; align-items: center\">\r\n    <h4>Section</h4>\r\n    <v-btn class=\"btn\" @click=\"dialog = true\" size=\"small\" variant=\"flat\"\r\n      style=\"padding: 0px\"><v-icon icon=\"mdi-cog\"></v-icon>Manage\r\n    </v-btn>\r\n  </div>\r\n  <div class=\"text-center\">\r\n    <v-dialog v-model=\"dialog\" width=\"600\">\r\n      <v-card class=\"v-card-container\">\r\n        <div class=\"close-btn\">\r\n          <v-btn density=\"comfortable\" icon=\"$close\" variant=\"plain\"\r\n            @click=\"dialog = false\"></v-btn>\r\n        </div>\r\n        <div class=\"text-center\">\r\n          <h2 class=\"category-title\">Section Labeling</h2>\r\n        </div>\r\n        <div class=\"widget-container\">\r\n          <div class=\"widget-body\">\r\n            <SectionLabelModal :addTags=\"addTags\" />\r\n            <table>\r\n              <tr>\r\n                <th class=\"text-center\">Label</th>\r\n                <th class=\"text-center\">Abbreviation</th>\r\n                <th class=\"text-center\">Action</th>\r\n              </tr>\r\n              <tr v-for=\"(tag, idx) in tags\" :key=\"idx\">\r\n                <td class=\"text-center\">\r\n                  {{ tag.label }}\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  {{ tag.abv }}\r\n                </td>\r\n                <td class=\"text-center\">\r\n                  <v-btn v-if=\"delete_btn(idx)\" density=\"comfortable\"\r\n                    icon=\"$delete\" variant=\"plain\"\r\n                    @click=\"remoteTag(tag.id)\"></v-btn>\r\n                </td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script setup>\r\nimport { ref, defineProps, computed, defineComponent } from \"vue\";\r\nimport { usePlanStore } from '@/stores/plan.js'\r\nimport { useMainStore } from \"@/stores\";\r\nimport SectionLabelModal from \"@/views/layout/rightnav/SectionLabelModal.vue\";\r\nimport { lab } from \"d3\";\r\nconst dialog = ref(false);\r\n\r\nconst props = defineProps({\r\n});\r\n\r\nconst planStore = usePlanStore();\r\nconst mainStore = useMainStore();\r\n\r\nconst tags = computed(() => mainStore.section_label);\r\n\r\nconst remoteTag = (id) => {\r\n  mainStore.removeSectionLabel(id);\r\n}\r\n\r\nconst addTags = v => {\r\n  tags.value.push(v);\r\n  mainStore.setSectionLabel(tags.value);\r\n}\r\n\r\nconst delete_btn = (idx) => {\r\n  return assigned_section(tags.value[idx].label, tags.value[idx].abv);\r\n}\r\n\r\nconst assigned_section = (label, abv) => {\r\n  for (const z of planStore._plan.zones) {\r\n    for (const r of z.rows) {\r\n      for (const s of r.seats) {\r\n        if (s?.section_label === label && s?.section_abv === abv) return false;\r\n      }\r\n    }\r\n    for (const a of z.areas) {\r\n      if (a.seats) {\r\n        for (const s of a.seats)\r\n          if (s?.section_label === label && s?.section_abv === abv) return false;\r\n      } else {\r\n        if (a?.section === label && a?.abbreviation === abv) return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.v-card-container {\r\n  padding: 40px 30px;\r\n}\r\n\r\n.widget-container {\r\n  padding-top: 50px;\r\n  margin: auto;\r\n  width: 80%;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.widget-body {\r\n  width: 500px;\r\n}\r\n\r\n.close-btn {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n\r\ntable,\r\ntd,\r\nth>.text-center {\r\n  text-align: center;\r\n}\r\n</style>","import script from \"./SectionManage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SectionManage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SectionManage.vue?vue&type=style&index=0&id=55a702ae&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./ChartSectionOption.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChartSectionOption.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <h4>Upload Background</h4>\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"12\">\r\n          Background images are not saved with this chart but can be added later\r\n          to the ticketing system.\r\n        </v-col>\r\n        <v-col cols=\"12\" sm=\"12\">\r\n          <v-btn v-if=\"planRef?.background\" @click=\"bgRemove\">\r\n            Remove Background\r\n          </v-btn>\r\n          <v-btn v-else @click=\"bgUpload\">Upload Background</v-btn>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject } from \"vue\";\r\nconst planRef = inject('planRef');\r\n\r\nconst bgUpload = () => {\r\n  const input = document.createElement('input')\r\n  input.type = 'file';\r\n  input.accept = '.svg,.png';\r\n  input.onchange = (e) => {\r\n    const file = input.files[0];\r\n    if (!file) return;\r\n    const validTypes = ['image/svg+xml', 'image/png'];\r\n    if (!validTypes.includes(file.type)) {\r\n      alert('Sorry, we only allow SVG or PNG files to be placed as background images.');\r\n      return;\r\n    }\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = () => {\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        const planWidth = planRef.value.plan.size.width;\r\n        const planHeight = planRef.value.plan.size.height;\r\n\r\n        console.log(img.width, img.height)\r\n\r\n        if (img.width != planWidth || img.height != planHeight) {\r\n          alert(`Sorry, but the image must be exactly ${planWidth} wide by ${planHeight} high to match the size of the seating chart itself.`);\r\n          return;\r\n        }\r\n\r\n        planRef.value.background = fileReader.result;\r\n        planRef.value.backgroundWidth = planWidth;\r\n        planRef.value.backgroundHeight = planHeight;\r\n        planRef.value.persistBackground();\r\n      };\r\n\r\n      img.src = fileReader.result;\r\n    };\r\n    fileReader.readAsDataURL(file);\r\n  };\r\n  input.click();\r\n}\r\n\r\nconst bgRemove = () => {\r\n  planRef.value.background = null;\r\n  planRef.value.persistBackground();\r\n}\r\n</script>","import script from \"./ChartUploadBackgroundOption.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChartUploadBackgroundOption.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineStore } from \"pinia\";\r\nimport { ref, computed } from \"vue\";\r\n\r\nexport const testStore = defineStore(\"testStore\", () => {\r\n  const counter = ref(0);\r\n  const increase = () => {\r\n    counter.value++;\r\n  };\r\n\r\n  const getCounter = computed(() => counter);\r\n  return { counter, increase, getCounter };\r\n});\r\n","<template>\r\n  <v-btn @click=\"increase\">\r\n    {{ store.getCounter }}\r\n  </v-btn>\r\n</template>\r\n\r\n<script setup>\r\nimport { testStore } from \"@/stores/test\";\r\nimport { ref, computed } from \"vue\";\r\n\r\nconst store = testStore();\r\nconst increase = () => {\r\n  store.increase();\r\n}\r\n</script>","import script from \"./TestSelection.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TestSelection.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"dropdown\">\r\n    <div @click=\"toggleDropdown\" class=\"dropdown-toggle\" id=\"dropdownMenuButton\">\r\n      <template v-if=\"selected\">\r\n        <div class=\"color\" :style=\"{ 'background-color': selected?.color }\">\r\n        </div>\r\n        <span class=\"name\">{{ selected?.name }}</span>\r\n      </template>\r\n      <template v-else>\r\n        <div class=\"color-space\"></div>\r\n        <span>Select a Category</span>\r\n      </template>\r\n      <span class=\"arrow\">&#9660;</span>\r\n    </div>\r\n    <div v-show=\"show\" class=\"dropdown-menu\">\r\n      <div v-for=\"(option, index) in options\" :key=\"index\" class=\"dropdown-item\"\r\n        @click=\"handleItemClick(option)\">\r\n        <div class=\"color\" :style=\"{ 'background-color': option?.color }\"></div>\r\n        <span class=\"name\">{{ option?.name }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { ref, defineProps, computed } from 'vue';\r\nimport { usePlanStore } from '@/stores/plan';\r\nconst planStore = usePlanStore();\r\nconst category = computed(() => planStore.categories);\r\nconst show = ref(false);\r\n\r\nconst props = defineProps({\r\n  options: Array,\r\n  setCategory: Function,\r\n  selectedOption: String\r\n})\r\n\r\nconst selected = ref(computed(() => category.value.find(item => item.name === props.selectedOption)));\r\n\r\nconst toggleDropdown = () => {\r\n  show.value = !show.value;\r\n}\r\n\r\nconst handleItemClick = (option) => {\r\n  selected.value = option;\r\n  show.value = false;\r\n  props.setCategory(option.name);\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.dropdown {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 100%;\r\n}\r\n\r\n.dropdown-toggle {\r\n  padding: 10px 20px;\r\n  border: 1px solid #ccc;\r\n  background-color: #fff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  min-width: 200px;\r\n  cursor: pointer;\r\n  user-select: none;\r\n}\r\n\r\n.dropdown-menu {\r\n  display: block;\r\n  position: absolute;\r\n  background-color: #fff;\r\n  border: 1px solid #ccc;\r\n  min-width: 200px;\r\n  width: 100%;\r\n  z-index: 10000;\r\n  background-color: #fff;\r\n  border: 1px solid #ccc;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);\r\n  border-radius: 5px;\r\n}\r\n\r\n.dropdown-item {\r\n  padding: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.dropdown-item:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.arrow {\r\n  margin-left: 5px;\r\n}\r\n\r\n.color {\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  margin: 0 10px;\r\n}\r\n\r\n.color-space {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n</style>","import script from \"./DropDown.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DropDown.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DropDown.vue?vue&type=style&index=0&id=640adf0a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <CategoryManage />\r\n    <v-container>\r\n      <v-row style=\"display: flex; justify-content: center; align-items: center\">\r\n        <v-col cols=\"12\" sm=\"12\">\r\n          <DropDown :options=\"category\" :setCategory=\"setCategory\"\r\n            :selectedOption=\"selectedCategory\" />\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.v-col-sm-6 {\r\n  padding: 5px;\r\n}\r\n</style>\r\n\r\n<script setup>\r\nimport { defineProps, computed, ref, withDirectives } from 'vue';\r\nimport { usePlanStore } from '@/stores/plan';\r\nimport CategoryManage from './CategoryManage.vue';\r\nimport DropDown from './DropDown.vue';\r\n\r\nconst planStore = usePlanStore();\r\nconst category = computed(() => planStore.categories);\r\n\r\nconst props = defineProps({\r\n  setCategory: Function,\r\n  selectedCategory: String\r\n})\r\n\r\n</script>\r\n","import script from \"./CategoryComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CategoryComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CategoryComponent.vue?vue&type=style&index=0&id=4e730394&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"dropdown\">\r\n    <div @click=\"toggleDropdown\" class=\"dropdown-toggle\" id=\"dropdownMenuButton\">\r\n      <template v-if=\"selected.length\">\r\n        <div class=\"color-space\"></div>\r\n        <span class=\"name\">{{ selected }}</span>\r\n      </template>\r\n      <template v-else>\r\n        <div class=\"color-space\"></div>\r\n        <span>Select a Section</span>\r\n      </template>\r\n      <span class=\"arrow\">&#9660;</span>\r\n    </div>\r\n    <div v-show=\"show\" class=\"dropdown-menu\">\r\n      <div v-for=\"(option, index) in options\" :key=\"index\" class=\"dropdown-item\"\r\n        @click=\"handleItemClick(option)\">\r\n        <div class=\"color-space\"></div>\r\n        <span class=\"name\">{{ option.label }}({{ option.abv }})</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport { ref, defineProps, computed } from 'vue';\r\nimport { usePlanStore } from '@/stores/plan';\r\nconst planStore = usePlanStore();\r\nconst category = computed(() => planStore.categories);\r\nconst show = ref(false);\r\n\r\nconst props = defineProps({\r\n  options: Array,\r\n  setSection: Function,\r\n  section: String\r\n})\r\n\r\nconst toggleDropdown = () => {\r\n  show.value = !show.value;\r\n}\r\n\r\nconst selected = ref(computed(() => props.section));\r\n\r\nconst handleItemClick = (option) => {\r\n  selected.value = `${option.label}(${option.abv})`;\r\n  show.value = false;\r\n  props.setSection(option.label, option.abv);\r\n}\r\n\r\n</script>\r\n","import script from \"./DropDownComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DropDownComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <SectionManage />\r\n    <!-- <SectionLabelModal :addTags=\"addTags\" /> -->\r\n    <v-container>\r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <DropDownComponent :options=\"options\" :setSection=\"setSection\"\r\n            :section=\"section\" />\r\n          <!-- <select class=\"v-custom-input\" :value=\"section\"\r\n            @change=\"selected_change\">\r\n            <option v-for=\"tag in tags\" :key=\"tag.id\" option-label=\"label\"\r\n              name=\"tag_name\" :value=\"tag.label\">\r\n              {{ tag.label }}({{ tag.abv }})\r\n            </option> -->\r\n          <!-- </select> -->\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps, ref, computed } from \"vue\"\r\nimport { useMainStore } from '@/stores';\r\nimport SectionManage from \"@/views/home/components/SectionManage.vue\";\r\nimport DropDownComponent from \"@/views/home/components/DropDownComponent\";\r\nconst mainStore = useMainStore();\r\n\r\nconst props = defineProps({\r\n  section: String,\r\n  setSection: Function\r\n})\r\n\r\nconst options = computed(() => mainStore.section_label);\r\nconst tags = computed(() => mainStore.section_label);\r\nconst selected_change = (e) => {\r\n  props.setSection(e.target.value);\r\n}\r\n</script>\r\n","import script from \"./SectionLabel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SectionLabel.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div style=\"padding: 15px 10px; text-align: left\">\r\n    <div\r\n      style=\"display: flex; justify-content: space-between; align-items: center\">\r\n      <h4>Tags</h4>\r\n    </div>\r\n    <v-container>\r\n      <v-row>\r\n        <v-col cols=\"12\">\r\n          <v-select v-model=\"tag\" :items=\"tagsOption\" label=\"Tags\" chips multiple>\r\n          </v-select>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineProps, watch, computed } from \"vue\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\nimport { onMounted } from \"vue\";\r\nconst planstore = usePlanStore();\r\n\r\nconst props = defineProps({\r\n  setTag: Function,\r\n  selectedTag: Array\r\n})\r\n\r\nconst tagsOption = ref([\r\n  \"Wheelchair\",\r\n  \"Wheelchair Companion\",\r\n  \"Partial View\",\r\n  \"Folding Chair\",\r\n  \"Standing Room Only\"\r\n]);\r\n\r\nconst tag = ref([]);\r\n\r\nonMounted(() => {\r\n  tag.value = props.selectedTag\r\n})\r\n\r\n// watch(() => props.selectedTag, (newValue, oldValue) => {\r\n//   tag.value = props.selectedTag;\r\n// })\r\n\r\nwatch(tag, (newValue, oldValue) => {\r\n  props.setTag(newValue);\r\n  // planstore.setTag(props.rows.map(i => i.uuid), newValue);\r\n})\r\n</script>","import script from \"./TagsPanel.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TagsPanel.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <v-navigation-drawer location=\"right\"\r\n    style=\"top: 51px; width: 300px; padding-bottom: 50px; bottom: 50px\">\r\n\r\n    <TestSelection />\r\n\r\n    <ValidationPanel v-if=\"bvalid\" />\r\n\r\n    <template v-if=\"!selection.length\">\r\n      <ChartGeneralOption />\r\n      <ChartCategoryOption />\r\n      <ChartSectionOption />\r\n      <ChartUploadBackgroundOption />\r\n    </template>\r\n\r\n    <RowTools v-if=\"isSelectedRowsOnly\" :rows=\"selectedRows()\"\r\n      :seats=\"selectedSeats()\" :temp_Rotate=\"temp_Rotate\" />\r\n\r\n    <SeatTools v-if=\"isSelectedSeatsOnly\" :seats=\"selectedSeats()\" />\r\n\r\n    <GATools v-if=\"isSelectedGAOnly\" :areas=\"selectedGA()\"\r\n      :temp_Rotate=\"temp_Rotate\" />\r\n\r\n    <TableTools v-if=\"isSelectedTablesOnly\" :areas=\"selectedTables()\"\r\n      :seats=\"selectedTableSeats()\" />\r\n\r\n    <TableSeatTools v-if=\"isSelectedTableSeatsOnly\"\r\n      :seats=\"selectedTableSeats()\" />\r\n\r\n    <AreaTools v-if=\"isSelectedShapesOnly\" :areas=\"selectedAreas()\"\r\n      :temp_Rotate=\"temp_Rotate\" />\r\n\r\n    <template v-if=\"selection.length\">\r\n      <CategoryComponent :set-category=\"setCategory\"\r\n        :selected-category=\"selectedCategory\" />\r\n      <v-divider></v-divider>\r\n      <SectionLabel :section=\"section\" :set-section=\"setSection\" />\r\n      <v-divider></v-divider>\r\n      <TagsPanel :set-tag=\"setTag\" :selected-tag=\"selectedTag\" />\r\n    </template>\r\n\r\n  </v-navigation-drawer>\r\n</template>\r\n\r\n<script setup>\r\nimport {\r\n  computed,\r\n  ref,\r\n  defineProps,\r\n  inject,\r\n  provide\r\n} from \"vue\"\r\nimport { groupValue } from \"@/lib/utils\";\r\n\r\nimport {\r\n  useMainStore\r\n} from \"@/stores\";\r\nimport {\r\n  usePlanStore\r\n} from \"@/stores/plan\";\r\n\r\nimport RowTools from \"./RowTools.vue\";\r\nimport SeatTools from \"./SeatTools.vue\";\r\nimport GATools from \"./GATools.vue\";\r\nimport TableTools from \"./TableTools.vue\";\r\nimport AreaTools from \"./AreaTools.vue\";\r\nimport TableSeatTools from \"./TableSeatTools.vue\";\r\nimport ValidationPanel from \"./Context/ValidationPanel.vue\";\r\n\r\nimport ChartCategoryOption from \"./Context/ChartCategoryOption.vue\";\r\nimport ChartGeneralOption from \"./Context/ChartGeneralOption.vue\";\r\nimport ChartSectionOption from \"./Context/ChartSectionOption.vue\";\r\nimport ChartUploadBackgroundOption from \"./Context/ChartUploadBackgroundOption.vue\";\r\n\r\nimport TestSelection from \"./TestSelection.vue\";\r\nimport CategoryComponent from \"@/views/home/components/CategoryComponent.vue\";\r\nimport SectionLabel from \"./Context/SectionLabel.vue\";\r\nimport TagsPanel from \"./Context/TagsPanel.vue\";\r\nimport { lab } from \"d3\";\r\n\r\n\r\nconst store = useMainStore();\r\nconst planstore = usePlanStore();\r\nconst selection = ref(computed(() => store.selection));\r\nconst plan = ref(computed(() => planstore.plan));\r\nconst bvalid = computed(() => useMainStore().bvalid);\r\nconst planRef = inject(\"planRef\");\r\nprovide(\"planRef\", planRef)\r\n\r\nconst props = defineProps({\r\n  temp_Rotate: Function,\r\n});\r\n\r\nconst isSelectedRowsOnly = computed(() => {\r\n  if (selectedRows().length && selection.value.length)\r\n    return selectedRows().length === selection.value.length;\r\n  return false;\r\n})\r\n\r\nconst isSelectedSeatsOnly = computed(() => {\r\n  if (selectedSeats().length && selection.value.length)\r\n    return selectedSeats().length === selection.value.length;\r\n  return false;\r\n})\r\n\r\nconst isSelectedTablesOnly = computed(() => {\r\n  if (selectedTables().length && selection.value.length)\r\n    return selectedTables().length === selection.value.length;\r\n  return false;\r\n})\r\n\r\nconst isSelectedTableSeatsOnly = computed(() => {\r\n  if (selectedTableSeats().length && selection.value.length)\r\n    return selectedTableSeats().length === selection.value.length;\r\n  return false;\r\n})\r\n\r\nconst isSelectedGAOnly = computed(() => {\r\n  if (selectedGA().length && selection.value.length)\r\n    return selectedGA().length === selection.value.length;\r\n  return false;\r\n})\r\n\r\nconst isSelectedShapesOnly = computed(() => {\r\n  if (selectedAreas().length && selection.value.length)\r\n    return selectedAreas().length === selection.value.length;\r\n  return false;\r\n})\r\n\r\nconst selectedRows = () => {\r\n  const res = []\r\n  if (selection.value.length) {\r\n    for (const z of plan.value.zones) {\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          res.push(r);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\nconst selectedSeats = () => {\r\n  const res = []\r\n  if (selection.value.length) {\r\n    for (const z of plan.value.zones) {\r\n      for (const r of z.rows) {\r\n        for (const s of r.seats) {\r\n          if (selection.value.includes(r.uuid) || selection.value.includes(s.uuid)) {\r\n            res.push(s)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\nconst selectedTableSeats = () => {\r\n  const r = [];\r\n  if (selection.value.length) {\r\n    for (const z of plan.value.zones) {\r\n      for (const a of z.areas) {\r\n        if (a.shape === \"roundTable\" || a.shape === \"rectangleTable\") {\r\n          for (const s of a.seats) {\r\n            if (selection.value.includes(a.uuid) || selection.value.includes(s.uuid))\r\n              r.push(s)\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return r;\r\n}\r\n\r\nconst selectedTables = () => {\r\n  const r = [];\r\n  if (selection.value.length) {\r\n    for (const z of plan.value.zones) {\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid) && (a.shape === \"roundTable\" || a.shape === \"rectangleTable\"))\r\n          r.push(a)\r\n      }\r\n    }\r\n  }\r\n  return r;\r\n}\r\n\r\nconst selectedGA = () => {\r\n  const r = [];\r\n  if (selection.value.length) {\r\n    for (const z of plan.value.zones) {\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid) && (a.shape === \"gaCircle\" || a.shape === \"gaSquare\" || a.shape === \"gaPolygon\"))\r\n          r.push(a)\r\n      }\r\n    }\r\n  }\r\n  return r;\r\n}\r\n\r\nconst selectedAreas = () => {\r\n  const r = []\r\n  if (selection.value.length) {\r\n    for (const z of plan.value.zones) {\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid) && (a.shape === \"text\" || a.shape === \"rectangle\" || a.shape === \"ellipse\" || a.shape === \"circle\" || a.shape === \"polygon\"))\r\n          r.push(a)\r\n      }\r\n    }\r\n  }\r\n  return r;\r\n}\r\n\r\nconst setCategory = (name) => {\r\n  if (selectedSeats().length)\r\n    planstore.modifySeats({ seatIds: selectedSeats().map(s => s.uuid), category: name })\r\n  if (selectedGA().length)\r\n    planstore.modifyAreas({ areaIds: selectedGA().map(a => a.uuid), category: name })\r\n  if (selectedTables().length)\r\n    planstore.setTableCategory(selectedTables(), name);\r\n  if (selectedTableSeats().length)\r\n    planstore.setTableSeatCategory(selectedTableSeats(), name);\r\n}\r\n\r\nconst selectedCategory = computed(() => {\r\n  const cats = [\r\n    ...selectedSeats().map(seat => seat.category),\r\n    ...selectedTableSeats().map(seat => seat.category),\r\n    ...selectedGA().map(area => area.category)\r\n  ]\r\n  return groupValue(cats, c => c);\r\n})\r\n\r\nconst section = computed(() => {\r\n  const section_labels = [\r\n    ...selectedSeats().map(seat => seat.section_label),\r\n    ...selectedTableSeats().map(seat => seat.section_label),\r\n    ...selectedGA().map(area => area.section_label),\r\n  ]\r\n\r\n  const section_abvs = [\r\n    ...selectedSeats().map(seat => seat.section_abv),\r\n    ...selectedTableSeats().map(seat => seat.section_abv),\r\n    ...selectedGA().map(area => area.section_abv),\r\n  ]\r\n\r\n  const label = groupValue(section_labels, label => label);\r\n  const abv = groupValue(section_abvs, abv => abv);\r\n\r\n  if (label && abv) return `${label}(${abv})`;\r\n  return '';\r\n})\r\n\r\nconst setSection = (label, abv) => {\r\n  if (selectedRows().length)\r\n    planstore.addSectionLabel(selectedRows().map(i => i.uuid), label, abv);\r\n  if (selectedSeats().length)\r\n    planstore.addSectionLabel(selectedSeats().map(i => i.uuid), label, abv);\r\n  if (selectedGA().length)\r\n    planstore.addGASectionLabel(selectedGA().map(i => i.uuid), label, abv);\r\n  if (selectedTables().length)\r\n    planstore.addTableSectionLabel(selectedTables().map(i => i.uuid), label, abv);\r\n  if (selectedTableSeats().length)\r\n    planstore.addTableSectionLabel(selectedTableSeats().map(i => i.uuid), label, abv);\r\n}\r\n\r\nconst selectedTag = computed(() => {\r\n  const tgs = [\r\n    ...selectedSeats().map(seat => seat.tag_name),\r\n    ...selectedGA().map(area => area.tag_name),\r\n    ...selectedTableSeats().map(seat => seat.tag_name),\r\n  ]\r\n  return groupValue(tgs, tg => tg);\r\n})\r\n\r\nconst setTag = (tag) => {\r\n  if (selectedSeats().length)\r\n    planstore.setTag(selectedSeats().map(seat => seat.uuid), tag);\r\n  if (selectedGA().length)\r\n    planstore.setTag(selectedGA().map(area => area.uuid), tag);\r\n  if (selectedTableSeats().length)\r\n    planstore.setTag(selectedTableSeats().map(seat => seat.uuid), tag);\r\n}\r\n\r\n</script>","import script from \"./RightNav.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RightNav.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <g>\r\n      <path\r\n        d=\"M10,7.1c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9S11.6,7.1,10,7.1z M10,11.9c-1,0-1.9-0.8-1.9-1.9\r\n\t\tS9,8.1,10,8.1S11.9,9,11.9,10S11,11.9,10,11.9z\"\r\n      />\r\n      <path\r\n        d=\"M17.1,7.1c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,7.1,17.1,7.1z M15.2,10c0-1,0.8-1.9,1.9-1.9\r\n\t\tc1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C16.1,11.9,15.2,11,15.2,10z\"\r\n      />\r\n      <path\r\n        d=\"M2.9,7.1C1.3,7.1,0,8.4,0,10s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S4.5,7.1,2.9,7.1z M2.9,11.9C1.8,11.9,1,11,1,10\r\n\t\ts0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S3.9,11.9,2.9,11.9z\"\r\n      />\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./RowSingleIcon.vue?vue&type=template&id=e36e624c\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <g>\r\n      <path\r\n        d=\"M10,6.9c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9S11.6,6.9,10,6.9z M10,11.7c-1,0-1.9-0.8-1.9-1.9\r\n\t\tS9,7.9,10,7.9s1.9,0.8,1.9,1.9S11,11.7,10,11.7z\"\r\n      />\r\n      <path\r\n        d=\"M17.1,6.9c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,6.9,17.1,6.9z M15.2,9.8\r\n\t\tc0-1,0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C16.1,11.7,15.2,10.9,15.2,9.8z\"\r\n      />\r\n      <path\r\n        d=\"M2.9,6.9C1.3,6.9,0,8.2,0,9.8s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S4.5,6.9,2.9,6.9z M2.9,11.7c-1,0-1.9-0.8-1.9-1.9\r\n\t\ts0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S3.9,11.7,2.9,11.7z\"\r\n      />\r\n    </g>\r\n    <g>\r\n      <path\r\n        d=\"M10,0C8.4,0,7.1,1.3,7.1,2.9S8.4,5.8,10,5.8s2.9-1.3,2.9-2.9S11.6,0,10,0z M10,4.8c-1,0-1.9-0.8-1.9-1.9S9,1,10,1\r\n\t\ts1.9,0.8,1.9,1.9S11,4.8,10,4.8z\"\r\n      />\r\n      <path\r\n        d=\"M17.1,0c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,0,17.1,0z M15.2,2.9c0-1,0.8-1.9,1.9-1.9\r\n\t\tc1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C16.1,4.8,15.2,3.9,15.2,2.9z\"\r\n      />\r\n      <path\r\n        d=\"M2.9,0C1.3,0,0,1.3,0,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S4.5,0,2.9,0z M2.9,4.8C1.8,4.8,1,3.9,1,2.9S1.8,1,2.9,1\r\n\t\tc1,0,1.9,0.8,1.9,1.9S3.9,4.8,2.9,4.8z\"\r\n      />\r\n    </g>\r\n    <g>\r\n      <path\r\n        d=\"M10,14.2c-1.6,0-2.9,1.3-2.9,2.9S8.4,20,10,20s2.9-1.3,2.9-2.9S11.6,14.2,10,14.2z M10,19c-1,0-1.9-0.8-1.9-1.9\r\n\t\tS9,15.2,10,15.2s1.9,0.8,1.9,1.9S11,19,10,19z\"\r\n      />\r\n      <path\r\n        d=\"M17.1,14.2c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,14.2,17.1,14.2z M15.2,17.1\r\n\t\tc0-1,0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S18.2,19,17.1,19C16.1,19,15.2,18.2,15.2,17.1z\"\r\n      />\r\n      <path\r\n        d=\"M2.9,14.2c-1.6,0-2.9,1.3-2.9,2.9S1.3,20,2.9,20c1.6,0,2.9-1.3,2.9-2.9S4.5,14.2,2.9,14.2z M2.9,19c-1,0-1.9-0.8-1.9-1.9\r\n\t\ts0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S3.9,19,2.9,19z\"\r\n      />\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./RowMultiIcon.vue?vue&type=template&id=e756eac0\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <g>\r\n      <path\r\n        d=\"M6.4,7.1c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9S8,7.1,6.4,7.1z M6.4,11.9c-1,0-1.9-0.8-1.9-1.9\r\n\t\ts0.8-1.9,1.9-1.9S8.3,9,8.3,10S7.5,11.9,6.4,11.9z\"\r\n      />\r\n      <path\r\n        d=\"M13.6,7.1c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S15.2,7.1,13.6,7.1z M11.7,10c0-1,0.8-1.9,1.9-1.9\r\n\t\tc1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C12.5,11.9,11.7,11,11.7,10z\"\r\n      />\r\n    </g>\r\n    <g>\r\n      <path\r\n        d=\"M10,0C8.4,0,7.1,1.3,7.1,2.9S8.4,5.8,10,5.8s2.9-1.3,2.9-2.9S11.6,0,10,0z M10,4.8c-1,0-1.9-0.8-1.9-1.9S9,1,10,1\r\n\t\ts1.9,0.8,1.9,1.9S11,4.8,10,4.8z\"\r\n      />\r\n      <path\r\n        d=\"M17.1,0c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,0,17.1,0z M15.2,2.9c0-1,0.8-1.9,1.9-1.9\r\n\t\tc1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C16.1,4.8,15.2,3.9,15.2,2.9z\"\r\n      />\r\n      <path\r\n        d=\"M2.9,0C1.3,0,0,1.3,0,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S4.5,0,2.9,0z M2.9,4.8C1.8,4.8,1,3.9,1,2.9S1.8,1,2.9,1\r\n\t\tc1,0,1.9,0.8,1.9,1.9S3.9,4.8,2.9,4.8z\"\r\n      />\r\n    </g>\r\n    <g>\r\n      <path\r\n        d=\"M10,14.2c-1.6,0-2.9,1.3-2.9,2.9S8.4,20,10,20s2.9-1.3,2.9-2.9S11.6,14.2,10,14.2z M10,19c-1,0-1.9-0.8-1.9-1.9\r\n\t\tS9,15.2,10,15.2s1.9,0.8,1.9,1.9S11,19,10,19z\"\r\n      />\r\n      <path\r\n        d=\"M17.1,14.2c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,14.2,17.1,14.2z M15.2,17.1\r\n\t\tc0-1,0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S18.2,19,17.1,19C16.1,19,15.2,18.2,15.2,17.1z\"\r\n      />\r\n      <path\r\n        d=\"M2.9,14.2c-1.6,0-2.9,1.3-2.9,2.9S1.3,20,2.9,20c1.6,0,2.9-1.3,2.9-2.9S4.5,14.2,2.9,14.2z M2.9,19c-1,0-1.9-0.8-1.9-1.9\r\n\t\ts0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S3.9,19,2.9,19z\"\r\n      />\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./RowStaggedIcon.vue?vue&type=template&id=c8178bb6\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\" xml:space=\"preserve\">\r\n    <g>\r\n      <path d=\"M0,0v20h20V0H0z M19,19H1V1h18V19z\" />\r\n      <path\r\n        d=\"M6.2,13.6c1.2,0,2.2-0.5,2.9-1.1v-3h-3v1.1h1.8V12c-0.4,0.3-1,0.5-1.7,0.5c-1.4,0-2.4-1.1-2.4-2.5v0c0-1.3,1-2.5,2.3-2.5\r\n\t\tc0.9,0,1.4,0.3,2,0.8l0.8-0.9c-0.7-0.6-1.5-1-2.7-1C4.1,6.4,2.5,8,2.5,10v0C2.5,12.1,4,13.6,6.2,13.6z\" />\r\n      <path\r\n        d=\"M12.1,11.8h3.3l0.7,1.7h1.3l-3.1-7.1h-1.1l-3.1,7.1h1.3L12.1,11.8z M13.8,7.9l1.2,2.8h-2.4L13.8,7.9z\" />\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./GaSquareIcon.vue?vue&type=template&id=3c4184f0\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\" xml:space=\"preserve\">\r\n    <g>\r\n      <path d=\"M17.5,7.5c-0.6,0-1.1,0.2-1.6,0.6l0,0l0,0c0.2,0.6,0.3,1.2,0.3,1.8c0,0.6-0.1,1.2-0.3,1.8l0,0l0,0c0.4,0.4,1,0.6,1.6,0.6\r\n\t\tc1.4,0,2.5-1.1,2.5-2.5C20,8.6,18.9,7.5,17.5,7.5z\" />\r\n      <path d=\"M4.1,11.9L4.1,11.9c-0.2-0.6-0.4-1.2-0.4-1.9c0-0.6,0.1-1.2,0.3-1.8l0,0l0,0c-0.4-0.4-1-0.6-1.6-0.6C1.1,7.5,0,8.6,0,10\r\n\t\tc0,1.4,1.1,2.5,2.5,2.5C3.1,12.5,3.6,12.3,4.1,11.9L4.1,11.9z\" />\r\n      <path d=\"M5.4,5.8L5.4,5.8L5.4,5.8c0.5-0.5,0.9-0.9,1.5-1.2C7.4,4.3,8,4.1,8.6,4l0,0l0,0c0.1-0.6,0-1.2-0.3-1.7\r\n\t\tC7.7,1.1,6.2,0.7,5,1.3C3.8,2,3.4,3.5,4.1,4.7C4.4,5.2,4.9,5.6,5.4,5.8z\" />\r\n      <path\r\n        d=\"M14.6,14.2L14.6,14.2L14.6,14.2c-0.5,0.5-0.9,0.9-1.5,1.2c-0.5,0.3-1.1,0.5-1.7,0.6l0,0l0,0c-0.1,0.6,0,1.2,0.3,1.7\r\n\t\tc0.7,1.2,2.2,1.6,3.4,0.9c1.2-0.7,1.6-2.2,0.9-3.4C15.6,14.8,15.1,14.4,14.6,14.2z\" />\r\n      <path d=\"M8.7,16L8.7,16c-0.7-0.1-1.3-0.3-1.8-0.6c-0.5-0.3-1-0.7-1.4-1.2l0,0l0,0c-0.5,0.2-1,0.6-1.3,1.1C3.4,16.5,3.8,18,5,18.7\r\n\t\tc1.2,0.7,2.7,0.3,3.4-0.9C8.7,17.2,8.8,16.6,8.7,16L8.7,16z\" />\r\n      <path d=\"M11.3,4L11.3,4c0.7,0.1,1.3,0.3,1.8,0.6c0.5,0.3,1,0.7,1.4,1.2l0,0l0,0c0.5-0.2,1-0.6,1.3-1.1C16.6,3.5,16.2,2,15,1.3\r\n\t\tc-1.2-0.7-2.7-0.3-3.4,0.9C11.3,2.8,11.2,3.4,11.3,4L11.3,4z\" />\r\n      <path d=\"M14.8,10c0-2.7-2.2-4.9-4.8-4.9S5.2,7.3,5.2,10s2.2,4.8,4.8,4.8S14.8,12.7,14.8,10z M10,14.1c-2.3,0-4.1-1.8-4.1-4.1\r\n\t\tS7.7,5.9,10,5.9s4.1,1.8,4.1,4.1S12.3,14.1,10,14.1z\" />\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./TableRoundIcon.vue?vue&type=template&id=624aff42\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <g>\r\n      <path\r\n        d=\"M10,16.3c-0.6,0-1.2-0.1-1.8-0.3c-0.4,0.4-0.6,1-0.6,1.6c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5\r\n\t\tc-0.1-0.7-0.3-1.2-0.7-1.7C11.3,16.1,10.7,16.3,10,16.3z\"\r\n      />\r\n      <path\r\n        d=\"M10,3.8c0.6,0,1.2,0.1,1.8,0.3c0.4-0.4,0.6-1,0.6-1.6C12.5,1.1,11.4,0,10,0S7.5,1.1,7.5,2.5c0,0.6,0.2,1.1,0.6,1.6\r\n\t\tC8.8,3.9,9.4,3.8,10,3.8z\"\r\n      />\r\n      <path\r\n        d=\"M3.2,16.2c-0.6,0-1.2-0.1-1.8-0.3c-0.4,0.4-0.6,1-0.6,1.6c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5\r\n\t\tc-0.1-0.6-0.3-1.2-0.7-1.7C4.5,16,3.9,16.2,3.2,16.2z\"\r\n      />\r\n      <path\r\n        d=\"M3.2,3.7C3.8,3.7,4.4,3.8,5,4c0.4-0.4,0.6-1,0.6-1.6C5.7,1.1,4.6,0,3.2,0C1.9,0,0.8,1.1,0.8,2.5C0.8,3,1,3.6,1.4,4.1\r\n\t\tC2,3.8,2.6,3.7,3.2,3.7z\"\r\n      />\r\n      <path\r\n        d=\"M16.7,16.2c-0.6,0-1.2-0.1-1.8-0.3c-0.4,0.4-0.6,1-0.6,1.6c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5\r\n\t\tc-0.1-0.6-0.3-1.2-0.7-1.7C18,16,17.4,16.2,16.7,16.2z\"\r\n      />\r\n      <path\r\n        d=\"M16.8,3.7c0.6,0,1.2,0.1,1.8,0.3c0.4-0.4,0.6-1,0.6-1.6c0-1.4-1.1-2.5-2.5-2.5c-1.4,0-2.5,1.1-2.5,2.5\r\n\t\tc0.1,0.6,0.3,1.2,0.7,1.7C15.5,3.9,16.1,3.7,16.8,3.7z\"\r\n      />\r\n      <path\r\n        d=\"M19.2,5.1H0.8C0.4,5.1,0,5.5,0,5.9v8.2c0,0.5,0.4,0.8,0.8,0.8h18.4c0.5,0,0.8-0.4,0.8-0.8V5.9C20,5.5,19.6,5.1,19.2,5.1z M19.2,14.1C19.2,14.1,19.2,14.2,19.2,14.1L0.8,14.2c0,0-0.1,0-0.1-0.1V5.9c0,0,0-0.1,0.1-0.1h18.4c0,0,0.1,0,0.1,0.1V14.1z\"\r\n      />\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./TableRectIcon.vue?vue&type=template&id=081b6a6c\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <g>\r\n      <path\r\n        d=\"M10,0.8c5.1,0,9.2,4.1,9.2,9.2s-4.1,9.2-9.2,9.2S0.8,15.1,0.8,10S4.9,0.8,10,0.8 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10\r\n\t\ts10-4.5,10-10S15.5,0,10,0L10,0z\"\r\n      />\r\n    </g>\r\n    <path\r\n      d=\"M6.2,13.6c1.2,0,2.2-0.5,2.9-1.1v-3h-3v1.1h1.8V12c-0.4,0.3-1,0.5-1.7,0.5c-1.4,0-2.4-1.1-2.4-2.5v0c0-1.3,1-2.5,2.3-2.5\r\n\tc0.9,0,1.4,0.3,2,0.8l0.8-0.9c-0.7-0.6-1.5-1-2.7-1C4.1,6.4,2.5,8,2.5,10v0C2.5,12.1,4,13.6,6.2,13.6z\"\r\n    />\r\n    <path\r\n      d=\"M12.1,11.8h3.3l0.7,1.7h1.3l-3.1-7.1h-1.1l-3.1,7.1h1.3L12.1,11.8z M13.8,7.9l1.2,2.8h-2.4L13.8,7.9z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./GaCircleIcon.vue?vue&type=template&id=7b0cb74e\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 32 28\"\r\n    style=\"enable-background:new 0 0 32 28;\" xml:space=\"preserve\">\r\n    <g>\r\n      <path class=\"st0\" d=\"M10.8,18.6c1.7,0,3-0.7,4-1.5v-4.2h-4.2v1.5h2.5v2c-0.6,0.4-1.4,0.7-2.4,0.7c-1.9,0-3.3-1.5-3.3-3.5l0,0\r\n\t\tc0-1.8,1.4-3.5,3.2-3.5c1.2,0,1.9,0.4,2.8,1.1l1.1-1.3c-1-0.8-2.1-1.4-3.7-1.4c-2.9,0-5.1,2.2-5.1,5l0,0\r\n\t\tC5.7,16.5,7.8,18.6,10.8,18.6z\" />\r\n      <path class=\"st0\"\r\n        d=\"M19,16.1h4.6l1,2.4h1.8L22,8.6h-1.5l-4.3,9.9H18L19,16.1z M21.3,10.7l1.7,3.9h-3.3L21.3,10.7z\" />\r\n    </g>\r\n    <path class=\"st0\"\r\n      d=\"M23.2,1.4L30.4,14l-7.2,12.6H8.8L1.6,14L8.8,1.4H23.2 M24,0H8L0,14l8,14h16l8-14L24,0L24,0z\" />\r\n  </svg>\r\n</template>","import { render } from \"./GaPolyIcon.vue?vue&type=template&id=dcad3d74\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\" xml:space=\"preserve\">\r\n    <g>\r\n      <circle cx=\"10\" cy=\"10\" r=\"9\" fill=\"none\" stroke=\"#000\" stroke-width=\"1\">\r\n      </circle>\r\n      <circle cx=\"10\" cy=\"10\" r=\"5\" fill=\"none\" stroke=\"#000\" stroke-width=\"1\">\r\n      </circle>\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./FocusPointIcon.vue?vue&type=template&id=6d9024dd\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-list v-if=\"props.opened\" id=\"seat-tools\">\r\n    <v-list-item @click=\"changeTool('row')\"\r\n      :class=\"tool == 'row' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">One Row</v-tooltip>\r\n        <RowSingleIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-list-item @click=\"changeTool('rows')\"\r\n      :class=\"tool == 'rows' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Multi Rows</v-tooltip>\r\n        <RowMultiIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"changeTool('stgrows')\"\r\n      :class=\"tool == 'stgrows' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Multi Staggered\r\n          Rows</v-tooltip>\r\n        <RowStaggedIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"changeTool('gaSquare')\"\r\n      :class=\"tool == 'gaSquare' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">GA Square</v-tooltip>\r\n        <GaSquareIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"changeTool('gaCircle')\"\r\n      :class=\"tool == 'gaCircle' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">GA Circle</v-tooltip>\r\n        <GaCircleIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"changeTool('gaPolygon')\"\r\n      :class=\"tool == 'gaPolygon' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">GA Polygon</v-tooltip>\r\n        <GaPolyIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"changeTool('roundTable')\"\r\n      :class=\"tool == 'roundTable' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Round Table</v-tooltip>\r\n        <TableRoundIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"changeTool('rectangleTable')\"\r\n      :class=\"tool == 'rectangleTable' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Rectangle Table</v-tooltip>\r\n        <TableRectIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"changeTool('focusPoint')\"\r\n      :class=\"tool == 'focusPoint' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Focus point</v-tooltip>\r\n        <FocusPointIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n  </v-list>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps, computed, ref } from \"vue\";\r\n\r\nimport RowSingleIcon from \"@/assets/svgs/menuIcons/RowSingleIcon.vue\";\r\nimport RowMultiIcon from \"@/assets/svgs/menuIcons/RowMultiIcon.vue\";\r\nimport RowStaggedIcon from \"@/assets/svgs/menuIcons/RowStaggedIcon.vue\";\r\nimport GaSquareIcon from \"@/assets/svgs/menuIcons/GaSquareIcon.vue\";\r\nimport TableRoundIcon from \"@/assets/svgs/menuIcons/TableRoundIcon.vue\";\r\nimport TableRectIcon from \"@/assets/svgs/menuIcons/TableRectIcon.vue\";\r\nimport GaCircleIcon from \"@/assets/svgs/menuIcons/GaCircleIcon.vue\";\r\nimport GaPolyIcon from \"@/assets/svgs/menuIcons/GaPolyIcon.vue\";\r\nimport FocusPointIcon from \"@/assets/svgs/menuIcons/FocusPointIcon.vue\";\r\n\r\nimport { useMainStore } from \"@/stores\";\r\nconst store = useMainStore();\r\nconst onClick = () => alert(\"Not set yet\");\r\n\r\nconst props = defineProps({\r\n  opened: Boolean,\r\n});\r\n\r\nconst tool = ref(computed(() => store.tool));\r\n\r\nconst changeTool = (tool) => store.changeTool(tool);\r\n</script>\r\n\r\n<style>\r\n.arrow-menu {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n#seat-tools {\r\n  position: absolute;\r\n  width: 60px;\r\n  left: 70px;\r\n  top: 60px;\r\n  /* background-color: #f3f3f3; */\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 5px -3px var(--v-shadow-key-umbra-opacity, rgba(0, 0, 0, 0.2)),\r\n    0px 8px 10px 1px var(--v-shadow-key-penumbra-opacity, rgba(0, 0, 0, 0.14)),\r\n    0px 3px 14px 2px var(--v-shadow-key-ambient-opacity, rgba(0, 0, 0, 0.12));\r\n  transition: all 1s;\r\n  z-index: 99;\r\n}\r\n\r\n.current-tool {\r\n  background-color: #c5cede;\r\n}\r\n</style>\r\n","import script from \"./AddChairTools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddChairTools.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddChairTools.vue?vue&type=style&index=0&id=1ebb6d05&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 20 20\"\r\n    style=\"enable-background:new 0 0 20 20;\" xml:space=\"preserve\">\r\n    <g>\r\n      <path d=\"M15.9,2.4h-2.2H6.2c-0.1,0-0.2,0-0.3,0H4.1C3.3,2.3,2.7,3,2.7,3.8v0.7v0.4v0.3v0.4v1.5c0,0.8,0.6,1.4,1.4,1.4h2.2h7.5h2.2\r\n\t\tc0.8,0,1.4-0.6,1.4-1.4V5.7V5.2V4.9V4.5V3.8C17.3,3,16.7,2.4,15.9,2.4z M11.1,5.7h-0.9v0.9H9.8V5.7H8.9V5.3h0.9V4.3h0.4v0.9h0.9\r\n\t\tV5.7z\" />\r\n      <g>\r\n        <path d=\"M14.1,10.3c-2,0-3.6,1.6-3.6,3.6c0,2,1.6,3.6,3.6,3.6s3.6-1.6,3.6-3.6C17.8,11.9,16.1,10.3,14.1,10.3z M15.3,14.2h-0.9\r\n\t\t\tv0.9h-0.4v-0.9H13v-0.4h0.9v-0.9h0.4v0.9h0.9V14.2z\" />\r\n        <path\r\n          d=\"M6.1,10.1l-3.9,2.3l0.9,4.4l4.5,0.5l1.8-4.1L6.1,10.1z M6.9,14.2H6v0.9H5.5v-0.9H4.6v-0.4h0.9v-0.9H6v0.9h0.9V14.2z\" />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n</template>","import { render } from \"./InsertIcon.vue?vue&type=template&id=67c3de3c\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-list v-if=\"props.opened\" id=\"item-tools\">\r\n    <v-list-item @click=\"changeTool('text')\"\r\n      :class=\"tool == 'text' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Text</v-tooltip>\r\n        <v-icon color=\"black\" icon=\"mdi-pen-plus\" size=\"large\"></v-icon>\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-list-item @click=\"changeTool('rectangle')\"\r\n      :class=\"tool == 'rectangle' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Rectangle</v-tooltip>\r\n        <v-icon color=\"black\" icon=\"mdi-shape-rectangle-plus\"\r\n          size=\"large\"></v-icon>\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-list-item @click=\"changeTool('circle')\"\r\n      :class=\"tool == 'circle' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Circle</v-tooltip>\r\n\r\n        <v-icon color=\"black\" icon=\"mdi-shape-circle-plus\" size=\"large\"></v-icon>\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-list-item @click=\"changeTool('ellipse')\"\r\n      :class=\"tool == 'ellipse' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Ellipse</v-tooltip>\r\n\r\n        <v-icon color=\"black\" icon=\"mdi-shape-oval-plus\" size=\"large\"></v-icon>\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-list-item @click=\"changeTool('polygon')\"\r\n      :class=\"tool == 'polygon' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Polygon</v-tooltip>\r\n\r\n        <v-icon color=\"black\" icon=\"mdi-shape-polygon-plus\" size=\"large\"></v-icon>\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-list-item @click=\"changeTool('icon'); dialog = true;\"\r\n      :class=\"tool == 'icon' ? 'current-tool' : ''\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Insert Icon</v-tooltip>\r\n        <insert-icon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-dialog v-model=\"dialog\" max-width=\"800px\">\r\n      <v-card>\r\n        <v-card-title class=\"headline\">Icon Gallery</v-card-title>\r\n        <v-card-text>\r\n          <v-container>\r\n            <v-row>\r\n              <v-col v-for=\"(icon, index) in icons\" :key=\"index\" cols=\"12\" sm=\"4\">\r\n                <v-card class=\"mx-auto\" max-width=\"250\" @click=\"onClick(index)\">\r\n                  <v-img :src=\"icon.src\" class=\"white--text\"\r\n                    height=\"150px\"></v-img>\r\n                  <v-card-title class=\"text-center\">{{ icon.name\r\n                  }}</v-card-title>\r\n                </v-card>\r\n              </v-col>\r\n            </v-row>\r\n          </v-container>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-list>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps, ref, computed, onMounted } from \"vue\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport InsertIcon from \"@/assets/svgs/menuIcons/InsertIcon.vue\";\r\n\r\nconst props = defineProps({\r\n  // addRectangle: Function,\r\n  // addEllipse: Function,\r\n  // addTextField: Function,\r\n  // onImportClick: Function,\r\n  opened: Boolean,\r\n});\r\n// const onAddRectangle = () => props.addRectangle();\r\n// const onAddEllipse = () => props.addEllipse();\r\n// const onAddTextField = () => props.addTextField();\r\n\r\nconst store = useMainStore();\r\nconst tool = ref(computed(() => store.tool));\r\n\r\nconst dialog = ref(false);\r\nconst icons = ref([]);\r\n\r\nconst loadIcons = () => {\r\n  // Replace this with actual logic to load image URLs and names\r\n  // const requireContext = require.context('assets/icons', false, /\\.svg$/);\r\n  // icons.value = requireContext.keys().map((fileName) => {\r\n  //   const name = fileName.replace('./', '').replace('.svg', '').replace(/_/g, ' ');\r\n  //   return {\r\n  //     src: requireContext(fileName),\r\n  //     name: name,\r\n  //   };\r\n  // });\r\n  const iconNames = ['icon_one', 'icon_two', 'icon_three', 'icon_four', 'icon_five', 'icon_six', 'icon_seven', 'icon_eight', 'icon_nine']; // Add more as needed\r\n  icons.value = iconNames.map((name) => {\r\n    return {\r\n      src: `assets/svgs/icons/${name}.svg`, // Adjust the path as needed\r\n      name: name.replace(/_/g, ' '),\r\n    };\r\n  });\r\n};\r\n\r\nconst changeTool = (tool) => store.changeTool(tool);\r\n\r\nconst onClick = idx => {\r\n  dialog.value = false;\r\n}\r\n\r\nonMounted(() => {\r\n  loadIcons();\r\n})\r\n</script>\r\n<style>\r\n#item-tools {\r\n  position: absolute;\r\n  width: 60px;\r\n  left: 70px;\r\n  top: 115px;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 5px -3px var(--v-shadow-key-umbra-opacity, rgba(0, 0, 0, 0.2)),\r\n    0px 8px 10px 1px var(--v-shadow-key-penumbra-opacity, rgba(0, 0, 0, 0.14)),\r\n    0px 3px 14px 2px var(--v-shadow-key-ambient-opacity, rgba(0, 0, 0, 0.12));\r\n  transition: all 1s;\r\n  z-index: 99;\r\n}\r\n\r\n.icon-button {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  text-align: center;\r\n  padding: 0;\r\n}\r\n</style>\r\n","import script from \"./AddItemsTools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddItemsTools.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddItemsTools.vue?vue&type=style&index=0&id=288dcb90&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    width=\"792px\"\r\n    height=\"612px\"\r\n    viewBox=\"0 0 792 612\"\r\n    enable-background=\"new 0 0 792 612\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M606.375,76.5H405.562V9.562C405.562,4.282,401.26,0,396,0c-5.259,0-9.562,4.282-9.562,9.562V76.5H185.625\r\n\tc-31.688,0-57.375,25.688-57.375,57.375v76.5c0,31.676,25.688,57.375,57.375,57.375h200.812v76.5H262.125\r\n\tc-31.688,0-57.375,25.699-57.375,57.375v76.5c0,31.676,25.688,57.375,57.375,57.375h124.312v66.938c0,5.26,4.303,9.562,9.562,9.562\r\n\tc5.26,0,9.562-4.281,9.562-9.562V535.5h124.312c31.688,0,57.375-25.688,57.375-57.375v-76.5c0-31.676-25.699-57.375-57.375-57.375\r\n\tH405.562v-76.5h200.812c31.676,0,57.375-25.699,57.375-57.375v-76.5C663.75,102.188,638.051,76.5,606.375,76.5z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./ObjAlignCenterHorizentalIcon.vue?vue&type=template&id=18a25d01\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    width=\"792px\"\r\n    height=\"612px\"\r\n    viewBox=\"0 0 792 612\"\r\n    enable-background=\"new 0 0 792 612\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M692.438,296.438H625.5V172.125c0-31.676-25.699-57.375-57.375-57.375h-76.5c-31.676,0-57.375,25.699-57.375,57.375v124.312\r\n\th-76.5V95.625c0-31.688-25.699-57.375-57.375-57.375h-76.5c-31.688,0-57.375,25.688-57.375,57.375v200.812H99.562\r\n\tc-5.281,0-9.562,4.303-9.562,9.562c0,5.26,4.282,9.562,9.562,9.562H166.5v200.812c0,31.676,25.688,57.375,57.375,57.375h76.5\r\n\tc31.676,0,57.375-25.699,57.375-57.375V315.562h76.5v124.312c0,31.688,25.688,57.375,57.375,57.375h76.5\r\n\tc31.688,0,57.375-25.688,57.375-57.375V315.562h66.938c5.26,0,9.562-4.303,9.562-9.562C702,300.741,697.697,296.438,692.438,296.438\r\n\tz\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./ObjAlignCenterVertical.vue?vue&type=template&id=113f0236\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 20 20\"\r\n    style=\"enable-background:new 0 0 20 20;\" xml:space=\"preserve\">\r\n    <path\r\n      d=\"M5.7,17.7h1.9c0.8,0,1.4-0.6,1.4-1.4V6.6c0-0.8-0.6-1.4-1.4-1.4H5.7c-0.8,0-1.4,0.6-1.4,1.4v9.7C4.2,17.1,4.9,17.7,5.7,17.7 z M12.4,13.9h1.9c0.8,0,1.4-0.6,1.4-1.4V6.6c0-0.8-0.6-1.4-1.4-1.4h-1.9c-0.8,0-1.4,0.6-1.4,1.4v5.8C11,13.2,11.6,13.9,12.4,13.9z M2.5,2.8h15c0.1,0,0.2-0.1,0.2-0.2c0-0.1-0.1-0.2-0.2-0.2h-15c-0.1,0-0.2,0.1-0.2,0.2C2.3,2.6,2.4,2.8,2.5,2.8z\" />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./ObjAlignTopIcon.vue?vue&type=template&id=585d8948\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 20 20\"\r\n    style=\"enable-background:new 0 0 20 20;\" xml:space=\"preserve\">\r\n    <path\r\n      d=\"M4.2,3.7v9.7c0,0.8,0.6,1.4,1.4,1.4h1.9c0.8,0,1.4-0.6,1.4-1.4V3.7c0-0.8-0.6-1.4-1.4-1.4H5.7C4.9,2.3,4.2,2.9,4.2,3.7z M11,7.6v5.8c0,0.8,0.6,1.4,1.4,1.4h1.9c0.8,0,1.4-0.6,1.4-1.4V7.6c0-0.8-0.6-1.4-1.4-1.4h-1.9C11.6,6.1,11,6.8,11,7.6z M2.3,17.5 c0,0.1,0.1,0.2,0.2,0.2h15c0.1,0,0.2-0.1,0.2-0.2s-0.1-0.2-0.2-0.2h-15C2.4,17.2,2.3,17.4,2.3,17.5z\" />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./ObjAlignBottomIcon.vue?vue&type=template&id=588df2d6\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    width=\"792px\"\r\n    height=\"612px\"\r\n    viewBox=\"0 0 792 612\"\r\n    enable-background=\"new 0 0 792 612\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M644.625,76.5h-382.5c-31.676,0-57.375,25.688-57.375,57.375v76.5c0,31.676,25.699,57.375,57.375,57.375h382.5\r\n\tc31.676,0,57.375-25.699,57.375-57.375v-76.5C702,102.188,676.301,76.5,644.625,76.5z M491.625,344.25h-229.5\r\n\tc-31.676,0-57.375,25.699-57.375,57.375v76.5c0,31.676,25.699,57.375,57.375,57.375h229.5c31.688,0,57.375-25.688,57.375-57.375\r\n\tv-76.5C549,369.949,523.301,344.25,491.625,344.25z M99.562,0C94.282,0,90,4.282,90,9.562v592.875c0,5.26,4.282,9.562,9.562,9.562\r\n\ts9.562-4.281,9.562-9.562V9.562C109.125,4.282,104.846,0,99.562,0z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./ObjAlignLeftIcon.vue?vue&type=template&id=4a956882\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    width=\"792px\"\r\n    height=\"612px\"\r\n    viewBox=\"0 0 792 612\"\r\n    enable-background=\"new 0 0 792 612\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M529.875,344.25h-229.5c-31.676,0-57.375,25.699-57.375,57.375v76.5c0,31.676,25.699,57.375,57.375,57.375h229.5\r\n\tc31.688,0,57.375-25.688,57.375-57.375v-76.5C587.25,369.949,561.551,344.25,529.875,344.25z M529.875,76.5h-382.5\r\n\tC115.688,76.5,90,102.188,90,133.875v76.5c0,31.676,25.688,57.375,57.375,57.375h382.5c31.676,0,57.375-25.699,57.375-57.375v-76.5\r\n\tC587.25,102.188,561.551,76.5,529.875,76.5z M692.438,0c-5.281,0-9.562,4.282-9.562,9.562v592.875c0,5.281,4.281,9.562,9.562,9.562\r\n\ts9.562-4.303,9.562-9.562V9.562C702,4.282,697.697,0,692.438,0z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./ObjAlignRightIcon.vue?vue&type=template&id=3419f253\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    width=\"792px\"\r\n    height=\"612px\"\r\n    viewBox=\"0 0 792 612\"\r\n    enable-background=\"new 0 0 792 612\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <g>\r\n      <path\r\n        d=\"M385.071,10.929v590.143c0,6.036,4.918,10.929,9.699,10.929s12.158-4.893,12.158-10.929V10.929\r\n\t\tc0-6.035-4.905-10.929-10.94-10.929C389.952,0,385.071,4.918,385.071,10.929z\"\r\n      />\r\n      <g>\r\n        <path\r\n          d=\"M755.432,485.584c0,1.017-0.037,2.066-0.112,3.213c-1.584,24.028-21.695,43.141-45.785,43.514l-163.823,2.543l1.871-0.531\r\n\t\t\tl-40.849,0.633c-25.335,0.395-46.104-19.121-47.283-44.43l-0.014-0.289c-0.019-0.384-0.035-0.77-0.042-1.16\r\n\t\t\tc-0.016-1.059,0.008-2.107,0.076-3.338l2.743-376.554c0.141-15.084,8.622-27.587,21.107-31.127\r\n\t\t\tc13.021-3.689,27.463,2.891,34.481,15.661l228.183,363.842c1.757,2.318,3.303,4.812,4.598,7.42\r\n\t\t\tc3.105,6.254,4.735,12.98,4.844,19.993L755.432,485.584z M692.654,513.245l16.58-0.258c14.103-0.218,25.875-11.401,26.802-25.458\r\n\t\t\tc0.047-0.719,0.07-1.355,0.07-1.945l-0.002-0.318c-0.063-4.103-1.016-8.037-2.829-11.689c-0.803-1.617-1.768-3.156-2.87-4.576\r\n\t\t\tl-0.551-0.788L501.096,103.451l-0.156-0.293c-3.023-5.645-8.618-7.565-12.347-6.511c-4.159,1.182-6.995,6.283-7.054,12.697\r\n\t\t\tl-2.747,377.032l-0.016,0.253c-0.042,0.708-0.062,1.283-0.062,1.808l0.002,0.315c0.003,0.187,0.014,0.375,0.023,0.562l0.015,0.338\r\n\t\t\tc0.688,14.788,12.847,26.212,27.679,25.98l188.081-2.915L692.654,513.245z\"\r\n        />\r\n      </g>\r\n      <g>\r\n        <path\r\n          d=\"M36.573,484.974c0.108-7.013,1.738-13.739,4.844-19.993c1.295-2.608,2.841-5.102,4.598-7.42L274.197,93.719\r\n\t\t\tc7.019-12.771,21.46-19.351,34.481-15.661c12.485,3.54,20.967,16.043,21.107,31.127l2.743,376.554\r\n\t\t\tc0.068,1.23,0.092,2.279,0.076,3.338c-0.007,0.391-0.023,0.776-0.042,1.16l-0.014,0.289c-1.179,25.309-21.948,44.824-47.283,44.43\r\n\t\t\tl-40.849-0.633l1.871,0.531l-163.823-2.543c-24.09-0.373-44.201-19.485-45.785-43.514c-0.075-1.146-0.112-2.196-0.112-3.213\r\n\t\t\tL36.573,484.974z\"\r\n        />\r\n      </g>\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./FlipVertIcon.vue?vue&type=template&id=25b709d2\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    width=\"612px\"\r\n    height=\"792px\"\r\n    viewBox=\"0 0 612 792\"\r\n    enable-background=\"new 0 0 612 792\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M601.071,385.071H10.929C4.893,385.071,0,389.989,0,394.771s4.893,12.158,10.929,12.158h590.143\r\n\tc6.035,0,10.929-4.905,10.929-10.941S607.082,385.071,601.071,385.071z\"\r\n    />\r\n    <g>\r\n      <path\r\n        d=\"M126.416,755.432c-1.016,0-2.066-0.037-3.212-0.112c-24.028-1.584-43.14-21.695-43.514-45.785l-2.543-163.823l0.531,1.871\r\n\t\tl-0.633-40.849c-0.394-25.335,19.122-46.104,44.43-47.283l0.289-0.014c0.384-0.019,0.771-0.035,1.16-0.042\r\n\t\tc1.06-0.016,2.107,0.008,3.339,0.076l376.553,2.743c15.084,0.141,27.587,8.622,31.127,21.107\r\n\t\tc3.689,13.021-2.891,27.463-15.661,34.481L154.439,745.985c-2.317,1.757-4.811,3.303-7.419,4.598\r\n\t\tc-6.253,3.105-12.98,4.735-19.993,4.844L126.416,755.432z M98.755,692.654l0.258,16.58c0.218,14.103,11.401,25.875,25.458,26.802\r\n\t\tc0.718,0.047,1.355,0.07,1.944,0.07l0.319-0.002c4.102-0.063,8.037-1.016,11.689-2.829c1.616-0.803,3.155-1.768,4.575-2.87\r\n\t\tl0.789-0.551l364.761-228.759l0.293-0.156c5.645-3.023,7.565-8.618,6.511-12.347c-1.182-4.159-6.283-6.995-12.697-7.054\r\n\t\tl-377.033-2.747l-0.252-0.016c-0.708-0.042-1.283-0.062-1.808-0.062l-0.315,0.002c-0.187,0.003-0.375,0.014-0.562,0.023\r\n\t\tl-0.337,0.015c-14.789,0.688-26.212,12.847-25.981,27.679l2.916,188.081L98.755,692.654z\"\r\n      />\r\n    </g>\r\n    <g>\r\n      <path\r\n        d=\"M127.026,36.573c7.013,0.108,13.74,1.738,19.993,4.844c2.608,1.295,5.102,2.841,7.419,4.598l363.842,228.183\r\n\t\tc12.771,7.019,19.351,21.46,15.661,34.481c-3.54,12.485-16.043,20.967-31.127,21.107l-376.553,2.743\r\n\t\tc-1.231,0.068-2.279,0.092-3.339,0.076c-0.39-0.007-0.776-0.023-1.16-0.042l-0.289-0.014c-25.308-1.179-44.824-21.948-44.43-47.283\r\n\t\tl0.633-40.849l-0.531,1.871l2.543-163.823c0.374-24.09,19.485-44.201,43.514-45.785c1.146-0.075,2.196-0.112,3.212-0.112\r\n\t\tL127.026,36.573z\"\r\n      />\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./FlipHoriIcon.vue?vue&type=template&id=569186fe\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    width=\"792px\"\r\n    height=\"612px\"\r\n    viewBox=\"0 0 792 612\"\r\n    enable-background=\"new 0 0 792 612\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M567.67,113.75h-76.5c-31.676,0-57.375,25.699-57.375,57.375v143.438V318v120.875c0,31.688,25.688,57.375,57.375,57.375\r\n\th76.5c31.688,0,57.375-25.689,57.375-57.375V323v-8.438V171.125C625.045,139.449,599.346,113.75,567.67,113.75z\"\r\n    />\r\n    <path\r\n      d=\"M529.42,2.5c-5.281,0-9.562,4.251-9.562,9.492v588.516c0,5.221,4.282,9.492,9.562,9.492c5.28,0,9.562-4.25,9.562-9.492\r\n\tV11.992C538.983,6.751,534.704,2.5,529.42,2.5z\"\r\n    />\r\n    <path\r\n      d=\"M261.67,2.5c-5.281,0-9.562,4.251-9.562,9.492v588.516c0,5.221,4.282,9.492,9.562,9.492s9.562-4.25,9.562-9.492V11.992\r\n\tC271.233,6.751,266.954,2.5,261.67,2.5z\"\r\n    />\r\n    <path\r\n      d=\"M299.92,75.25h-76.5c-31.688,0-57.375,25.688-57.375,57.375V294.5v182.874c0,31.676,25.688,57.375,57.375,57.375h76.5\r\n\tc31.676,0,57.375-25.699,57.375-57.375V294.5V132.625C357.295,100.938,331.596,75.25,299.92,75.25z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./DistHoriIcon.vue?vue&type=template&id=524c81ca\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    width=\"792px\"\r\n    height=\"612px\"\r\n    viewBox=\"0 0 792 612\"\r\n    enable-background=\"new 0 0 792 612\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M606.625,76.5H405.812H185.875c-31.688,0-57.375,25.688-57.375,57.375v76.5c0,31.676,25.688,57.375,57.375,57.375h219.938\r\n\th200.812c31.676,0,57.375-25.699,57.375-57.375v-76.5C664,102.188,638.301,76.5,606.625,76.5z\"\r\n    />\r\n    <path\r\n      d=\"M530.123,344.25H405.812H262.375c-31.688,0-57.375,25.699-57.375,57.375v76.5c0,31.676,25.688,57.375,57.375,57.375h143.435\r\n\th124.312c31.688,0,57.375-25.688,57.375-57.375v-76.5C587.498,369.949,561.799,344.25,530.123,344.25z\"\r\n    />\r\n    <path\r\n      d=\"M747.688,430.312h-110H154.812h-110c-5.281,0-9.562,4.279-9.562,9.562s4.282,9.562,9.562,9.562h109.99\r\n\tc0.003,0,0.006,0,0.01,0h592.875c5.26,0,9.562-4.279,9.562-9.562S752.946,430.312,747.688,430.312z\"\r\n    />\r\n    <path\r\n      d=\"M747.688,162.562h-110H154.812h-110c-5.281,0-9.562,4.279-9.562,9.562s4.282,9.562,9.562,9.562h109.99\r\n\tc0.003,0,0.006,0,0.01,0h592.875c5.26,0,9.562-4.279,9.562-9.562S752.946,162.562,747.688,162.562z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./DistVertIcon.vue?vue&type=template&id=1da54586\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-list v-if=\"props.opened\" id=\"align-tools\">\r\n\r\n    <v-list-item @click=\"onAlignHorizonCenter\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">\r\n          Horizontal Center\r\n        </v-tooltip>\r\n        <ObjAlignCenterHorizentalIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"onAlignHorizonLeft\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Left</v-tooltip>\r\n        <ObjAlignLeftIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"onAlignHorizonRight\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Right</v-tooltip>\r\n        <ObjAlignRightIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"onAlignVerticalCenter\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Vertical Center</v-tooltip>\r\n        <ObjAlignCenterVerticalIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"onAlignVerticalTop\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Top</v-tooltip>\r\n        <ObjAlignTopIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"onAlignVerticalBottom\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Bottom</v-tooltip>\r\n        <ObjAlignBottomIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"onFlipHorizental\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Flip Horizontal</v-tooltip>\r\n        <FlipVertIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"onFlipVertical\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Flip\r\n          Vertical</v-tooltip>\r\n        <FlipHoriIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"onDistributeHorizental\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Distribute\r\n          Horizontal</v-tooltip>\r\n        <DistHoriIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n    <v-list-item @click=\"onDistributeVertical\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Distribute\r\n          Vertical</v-tooltip>\r\n        <DistVertIcon width=\"20px\" height=\"20px\" />\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n  </v-list>\r\n</template>\r\n\r\n<script setup>\r\nimport ObjAlignCenterHorizentalIcon from \"@/assets/svgs/menuIcons/ObjAlignCenterHorizentalIcon.vue\";\r\nimport ObjAlignCenterVerticalIcon from \"@/assets/svgs/menuIcons/ObjAlignCenterVertical.vue\";\r\nimport ObjAlignTopIcon from \"@/assets/svgs/menuIcons/ObjAlignTopIcon.vue\";\r\nimport ObjAlignBottomIcon from \"@/assets/svgs/menuIcons/ObjAlignBottomIcon.vue\";\r\nimport ObjAlignLeftIcon from \"@/assets/svgs/menuIcons/ObjAlignLeftIcon.vue\";\r\nimport ObjAlignRightIcon from \"@/assets/svgs/menuIcons/ObjAlignRightIcon.vue\";\r\nimport FlipVertIcon from \"@/assets/svgs/menuIcons/FlipVertIcon.vue\";\r\nimport FlipHoriIcon from \"@/assets/svgs/menuIcons/FlipHoriIcon.vue\";\r\nimport DistHoriIcon from \"@/assets/svgs/menuIcons/DistHoriIcon.vue\";\r\nimport DistVertIcon from \"@/assets/svgs/menuIcons/DistVertIcon.vue\";\r\n\r\nimport { defineProps, computed } from \"vue\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\nimport AppToolbar from \"../AppToolbar.vue\";\r\nimport {\r\n  findClosestGridPoint,\r\n  findCircleCenter,\r\n  degreeInCircle,\r\n  positionInZone,\r\n  rectangleBBox,\r\n  polygonBBox,\r\n  textBBox,\r\n  ellipseBBox,\r\n  testOverlap,\r\n  roundTableBBox,\r\n  rectangleTableBBox,\r\n  estimateTextWidth,\r\n  rotateRectangluarBox,\r\n} from \"@/lib/geometry\";\r\n\r\nconst mainStore = useMainStore();\r\nconst planStore = usePlanStore();\r\n\r\nconst selection = computed(() => mainStore.selection);\r\nconst plan = planStore.plan;\r\n\r\nconst props = defineProps({\r\n  opened: Boolean,\r\n  selectionBoundary: Function,\r\n  selectionBoxes: Function\r\n});\r\n\r\nconst onAlignHorizonCenter = () => {\r\n  const boundary = props.selectionBoundary();\r\n  if (!boundary) {\r\n    return;\r\n  }\r\n  const startX = boundary.x;\r\n  const endX = startX + boundary.width;\r\n  const midX = (startX + endX) / 2;\r\n  if (selection.value.length) {\r\n    for (const z of plan.zones) {\r\n      // row\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const miny = Math.min(...r.seats.map(s => s.position.x)) + z.position.x + r.position.x\r\n          const maxy = Math.max(...r.seats.map(s => s.position.x)) + z.position.x + r.position.x\r\n          const midy = (miny + maxy) / 2;\r\n          r.position.x += (midX - midy);\r\n        }\r\n      }\r\n\r\n      // shape\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          if (a.shape === 'circle') {\r\n            a.position.x = midX;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangle.width,\r\n                height: a.rectangle.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.x = midX - abox.width / 2;\r\n            } else {\r\n              a.position.x = midX - a.rectangle.width / 2;\r\n            }\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            a.position.x = midX;\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n            if (a.rotation) {\r\n              const abox = polygonBBox(a);\r\n              const dx = midX - (abox.x + abox.width / 2);\r\n              a.position.x += dx;\r\n            } else {\r\n              const points = a.polygon.points;\r\n              const minx = Math.min(...points.map(s => s.x)) + a.position.x;\r\n              const maxx = Math.max(...points.map(s => s.x)) + a.position.x;\r\n              a.position.x += midX - (minx + maxx) / 2;\r\n            }\r\n          } else if (a.shape === 'text') {\r\n            a.position.x = midX;\r\n          } else if (a.shape === 'roundTable') {\r\n            //bug fix\r\n            a.position.x = midX;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            //bug fix\r\n            a.position.x = midX;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    planStore.persistPlan();\r\n  }\r\n}\r\n\r\nconst onAlignHorizonLeft = () => {\r\n  const boundary = props.selectionBoundary();\r\n  if (selection.value.length) {\r\n    for (const z of plan.zones) {\r\n      // row\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const minx = Math.min(...r.seats.map(s => s.position.x)) + r.position.x + z.position.x;\r\n          if (boundary.x < minx - 10) {\r\n            const dx = minx - 10 - boundary.x;\r\n            r.position.x -= dx;\r\n          }\r\n        }\r\n      }\r\n\r\n      // shape\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          if (a.shape === 'circle') {\r\n            a.position.x = boundary.x + a.circle.radius;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangle.width,\r\n                height: a.rectangle.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.x = boundary.x + (a.position.x - abox.x);\r\n            } else {\r\n              a.position.x = boundary.x;\r\n            }\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            if (a.rotation) {\r\n              let abox = ellipseBBox(a);\r\n              a.position.x = boundary.x + (a.position.x - a.ellipse.radius.x - abox.x) + a.ellipse.radius.x;\r\n            } else {\r\n              a.position.x = boundary.x + a.ellipse.radius.x;\r\n            }\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n            if (a.rotation) {\r\n              const abox = polygonBBox(a);\r\n              if (boundary.x < abox.x) {\r\n                const dx = abox.x - boundary.x;\r\n                a.position.x -= dx;\r\n              }\r\n            } else {\r\n              const points = a.polygon.points;\r\n              const minx = Math.min(...points.map(s => s.x)) + a.position.x;\r\n              const maxx = Math.max(...points.map(s => s.x)) + a.position.x;\r\n              if (boundary.x < minx) {\r\n                const dx = minx - boundary.x;\r\n                a.position.x -= dx;\r\n              }\r\n            }\r\n          } else if (a.shape === 'text') {\r\n            const size = a.text.size || 16;\r\n            const width = estimateTextWidth(a.text.text, size);\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x + a.text.position.x - width / 2,\r\n                y: a.position.y + a.text.position.y - size / 2,\r\n                width: width,\r\n                height: size,\r\n              };\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.x = boundary.x + width / 2 - (a.position.x - width / 2 - abox.x);\r\n            } else {\r\n              a.position.x = boundary.x + width / 2;\r\n            }\r\n          } else if (a.shape === 'roundTable') {\r\n            //bug fix\r\n\r\n            a.position.x = boundary.x + a.radius + 20;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            //bug fix\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangleTable.width,\r\n                height: a.rectangleTable.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.x = boundary.x + (a.position.x - abox.x) + a.rectangleTable.width / 2;\r\n            } else {\r\n              if (a.seats.filter(s => s.special === 'left').length)\r\n                a.position.x = boundary.x + a.rectangleTable.width / 2 + 20;\r\n              else\r\n                a.position.x = boundary.x + a.rectangleTable.width / 2;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    planStore.persistPlan();\r\n  }\r\n}\r\n\r\nconst onAlignHorizonRight = () => {\r\n  const boundary = props.selectionBoundary();\r\n  if (!boundary) return;\r\n  const startX = boundary.x;\r\n  const endX = boundary.x + boundary.width;\r\n  if (selection.value.length) {\r\n    for (const z of plan.zones) {\r\n      // row\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const maxx = Math.max(...r.seats.map(s => s.position.x))\r\n          if (endX > r.position.x + maxx + 10) {\r\n            r.position.x += (endX - r.position.x - maxx - 10);\r\n          }\r\n        }\r\n      }\r\n\r\n      // shape\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          if (a.shape === 'circle') {\r\n            a.position.x = endX - a.circle.radius;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangle.width,\r\n                height: a.rectangle.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.x = endX - abox.width + (a.position.x - abox.x);\r\n            } else {\r\n              a.position.x = endX - a.rectangle.width;\r\n            }\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            if (a.rotation) {\r\n              const abox = ellipseBBox(a);\r\n              a.position.x = endX - a.ellipse.radius.x + (a.position.x + a.ellipse.radius.x - abox.x - abox.width);\r\n            } else {\r\n              a.position.x = endX - a.ellipse.radius.x;\r\n            }\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n\r\n            if (a.rotation) {\r\n              const abox = polygonBBox(a);\r\n              if (endX > abox.x + abox.width) {\r\n                const dx = endX - (abox.x + abox.width);\r\n                a.position.x += dx;\r\n              }\r\n            } else {\r\n              const points = a.polygon.points;\r\n              const minx = Math.min(...points.map(s => s.x)) + a.position.x;\r\n              const maxx = Math.max(...points.map(s => s.x)) + a.position.x;\r\n              if (endX > maxx) {\r\n                const dx = endX - maxx;\r\n                a.position.x += dx;\r\n              }\r\n            }\r\n\r\n          } else if (a.shape === 'text') {\r\n            const size = a.text.size || 16;\r\n            const width = estimateTextWidth(a.text.text, size);\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x + a.text.position.x - width / 2,\r\n                y: a.position.y + a.text.position.y - size / 2,\r\n                width: width,\r\n                height: size,\r\n              };\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.x = endX - abox.width + (a.position.x - abox.x)\r\n            } else {\r\n              a.position.x = endX - width / 2;\r\n            }\r\n          } else if (a.shape === 'roundTable') {\r\n            a.position.x = endX - a.radius - 20;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangleTable.width,\r\n                height: a.rectangleTable.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.x = endX - abox.width + (a.position.x - abox.x);\r\n            } else {\r\n              if (a.seats.filter(s => s.special === 'right').length)\r\n                a.position.x = endX - a.rectangleTable.width / 2 - 20;\r\n              else\r\n                a.position.x = endX - a.rectangleTable.width / 2;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  planStore.persistPlan();\r\n}\r\n\r\nconst rotateArea = (area, deg, lox, loy) => {\r\n  const theta = (deg / 180) * Math.PI;\r\n  const oldx = area.position.x;\r\n  const oldy = area.position.y;\r\n  area.position.x =\r\n    Math.cos(theta) * (oldx - lox) -\r\n    Math.sin(theta) * (oldy - loy) +\r\n    lox;\r\n  area.position.y =\r\n    Math.sin(theta) * (oldx - lox) +\r\n    Math.cos(theta) * (oldy - loy) +\r\n    loy;\r\n  area.rotation = Math.round((area.rotation + deg) % 360, 2);\r\n  if (area.rotation < 0) area.rotation += 360;\r\n  return area;\r\n}\r\n\r\nconst onFlipHorizental = () => {\r\n  const boundary = props.selectionBoundary();\r\n  const startX = boundary.x;\r\n  const endX = startX + boundary.width;\r\n  const midX = (startX + endX) / 2;\r\n  if (selection.value.length) {\r\n    for (const z of plan.zones) {\r\n      // row\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const minx = Math.min(...r.seats.map(s => s.position.x)) + z.position.x + r.position.x\r\n          const maxx = Math.max(...r.seats.map(s => s.position.x)) + z.position.x + r.position.x\r\n          const midx = (minx + maxx) / 2;\r\n          // r.position.x += 2 * (midX - midx);\r\n          r.position.x = 2 * midX - r.position.x;\r\n          r.seats.forEach(s => s.position.x = -s.position.x)\r\n        }\r\n      }\r\n\r\n      // shape\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          if (a.shape === 'circle') {\r\n            a.position.x = midX * 2 - a.position.x;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            let rBox = rectangleBBox(a);\r\n            let oX = rBox.x + rBox.width / 2;\r\n            let oY = rBox.y + rBox.height / 2;\r\n\r\n            const prevRot = a.rotation;\r\n            rotateArea(a, -prevRot, oX, oY);\r\n            a.position.x = midX * 2 - a.position.x - a.rectangle.width;\r\n\r\n            rBox = rectangleBBox(a);\r\n            oX = rBox.x + rBox.width / 2;\r\n            oY = rBox.y + rBox.height / 2;\r\n\r\n            rotateArea(a, -prevRot, oX, oY);\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            a.position.x = midX * 2 - a.position.x;\r\n            a.rotation = 180 - a.rotation;\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n            let rBox = polygonBBox(a);\r\n            let oX = rBox.x + rBox.width / 2;\r\n            let oY = rBox.y + rBox.height / 2;\r\n\r\n            const prevRot = a.rotation;\r\n            rotateArea(a, -prevRot, oX, oY);\r\n            a.position.x = midX * 2 - a.position.x - rBox.width;\r\n\r\n            rBox = polygonBBox(a);\r\n            oX = rBox.x + rBox.width / 2;\r\n            oY = rBox.y + rBox.height / 2;\r\n\r\n            rotateArea(a, -prevRot, oX, oY);\r\n          } else if (a.shape === 'text') {\r\n            a.position.x = midX * 2 - a.position.x;\r\n          } else if (a.shape === 'roundTable') {\r\n            //bug fix\r\n            a.position.x = midX * 2 - a.position.x;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            //bug fix\r\n            a.position.x = midX * 2 - a.position.x;\r\n            a.rotation = -a.rotation;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    planStore.persistPlan();\r\n  }\r\n}\r\n\r\nconst onFlipVertical = () => {\r\n  const boundary = props.selectionBoundary();\r\n  const startY = boundary.y;\r\n  const endY = startY + boundary.height;\r\n  const midY = (startY + endY) / 2;\r\n  if (selection.value.length) {\r\n    for (const z of plan.zones) {\r\n      // row\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const miny = Math.min(...r.seats.map(s => s.position.y)) + z.position.y + r.position.y\r\n          const maxy = Math.max(...r.seats.map(s => s.position.y)) + z.position.y + r.position.y\r\n          const midy = (miny + maxy) / 2;\r\n          // r.position.x += 2 * (midX - midx);\r\n          r.position.y = 2 * midY - r.position.y;\r\n          r.seats.forEach(s => s.position.y = -s.position.y)\r\n        }\r\n      }\r\n\r\n      // shape\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          if (a.shape === 'circle') {\r\n            a.position.y = midY * 2 - a.position.y;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            let rBox = rectangleBBox(a);\r\n            let oX = rBox.x + rBox.width / 2;\r\n            let oY = rBox.y + rBox.height / 2;\r\n\r\n            const prevRot = a.rotation;\r\n            rotateArea(a, -prevRot, oX, oY);\r\n            a.position.y = midY * 2 - a.position.y - a.rectangle.height;\r\n\r\n            rBox = rectangleBBox(a);\r\n            oX = rBox.x + rBox.width / 2;\r\n            oY = rBox.y + rBox.height / 2;\r\n\r\n            rotateArea(a, -prevRot, oX, oY);\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            a.position.y = midY * 2 - a.position.y;\r\n            a.rotation = 180 - a.rotation;\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n            let rBox = polygonBBox(a);\r\n            let oX = rBox.x + rBox.width / 2;\r\n            let oY = rBox.y + rBox.height / 2;\r\n\r\n            const prevRot = a.rotation;\r\n            rotateArea(a, -prevRot, oX, oY);\r\n            a.position.y = midY * 2 - a.position.y - rBox.height;\r\n\r\n            rBox = polygonBBox(a);\r\n            oX = rBox.x + rBox.width / 2;\r\n            oY = rBox.y + rBox.height / 2;\r\n\r\n            rotateArea(a, -prevRot, oX, oY);\r\n          } else if (a.shape === 'text') {\r\n            a.position.y = midY * 2 - a.position.y;\r\n          } else if (a.shape === 'roundTable') {\r\n            //bug fix\r\n            a.position.y = midY * 2 - a.position.y;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            //bug fix\r\n            a.position.y = midY * 2 - a.position.y;\r\n            a.rotation = -a.rotation;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    planStore.persistPlan();\r\n  }\r\n}\r\n\r\nconst onDistributeHorizental = () => {\r\n  if (selection.value.length) {\r\n    if (selection.value.length < 3) return;\r\n    const boxes = props.selectionBoxes();\r\n    let centerX = boxes.map(b => b.x + b.width / 2)\r\n    const minX = Math.min(...centerX)\r\n    const maxX = Math.max(...centerX)\r\n    centerX = [...new Set(centerX)];\r\n    if (centerX.length < 2) return;\r\n    const d = (maxX - minX) / (centerX.length - 1)\r\n    centerX.sort();\r\n    const delta = 3;\r\n    for (const z of plan.zones) {\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const minx = Math.min(\r\n            ...r.seats.map((s) => s.position.x - (s.radius || 10))\r\n          );\r\n          const miny = Math.min(\r\n            ...r.seats.map((s) => s.position.y - (s.radius || 10))\r\n          );\r\n          const maxx = Math.max(\r\n            ...r.seats.map((s) => s.position.x + (s.radius || 10))\r\n          );\r\n          const maxy = Math.max(\r\n            ...r.seats.map((s) => s.position.y + (s.radius || 10))\r\n          );\r\n          const or = centerX.findIndex(i => Math.abs(z.position.x + r.position.x + (maxx + minx) / 2 - i) < delta);\r\n          r.position.x = minX + or * d;\r\n        }\r\n      }\r\n\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          let abox;\r\n          if (a.shape === \"circle\") {\r\n            const or = centerX.findIndex(i => Math.abs(a.position.x + a.circle.radius - i) < delta)\r\n            a.position.x = minX + or * d - a.circle.radius;\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            abox = ellipseBBox(a);\r\n            const or = centerX.findIndex(i => Math.abs(abox.x + abox.width / 2 - i) < delta)\r\n            a.position.x = minX + or * d;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            abox = rectangleBBox(a);\r\n            const or = centerX.findIndex(i => Math.abs(abox.x + abox.width / 2 - i) < delta)\r\n            a.position.x = minX + or * d - abox.width / 2;\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n            abox = polygonBBox(a);\r\n            const or = centerX.findIndex(i => Math.abs(abox.x + abox.width / 2 - i) < delta)\r\n            a.position.x = minX + or * d - abox.width / 2;\r\n          } else if (a.shape === 'text') {\r\n            const s = a.text.size || 32;\r\n            abox = textBBox(a, a.text.text, s);\r\n            const or = centerX.findIndex(i => Math.abs(abox.x + abox.width / 2 - i) < delta)\r\n            a.position.x = minX + or * d;\r\n          } else if (a.shape === 'roundTable') {\r\n            abox = roundTableBBox(a);\r\n            const or = centerX.findIndex(i => Math.abs(abox.x + abox.width / 2 - i) < delta)\r\n            a.position.x = minX + or * d;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            abox = rectangleTableBBox(a);\r\n            const or = centerX.findIndex(i => Math.abs(abox.x + abox.width / 2 - i) < delta)\r\n            a.position.x = minX + or * d;\r\n          }\r\n        }\r\n      }\r\n      planStore.persistPlan();\r\n    }\r\n  }\r\n}\r\n\r\nconst onDistributeVertical = () => {\r\n  if (selection.value.length) {\r\n    if (selection.value.length < 3) return;\r\n    const boxes = props.selectionBoxes();\r\n    let centerY = boxes.map(b => b.y + b.height / 2)\r\n    const minY = Math.min(...centerY)\r\n    const maxY = Math.max(...centerY)\r\n    centerY = [...new Set(centerY)];\r\n    if (centerY.length < 2) return;\r\n    const d = (maxY - minY) / (centerY.length - 1)\r\n    centerY.sort();\r\n    const delta = 3;\r\n    for (const z of plan.zones) {\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const miny = Math.min(\r\n            ...r.seats.map((s) => s.position.y - (s.radius || 10))\r\n          );\r\n          const maxy = Math.max(\r\n            ...r.seats.map((s) => s.position.y + (s.radius || 10))\r\n          );\r\n          const or = centerY.findIndex(i => Math.abs(z.position.y + r.position.y + (maxy + miny) / 2 - i) < delta);\r\n          r.position.y = minY + or * d;\r\n        }\r\n      }\r\n\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          let abox;\r\n          if (a.shape === \"circle\") {\r\n            const or = centerY.findIndex(i => Math.abs(a.position.y + a.circle.radius - i) < delta)\r\n            a.position.y = minY + or * d - a.circle.radius;\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            abox = ellipseBBox(a);\r\n            const or = centerY.findIndex(i => Math.abs(abox.y + abox.height / 2 - i) < delta)\r\n            a.position.y = minY + or * d;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            abox = rectangleBBox(a);\r\n            const or = centerY.findIndex(i => Math.abs(abox.y + abox.height / 2 - i) < delta)\r\n            a.position.y = minY + or * d - abox.height / 2;\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n            abox = polygonBBox(a);\r\n            const or = centerY.findIndex(i => Math.abs(abox.y + abox.height / 2 - i) < delta)\r\n            a.position.y = minY + or * d - abox.height / 2;\r\n          } else if (a.shape === 'text') {\r\n            const s = a.text.size || 32;\r\n            abox = textBBox(a, a.text.text, s);\r\n            const or = centerY.findIndex(i => Math.abs(abox.y + abox.height / 2 - i) < delta)\r\n            a.position.y = minY + or * d;\r\n          } else if (a.shape === 'roundTable') {\r\n            abox = roundTableBBox(a);\r\n            const or = centerY.findIndex(i => Math.abs(abox.y + abox.height / 2 - i) < delta)\r\n            a.position.y = minY + or * d;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            abox = rectangleTableBBox(a);\r\n            const or = centerY.findIndex(i => Math.abs(abox.y + abox.height / 2 - i) < delta)\r\n            a.position.y = minY + or * d;\r\n          }\r\n        }\r\n      }\r\n      planStore.persistPlan();\r\n    }\r\n  }\r\n}\r\n\r\nconst onAlignVerticalCenter = () => {\r\n  const boundary = props.selectionBoundary();\r\n  if (!boundary) {\r\n    return;\r\n  }\r\n  const startY = boundary.y;\r\n  const endY = startY + boundary.height;\r\n  const midY = (startY + endY) / 2;\r\n  if (selection.value.length) {\r\n    for (const z of plan.zones) {\r\n      // row\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const miny = Math.min(...r.seats.map(s => s.position.y)) + z.position.y + r.position.y\r\n          const maxy = Math.max(...r.seats.map(s => s.position.y)) + z.position.y + r.position.y\r\n          const midy = (miny + maxy) / 2;\r\n          r.position.y += (midY - midy);\r\n        }\r\n      }\r\n\r\n      // shape\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          if (a.shape === 'circle') {\r\n            a.position.y = midY;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangle.width,\r\n                height: a.rectangle.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.y = midY - abox.height / 2;\r\n            } else {\r\n              a.position.y = midY - a.rectangle.height / 2;\r\n            }\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            a.position.y = midY;\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n            if (a.rotation) {\r\n              const abox = polygonBBox(a);\r\n              const dy = midY - (abox.y + abox.height / 2);\r\n              a.position.y += dy;\r\n            } else {\r\n              const points = a.polygon.points;\r\n              const miny = Math.min(...points.map(s => s.y)) + a.position.y;\r\n              const maxy = Math.max(...points.map(s => s.y)) + a.position.y;\r\n              a.position.y += midY - (miny + maxy) / 2;\r\n            }\r\n          } else if (a.shape === 'text') {\r\n            a.position.y = midY;\r\n          } else if (a.shape === 'roundTable') {\r\n            //bug fix\r\n            a.position.y = midY;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            //bug fix\r\n            a.position.y = midY;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    planStore.persistPlan();\r\n  }\r\n}\r\n\r\nconst onAlignVerticalTop = () => {\r\n  const boundary = props.selectionBoundary();\r\n  if (selection.value.length) {\r\n    for (const z of plan.zones) {\r\n      // row\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const miny = Math.min(...r.seats.map(s => s.position.y)) + r.position.y + z.position.y;\r\n          if (boundary.y < miny - 10) {\r\n            const dy = miny - 10 - boundary.y;\r\n            r.position.y -= dy;\r\n          }\r\n        }\r\n      }\r\n\r\n      // shape\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          if (a.shape === 'circle') {\r\n            a.position.y = boundary.y + a.circle.radius;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangle.width,\r\n                height: a.rectangle.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.y = boundary.y + (a.position.y - abox.y);\r\n            } else {\r\n              a.position.y = boundary.y;\r\n            }\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            if (a.rotation) {\r\n              let abox = ellipseBBox(a);\r\n              a.position.y = boundary.y + (a.position.y - a.ellipse.radius.y - abox.y) + a.ellipse.radius.y;\r\n            } else {\r\n              a.position.y = boundary.y + a.ellipse.radius.y;\r\n            }\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n            if (a.rotation) {\r\n              const abox = polygonBBox(a);\r\n              if (boundary.y < abox.y) {\r\n                const dy = abox.y - boundary.y;\r\n                a.position.y -= dy;\r\n              }\r\n            } else {\r\n              const points = a.polygon.points;\r\n              const miny = Math.min(...points.map(s => s.y)) + a.position.y;\r\n              const maxy = Math.max(...points.map(s => s.y)) + a.position.y;\r\n              if (boundary.y < miny) {\r\n                const dy = miny - boundary.y;\r\n                a.position.y -= dy;\r\n              }\r\n            }\r\n          } else if (a.shape === 'text') {\r\n            const size = a.text.size || 16;\r\n            const width = estimateTextWidth(a.text.text, size);\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x + a.text.position.x - width / 2,\r\n                y: a.position.y + a.text.position.y - size / 2,\r\n                width: width,\r\n                height: size,\r\n              };\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.y = boundary.y + size / 2 - (a.position.y - size / 2 - abox.y);\r\n            } else {\r\n              a.position.y = boundary.y + size / 2;\r\n            }\r\n          } else if (a.shape === 'roundTable') {\r\n            //bug fix\r\n            a.position.y = boundary.y + a.radius + 20;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            //bug fix\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangleTable.width,\r\n                height: a.rectangleTable.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.y = boundary.y + (a.position.y - abox.y) + a.rectangleTable.height / 2;\r\n            } else {\r\n              if (a.seats.filter(s => s.special === 'top').length)\r\n                a.position.y = boundary.y + a.rectangleTable.height / 2 + 20;\r\n              else\r\n                a.position.y = boundary.y + a.rectangleTable.height / 2;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    planStore.persistPlan();\r\n  }\r\n}\r\n\r\nconst onAlignVerticalBottom = () => {\r\n  const boundary = props.selectionBoundary();\r\n  if (!boundary) return;\r\n  const startY = boundary.y;\r\n  const endY = boundary.y + boundary.height;\r\n  if (selection.value.length) {\r\n    for (const z of plan.zones) {\r\n      // row\r\n      for (const r of z.rows) {\r\n        if (selection.value.includes(r.uuid)) {\r\n          const maxy = Math.max(...r.seats.map(s => s.position.y))\r\n          if (endY > r.position.y + maxy + 10) {\r\n            r.position.y += (endY - r.position.y - maxy - 10);\r\n          }\r\n        }\r\n      }\r\n\r\n      // shape\r\n      for (const a of z.areas) {\r\n        if (selection.value.includes(a.uuid)) {\r\n          if (a.shape === 'circle') {\r\n            a.position.y = endY - a.circle.radius;\r\n          } else if (a.shape === 'rectangle' || a.shape === 'gaSquare') {\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangle.width,\r\n                height: a.rectangle.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.y = endY - abox.height + (a.position.y - abox.y);\r\n            } else {\r\n              a.position.y = endY - a.rectangle.height;\r\n            }\r\n          } else if (a.shape === 'ellipse' || a.shape === 'gaCircle') {\r\n            if (a.rotation) {\r\n              const abox = ellipseBBox(a);\r\n              a.position.y = endY - a.ellipse.radius.y + (a.position.y + a.ellipse.radius.y - abox.y - abox.height);\r\n            } else {\r\n              a.position.y = endY - a.ellipse.radius.y;\r\n            }\r\n          } else if (a.shape === 'polygon' || a.shape === 'gaPolygon') {\r\n\r\n            if (a.rotation) {\r\n              const abox = polygonBBox(a);\r\n              if (endY > abox.y + abox.height) {\r\n                const dy = endY - (abox.y + abox.height);\r\n                a.position.y += dy;\r\n              }\r\n            } else {\r\n              const points = a.polygon.points;\r\n              const miny = Math.min(...points.map(s => s.y)) + a.position.y;\r\n              const maxy = Math.max(...points.map(s => s.y)) + a.position.y;\r\n              if (endY > maxy) {\r\n                const dy = endY - maxy;\r\n                a.position.y += dy;\r\n              }\r\n            }\r\n\r\n          } else if (a.shape === 'text') {\r\n            const size = a.text.size || 16;\r\n            const width = estimateTextWidth(a.text.text, size);\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x + a.text.position.x - width / 2,\r\n                y: a.position.y + a.text.position.y - size / 2,\r\n                width: width,\r\n                height: size,\r\n              };\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.y = endY - abox.height + (a.position.y - abox.y)\r\n            } else {\r\n              a.position.y = endY - size / 2;\r\n            }\r\n          } else if (a.shape === 'roundTable') {\r\n            a.position.y = endY - a.radius - 20;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            if (a.rotation) {\r\n              let abox = {\r\n                x: a.position.x,\r\n                y: a.position.y,\r\n                width: a.rectangleTable.width,\r\n                height: a.rectangleTable.height\r\n              }\r\n              abox = rotateRectangluarBox(a, abox);\r\n              a.position.y = endY - abox.height + (a.position.y - abox.y);\r\n            } else {\r\n              if (a.seats.filter(s => s.special === 'bottom').length)\r\n                a.position.y = endY - a.rectangleTable.height / 2 - 20;\r\n              else\r\n                a.position.y = endY - a.rectangleTable.height / 2;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  planStore.persistPlan();\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n#align-tools {\r\n  position: absolute;\r\n  width: 60px;\r\n  left: 70px;\r\n  top: 160px;\r\n  /* background-color: #f3f3f3; */\r\n  border-radius: 10px;\r\n  box-shadow: 0px 5px 5px -3px var(--v-shadow-key-umbra-opacity, rgba(0, 0, 0, 0.2)),\r\n    0px 8px 10px 1px var(--v-shadow-key-penumbra-opacity, rgba(0, 0, 0, 0.14)),\r\n    0px 3px 14px 2px var(--v-shadow-key-ambient-opacity, rgba(0, 0, 0, 0.12));\r\n  transition: all 1s;\r\n  z-index: 99;\r\n}\r\n</style>","import script from \"./AddAlignTools.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddAlignTools.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddAlignTools.vue?vue&type=style&index=0&id=4ec99ae6&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <g>\r\n      <path\r\n        d=\"M17.1,9.6c-0.3,0-0.6,0.1-0.8,0.2V3.6c0-2-1.6-3.6-3.6-3.6H7.4c-2,0-3.6,1.6-3.6,3.6v6.1C3.5,9.7,3.2,9.6,2.9,9.6\r\n\t\tc-1.2,0-2.1,0.9-2.1,2.1c0,0.7,0.3,1.2,0.8,1.6V20h3.2v-1.5h10.3V20h3.2v-6.7c0.5-0.4,0.8-1,0.8-1.6C19.2,10.5,18.2,9.6,17.1,9.6z\r\n    M4.5,3.6c0-1.6,1.3-2.9,2.9-2.9h5.2c1.6,0,2.9,1.3,2.9,2.9v6.7c-0.2,0.2-0.3,0.5-0.4,0.8H4.9c-0.1-0.3-0.2-0.5-0.4-0.8V3.6z\r\n     M4.8,14.6V14v-0.3v-0.4v-0.8c0.1-0.2,0.1-0.3,0.1-0.5H15c0,0.2,0.1,0.4,0.1,0.5v0.8v0.4V14v0.6v3.2H4.8V14.6z\"\r\n      />\r\n      <path\r\n        d=\"M7.6,6.6h1.8v1.8C9.3,8.7,9.6,9,10,9c0.3,0,0.6-0.3,0.6-0.7V6.6h1.8c0.4,0,0.7-0.3,0.7-0.7c0-0.4-0.3-0.7-0.7-0.7h-1.8V3.5\r\n\t\tc0-0.4-0.3-0.7-0.7-0.7S9.3,3.1,9.3,3.5v1.8H7.6c-0.4,0-0.7,0.3-0.7,0.7C6.9,6.3,7.2,6.6,7.6,6.6z\"\r\n      />\r\n    </g>\r\n  </svg>\r\n</template>\r\n","import { render } from \"./SeatBuilderIcon.vue?vue&type=template&id=1aba4fbc\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    version=\"1.1\"\r\n    id=\"Layer_1\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n    x=\"0px\"\r\n    y=\"0px\"\r\n    viewBox=\"0 0 20 20\"\r\n    style=\"enable-background: new 0 0 20 20\"\r\n    xml:space=\"preserve\"\r\n  >\r\n    <path\r\n      d=\"M18.2,15.5V4.5c1-0.2,1.8-1.1,1.8-2.2C20,1,19,0,17.8,0c-1.1,0-2,0.8-2.2,1.8H4.5C4.3,0.8,3.3,0,2.2,0C1,0,0,1,0,2.2\r\n\tc0,1.1,0.8,2,1.8,2.2v11.1c-1,0.2-1.8,1.1-1.8,2.2C0,19,1,20,2.2,20c1.1,0,2-0.8,2.2-1.8h11.1c0.2,1,1.1,1.8,2.2,1.8\r\n\tc1.2,0,2.2-1,2.2-2.2C20,16.7,19.2,15.7,18.2,15.5z M17.8,0.8c0.8,0,1.5,0.7,1.5,1.5s-0.7,1.5-1.5,1.5s-1.5-0.7-1.5-1.5\r\n\tS16.9,0.8,17.8,0.8z M0.8,2.2c0-0.8,0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S3.1,3.8,2.2,3.8S0.8,3.1,0.8,2.2z M2.2,19.2\r\n\tc-0.8,0-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S3.1,19.2,2.2,19.2z M15.5,17.4H4.5c-0.1-1-0.9-1.7-1.9-1.9V4.5\r\n\tc1-0.1,1.7-0.9,1.9-1.9h11.1c0.1,1,0.9,1.7,1.9,1.9v11.1C16.4,15.7,15.7,16.4,15.5,17.4z M17.8,19.2c-0.8,0-1.5-0.7-1.5-1.5\r\n\ts0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S18.6,19.2,17.8,19.2z\"\r\n    />\r\n  </svg>\r\n</template>\r\n","import { render } from \"./DrawSquareIcon.vue?vue&type=template&id=3672650a\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <v-list style=\"position: fixed; top: 55px; left: 5px; z-index: 999\"\r\n    id=\"hand-menu\">\r\n    <v-list-item @click=\"onSeatToggle\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Seat</v-tooltip>\r\n        <div class=\"arrow-menu\">\r\n          <SeatBuilderIcon width=\"20px\" height=\"20px\" />\r\n          <div>{{ \">\" }}</div>\r\n        </div>\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-list-item @click=\"onItemToggle\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Shape</v-tooltip>\r\n        <div class=\"arrow-menu\">\r\n          <DrawSquareIcon width=\"20px\" height=\"20px\" />\r\n          <div>{{ \">\" }}</div>\r\n        </div>\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n\r\n    <v-list-item @click=\"onAlignToggle\">\r\n      <v-list-item-title>\r\n        <v-tooltip activator=\"parent\" location=\"right\">Alignment</v-tooltip>\r\n        <div class=\"arrow-menu\">\r\n          <!-- <AddAlignTools width=\"20px\" height=\"20px\" /> -->\r\n          <ObjAlignCenterVertical width=\"20px\" height=\"20px\" />\r\n          <div>{{ \">\" }}</div>\r\n        </div>\r\n      </v-list-item-title>\r\n    </v-list-item>\r\n  </v-list>\r\n  <AddChairTools :opened=\"seatopened\" />\r\n  <AddItemsTools :opened=\"itemopened\" />\r\n  <AddAlignTools :opened=\"alignopened\" :selectionBoundary=\"selectionBoundary\"\r\n    :selectionBoxes=\"selectionBoxes\" />\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps, ref } from \"vue\";\r\n\r\nimport AddChairTools from \"./tools/AddChairTools.vue\";\r\nimport AddItemsTools from \"./tools/AddItemsTools.vue\";\r\nimport AddAlignTools from \"./tools/AddAlignTools.vue\";\r\n\r\nimport ObjAlignCenterVertical from \"@/assets/svgs/menuIcons/ObjAlignCenterVertical.vue\";\r\nimport SeatBuilderIcon from \"@/assets/svgs/menuIcons/SeatBuilderIcon.vue\";\r\nimport DrawSquareIcon from \"@/assets/svgs/menuIcons/DrawSquareIcon.vue\";\r\n\r\nconst seatopened = ref(false);\r\nconst itemopened = ref(false);\r\nconst alignopened = ref(false);\r\n\r\n\r\nconst onSeatToggle = () => {\r\n  seatopened.value = !seatopened.value;\r\n  itemopened.value = false;\r\n  alignopened.value = false;\r\n};\r\n\r\nconst onItemToggle = () => {\r\n  itemopened.value = !itemopened.value;\r\n  seatopened.value = false;\r\n  alignopened.value = false;\r\n};\r\n\r\nconst onAlignToggle = () => {\r\n  alignopened.value = !alignopened.value;\r\n  itemopened.value = false;\r\n  seatopened.value = false;\r\n};\r\n\r\n// import ImportIcon from \"@/assets/svgs/menuIcons/ImportIcon.vue\";\r\n\r\nconst props = defineProps({\r\n  onImportClick: Function,\r\n  selectionBoundary: Function,\r\n  selectionBoxes: Function\r\n});\r\n\r\n</script>\r\n\r\n<style>\r\n#hand-menu {\r\n  background-color: #eeeeee;\r\n  border-radius: 10px;\r\n}\r\n</style>\r\n","import script from \"./HandMenu.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HandMenu.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HandMenu.vue?vue&type=style&index=0&id=7b0b9a2a&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\r\nimport { computed, watch, nextTick, ref, onMounted } from \"vue\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\nimport {\r\n  ellipseBBox,\r\n  findCircleCenter,\r\n  findClosestGridPoint,\r\n  polygonBBox,\r\n  positionInZone,\r\n  rectangleBBox,\r\n  testOverlap,\r\n  textBBox,\r\n  roundTableBBox,\r\n  rectangleTableBBox,\r\n  rotateRectangluarBox,\r\n  estimateTextWidth\r\n} from \"@/lib/geometry\";\r\nimport { generateID } from \"@/lib/numbers\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport * as d3 from \"d3\";\r\nimport ZoneComponent from \"./ZoneComponent.vue\";\r\nimport IconComponent from \"./IconComponent.vue\";\r\nimport { useToolbarStore } from '@/stores/toolbar';\r\nimport { useSeatFormatStore } from \"@/stores/seatFormat\";\r\nimport { useBoardStore } from \"@/stores/svgStore\";\r\nimport { useIconStore } from \"@/stores/icon\";\r\n\r\nconst round = (fl, places) => Number(fl.toFixed(places || 0));\r\n\r\nconst defaultBg = JSON.parse(\r\n  window.localStorage.getItem(\"frontrow2.editor.bg\") ||\r\n  '{\"background\": null, \"backgroundOpacity\": 100, \"backgroundX\": 0, \"backgroundY\": 0, \"backgroundWidth\": 100, \"backgroundHeight\": 100}'\r\n);\r\n\r\nexport default {\r\n  name: \"PlanComponent\",\r\n  components: { ZoneComponent, IconComponent },\r\n  setup() {\r\n    const svg = ref(null);\r\n    const zoom = ref(null);\r\n    const defaultScale = ref(1);\r\n    const fullScreen = ref(true);\r\n    const lastMouseUp = ref(0);\r\n    const background = ref(defaultBg.background);\r\n    const backgroundOpacity = ref(defaultBg.backgroundOpacity);\r\n    const backgroundWidth = ref(defaultBg.backgroundWidth);\r\n    const backgroundHeight = ref(defaultBg.backgroundHeight);\r\n    const backgroundX = ref(defaultBg.backgroundX);\r\n    const backgroundY = ref(defaultBg.backgroundY);\r\n    const rotating = ref(false);\r\n    const rotatingOriginX = ref(0);\r\n    const rotatingOriginY = ref(0);\r\n    const moveDirection = ref(-1);\r\n    const temp_ox = ref(0);\r\n    const temp_oy = ref(0);\r\n    const rotatingHandleX = ref(0);\r\n    const rotatingHandleY = ref(0);\r\n    const rotatingStartAngle = ref(0);\r\n    const resizing = ref(false);\r\n    const resizingOriginX = ref(0);\r\n    const resizingOriginY = ref(0);\r\n    const resizingStartDistance = ref(0);\r\n    const selecting = ref(false);\r\n    const selectingStartX = ref(0);\r\n    const selectingStartY = ref(0);\r\n    const selectingCurrentX = ref(100);\r\n    const selectingCurrentY = ref(100);\r\n    const drawing = ref(false);\r\n    const drawingStartX = ref(0);\r\n    const drawingStartY = ref(0);\r\n    const drawingCurrentX = ref(100);\r\n    const drawingCurrentY = ref(100);\r\n    const rowCurrentX = ref(100);\r\n    const rowCurrentY = ref(100);\r\n    const polygonDrawing = ref(false);\r\n    const polygonPoints = ref([]);\r\n    const rowBlockDrawing = ref(false);\r\n    const stgrowBlockDrawing = ref(false);\r\n    const rowDrawing = ref(false);\r\n    const rowSpacing = ref(25);\r\n    const rowSeatSpacing = ref(25);\r\n    const mouseStatus = ref(false);\r\n\r\n    const focusDragging = ref(false)\r\n\r\n    const store = useMainStore();\r\n    const planstore = usePlanStore();\r\n    const plan = computed(() => planstore.plan);\r\n    const validationErrors = computed(() => planstore.validationErrors);\r\n    const selection = computed(() => store.selection);\r\n    const tool = computed(() => store.tool);\r\n    const cursor = computed(() => store.cursor);\r\n    const zoomTransform = computed(() => store.zoomTransform);\r\n    const selectedZone = computed(() => store.selectedZone);\r\n    const lockedZones = computed(() => store.lockedZones);\r\n    const grid = computed(() => store.grid);\r\n\r\n    const bSnap2Grid = computed(() => store.snap);\r\n    const sections = computed(() => store.section_label)\r\n    const categories = computed(() => planstore.categories)\r\n\r\n    const focusPointX = computed(() => plan.value.point.x);\r\n    const focusPointY = computed(() => plan.value.point.y);\r\n\r\n    const mode = computed(() => plan.value.mode);\r\n\r\n    const getSvgRect = () => svg.value.getBoundingClientRect();\r\n\r\n    const iconStore = useIconStore();\r\n    const selectedIcon = computed(() => iconStore.selectedIcon);\r\n\r\n    return {\r\n      sections,\r\n      categories,\r\n      bSnap2Grid,\r\n      planstore,\r\n      plan,\r\n      validationErrors,\r\n      selection,\r\n      tool,\r\n      cursor,\r\n      zoomTransform,\r\n      selectedZone,\r\n      lockedZones,\r\n      grid,\r\n      temp_ox,\r\n      temp_oy,\r\n      // unwatch,\r\n      // unwatchTool,\r\n      // createZoom,\r\n      // hotkey,\r\n      svg,\r\n      zoom,\r\n      defaultScale,\r\n      fullScreen,\r\n      lastMouseUp,\r\n      background,\r\n      backgroundOpacity,\r\n      backgroundWidth,\r\n      backgroundHeight,\r\n      backgroundX,\r\n      backgroundY,\r\n      rotating,\r\n      rotatingOriginX,\r\n      rotatingOriginY,\r\n      rotatingHandleX,\r\n      rotatingHandleY,\r\n      rotatingStartAngle,\r\n      resizing,\r\n      resizingOriginX,\r\n      resizingOriginY,\r\n      resizingStartDistance,\r\n      selecting,\r\n      selectingStartX,\r\n      selectingStartY,\r\n      selectingCurrentX,\r\n      selectingCurrentY,\r\n      drawing,\r\n      drawingStartX,\r\n      drawingStartY,\r\n      drawingCurrentX,\r\n      drawingCurrentY,\r\n      polygonDrawing,\r\n      polygonPoints,\r\n      rowBlockDrawing,\r\n      stgrowBlockDrawing,\r\n      rowDrawing,\r\n      rowSpacing,\r\n      rowSeatSpacing,\r\n      rowCurrentX,\r\n      rowCurrentY,\r\n      mouseStatus,\r\n      getSvgRect,\r\n      focusPointX,\r\n      focusPointY,\r\n      focusDragging,\r\n      iconStore,\r\n      selectedIcon,\r\n      mode\r\n    };\r\n  },\r\n  computed: {\r\n    metadata() {\r\n      const categoriesXML = this.categories.map(cat =>\r\n        `<category>\r\n          <name>${cat.name}</name>\r\n          <color>${cat.color}</color>\r\n        </category>`\r\n      ).join(\"\");\r\n      const sectionsXML = this.sections.map(sec =>\r\n        `<section>\r\n          <name>${sec.label}</name>\r\n          <abv>${sec.abv}</abv>\r\n        </section>`\r\n      ).join(\"\");\r\n      return `<booktix-data>\r\n                <chartname>${this.plan.name}</chartname>\r\n                <categories>${categoriesXML}</categories>\r\n                <sections>${sectionsXML}</sections>\r\n              </booktix-data>\r\n              <booktik-chart-id>\r\n              </booktik-chart-id>\r\n              <booktik-chart-sec>\r\n              </booktik-chart-sec>`;\r\n    },\r\n\r\n    noTableSelection() {\r\n      if (this.selection.length === 1) {\r\n        for (const z of this.plan.zones) {\r\n          for (const a of z.areas) {\r\n            if ((a.shape === 'roundTable' || a.shape === 'rectangleTable') && this.selection.includes(a.uuid)) return false;\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n\r\n    mainclasses() {\r\n      return {\r\n        // move cursor\r\n        movable: this.tool === \"select\",\r\n        \"zoom-transform\": true,\r\n      };\r\n    },\r\n\r\n    currentToolStatus() {\r\n      return this.tool === \"seatselect\" ? false : true;\r\n    },\r\n\r\n    selectionIncludesNoSeats() {\r\n      for (const z of this.plan.zones) {\r\n        for (const r of z.rows) {\r\n          for (const s of r.seats) {\r\n            if (this.selection.includes(s.uuid)) {\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n\r\n    polygonPreviewPoints() {\r\n      return this.polygonPoints\r\n        .concat([{ x: this.drawingCurrentX, y: this.drawingCurrentY }])\r\n        .map((point) => `${point.x},${point.y}`)\r\n        .join(\" \");\r\n    },\r\n\r\n    rowBlockPosition() {\r\n      const x =\r\n        this.drawingCurrentX > this.drawingStartX\r\n          ? this.drawingStartX\r\n          : this.drawingCurrentX +\r\n          ((this.drawingStartX - this.drawingCurrentX) % this.rowSeatSpacing);\r\n      const y =\r\n        this.drawingCurrentY > this.drawingStartY\r\n          ? this.drawingStartY\r\n          : this.drawingCurrentY +\r\n          ((this.drawingStartY - this.drawingCurrentY) % this.rowSpacing);\r\n      return { x, y };\r\n    },\r\n    rowDrawPosition() {\r\n      const x =\r\n        this.drawingCurrentX > this.drawingStartX\r\n          ? this.drawingStartX\r\n          : this.drawingCurrentX +\r\n          ((this.drawingStartX - this.drawingCurrentX) % this.rowSeatSpacing);\r\n      const y = this.drawingStartY;\r\n      return { x, y };\r\n    },\r\n    rowBlockTransform() {\r\n      return `translate(${this.rowBlockPosition.x}, ${this.rowBlockPosition.y})`;\r\n    },\r\n    rowBlockRows() {\r\n      if (this.rowBlockDrawing) {\r\n        return Math.ceil(\r\n          Math.abs(this.drawingCurrentY - this.drawingStartY) / this.rowSpacing\r\n        );\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n\r\n    stgrowBlockRows() {\r\n      if (this.stgrowBlockDrawing) {\r\n        return Math.ceil(\r\n          Math.abs(this.drawingCurrentY - this.drawingStartY) / this.rowSpacing\r\n        );\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n\r\n    rowCirclePreviews() {\r\n      const circles = [];\r\n      for (const z of this.plan.zones) {\r\n        for (const r of z.rows) {\r\n          if (this.selection.includes(r.uuid)) {\r\n            if (r.seats.length === 0) continue;\r\n            // See circleRows() in store/index.js for a more commented version of this math\r\n            const firstx = r.seats[0].position.x + r.position.x + z.position.x;\r\n            const firsty = r.seats[0].position.y + r.position.y + z.position.y;\r\n            const lastx =\r\n              r.seats[r.seats.length - 1].position.x +\r\n              r.position.x +\r\n              z.position.x;\r\n            const lasty =\r\n              r.seats[r.seats.length - 1].position.y +\r\n              r.position.y +\r\n              z.position.y;\r\n\r\n            if (this.tool === \"rowCircleFixedCenter\") {\r\n              const radius = Math.sqrt(\r\n                (this.drawingCurrentX - firstx) *\r\n                (this.drawingCurrentX - firstx) +\r\n                (this.drawingCurrentY - firsty) *\r\n                (this.drawingCurrentY - firsty)\r\n              );\r\n\r\n              circles.push({\r\n                radius,\r\n                cx: this.drawingCurrentX,\r\n                cy: this.drawingCurrentY,\r\n              });\r\n            } else {\r\n              const distance = Math.sqrt(\r\n                (lastx - firstx) * (lastx - firstx) +\r\n                (lasty - firsty) * (lasty - firsty)\r\n              );\r\n              const radius = Math.max(\r\n                Math.abs(\r\n                  (this.drawingCurrentX - firstx) * (lasty - firsty) -\r\n                  (this.drawingCurrentY - firsty) * (lastx - firstx)\r\n                ) / distance,\r\n                distance / 2\r\n              );\r\n              const sign = Math.sign(\r\n                (this.drawingCurrentX - firstx) * (lasty - firsty) -\r\n                (this.drawingCurrentY - firsty) * (lastx - firstx)\r\n              );\r\n\r\n              const { cx, cy } = findCircleCenter({\r\n                x1: firstx,\r\n                y1: firsty,\r\n                x2: lastx,\r\n                y2: lasty,\r\n                radius,\r\n                sign,\r\n              });\r\n\r\n              circles.push({\r\n                radius,\r\n                cx,\r\n                cy,\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return circles;\r\n    },\r\n    rowDrawingSeats() {\r\n      if (this.rowDrawing) {\r\n        const numberOfSeats = Math.ceil(\r\n          Math.sqrt(\r\n            Math.pow(this.drawingCurrentX - this.drawingStartX, 2) +\r\n            Math.pow(this.drawingCurrentY - this.drawingStartY, 2)\r\n          ) / this.rowSeatSpacing\r\n        );\r\n        const seats = [];\r\n        for (let si of Array(numberOfSeats).keys()) {\r\n          if (this.drawingCurrentX === this.drawingStartX) {\r\n            seats.push({\r\n              x: this.drawingStartX,\r\n              y:\r\n                this.drawingStartY +\r\n                this.rowSeatSpacing *\r\n                si *\r\n                Math.sign(this.drawingCurrentY - this.drawingStartY),\r\n            });\r\n          } else {\r\n            seats.push({\r\n              x:\r\n                this.drawingStartX +\r\n                this.rowSeatSpacing *\r\n                si *\r\n                Math.sign(this.drawingCurrentX - this.drawingStartX) *\r\n                Math.cos(\r\n                  Math.atan(\r\n                    (this.drawingCurrentY - this.drawingStartY) /\r\n                    (this.drawingCurrentX - this.drawingStartX)\r\n                  )\r\n                ),\r\n              y:\r\n                this.drawingStartY +\r\n                this.rowSeatSpacing *\r\n                si *\r\n                Math.sign(this.drawingCurrentX - this.drawingStartX) *\r\n                Math.sin(\r\n                  Math.atan(\r\n                    (this.drawingCurrentY - this.drawingStartY) /\r\n                    (this.drawingCurrentX - this.drawingStartX)\r\n                  )\r\n                ),\r\n            });\r\n          }\r\n        }\r\n        return seats;\r\n      } else {\r\n        return [];\r\n      }\r\n    },\r\n    rowBlockSeats() {\r\n      if (this.rowBlockDrawing) {\r\n        return Math.ceil(\r\n          Math.abs(this.drawingCurrentX - this.drawingStartX) /\r\n          this.rowSeatSpacing\r\n        );\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n    stgrowBlockSeats() {\r\n      if (this.stgrowBlockDrawing) {\r\n        return Math.ceil(\r\n          Math.abs(this.drawingCurrentX - this.drawingStartX) /\r\n          this.rowSeatSpacing\r\n        );\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n    stgrowBlockSeats1() {\r\n      if (this.stgrowBlockDrawing) {\r\n        const res = Math.ceil(\r\n          Math.abs(this.drawingCurrentX - this.drawingStartX) /\r\n          this.rowSeatSpacing\r\n        )\r\n        return res > 0 ? res - 1 : 0;\r\n      } else {\r\n        return 0;\r\n      }\r\n    },\r\n    selectionBoxesVisible() {\r\n      return this.selectionBoxes.filter((b) => b.visible);\r\n    },\r\n    selectionBoxes() {\r\n      const res = [];\r\n      if (this.selection.length) {\r\n        for (const z of this.plan.zones) {\r\n          for (const r of z.rows) {\r\n            if (this.selection.includes(r.uuid)) {\r\n              const minx = Math.min(\r\n                ...r.seats.map((s) => s.position.x - (s.radius || 10))\r\n              );\r\n              const miny = Math.min(\r\n                ...r.seats.map((s) => s.position.y - (s.radius || 10))\r\n              );\r\n              const maxx = Math.max(\r\n                ...r.seats.map((s) => s.position.x + (s.radius || 10))\r\n              );\r\n              const maxy = Math.max(\r\n                ...r.seats.map((s) => s.position.y + (s.radius || 10))\r\n              );\r\n              res.push({\r\n                visible: false,\r\n                x: z.position.x + r.position.x + minx,\r\n                y: z.position.y + r.position.y + miny,\r\n                width: maxx - minx,\r\n                height: maxy - miny,\r\n              });\r\n            }\r\n            for (const s of r.seats) {\r\n              if (this.selection.includes(s.uuid)) {\r\n                res.push({\r\n                  visible: true,\r\n                  x:\r\n                    z.position.x +\r\n                    r.position.x +\r\n                    s.position.x -\r\n                    (s.radius || 10),\r\n                  y:\r\n                    z.position.y +\r\n                    r.position.y +\r\n                    s.position.y -\r\n                    (s.radius || 10),\r\n                  width: 2 * (s.radius || 10),\r\n                  height: 2 * (s.radius || 10),\r\n                });\r\n              }\r\n            }\r\n          }\r\n\r\n          for (const a of z.areas) {\r\n            if (this.selection.includes(a.uuid)) {\r\n              let abox;\r\n              if (a.shape === \"circle\") {\r\n                abox = {\r\n                  x: a.position.x - a.circle.radius,\r\n                  y: a.position.y - a.circle.radius,\r\n                  width: 2 * a.circle.radius,\r\n                  height: 2 * a.circle.radius,\r\n                };\r\n              } else if (a.shape === \"ellipse\" || a.shape === \"gaCircle\") {\r\n                abox = ellipseBBox(a);\r\n              } else if (a.shape === \"rectangle\" || a.shape === \"gaSquare\") {\r\n                abox = rectangleBBox(a);\r\n              } else if (a.shape === \"polygon\" || a.shape === \"gaPolygon\") {\r\n                abox = polygonBBox(a);\r\n              } else if (a.shape === \"text\") {\r\n                const s = a.text.size || 16;\r\n                abox = textBBox(a, a.text.text, s);\r\n              } else if (a.shape === 'roundTable') {\r\n                abox = roundTableBBox(a);\r\n              } else if (a.shape === 'rectangleTable') {\r\n                abox = rectangleTableBBox(a);\r\n              }\r\n              //COME HERE\r\n              abox.x += z.position.x;\r\n              abox.y += z.position.y;\r\n              abox.visible = true;\r\n              res.push(abox);\r\n            } else if (a.shape === 'roundTable') {\r\n              for (const s of a.seats) {\r\n                if (this.selection.includes(s.uuid)) {\r\n                  let abox = {\r\n                    x: a.position.x + s.position.x - (s.radius || 10),\r\n                    y: a.position.y + s.position.y - (s.radius || 10),\r\n                    width: 2 * (s.radius || 10),\r\n                    height: 2 * (s.radius || 10)\r\n                  }\r\n                  if (a.rotation) {\r\n                    abox = rotateRectangluarBox(a, abox);\r\n                  }\r\n                  abox.x += z.position.x;\r\n                  abox.y += z.position.y;\r\n                  abox.visible = true;\r\n                  res.push(abox);\r\n                }\r\n              }\r\n            } else if (a.shape === 'rectangleTable') {\r\n              for (const s of a.seats) {\r\n                if (this.selection.includes(s.uuid)) {\r\n                  let abox = {\r\n                    x: a.position.x + s.position.x - (s.radius || 10) - a.rectangleTable.width / 2,\r\n                    y: a.position.y + s.position.y - (s.radius || 10) - a.rectangleTable.height / 2,\r\n                    width: 2 * (s.radius || 10),\r\n                    height: 2 * (s.radius || 10)\r\n                  }\r\n                  if (a.rotation) {\r\n                    abox = rotateRectangluarBox(a, abox);\r\n                  }\r\n                  abox.x += z.position.x;\r\n                  abox.y += z.position.y;\r\n                  abox.visible = true;\r\n                  res.push(abox);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return res;\r\n    },\r\n    selectionBoundary() {\r\n      // console.log('selectionBoundary')\r\n      const bboxes = this.selectionBoxes;\r\n      if (bboxes.length === 0) return null;\r\n      const minx = Math.min(...bboxes.map((s) => s.x));\r\n      const miny = Math.min(...bboxes.map((s) => s.y));\r\n      const maxx = Math.max(...bboxes.map((s) => s.x + s.width));\r\n      const maxy = Math.max(...bboxes.map((s) => s.y + s.height));\r\n      return {\r\n        x: minx,\r\n        y: miny,\r\n        width: maxx - minx,\r\n        height: maxy - miny,\r\n      };\r\n    },\r\n    rotateHandle() {\r\n      if (!this.selectionBoundary) return { x: 0, y: 0 };\r\n      if (this.rotating) {\r\n        return {\r\n          x: this.rotatingHandleX,\r\n          y: this.rotatingHandleY,\r\n        };\r\n      }\r\n      return {\r\n        x: this.selectionBoundary.x + this.selectionBoundary.width / 2,\r\n        y: this.selectionBoundary.y - 30,\r\n      };\r\n    },\r\n  },\r\n\r\n  created() {\r\n    // window.addEventListener(\"resize\", this.createZoom);\r\n    // window.addEventListener(\"keydown\", this.hotkey);\r\n    window.localStorage.setItem('snap_enabled', true);\r\n    window.localStorage.setItem('grid_enabled', true);\r\n    // this.unwatch = watch(this.planSize, (newValue, oldValue) => {\r\n    //   if (\r\n    //     !oldValue ||\r\n    //     newValue.width !== oldValue.width ||\r\n    //     newValue.height !== oldValue.height\r\n    //   ) {\r\n    //     nextTick(() => {\r\n    //       this.createStage();\r\n    //       this.createZoom(); // Make sure this.createZoom() is compatible with the composition API\r\n    //     });\r\n    //   }\r\n    // });\r\n    // this.unwatchTool = watch(\r\n    //   () => this.tool,\r\n    //   (newValue, oldValue) => {\r\n    //     if (!oldValue || newValue !== oldValue) {\r\n    //       // console.log(\"This is the tool\", this.tool, oldValue, newValue);\r\n    //       this.drawing = false;\r\n    //       this.selecting = false;\r\n    //       this.rowBlockDrawing = false;\r\n    //       this.polygonDrawing = false;\r\n    //       this.polygonPoints = [];\r\n    //     }\r\n    //   }\r\n    // );\r\n  },\r\n\r\n  unmounted() {\r\n    // window.removeEventListener(\"resize\", this.createZoom);\r\n    window.removeEventListener(\"keydown\", this.hotkey);\r\n    // console.log(\"unMounted\");\r\n    // this.unwatch();\r\n    // this.unwatchTool();\r\n  },\r\n\r\n  methods: {\r\n    getUniqueTableName() {\r\n      const tableNames = []\r\n      const tableAbvs = []\r\n      for (const z of this.plan.zones) {\r\n        for (const area of z.areas) {\r\n          if (area.shape === 'roundTable' || area.shape === 'rectangleTable') {\r\n            if (area.label && area.label.name)\r\n              tableNames.push(area.label.name)\r\n            if (area.label && area.label.abv)\r\n              tableAbvs.push(area.label.abv)\r\n          }\r\n        }\r\n      }\r\n      let nName = 1;\r\n      let nAbv = 1;\r\n      let labelName = 'Table 1';\r\n      let abvName = 'T1'\r\n      while (tableNames.some(name => name === labelName)) {\r\n        nName++;\r\n        labelName = `Table ${nName}`;\r\n      }\r\n\r\n      while (tableAbvs.some(name => name === abvName)) {\r\n        nAbv++;\r\n        abvName = `T${nAbv}`\r\n      }\r\n      return { labelName, abvName }\r\n    },\r\n\r\n    getUniqueGAName() {\r\n      const gaLabels = []\r\n      const gaAbvs = []\r\n      for (const z of this.plan.zones) {\r\n        for (const area of z.areas) {\r\n          if (area.shape === 'gaCircle' || area.shape === 'gaSquare' || area.shape === 'gaPolygon') {\r\n            if (area.label)\r\n              gaLabels.push(area.label)\r\n            if (area.abbreviation)\r\n              gaAbvs.push(area.abbreviation)\r\n          }\r\n        }\r\n      }\r\n      let nName = 1;\r\n      let nAbv = 1;\r\n      let gaLabel = 'General Admission 1';\r\n      let gaAbv = 'GA1'\r\n      while (gaLabels.some(name => name === gaLabel)) {\r\n        nName++;\r\n        gaLabel = `General Admission ${nName}`;\r\n      }\r\n\r\n      while (gaAbvs.some(name => name === gaAbv)) {\r\n        nAbv++;\r\n        gaAbv = `GA${nAbv}`\r\n      }\r\n      return { gaLabel, gaAbv }\r\n    },\r\n\r\n    setZoomTransform(t) {\r\n      const store = useMainStore();\r\n      store.setZoomTransform(t);\r\n    },\r\n\r\n\r\n    startRotating(event) {\r\n      if (!this.svg) return;\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      const svgbox = this.getSvgRect();\r\n      this.rotating = true;\r\n      const drawPos = positionInZone(\r\n        event.clientX - svgbox.x,\r\n        event.clientY - svgbox.y,\r\n        this.zoomTransform,\r\n        null\r\n      );\r\n      this.rotatingOriginX =\r\n        this.selectionBoundary.x + this.selectionBoundary.width / 2;\r\n      this.rotatingOriginY =\r\n        this.selectionBoundary.y + this.selectionBoundary.height / 2;\r\n      useMainStore().set_Ox(this.rotatingOriginX);\r\n      useMainStore().set_Oy(this.rotatingOriginY);\r\n      // this.temp_ox = this.selectionBoundary.x + this.selectionBoundary.width / 2;\r\n      // this.temp_oy = this.selectionBoundary.y + this.selectionBoundary.height / 2;\r\n      // console.log('When', this.rotatingOriginX)\r\n      this.rotatingStartAngle = 0;\r\n      this.rotatingHandleX = drawPos.x;\r\n      this.rotatingHandleY = drawPos.y;\r\n      return true;\r\n    },\r\n\r\n    startResizing(event, node) {\r\n      if (!this.svg) return;\r\n\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      const svgbox = this.getSvgRect();\r\n      this.resizing = true;\r\n      const drawPos = positionInZone(\r\n        event.clientX - svgbox.x,\r\n        event.clientY - svgbox.y,\r\n        this.zoomTransform,\r\n        null\r\n      );\r\n      switch (node) {\r\n        case \"nw\":\r\n          this.moveDirection = 1;\r\n          this.resizingOriginX =\r\n            this.selectionBoundary.x + this.selectionBoundary.width;\r\n          this.resizingOriginY =\r\n            this.selectionBoundary.y + this.selectionBoundary.height;\r\n          break;\r\n        case \"ne\":\r\n          this.moveDirection = 2;\r\n          this.resizingOriginX = this.selectionBoundary.x;\r\n          this.resizingOriginY =\r\n            this.selectionBoundary.y + this.selectionBoundary.height;\r\n          break;\r\n        case \"sw\":\r\n          this.moveDirection = 4;\r\n          this.resizingOriginX =\r\n            this.selectionBoundary.x + this.selectionBoundary.width;\r\n          this.resizingOriginY = this.selectionBoundary.y;\r\n          break;\r\n        case \"se\":\r\n          this.moveDirection = 3;\r\n          this.resizingOriginX = this.selectionBoundary.x;\r\n          this.resizingOriginY = this.selectionBoundary.y;\r\n          break;\r\n        default:\r\n          console.error(\"unknown resize node\");\r\n      }\r\n      this.resizingStartDistance = Math.sqrt(\r\n        (drawPos.x - this.resizingOriginX) *\r\n        (drawPos.x - this.resizingOriginX) +\r\n        (drawPos.y - this.resizingOriginY) *\r\n        (drawPos.y - this.resizingOriginY)\r\n      );\r\n      // console.log(this.resizingStartDistance);\r\n      return true;\r\n    },\r\n\r\n    startDragging(uuid, zone, event) {\r\n      // console.log('startdragging here!!!')\r\n      // console.log(store.selection);\r\n      if (!this.svg) return;\r\n      if (event) {\r\n        const svgbox = this.getSvgRect();\r\n\r\n        const pos = positionInZone(\r\n          event.clientX - svgbox.x,\r\n          event.clientY - svgbox.y,\r\n          this.zoomTransform,\r\n          null\r\n        );\r\n        const store = useMainStore();\r\n        store.startDragging(uuid, event.shiftKey, pos.x, pos.y, zone.uuid);\r\n      }\r\n    },\r\n\r\n    startDraggingPolygonPoint(uuid, pid, zone, event) {\r\n      console.log('startDragging')\r\n      if (!this.svg) return;\r\n      const svgbox = this.getSvgRect();\r\n      const pos = positionInZone(\r\n        event.clientX - svgbox.x,\r\n        event.clientY - svgbox.y,\r\n        this.zoomTransform,\r\n        null\r\n      );\r\n      const store = useMainStore();\r\n      store.startDraggingPolygonPoint(\r\n        uuid,\r\n        pid,\r\n        event.shiftKey,\r\n        pos.x,\r\n        pos.y,\r\n        zone\r\n      );\r\n    },\r\n\r\n    mousedown(event) {\r\n      if (!this.svg) return;\r\n\r\n      if (this.selectedIcon) {\r\n        const { offsetX, offsetY } = event;\r\n        this.iconStore.placeIcon({\r\n          path: this.selectedIcon.src,\r\n          transform: `translate(${offsetX}, ${offsetY})`,\r\n          rotation: 0,\r\n          scale: 1\r\n        })\r\n        this.iconStore.resetSelectedIcon();\r\n        document.body.style.cursor = 'default';\r\n        return;\r\n      }\r\n      const store = useMainStore();\r\n\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      if (this.rotating || this.resizing) {\r\n        return;\r\n      }\r\n      const svgbox = this.getSvgRect(); //this.getSvgRect();\r\n      const zone = this.plan.zones.find((z) => z.uuid === this.selectedZone);\r\n      // console.log(svgbox);\r\n\r\n      let targetPos = positionInZone(\r\n        event.clientX - svgbox.x,\r\n        event.clientY - svgbox.y,\r\n        this.zoomTransform,\r\n        zone\r\n      );\r\n\r\n      if (targetPos.x < 0 || targetPos.y < 0 || targetPos.x > this.plan.size.width || targetPos.y > this.plan.size.height) return;\r\n\r\n      switch (this.tool) {\r\n        // case \"hand\":\r\n        //   console.log(\"changed to handon\");\r\n        //   useMainStore().changeTool(\"handon\");\r\n        //   return;\r\n        case \"select\":\r\n        case \"seatselect\": {\r\n          let selPos = positionInZone(\r\n            event.clientX - svgbox.x,\r\n            event.clientY - svgbox.y,\r\n            this.zoomTransform,\r\n            null\r\n          );\r\n          this.selecting = true;\r\n          this.selectingStartX = selPos.x;\r\n          this.selectingStartY = selPos.y;\r\n          this.selectingCurrentX = selPos.x;\r\n          this.selectingCurrentY = selPos.y;\r\n\r\n          // this.rotatingOriginX =\r\n          //   this.selectionBoundary.x + this.selectionBoundary.width / 2;\r\n          // this.rotatingOriginY =\r\n          //   this.selectionBoundary.y + this.selectionBoundary.height / 2;\r\n          // console.log('Here?')\r\n          // console.log(this.rotatingOriginX);\r\n          break;\r\n        }\r\n        case \"gaCircle\":\r\n        case \"gaSquare\":\r\n        case \"rectangle\":\r\n        case \"circle\":\r\n        case \"ellipse\": {\r\n          this.drawing = true;\r\n          let drawPos = positionInZone(\r\n            event.clientX - svgbox.x,\r\n            event.clientY - svgbox.y,\r\n            this.zoomTransform,\r\n            null\r\n          );\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            drawPos = findClosestGridPoint({\r\n              x: drawPos.x,\r\n              y: drawPos.y,\r\n              zone: zone,\r\n            });\r\n          }\r\n          this.drawingStartX = drawPos.x;\r\n          this.drawingStartY = drawPos.y;\r\n          this.drawingCurrentX = drawPos.x;\r\n          this.drawingCurrentY = drawPos.y;\r\n          break;\r\n        }\r\n        case \"text\": {\r\n          let targetPos = positionInZone(\r\n            event.clientX - svgbox.x,\r\n            event.clientY - svgbox.y,\r\n            this.zoomTransform,\r\n            zone\r\n          );\r\n          const width = estimateTextWidth('Text', 32);\r\n          const height = 32;\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            targetPos = findClosestGridPoint({\r\n              x: targetPos.x,\r\n              y: targetPos.y,\r\n            });\r\n          }\r\n\r\n          if (targetPos.x - width / 2 < 0 || targetPos.x + width / 2 > this.plan.size.width || targetPos.y - height / 2 < 0 || targetPos.y + height / 2 > this.plan.size.height)\r\n            return;\r\n          const newId = uuid();\r\n          usePlanStore()\r\n            .createArea(this.selectedZone, {\r\n              shape: \"text\",\r\n              rotation: 0,\r\n              uuid: newId,\r\n              position: {\r\n                x: targetPos.x,\r\n                y: targetPos.y,\r\n              },\r\n              text: {\r\n                position: { x: 0, y: 0 },\r\n                color: \"#333333\",\r\n                text: \"Text\",\r\n                size: 32,\r\n              },\r\n            })\r\n            .then(() => {\r\n              this.$nextTick(() => {\r\n                store.toggleSelection([newId], this.selectedZone, false);\r\n              });\r\n            });\r\n          break;\r\n        }\r\n        case \"roundTable\": {\r\n          let targetPos = positionInZone(\r\n            event.clientX - svgbox.x,\r\n            event.clientY - svgbox.y,\r\n            this.zoomTransform,\r\n            zone\r\n          );\r\n          // if (targetPos.x < 35 || targetPos.y < 35 || targetPos.x > this.plan.size.width - 35 || targetPos.y > this.plan.size.height - 35) return;\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            targetPos = findClosestGridPoint({\r\n              x: targetPos.x,\r\n              y: targetPos.y,\r\n            });\r\n          }\r\n          if (targetPos.x - 45 < 0 || targetPos.x + 45 > this.plan.size.width || targetPos.y - 42 < 0 || targetPos.y + 42 > this.plan.size.height)\r\n            return;\r\n          const arr = []\r\n          for (let i = 0; i < 6; i++) {\r\n            arr.push(i);\r\n          }\r\n\r\n          const { labelName, abvName } = this.getUniqueTableName();\r\n          const newId = uuid();\r\n          usePlanStore()\r\n            .createArea(this.selectedZone, {\r\n              shape: \"roundTable\",\r\n              space: 0,\r\n              rotation: 0,\r\n              uuid: newId,\r\n              label: {\r\n                position: {\r\n                  x: 0,\r\n                  y: 0,\r\n                },\r\n                name: labelName,\r\n                abv: abvName,\r\n                color: \"#333333\",\r\n                size: 16,\r\n              },\r\n              position: {\r\n                x: targetPos.x,\r\n                y: targetPos.y,\r\n              },\r\n              radius: 25,\r\n              capacity: 6,\r\n              seats: arr.map((item, idx, arr) => {\r\n                const degree = 2 * Math.PI / arr.length * idx;\r\n                return {\r\n                  seat_number: (idx + 1).toString(),\r\n                  position: {\r\n                    x: 35 * Math.cos(degree),\r\n                    y: 35 * Math.sin(degree),\r\n                  },\r\n                  r: 10,\r\n                  guid: generateID(),\r\n                  uuid: uuid()\r\n                }\r\n              })\r\n            })\r\n            .then(() => {\r\n              this.$nextTick(() => {\r\n                store.toggleSelection([newId], this.selectedZone, false);\r\n              });\r\n            });\r\n          break;\r\n        }\r\n\r\n        case \"rectangleTable\": {\r\n          let targetPos = positionInZone(\r\n            event.clientX - svgbox.x,\r\n            event.clientY - svgbox.y,\r\n            this.zoomTransform,\r\n            zone\r\n          );\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            targetPos = findClosestGridPoint({\r\n              x: targetPos.x,\r\n              y: targetPos.y,\r\n            });\r\n          }\r\n          if (targetPos.x - 70 < 0 || targetPos.x + 70 > this.plan.size.width || targetPos.y - 50 < 0 || targetPos.y + 50 > this.plan.size.width)\r\n            return;\r\n          const dx = 120 / 3;\r\n          let top = []\r\n          for (let i = 0; i < 4; i++) top.push(i)\r\n          top = top.map((item, idx) => {\r\n            return {\r\n              position: {\r\n                x: idx * dx + 10,\r\n                y: -10\r\n              },\r\n              seat_number: (idx + 1).toString(),\r\n              color: \"#333333\",\r\n              uuid: uuid(),\r\n              guid: generateID(),\r\n              radius: 10,\r\n              special: 'top'\r\n            }\r\n          })\r\n          let bottom = []\r\n          for (let i = 0; i < 4; i++) bottom.push(i)\r\n          bottom = bottom.map((item, idx) => {\r\n            return {\r\n              position: {\r\n                x: idx * dx + 10,\r\n                y: 70\r\n              },\r\n              radius: 10,\r\n              seat_number: (idx + 5).toString(),\r\n              color: \"#333333\",\r\n              uuid: uuid(),\r\n              guid: generateID(),\r\n              special: 'bottom'\r\n            }\r\n          })\r\n          const { labelName, abvName } = this.getUniqueTableName();\r\n          const newId = uuid();\r\n          usePlanStore()\r\n            .createArea(this.selectedZone, {\r\n              shape: \"rectangleTable\",\r\n              capacity: {\r\n                top: 4,\r\n                bottom: 4,\r\n                left: 0,\r\n                right: 0,\r\n              },\r\n              rectangleTable: {\r\n                width: 140,\r\n                height: 60,\r\n              },\r\n              rotation: 0,\r\n              uuid: newId,\r\n              position: {\r\n                x: targetPos.x,\r\n                y: targetPos.y,\r\n              },\r\n              label: {\r\n                name: labelName,\r\n                abv: abvName,\r\n                position: { x: 0, y: 0 },\r\n                color: \"#333333\",\r\n                text: \"\",\r\n                size: 16\r\n              },\r\n              seats: [...top, ...bottom]\r\n            })\r\n            .then(() => {\r\n              this.$nextTick(() => {\r\n                store.toggleSelection([newId], this.selectedZone, false);\r\n              });\r\n            });\r\n          break;\r\n        }\r\n\r\n        case \"rowCircle\":\r\n        case \"rowCircleFixedCenter\": {\r\n          if (this.tool !== \"rowCircle\" && this.tool !== \"rowCircleFixedCenter\")\r\n            return false;\r\n          let clickPos = positionInZone(\r\n            event.clientX - svgbox.x,\r\n            event.clientY - svgbox.y,\r\n            this.zoomTransform,\r\n            null\r\n          );\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            clickPos = findClosestGridPoint({\r\n              x: clickPos.x,\r\n              y: clickPos.y,\r\n              zone: zone,\r\n            });\r\n          }\r\n          this.drawingCurrentX = clickPos.x;\r\n          this.drawingCurrentY = clickPos.y;\r\n\r\n          const store = useMainStore();\r\n          store.circleRows(\r\n            this.drawingCurrentX,\r\n            this.drawingCurrentY,\r\n            this.tool === \"rowCircleFixedCenter\"\r\n          );\r\n          store.changeTool(\"select\");\r\n          break;\r\n        }\r\n        case \"row\": {\r\n          if (this.rowDrawing) {\r\n            break;\r\n          }\r\n          let rowPos = positionInZone(\r\n            event.clientX - svgbox.x,\r\n            event.clientY - svgbox.y,\r\n            this.zoomTransform,\r\n            null\r\n          );\r\n          if (event.shiftKey || this.bSnap2Grid)\r\n            rowPos = findClosestGridPoint({\r\n              x: rowPos.x,\r\n              y: rowPos.y,\r\n              zone: zone,\r\n            });\r\n\r\n          this.rowDrawing = true;\r\n          this.drawingStartX = rowPos.x;\r\n          this.drawingStartY = rowPos.y;\r\n          this.drawingCurrentX = rowPos.x;\r\n          this.drawingCurrentY = rowPos.y;\r\n          this.rowCurrentX = rowPos.x;\r\n          this.rowCurrentY = rowPos.y;\r\n          break;\r\n        }\r\n        case \"rows\": {\r\n          if (this.rowBlockDrawing) {\r\n            break;\r\n          }\r\n          let pos = positionInZone(\r\n            event.clientX - svgbox.x,\r\n            event.clientY - svgbox.y,\r\n            this.zoomTransform,\r\n            null\r\n          );\r\n          if (event.shiftKey || this.bSnap2Grid)\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n\r\n          this.rowBlockDrawing = true;\r\n          this.drawingStartX = pos.x;\r\n          this.drawingStartY = pos.y;\r\n          this.drawingCurrentX = pos.x;\r\n          this.drawingCurrentY = pos.y;\r\n          this.rowCurrentX = pos.x;\r\n          this.rowCurrentY = pos.y;\r\n          break;\r\n        }\r\n        case \"stgrows\": {\r\n          if (this.stgrowBlockDrawing) {\r\n            break;\r\n          }\r\n          let pos = positionInZone(\r\n            event.clientX - svgbox.x,\r\n            event.clientY - svgbox.y,\r\n            this.zoomTransform,\r\n            null\r\n          );\r\n          if (event.shiftKey || this.bSnap2Grid)\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n\r\n          this.stgrowBlockDrawing = true;\r\n          this.drawingStartX = pos.x;\r\n          this.drawingStartY = pos.y;\r\n          this.drawingCurrentX = pos.x;\r\n          this.drawingCurrentY = pos.y;\r\n          this.rowCurrentX = pos.x;\r\n          this.rowCurrentY = pos.y;\r\n          break;\r\n        }\r\n        case \"focusPoint\":\r\n          if (Math.abs(targetPos.x - this.focusPointX) < 30 && Math.abs(targetPos.y - this.focusPointY) < 30)\r\n            this.focusDragging = true;\r\n          break;\r\n      }\r\n    },\r\n    temp_Rotate(val) {\r\n      const store = useMainStore();\r\n      store.moveRotating(\r\n        store.temp_ox,\r\n        store.temp_oy,\r\n        val * Math.PI / 180\r\n      );\r\n    },\r\n\r\n    // Curve() {\r\n    //   const store = useMainStore();\r\n    //   store.circleRows(\r\n    //     10,\r\n    //     10,\r\n    //     false\r\n    //   );\r\n    // },\r\n\r\n    mousemove(event) {\r\n      if (!this.svg) return;\r\n      const store = useMainStore();\r\n      // console.log(this.tool);\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      // console.log(\"MouseMove\", this.svg, this.getSvgRect());\r\n      const svgbox = this.getSvgRect();\r\n      let pos = positionInZone(\r\n        event.clientX - svgbox.x,\r\n        event.clientY - svgbox.y,\r\n        this.zoomTransform,\r\n        null\r\n      );\r\n      const zone = this.plan.zones.find((z) => z.uuid === this.selectedZone);\r\n\r\n      if (pos.x < 0 || pos.y < 0 || pos.x > this.plan.size.width || pos.y > this.plan.size.height) {\r\n        this.mouseStatus = false;\r\n        return;\r\n      }\r\n\r\n      this.mouseStatus = true;\r\n\r\n      if (this.rotating && this.tool !== \"seatselect\") {\r\n        let angle = -Math.atan(\r\n          (this.rotatingOriginX - pos.x) / (this.rotatingOriginY - pos.y)\r\n        );\r\n\r\n\r\n        console.log(this.bSnap2Grid)\r\n        // rotate-setting\r\n        if (event.shiftKey || this.bSnap2Grid) {\r\n          // Snap to 5° intervals\r\n          if (angle < 0) angle += 2 * Math.PI;\r\n          angle -= angle % ((5 / 180) * Math.PI);\r\n        }\r\n        if (pos.y > this.rotatingOriginY) angle += Math.PI;\r\n        const store = useMainStore();\r\n        store.moveRotating(\r\n          this.rotatingOriginX,\r\n          this.rotatingOriginY,\r\n          angle - this.rotatingStartAngle\r\n        );\r\n\r\n        // console.log('sec', angle, this.rotatingStartAngle);\r\n        this.rotatingStartAngle = angle;\r\n        this.rotatingHandleX = pos.x;\r\n        this.rotatingHandleY = pos.y;\r\n        return;\r\n      }\r\n      if (this.resizing) {\r\n        let distance = Math.sqrt(\r\n          (pos.x - this.resizingOriginX) * (pos.x - this.resizingOriginX) +\r\n          (pos.y - this.resizingOriginY) * (pos.y - this.resizingOriginY)\r\n        );\r\n        for (const z of this.plan.zones) {\r\n          for (const row of z.rows) {\r\n            if (this.selection.includes(row.uuid)) {\r\n              if (row.seats.length < 2) return;\r\n              const x0 = row.seats[0].position.x;\r\n              const y0 = row.seats[0].position.y;\r\n              const x1 = row.seats[1].position.x;\r\n              const y1 = row.seats[1].position.y;\r\n              if (\r\n                Math.sqrt((x0 - x1) * (x0 - x1) + (y0 - y1) * (y0 - y1)) *\r\n                (distance / this.resizingStartDistance) <\r\n                20\r\n              )\r\n                return;\r\n            }\r\n          }\r\n        }\r\n        store.moveResizing(\r\n          this.resizingOriginX,\r\n          this.resizingOriginY,\r\n          distance / this.resizingStartDistance,\r\n        );\r\n        this.resizingStartDistance = distance;\r\n      }\r\n\r\n      switch (this.tool) {\r\n        case \"select\":\r\n          if (store.dragging) {\r\n            // if (this.selectionBoundary.x < 0 || this.selectionBoundary.y < 0 || this.selectionBoundary.x + this.selectionBoundary.width > (this.plan.size.width + 10) ||\r\n            //   this.selectionBoundary.y + this.selectionBoundary.height > this.plan.size.height) return;\r\n            store.moveDragging(\r\n              pos.x,\r\n              pos.y,\r\n              event.shiftKey || this.bSnap2Grid,\r\n              this.zoomTransform.k\r\n            );\r\n            // console.log('akfAjej', this.selectionBoundary)\r\n            if (this.selectionBoundary) {\r\n              useMainStore().set_Ox(this.selectionBoundary.x + this.selectionBoundary.width / 2);\r\n              useMainStore().set_Oy(this.selectionBoundary.y + this.selectionBoundary.height / 2);\r\n            }\r\n\r\n          } else if (this.selecting) {\r\n            this.selectingCurrentX = pos.x;\r\n            this.selectingCurrentY = pos.y;\r\n\r\n            let uuids = [];\r\n            // console.log([...uuids]);\r\n            const xmin = Math.min(this.selectingStartX, this.selectingCurrentX);\r\n            const ymin = Math.min(this.selectingStartY, this.selectingCurrentY);\r\n            const xmax = Math.max(this.selectingStartX, this.selectingCurrentX);\r\n            const ymax = Math.max(this.selectingStartY, this.selectingCurrentY);\r\n            // console.log(uuids, xmin, ymin, xmax, ymax);\r\n\r\n            for (const z of this.plan.zones) {\r\n              if (this.lockedZones.includes(z.uuid)) continue;\r\n              for (const r of z.rows) {\r\n                for (const s of r.seats) {\r\n                  if (\r\n                    z.position.x +\r\n                    r.position.x +\r\n                    s.position.x +\r\n                    (s.radius || 10) >=\r\n                    xmin &&\r\n                    z.position.x +\r\n                    r.position.x +\r\n                    s.position.x -\r\n                    (s.radius || 10) <=\r\n                    xmax &&\r\n                    z.position.y +\r\n                    r.position.y +\r\n                    s.position.y +\r\n                    (s.radius || 10) >=\r\n                    ymin &&\r\n                    z.position.y +\r\n                    r.position.y +\r\n                    s.position.y -\r\n                    (s.radius || 10) <=\r\n                    ymax &&\r\n                    !uuids.includes(r.uuid)\r\n                  ) {\r\n                    uuids.push(r.uuid);\r\n                  }\r\n                }\r\n              }\r\n              for (const a of z.areas) {\r\n                if (testOverlap(a, z, xmin, ymin, xmax, ymax)) {\r\n                  // console.log(\"HERE??\");\r\n                  uuids.push(a.uuid);\r\n                }\r\n              }\r\n            }\r\n\r\n            // console.log(this.selectedZone)\r\n            //Edit Here plz\r\n\r\n            if (this.selectionBoundary) {\r\n              useMainStore().set_Ox(this.selectionBoundary.x + this.selectionBoundary.width / 2);\r\n              useMainStore().set_Oy(this.selectionBoundary.y + this.selectionBoundary.height / 2);\r\n            }\r\n            store.setSelection(uuids, this.selectedZone, event.shiftKey);\r\n\r\n          } else {\r\n            return false;\r\n          }\r\n\r\n          break;\r\n        case \"seatselect\":\r\n          if (store.dragging) {\r\n            store.moveDragging(\r\n              pos.x,\r\n              pos.y,\r\n              event.shiftKey || this.bSnap2Grid,\r\n              this.zoomTransform.k\r\n            );\r\n          } else if (this.selecting) {\r\n            this.selectingCurrentX = pos.x;\r\n            this.selectingCurrentY = pos.y;\r\n\r\n            let uuids = [];\r\n            // console.log([...uuids]);\r\n            const xmin = Math.min(this.selectingStartX, this.selectingCurrentX);\r\n            const ymin = Math.min(this.selectingStartY, this.selectingCurrentY);\r\n            const xmax = Math.max(this.selectingStartX, this.selectingCurrentX);\r\n            const ymax = Math.max(this.selectingStartY, this.selectingCurrentY);\r\n            // console.log(uuids, xmin, ymin, xmax, ymax);\r\n\r\n\r\n            for (const z of this.plan.zones) {\r\n              if (this.lockedZones.includes(z.uuid)) continue;\r\n              for (const r of z.rows) {\r\n                for (const s of r.seats) {\r\n                  if (\r\n                    z.position.x +\r\n                    r.position.x +\r\n                    s.position.x +\r\n                    (s.radius || 10) >=\r\n                    xmin &&\r\n                    z.position.x +\r\n                    r.position.x +\r\n                    s.position.x -\r\n                    (s.radius || 10) <=\r\n                    xmax &&\r\n                    z.position.y +\r\n                    r.position.y +\r\n                    s.position.y +\r\n                    (s.radius || 10) >=\r\n                    ymin &&\r\n                    z.position.y +\r\n                    r.position.y +\r\n                    s.position.y -\r\n                    (s.radius || 10) <=\r\n                    ymax\r\n                  ) {\r\n                    uuids.push(s.uuid);\r\n                  }\r\n                }\r\n              }\r\n\r\n              for (const a of z.areas) {\r\n                if (a.shape === 'roundTable') {\r\n                  for (const s of a.seats) {\r\n                    let abox = {\r\n                      x: a.position.x + s.position.x - (s.radius || 10),\r\n                      y: a.position.y + s.position.y - (s.radius || 10),\r\n                      width: 2 * (s.radius || 10),\r\n                      height: 2 * (s.radius || 10)\r\n                    }\r\n                    if (a.rotation) {\r\n                      abox = rotateRectangluarBox(a, abox);\r\n                    }\r\n                    abox.x += z.position.x;\r\n                    abox.y += z.position.y;\r\n                    if (\r\n                      (abox.x + abox.width) >=\r\n                      xmin &&\r\n                      abox.x <=\r\n                      xmax &&\r\n                      (abox.y + abox.height) >=\r\n                      ymin &&\r\n                      abox.y <=\r\n                      ymax\r\n                    ) {\r\n                      uuids.push(s.uuid);\r\n                    }\r\n                  }\r\n                } else if (a.shape === 'rectangleTable') {\r\n                  for (const s of a.seats) {\r\n                    let abox = {\r\n                      x: a.position.x + s.position.x - (s.radius || 10) - a.rectangleTable.width / 2,\r\n                      y: a.position.y + s.position.y - (s.radius || 10) - a.rectangleTable.height / 2,\r\n                      width: 2 * (s.radius || 10),\r\n                      height: 2 * (s.radius || 10)\r\n                    }\r\n                    if (a.rotation) {\r\n                      abox = rotateRectangluarBox(a, abox);\r\n                    }\r\n                    abox.x += z.position.x;\r\n                    abox.y += z.position.y;\r\n                    if (\r\n                      (abox.x + abox.width) >=\r\n                      xmin &&\r\n                      abox.x <=\r\n                      xmax &&\r\n                      (abox.y + abox.height) >=\r\n                      ymin &&\r\n                      abox.y <=\r\n                      ymax\r\n                    ) {\r\n                      uuids.push(s.uuid);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            // console.log(this.selectedZone)\r\n\r\n            store.setSelection(uuids, this.selectedZone, event.shiftKey);\r\n          } else {\r\n            return false;\r\n          }\r\n          break;\r\n        case \"gaCircle\":\r\n        case \"gaSquare\":\r\n        case \"rectangle\":\r\n        case \"circle\":\r\n        case \"ellipse\":\r\n          if (!this.drawing) return false;\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n          }\r\n          this.drawingCurrentX = pos.x;\r\n          this.drawingCurrentY = pos.y;\r\n          break;\r\n        case \"roundTable\":\r\n        case \"rectangleTable\":\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n          }\r\n          this.drawingCurrentX = pos.x;\r\n          this.drawingCurrentY = pos.y;\r\n          break;\r\n        case \"rowCircle\":\r\n        case \"rowCircleFixedCenter\":\r\n          if (this.tool !== \"rowCircle\" && this.tool !== \"rowCircleFixedCenter\")\r\n            return false;\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n          }\r\n          this.drawingCurrentX = pos.x;\r\n          this.drawingCurrentY = pos.y;\r\n          break;\r\n        case \"row\":\r\n          this.rowCurrentX = pos.x;\r\n          this.rowCurrentY = pos.y;\r\n          if (!this.rowDrawing) return false;\r\n          // rotate-setting\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            // Snap to 5° intervals\r\n            {\r\n              const dx = pos.x - this.drawingStartX;\r\n              const dy = pos.y - this.drawingStartY;\r\n              let angle = (-Math.atan(dx / dy) / Math.PI) * 180;\r\n              let distance = Math.sqrt(dx * dx + dy * dy);\r\n              if (angle < 0) angle += 360;\r\n              angle -= angle % 5;\r\n              if (\r\n                Math.round(Math.abs(angle)) === 90 ||\r\n                Math.round(Math.abs(angle)) === 0 ||\r\n                Math.round(Math.abs(angle)) === 180 ||\r\n                Math.round(Math.abs(angle)) === 270\r\n              ) {\r\n                distance = Math.round(distance / 10) * 10;\r\n              }\r\n              this.drawingCurrentX =\r\n                this.drawingStartX -\r\n                Math.sign(dy) * distance * Math.sin((angle / 180) * Math.PI);\r\n              this.drawingCurrentY =\r\n                this.drawingStartY +\r\n                Math.sign(dy) * distance * Math.cos((angle / 180) * Math.PI);\r\n            }\r\n          } else {\r\n            this.drawingCurrentX = pos.x;\r\n            this.drawingCurrentY = pos.y;\r\n          }\r\n          break;\r\n        case \"rows\":\r\n          this.rowCurrentX = pos.x;\r\n          this.rowCurrentY = pos.y;\r\n          if (!this.rowBlockDrawing) return false;\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n          }\r\n          this.drawingCurrentX = pos.x;\r\n          this.drawingCurrentY = pos.y;\r\n          break;\r\n        case \"stgrows\":\r\n          this.rowCurrentX = pos.x;\r\n          this.rowCurrentY = pos.y;\r\n          if (!this.stgrowBlockDrawing) return false;\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n          }\r\n          this.drawingCurrentX = pos.x;\r\n          this.drawingCurrentY = pos.y;\r\n          break;\r\n        case \"polygon\":\r\n        case \"gaPolygon\":\r\n          if (store.dragging) {\r\n            store.moveDragging(\r\n              pos.x,\r\n              pos.y,\r\n              event.shiftKey || this.bSnap2Grid,\r\n              this.zoomTransform.k\r\n            );\r\n            break;\r\n          }\r\n          if (!this.polygonDrawing) return false;\r\n\r\n          // rotate-setting\r\n          // if (event.shiftKey || this.bSnap2Grid) {\r\n          // Snap to 5° intervals\r\n          {\r\n            const dx =\r\n              pos.x - this.polygonPoints[this.polygonPoints.length - 1].x;\r\n            const dy =\r\n              pos.y - this.polygonPoints[this.polygonPoints.length - 1].y;\r\n            let angle = (-Math.atan(dx / dy) / Math.PI) * 180;\r\n            let distance = Math.sqrt(dx * dx + dy * dy);\r\n            if (angle < 0) angle += 360;\r\n            angle -= angle % 5;\r\n            if (\r\n              Math.round(Math.abs(angle)) === 90 ||\r\n              Math.round(Math.abs(angle)) === 0 ||\r\n              Math.round(Math.abs(angle)) === 180 ||\r\n              Math.round(Math.abs(angle)) === 270\r\n            ) {\r\n              distance = Math.round(distance / 10) * 10;\r\n            }\r\n            this.drawingCurrentX =\r\n              this.polygonPoints[this.polygonPoints.length - 1].x -\r\n              Math.sign(dy) * distance * Math.sin((angle / 180) * Math.PI);\r\n            this.drawingCurrentY =\r\n              this.polygonPoints[this.polygonPoints.length - 1].y +\r\n              Math.sign(dy) * distance * Math.cos((angle / 180) * Math.PI);\r\n          }\r\n          // } else {\r\n          //   this.drawingCurrentX = pos.x;\r\n          //   this.drawingCurrentY = pos.y;\r\n          // }\r\n          break;\r\n        case \"focusPoint\":\r\n          if (this.focusDragging) {\r\n            this.planstore.setFocusPoint(pos.x, pos.y)\r\n            // this.focusPointX = pos.x;\r\n            // this.focusPointY = pos.y;\r\n          }\r\n          break;\r\n      }\r\n    },\r\n    mouseup(event) {\r\n      if (!this.svg) return;\r\n      // console.log(\"~~~~~~~~~~~~~~~Mouse Up\", this.tool);\r\n      // if (this.tool == \"handon\") {\r\n      //   console.log(\"MouseUP\", this.tool);\r\n      //   useMainStore().changeTool(\"hand\");\r\n      //   return false;\r\n      // }\r\n      const store = useMainStore();\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      if (this.rotating) {\r\n        this.rotating = false;\r\n        this.rotatingOriginX = 0;\r\n        this.rotatingOriginY = 0;\r\n        usePlanStore().persistPlan();\r\n        return;\r\n      }\r\n      if (this.resizing) {\r\n        this.resizing = false;\r\n        this.resizingOriginX = 0;\r\n        this.resizingOriginY = 0;\r\n        usePlanStore().persistPlan();\r\n        return;\r\n      }\r\n      const svgbox = this.getSvgRect();\r\n      const zone = this.plan.zones.find((z) => z.uuid === this.selectedZone);\r\n      let pos = positionInZone(\r\n        event.clientX - svgbox.x,\r\n        event.clientY - svgbox.y,\r\n        this.zoomTransform,\r\n        null\r\n      );\r\n      const newId = uuid();\r\n      const interval = new Date().getTime() - this.lastMouseUp;\r\n      this.lastMouseUp = new Date().getTime();\r\n      switch (this.tool) {\r\n        // case \"select\":\r\n        case \"seatselect\":\r\n          // console.log('mouseup here')\r\n          if (store.dragging) {\r\n            store.stopDragging();\r\n          } else if (this.selecting) {\r\n            if (\r\n              interval < 500 &&\r\n              Math.abs(this.selectingCurrentX - this.selectingStartX) < 10\r\n            ) {\r\n              // \"double click\"\r\n              store.changeTool(\"select\");\r\n              return true;\r\n            }\r\n            this.selecting = false;\r\n            let uuids = [];\r\n            const xmin = Math.min(this.selectingStartX, this.selectingCurrentX);\r\n            const ymin = Math.min(this.selectingStartY, this.selectingCurrentY);\r\n            const xmax = Math.max(this.selectingStartX, this.selectingCurrentX);\r\n            const ymax = Math.max(this.selectingStartY, this.selectingCurrentY);\r\n            for (const z of this.plan.zones) {\r\n              if (this.lockedZones.includes(z.uuid)) continue;\r\n              for (const r of z.rows) {\r\n                for (const s of r.seats) {\r\n                  if (\r\n                    z.position.x +\r\n                    r.position.x +\r\n                    s.position.x +\r\n                    (s.radius || 10) >=\r\n                    xmin &&\r\n                    z.position.x +\r\n                    r.position.x +\r\n                    s.position.x -\r\n                    (s.radius || 10) <=\r\n                    xmax &&\r\n                    z.position.y +\r\n                    r.position.y +\r\n                    s.position.y +\r\n                    (s.radius || 10) >=\r\n                    ymin &&\r\n                    z.position.y +\r\n                    r.position.y +\r\n                    s.position.y -\r\n                    (s.radius || 10) <=\r\n                    ymax\r\n                  ) {\r\n                    uuids.push(s.uuid);\r\n                  }\r\n                }\r\n              }\r\n              for (const a of z.areas) {\r\n                if (a.shape === 'roundTable') {\r\n                  for (const s of a.seats) {\r\n                    let abox = {\r\n                      x: a.position.x + s.position.x - (s.radius || 10),\r\n                      y: a.position.y + s.position.y - (s.radius || 10),\r\n                      width: 2 * (s.radius || 10),\r\n                      height: 2 * (s.radius || 10)\r\n                    }\r\n                    if (a.rotation) {\r\n                      abox = rotateRectangluarBox(a, abox);\r\n                    }\r\n                    abox.x += z.position.x;\r\n                    abox.y += z.position.y;\r\n                    if (\r\n                      (abox.x + abox.width) >=\r\n                      xmin &&\r\n                      abox.x <=\r\n                      xmax &&\r\n                      (abox.y + abox.height) >=\r\n                      ymin &&\r\n                      abox.y <=\r\n                      ymax\r\n                    ) {\r\n                      uuids.push(s.uuid);\r\n                    }\r\n                  }\r\n                } else if (a.shape === 'rectangleTable') {\r\n                  for (const s of a.seats) {\r\n                    let abox = {\r\n                      x: a.position.x + s.position.x - (s.radius || 10) - a.rectangleTable.width / 2,\r\n                      y: a.position.y + s.position.y - (s.radius || 10) - a.rectangleTable.height / 2,\r\n                      width: 2 * (s.radius || 10),\r\n                      height: 2 * (s.radius || 10)\r\n                    }\r\n                    if (a.rotation) {\r\n                      abox = rotateRectangluarBox(a, abox);\r\n                    }\r\n                    abox.x += z.position.x;\r\n                    abox.y += z.position.y;\r\n                    if (\r\n                      (abox.x + abox.width) >=\r\n                      xmin &&\r\n                      abox.x <=\r\n                      xmax &&\r\n                      (abox.y + abox.height) >=\r\n                      ymin &&\r\n                      abox.y <=\r\n                      ymax\r\n                    ) {\r\n                      uuids.push(s.uuid);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            // console.log('SeatSelect', uuids, this.selectedZone);\r\n            store.setSelection(uuids, this.selectedZone, event.shiftKey);\r\n            console.log(this.selection);\r\n            // console.log(\"Selectseat here\");\r\n            // console.log(store.selection)\r\n            return true;\r\n          }\r\n          return false;\r\n        case \"select\":\r\n          // console.log('plan select')\r\n          if (store.dragging) {\r\n            store.stopDragging();\r\n          } else if (this.selecting) {\r\n            this.selecting = false;\r\n            let uuids = [];\r\n            const xmin = Math.min(this.selectingStartX, this.selectingCurrentX);\r\n            const ymin = Math.min(this.selectingStartY, this.selectingCurrentY);\r\n            const xmax = Math.max(this.selectingStartX, this.selectingCurrentX);\r\n            const ymax = Math.max(this.selectingStartY, this.selectingCurrentY);\r\n            for (const z of this.plan.zones) {\r\n              if (this.lockedZones.includes(z.uuid)) continue;\r\n              for (const r of z.rows) {\r\n                for (const s of r.seats) {\r\n                  if (\r\n                    z.position.x +\r\n                    r.position.x +\r\n                    s.position.x +\r\n                    (s.radius || 10) >=\r\n                    xmin &&\r\n                    z.position.x +\r\n                    r.position.x +\r\n                    s.position.x -\r\n                    (s.radius || 10) <=\r\n                    xmax &&\r\n                    z.position.y +\r\n                    r.position.y +\r\n                    s.position.y +\r\n                    (s.radius || 10) >=\r\n                    ymin &&\r\n                    z.position.y +\r\n                    r.position.y +\r\n                    s.position.y -\r\n                    (s.radius || 10) <=\r\n                    ymax &&\r\n                    !uuids.includes(r.uuid)\r\n                  ) {\r\n                    uuids.push(r.uuid);\r\n                  }\r\n                }\r\n              }\r\n              for (const a of z.areas) {\r\n                if (testOverlap(a, z, xmin, ymin, xmax, ymax)) {\r\n                  // console.log(\"HERE??\");\r\n                  uuids.push(a.uuid);\r\n                }\r\n              }\r\n            }\r\n\r\n            // console.log(uuids, this.selectedZone);\r\n            // console.log(\"Select\", uuids, this.selectedZone, event.shiftKey);\r\n            // console.log(this.selectedZone);\r\n\r\n            store.setSelection(uuids, this.selectedZone, event.shiftKey);\r\n            return true;\r\n          }\r\n          return false;\r\n        case \"gaCircle\":\r\n        case \"gaSquare\":\r\n        case \"rectangle\":\r\n        case \"circle\":\r\n        case \"ellipse\":\r\n          if (!this.drawing) return false;\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n          }\r\n          if (this.tool === \"rectangle\") {\r\n            const w = Math.abs(pos.x - this.drawingStartX);\r\n            const h = Math.abs(pos.y - this.drawingStartY);\r\n            if (w < 5 || h < 5) {\r\n              this.drawing = false;\r\n              return; // probably a misclick\r\n            }\r\n            usePlanStore()\r\n              .createArea(this.selectedZone, {\r\n                shape: \"rectangle\",\r\n                color: \"#cccccc\", // todo: use previously used color\r\n                border_color: this.mode ? \"#ffcf37\" : \"#000000\", // todo: use previously used color\r\n                border_width: 2,\r\n                rotation: 0,\r\n                uuid: newId,\r\n                position: {\r\n                  x: round(\r\n                    Math.min(pos.x, this.drawingStartX) - zone.position.x,\r\n                    4\r\n                  ),\r\n                  y: round(\r\n                    Math.min(pos.y, this.drawingStartY) - zone.position.y,\r\n                    4\r\n                  ),\r\n                },\r\n                text: {\r\n                  position: { x: round(w / 2, 4), y: round(h / 2, 4) },\r\n                  color: \"#333333\",\r\n                  text: \"\",\r\n                },\r\n                rectangle: {\r\n                  width: round(w, 4),\r\n                  height: round(h, 4),\r\n                },\r\n              })\r\n              .then(() => {\r\n                // console.log(\"HERE\", \"error\", this.selectZone);\r\n\r\n                this.$nextTick(() => {\r\n                  store.toggleSelection([newId], this.selectedZone, false);\r\n                });\r\n              });\r\n          } else if (this.tool === \"gaSquare\") {\r\n            const w = Math.abs(pos.x - this.drawingStartX);\r\n            const h = Math.abs(pos.y - this.drawingStartY);\r\n            if (w < 5 || h < 5) {\r\n              this.drawing = false;\r\n              return; // probably a misclick\r\n            }\r\n            const { gaLabel, gaAbv } = this.getUniqueGAName();\r\n            usePlanStore()\r\n              .createArea(this.selectedZone, {\r\n                shape: \"gaSquare\",\r\n                show_label: true,\r\n                label: gaLabel,\r\n                abbreviation: gaAbv,\r\n                section_label: \"\",\r\n                section_abv: \"\",\r\n                color: \"#cccccc\", // todo: use previously used color\r\n                border_color: \"#000000\", // todo: use previously used color\r\n                border_width: 2,\r\n                rotation: 0,\r\n                uuid: newId,\r\n                guid: generateID(),\r\n                capacity: 0,\r\n                position: {\r\n                  x: round(\r\n                    Math.min(pos.x, this.drawingStartX) - zone.position.x,\r\n                    4\r\n                  ),\r\n                  y: round(\r\n                    Math.min(pos.y, this.drawingStartY) - zone.position.y,\r\n                    4\r\n                  ),\r\n                },\r\n                text: {\r\n                  position: { x: round(w / 2, 4), y: round(h / 2, 4) },\r\n                  color: \"#333333\",\r\n                  text: gaAbv,\r\n                },\r\n                rectangle: {\r\n                  width: round(w, 4),\r\n                  height: round(h, 4),\r\n                },\r\n              })\r\n              .then(() => {\r\n                this.$nextTick(() => {\r\n                  store.toggleSelection([newId], this.selectedZone, false);\r\n                });\r\n              });\r\n          } else if (this.tool === \"circle\") {\r\n            if (event.shiftKey || this.bSnap2Grid) {\r\n              pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n            }\r\n            const radius = round(\r\n              Math.sqrt(\r\n                Math.pow(this.drawingStartX - pos.x, 2) +\r\n                Math.pow(this.drawingStartY - pos.y, 2)\r\n              ),\r\n              4\r\n            );\r\n            if (radius < 1) {\r\n              this.drawing = false;\r\n              return; // probably a misclick\r\n            }\r\n            usePlanStore()\r\n              .createArea(this.selectedZone, {\r\n                shape: \"circle\",\r\n                color: \"#cccccc\", // todo: use previously used color\r\n                border_color: \"#000000\", // todo: use previously used color\r\n                border_width: 2,\r\n                rotation: 0,\r\n                uuid: newId,\r\n                position: {\r\n                  x: round(this.drawingStartX - zone.position.x, 4),\r\n                  y: round(this.drawingStartY - zone.position.y, 4),\r\n                },\r\n                text: {\r\n                  position: { x: 0, y: 0 },\r\n                  color: \"#333333\",\r\n                  text: \"\",\r\n                },\r\n                circle: {\r\n                  radius: radius,\r\n                },\r\n              })\r\n              .then(() => {\r\n                this.$nextTick(() => {\r\n                  store.toggleSelection([newId], this.selectedZone, false);\r\n                });\r\n              });\r\n          } else if (this.tool === \"ellipse\") {\r\n            if (event.shiftKey || this.bSnap2Grid) {\r\n              pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n            }\r\n            const w = Math.abs(pos.x - this.drawingStartX);\r\n            const h = Math.abs(pos.y - this.drawingStartY);\r\n            if (w < 5 || h < 5) {\r\n              this.drawing = false;\r\n              return; // probably a misclick\r\n            }\r\n            usePlanStore()\r\n              .createArea(this.selectedZone, {\r\n                shape: \"ellipse\",\r\n                color: \"#cccccc\", // todo: use previously used color\r\n                border_color: \"#000000\", // todo: use previously used color\r\n                border_width: 2,\r\n                rotation: 0,\r\n                uuid: newId,\r\n                position: {\r\n                  x: round(this.drawingStartX - zone.position.x, 4),\r\n                  y: round(this.drawingStartY - zone.position.y, 4),\r\n                },\r\n                text: {\r\n                  position: { x: 0, y: 0 },\r\n                  color: \"#333333\",\r\n                  text: \"\",\r\n                },\r\n                ellipse: {\r\n                  radius: {\r\n                    x: round(w, 4),\r\n                    y: round(h, 4),\r\n                  },\r\n                },\r\n              })\r\n              .then(() => {\r\n                this.$nextTick(() => {\r\n                  store.toggleSelection([newId], this.selectedZone, false);\r\n                });\r\n              });\r\n          } else if (this.tool === \"gaCircle\") {\r\n            if (event.shiftKey || this.bSnap2Grid) {\r\n              pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n            }\r\n            const w = Math.abs(pos.x - this.drawingStartX);\r\n            const h = Math.abs(pos.y - this.drawingStartY);\r\n            if (w < 5 || h < 5) {\r\n              this.drawing = false;\r\n              return; // probably a misclick\r\n            }\r\n            const { gaLabel, gaAbv } = this.getUniqueGAName();\r\n            usePlanStore()\r\n              .createArea(this.selectedZone, {\r\n                shape: \"gaCircle\",\r\n                show_label: true,\r\n                label: gaLabel,\r\n                abbreviation: gaAbv,\r\n                section_label: \"\",\r\n                section_abv: \"\",\r\n                color: \"#cccccc\", // todo: use previously used color\r\n                border_color: \"#000000\", // todo: use previously used color\r\n                border_width: 2,\r\n                rotation: 0,\r\n                capacity: 0,\r\n                uuid: newId,\r\n                guid: generateID(),\r\n                position: {\r\n                  x: round(this.drawingStartX - zone.position.x, 4),\r\n                  y: round(this.drawingStartY - zone.position.y, 4),\r\n                },\r\n                text: {\r\n                  position: { x: 0, y: 0 },\r\n                  color: \"#333333\",\r\n                  text: gaAbv,\r\n                },\r\n                ellipse: {\r\n                  radius: {\r\n                    x: round(w, 4),\r\n                    y: round(h, 4),\r\n                  },\r\n                },\r\n              })\r\n              .then(() => {\r\n                this.$nextTick(() => {\r\n                  store.toggleSelection([newId], this.selectedZone, false);\r\n                });\r\n              });\r\n          }\r\n          this.drawing = false;\r\n          break;\r\n        case \"polygon\":\r\n          if (store.dragging) {\r\n            store.stopDragging();\r\n            break;\r\n          }\r\n          if (this.polygonDrawing) {\r\n            const pp = this.polygonPoints;\r\n            const polysnap = (pos, offset) => {\r\n              // Snap to 5° intervals, and snap to grid length when at x*90°\r\n              const dx = pos.x - pp[pp.length - offset].x;\r\n              const dy = pos.y - pp[pp.length - offset].y;\r\n              let angle = (-Math.atan(dx / dy) / Math.PI) * 180;\r\n              let distance = Math.sqrt(dx * dx + dy * dy);\r\n              if (angle < 0) angle += 360;\r\n              angle -= angle % 5;\r\n              if (\r\n                Math.round(Math.abs(angle)) === 90 ||\r\n                Math.round(Math.abs(angle)) === 0 ||\r\n                Math.round(Math.abs(angle)) === 180 ||\r\n                Math.round(Math.abs(angle)) === 270\r\n              ) {\r\n                distance = Math.round(distance / 10) * 10;\r\n              }\r\n              return {\r\n                x:\r\n                  pp[pp.length - offset].x -\r\n                  Math.sign(dy) * distance * Math.sin((angle / 180) * Math.PI),\r\n                y:\r\n                  pp[pp.length - offset].y +\r\n                  Math.sign(dy) * distance * Math.cos((angle / 180) * Math.PI),\r\n              };\r\n            };\r\n            let comparepos = pos;\r\n            if (event.shiftKey || this.bSnap2Grid) {\r\n              pos = polysnap(pos, 1);\r\n              if (pp.length > 1) {\r\n                comparepos = polysnap(pos, 2);\r\n              }\r\n            }\r\n            // if (\r\n            //   comparepos.x ===\r\n            //   this.polygonPoints[this.polygonPoints.length - 1].x &&\r\n            //   comparepos.y ===\r\n            //   this.polygonPoints[this.polygonPoints.length - 1].y\r\n            // )\r\n            if (\r\n              Math.abs(comparepos.x - this.polygonPoints[this.polygonPoints.length - 1].x) < 5\r\n              && Math.abs(comparepos.y - this.polygonPoints[this.polygonPoints.length - 1].y) < 5\r\n            ) {\r\n              // \"Double click\"\r\n              this.finishPolygon();\r\n            } else {\r\n              this.polygonPoints.push(pos);\r\n            }\r\n          } else {\r\n            this.polygonDrawing = true;\r\n            if (event.shiftKey || this.bSnap2Grid) {\r\n              pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n            }\r\n            this.polygonPoints = [pos];\r\n          }\r\n          break;\r\n        case \"gaPolygon\":\r\n          if (store.dragging) {\r\n            store.stopDragging();\r\n            break;\r\n          }\r\n          if (this.polygonDrawing) {\r\n            const pp = this.polygonPoints;\r\n            const polysnap = (pos, offset) => {\r\n              // Snap to 5° intervals, and snap to grid length when at x*90°\r\n              const dx = pos.x - pp[pp.length - offset].x;\r\n              const dy = pos.y - pp[pp.length - offset].y;\r\n              let angle = (-Math.atan(dx / dy) / Math.PI) * 180;\r\n              let distance = Math.sqrt(dx * dx + dy * dy);\r\n              if (angle < 0) angle += 360;\r\n              angle -= angle % 5;\r\n              if (\r\n                Math.round(Math.abs(angle)) === 90 ||\r\n                Math.round(Math.abs(angle)) === 0 ||\r\n                Math.round(Math.abs(angle)) === 180 ||\r\n                Math.round(Math.abs(angle)) === 270\r\n              ) {\r\n                distance = Math.round(distance / 10) * 10;\r\n              }\r\n              return {\r\n                x:\r\n                  pp[pp.length - offset].x -\r\n                  Math.sign(dy) * distance * Math.sin((angle / 180) * Math.PI),\r\n                y:\r\n                  pp[pp.length - offset].y +\r\n                  Math.sign(dy) * distance * Math.cos((angle / 180) * Math.PI),\r\n              };\r\n            };\r\n            let comparepos = pos;\r\n            if (event.shiftKey || this.bSnap2Grid) {\r\n              pos = polysnap(pos, 1);\r\n              if (pp.length > 1) {\r\n                comparepos = polysnap(pos, 2);\r\n              }\r\n            }\r\n            // if (\r\n            //   comparepos.x ===\r\n            //   this.polygonPoints[this.polygonPoints.length - 1].x &&\r\n            //   comparepos.y ===\r\n            //   this.polygonPoints[this.polygonPoints.length - 1].y\r\n            // )\r\n            if (\r\n              Math.abs(comparepos.x - this.polygonPoints[this.polygonPoints.length - 1].x) < 5\r\n              && Math.abs(comparepos.y - this.polygonPoints[this.polygonPoints.length - 1].y) < 5\r\n            ) {\r\n              // \"Double click\"\r\n              this.finishGAPolygon();\r\n            } else {\r\n              this.polygonPoints.push(pos);\r\n            }\r\n          } else {\r\n            this.polygonDrawing = true;\r\n            if (event.shiftKey || this.bSnap2Grid) {\r\n              pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n            }\r\n            this.polygonPoints = [pos];\r\n          }\r\n          break;\r\n        case \"rows\":\r\n          // if mouseup is in same spot as mousedown, keep drawing, as this\r\n          // was the original behaviour with click-draw-click vs. mousedown-draw-mouseup\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n          }\r\n          if (this.drawingStartX === pos.x && this.drawingStartY === pos.y) {\r\n            break;\r\n          }\r\n          if (this.rowBlockDrawing) {\r\n            usePlanStore()\r\n              .createRowBlock(\r\n                zone.uuid,\r\n                {\r\n                  x: this.rowBlockPosition.x - zone.position.x,\r\n                  y: this.rowBlockPosition.y - zone.position.y,\r\n                },\r\n                this.rowBlockRows,\r\n                this.rowBlockSeats,\r\n                this.rowSpacing,\r\n                this.rowSeatSpacing\r\n              )\r\n              .then((rowIds) => {\r\n                this.$nextTick(() => {\r\n                  store.toggleSelection(rowIds, this.selectedZone, false);\r\n                });\r\n              });\r\n            this.rowBlockDrawing = false;\r\n          }\r\n          break;\r\n        case \"stgrows\":\r\n          // if mouseup is in same spot as mousedown, keep drawing, as this\r\n          // was the original behaviour with click-draw-click vs. mousedown-draw-mouseup\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n          }\r\n          if (this.drawingStartX === pos.x && this.drawingStartY === pos.y) {\r\n            break;\r\n          }\r\n          if (this.stgrowBlockDrawing) {\r\n            usePlanStore()\r\n              .createStgRowBlock(\r\n                zone.uuid,\r\n                {\r\n                  x: this.rowBlockPosition.x - zone.position.x,\r\n                  y: this.rowBlockPosition.y - zone.position.y,\r\n                },\r\n                this.stgrowBlockRows,\r\n                this.stgrowBlockSeats,\r\n                this.rowSpacing,\r\n                this.rowSeatSpacing\r\n              )\r\n              .then((rowIds) => {\r\n                this.$nextTick(() => {\r\n                  store.toggleSelection(rowIds, this.selectedZone, false);\r\n                });\r\n              });\r\n            this.stgrowBlockDrawing = false;\r\n          }\r\n          break;\r\n        case \"row\":\r\n          // if mouseup is in same spot as mousedown, keep drawing, as this\r\n          // was the original behaviour with click-draw-click vs. mousedown-draw-mouseup\r\n          if (event.shiftKey || this.bSnap2Grid) {\r\n            pos = findClosestGridPoint({ x: pos.x, y: pos.y, zone: zone });\r\n          }\r\n          if (this.drawingStartX === pos.x && this.drawingStartY === pos.y) {\r\n            break;\r\n          }\r\n          if (this.rowDrawing) {\r\n            usePlanStore()\r\n              .createRow(\r\n                zone.uuid,\r\n                {\r\n                  x: this.drawingStartX - zone.position.x,\r\n                  y: this.drawingStartY - zone.position.y,\r\n                },\r\n                this.rowDrawingSeats.map((s) => {\r\n                  return {\r\n                    x: s.x - (this.drawingStartX - zone.position.x),\r\n                    y: s.y - (this.drawingStartY - zone.position.y),\r\n                  };\r\n                })\r\n              )\r\n              .then((rowId) => {\r\n                this.$nextTick(() => {\r\n                  store.toggleSelection([rowId], this.selectedZone, false);\r\n                });\r\n              });\r\n            this.rowDrawing = false;\r\n          }\r\n          break;\r\n        case \"focusPoint\":\r\n          this.focusDragging = false;\r\n          break;\r\n      }\r\n    },\r\n\r\n\r\n    finishPolygon() {\r\n      const newId = uuid();\r\n      const zone = this.plan.zones.find((z) => z.uuid === this.selectedZone);\r\n      this.polygonDrawing = false;\r\n\r\n      const minx = Math.min(...this.polygonPoints.map((p) => p.x));\r\n      const miny = Math.min(...this.polygonPoints.map((p) => p.y));\r\n      const maxx = Math.max(...this.polygonPoints.map((p) => p.x));\r\n      const maxy = Math.max(...this.polygonPoints.map((p) => p.y));\r\n      usePlanStore()\r\n        .createArea(this.selectedZone, {\r\n          shape: \"polygon\",\r\n          color: \"#cccccc\", // todo: use previously used color\r\n          border_color: \"#000001\", // todo: use previously used color\r\n          border_width: 2,\r\n          rotation: 0,\r\n          uuid: newId,\r\n          position: {\r\n            x: minx - zone.position.x,\r\n            y: miny - zone.position.y,\r\n          },\r\n          text: {\r\n            position: { x: (maxx - minx) / 2, y: (maxy - miny) / 2 },\r\n            color: \"#333333\",\r\n            text: \"\",\r\n          },\r\n          polygon: {\r\n            points: this.polygonPoints.map((p) => ({\r\n              x: p.x - minx,\r\n              y: p.y - miny,\r\n            })),\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.$nextTick(() => {\r\n            const store = useMainStore();\r\n            store.toggleSelection([newId], this.selectedZone, false);\r\n          });\r\n        });\r\n    },\r\n\r\n\r\n    finishGAPolygon() {\r\n      const newId = uuid();\r\n      const zone = this.plan.zones.find((z) => z.uuid === this.selectedZone);\r\n      this.polygonDrawing = false;\r\n\r\n      const minx = Math.min(...this.polygonPoints.map((p) => p.x));\r\n      const miny = Math.min(...this.polygonPoints.map((p) => p.y));\r\n      const maxx = Math.max(...this.polygonPoints.map((p) => p.x));\r\n      const maxy = Math.max(...this.polygonPoints.map((p) => p.y));\r\n      const { gaLabel, gaAbv } = this.getUniqueGAName();\r\n      usePlanStore()\r\n        .createArea(this.selectedZone, {\r\n          shape: \"gaPolygon\",\r\n          color: \"#cccccc\", // todo: use previously used color\r\n          border_color: \"#000001\", // todo: use previously used color\r\n          border_width: 2,\r\n          rotation: 0,\r\n          uuid: newId,\r\n          guid: generateID(),\r\n          capacity: 0,\r\n          show_label: true,\r\n          label: gaLabel,\r\n          abbreviation: gaAbv,\r\n          section_label: \"\",\r\n          section_abv: \"\",\r\n          position: {\r\n            x: minx - zone.position.x,\r\n            y: miny - zone.position.y,\r\n          },\r\n          text: {\r\n            position: { x: (maxx - minx) / 2, y: (maxy - miny) / 2 },\r\n            color: \"#333333\",\r\n            text: gaAbv,\r\n          },\r\n          polygon: {\r\n            points: this.polygonPoints.map((p) => ({\r\n              x: p.x - minx,\r\n              y: p.y - miny,\r\n            })),\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.$nextTick(() => {\r\n            const store = useMainStore();\r\n            store.toggleSelection([newId], this.selectedZone, false);\r\n          });\r\n        });\r\n    },\r\n\r\n    persistBackground(event) {\r\n      window.localStorage.setItem(\r\n        \"frontrow2.editor.bg\",\r\n        JSON.stringify({\r\n          background: this.background,\r\n          backgroundOpacity: this.backgroundOpacity,\r\n          backgroundX: this.backgroundX,\r\n          backgroundY: this.backgroundY,\r\n          backgroundWidth: this.backgroundWidth,\r\n          backgroundHeight: this.backgroundHeight,\r\n        })\r\n      );\r\n    },\r\n\r\n    createStage() {\r\n      // console.log('createStage')\r\n      const newId = 'b6ea4e4c-4bbc-45eb-ab8d-53fae88c5363#';\r\n      if (this.plan.zones[0].areas.findIndex(item => item.uuid === newId) === -1) {\r\n        usePlanStore()\r\n          .createArea(this.selectedZone, {\r\n            shape: \"text\",\r\n            rotation: 0,\r\n            uuid: newId,\r\n            position: {\r\n              x: this.plan.size.width / 2,\r\n              y: 100,\r\n            },\r\n            text: {\r\n              position: { x: 0, y: 0 },\r\n              color: \"#333333\",\r\n              text: \"STAGE\",\r\n              size: 40,\r\n            },\r\n          })\r\n          .then(() => {\r\n            this.$nextTick(() => {\r\n              this.store.toggleSelection([newId], this.selectedZone, false);\r\n            });\r\n          });\r\n        this.plan.point.x = this.plan.size.width / 2;\r\n        this.plan.point.y = this.plan.size.height / 2;\r\n        usePlanStore().persistPlan();\r\n      }\r\n    },\r\n\r\n    wheel(event) {\r\n      if (event.ctrlKey) return;\r\n      const width = window.innerWidth - 300;\r\n      const height = window.innerHeight - 40;\r\n      const boxWidth = this.zoomTransform.k * this.plan.size.width;\r\n      const boxHeight = this.zoomTransform.k * this.plan.size.height;\r\n      if (event.deltaY > 0 && this.zoomTransform.y < -boxHeight + 100) return;\r\n      if (event.deltaY < 0 && (this.zoomTransform.y + boxHeight) > (height + boxHeight - 100)) return;\r\n      if (event.deltaX > 0 && this.zoomTransform.x < -boxWidth + 100) return;\r\n      if (event.deltaX < 0 && (this.zoomTransform.x + boxWidth) > (width + boxWidth - 100)) return;\r\n      this.zoomTransform.x -= event.deltaX / 10;\r\n      this.zoomTransform.y -= event.deltaY / 10;\r\n    },\r\n\r\n    createZoom() {\r\n      if (!this.svg) return;\r\n\r\n      const viewportHeight = this.svg.clientHeight;\r\n      const viewportWidth = this.svg.clientWidth;\r\n      const panPadding = viewportHeight * -10;\r\n      this.defaultScale = this.plan.size.height\r\n        ? Math.min(\r\n          (viewportWidth - 130) / this.plan.size.width,\r\n          (viewportHeight - 130) / this.plan.size.height\r\n        )\r\n        : 1;\r\n      this.zoom = d3\r\n        .zoom()\r\n        .scaleExtent([\r\n          Math.min(this.defaultScale * 0.5, 1),\r\n          Math.max(5, this.defaultScale * 5),\r\n        ])\r\n        .translateExtent([\r\n          [\r\n            (-viewportWidth + panPadding) / this.defaultScale,\r\n            (-viewportHeight + panPadding) / this.defaultScale,\r\n          ],\r\n          [\r\n            (viewportWidth - panPadding) / this.defaultScale +\r\n            this.plan.size.width,\r\n            (viewportHeight - panPadding) / this.defaultScale +\r\n            this.plan.size.height,\r\n          ],\r\n        ])\r\n        .extent([\r\n          [0, 0],\r\n          [viewportWidth, viewportHeight],\r\n        ])\r\n        .filter((event) => {\r\n          const wheeled = event.type === \"wheel\";\r\n          const mouseDrag =\r\n            event.type === \"mousedown\" ||\r\n            event.type === \"mouseup\" ||\r\n            event.type === \"mousemove\";\r\n          const touch =\r\n            event.type === \"touchstart\" ||\r\n            event.type === \"touchmove\" ||\r\n            event.type === \"touchstop\";\r\n          return (\r\n            (wheeled || mouseDrag || touch) &&\r\n            (event.metaKey ||\r\n              event.ctrlKey ||\r\n              this.tool == \"hand\" ||\r\n              this.tool == \"handon\")\r\n          );\r\n        })\r\n        .wheelDelta((event) => {\r\n          if (event.ctrlKey) {\r\n            return (\r\n              -event.deltaY *\r\n              (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002)\r\n            );\r\n          } else return 0;\r\n        })\r\n        .on(\"zoom\", (event) => {\r\n          const scale = event.transform.k;\r\n          useMainStore().setZoomTransform(event.transform);\r\n\r\n          this.zoom.translateExtent([\r\n            [\r\n              (-viewportWidth + panPadding) / scale,\r\n              (-viewportHeight + panPadding) / scale,\r\n            ],\r\n            [\r\n              (viewportWidth - panPadding) / scale + this.plan.size.width,\r\n              (viewportHeight - panPadding) / scale + this.plan.size.height,\r\n            ],\r\n          ]);\r\n        });\r\n\r\n      // // // todo: old code had an zoom.on(\"zoom\", null); do we need that?\r\n      // useMainStore().changeTool(\"hand\");\r\n\r\n      const initTransform = d3.zoomIdentity\r\n        .scale(this.defaultScale)\r\n        .translate(\r\n          (viewportWidth / this.defaultScale - this.plan.size.width) / 2,\r\n          (viewportHeight / this.defaultScale - this.plan.size.height) / 2\r\n        );\r\n      useMainStore().setZoomTransform(initTransform);\r\n\r\n      d3.select(this.svg)\r\n        .call(this.zoom.transform, initTransform)\r\n        .on(\"wheel\", function (event) {\r\n          // Prevent scrolling when the min/max of the zoom extent is reached\r\n          event.preventDefault();\r\n\r\n        });\r\n\r\n      const svg = d3.select(this.svg).call(this.zoom);\r\n      svg.on(\"touchmove.zoom\", null);\r\n\r\n      // console.log(\"successed\", this.zoom);\r\n    },\r\n\r\n    hotkey(event) {\r\n      const width = window.innerWidth - 300;\r\n      const height = window.innerHeight - 40;\r\n      const boxWidth = this.zoomTransform.k * this.plan.size.width;\r\n      const boxHeight = this.zoomTransform.k * this.plan.size.height;\r\n      if (\r\n        event.target !== document.body &&\r\n        !event.target.matches(\".c-toolbar *\")\r\n      ) {\r\n        return; // Do nothing if something is focused, e.g. an input element (except it's a toolbar button)\r\n      }\r\n      switch (event.code) {\r\n        case \"Delete\":\r\n        case \"Backspace\":\r\n          usePlanStore().deleteObjects(this.selection);\r\n          event.preventDefault(); // prevent backspace to go history back in Firefox on Mac\r\n          return;\r\n        case \"Enter\":\r\n          if (this.polygonDrawing) {\r\n            this.finishPolygon();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return true;\r\n          }\r\n          return false;\r\n        case \"Escape\":\r\n          this.rowBlockDrawing = false;\r\n          this.rowDrawing = false;\r\n          this.polygonDrawing = false;\r\n          this.drawing = false;\r\n          if (\r\n            this.tool === \"rowCircle\" ||\r\n            this.tool === \"rowCircleFixedCenter\" ||\r\n            this.tool === \"focusPoint\"\r\n          ) {\r\n            useMainStore().changeTool(\"select\");\r\n          }\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          return;\r\n\r\n        case \"ArrowUp\":\r\n          if (this.selection.length) {\r\n            useMainStore().moveSelected(\r\n              0,\r\n              -1 * (event.shiftKey ? 100 : event.altKey ? 1 : 10)\r\n            );\r\n          } else {\r\n            if ((this.zoomTransform.y + boxHeight) > (height + boxHeight - 100)) return;\r\n            this.zoomTransform.y += 1 * (event.shiftKey ? 100 : event.altKey ? 1 : 10);\r\n          }\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          return;\r\n        case \"ArrowDown\":\r\n          if (this.selection.length) {\r\n            useMainStore().moveSelected(\r\n              0,\r\n              1 * (event.shiftKey ? 100 : event.altKey ? 1 : 10)\r\n            );\r\n          } else {\r\n            if (this.zoomTransform.y < -boxHeight + 100) return;\r\n            this.zoomTransform.y -= 1 * (event.shiftKey ? 100 : event.altKey ? 1 : 10);\r\n          }\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          return;\r\n        case \"ArrowLeft\":\r\n          if (this.selection.length) {\r\n            useMainStore().moveSelected(\r\n              -1 * (event.shiftKey ? 100 : event.altKey ? 1 : 10),\r\n              0\r\n            );\r\n          } else {\r\n            if ((this.zoomTransform.x + boxWidth) > (width + boxWidth - 100)) return;\r\n            this.zoomTransform.x += 1 * (event.shiftKey ? 100 : event.altKey ? 1 : 10)\r\n          }\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          return;\r\n        case \"ArrowRight\":\r\n          if (this.selection.length) {\r\n            useMainStore().moveSelected(\r\n              1 * (event.shiftKey ? 100 : event.altKey ? 1 : 10),\r\n              0\r\n            );\r\n          } else {\r\n            if (this.zoomTransform.x < -boxWidth + 100) return;\r\n            this.zoomTransform.x -= 1 * (event.shiftKey ? 100 : event.altKey ? 1 : 10)\r\n          }\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n          return;\r\n      }\r\n      if (event.metaKey || event.ctrlKey) {\r\n        switch (event.key) {\r\n          case \"a\":\r\n            useMainStore().selectAll();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return true;\r\n          case \"s\": {\r\n            const url = URL.createObjectURL(\r\n              new Blob([JSON.stringify(this.plan, undefined, 2)])\r\n            );\r\n            const a = document.createElement(\"a\");\r\n            a.style.display = \"none\";\r\n            a.href = url;\r\n            a.download = this.plan.name + \".json\";\r\n            document.body.appendChild(a);\r\n            a.click();\r\n            URL.revokeObjectURL(url);\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return true;\r\n          }\r\n          case \"c\":\r\n            if (this.tool === \"seatselect\") {\r\n              alert(\r\n                \"Copying individual seats is currently not possible, please select a row instead.\"\r\n              );\r\n              return;\r\n            }\r\n            useMainStore().copy(this.selection);\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return true;\r\n          case \"x\":\r\n            if (this.tool === \"seatselect\") {\r\n              alert(\r\n                \"Copying individual seats is currently not possible, please select a row instead.\"\r\n              );\r\n              return;\r\n            }\r\n            useMainStore().cut(this.selection);\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return true;\r\n          case \"v\":\r\n            useMainStore().paste();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return true;\r\n          case \"z\":\r\n            usePlanStore().undo();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return true;\r\n          case \"y\":\r\n            usePlanStore().redo();\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return true;\r\n          case \"+\":\r\n            if (this.tool === \"rows\") {\r\n              this.rowSpacing += event.altKey ? 0.1 : 1;\r\n              event.preventDefault();\r\n              event.stopPropagation();\r\n              return true;\r\n            }\r\n            break;\r\n          case \"-\":\r\n            if (this.tool === \"rows\" && event.ctrlKey) {\r\n              this.rowSpacing -= event.altKey ? 0.1 : 1;\r\n              event.preventDefault();\r\n              event.stopPropagation();\r\n              return true;\r\n            }\r\n            break;\r\n        }\r\n      } else {\r\n        switch (event.key) {\r\n          case \"+\":\r\n            if ([\"rows\", \"row\"].includes(this.tool)) {\r\n              this.rowSeatSpacing += event.altKey ? 0.1 : 1;\r\n            }\r\n            break;\r\n          case \"-\":\r\n            if ([\"rows\", \"row\"].includes(this.tool)) {\r\n              this.rowSeatSpacing -= event.altKey ? 0.1 : 1;\r\n            }\r\n            break;\r\n          case \"v\":\r\n            useMainStore().changeTool(\"select\");\r\n            break;\r\n          case \"s\":\r\n            useMainStore().changeTool(\"seatselect\");\r\n            break;\r\n          case \"n\":\r\n            useMainStore().changeTool(\"row\");\r\n            break;\r\n          case \"b\":\r\n            useMainStore().changeTool(\"rows\");\r\n            break;\r\n          case \"r\":\r\n            useMainStore().changeTool(\"rectangle\");\r\n            break;\r\n          case \"c\":\r\n            useMainStore().changeTool(\"circle\");\r\n            break;\r\n          case \"e\":\r\n            useMainStore().changeTool(\"ellipse\");\r\n            break;\r\n          case \"p\":\r\n            useMainStore().changeTool(\"polygon\");\r\n            break;\r\n          case \"t\":\r\n            useMainStore().changeTool(\"text\");\r\n            break;\r\n        }\r\n      }\r\n    },\r\n\r\n    getTransform() {\r\n      return this.zoomTransform.k;\r\n    },\r\n    setTransform(v) {\r\n      this.zoomTransform.k = v;\r\n    },\r\n\r\n    scaleBy(temp, factor) {\r\n      // console.log(temp, factor);\r\n      d3.select(temp).transition().call(this.zoom.scaleBy, factor);\r\n    },\r\n\r\n    scaleTo(temp, factor) {\r\n      // console.log(temp, factor);\r\n      d3.select(temp).transition().call(this.zoom.scaleTo, factor);\r\n    },\r\n\r\n    // testFunc() {\r\n    //   console.log(\"This is the test Func\");\r\n    // },\r\n  },\r\n\r\n  mounted() {\r\n    // console.log(\"Mounted\");\r\n    this.createStage();\r\n    this.createZoom();\r\n    // window.addEventListener(\"resize\", this.createZoom);\r\n    window.addEventListener(\"keydown\", this.hotkey);\r\n  },\r\n  beforeUnmout() {\r\n    // window.addEventListener(\"resize\", this.createZoom);\r\n    window.addEventListener(\"keydown\", this.hotkey);\r\n  },\r\n};\r\n</script>\r\n<template>\r\n  <svg id=\"svg\" :width=\"plan.size.width\" :height=\"plan.size.height\"\r\n    v-if=\"plan.size\" @mousemove=\"mousemove\" @mousedown=\"mousedown\"\r\n    @mouseup=\"mouseup\" @wheel=\"wheel\" ref=\"svg\" style=\"\r\n      width: 100%;\r\n      height: 100%;\r\n      background-color: rgb(151, 162, 182);\r\n      user-select: none;\">\r\n    <metadata v-html=\"metadata\"></metadata>\r\n    <defs>\r\n      <clipPath id=\"clip\">\r\n        <rect :width=\"plan.size.width\" :height=\"plan.size.height\" />\r\n      </clipPath>\r\n    </defs>\r\n    <g :class=\"mainclasses\" :transform=\"zoomTransform.toString()\"\r\n      clip-path=\"url(#clip)\">\r\n      <rect :width=\"plan.size.width\" :height=\"plan.size.height\" fill=\"#fcfcfc\"\r\n        :cursor=\"cursor\"></rect>\r\n      <image v-if=\"background\" :width=\"backgroundWidth\" :height=\"backgroundHeight\"\r\n        :href=\"background\" :opacity=\"backgroundOpacity / 100\" :x=\"backgroundX\"\r\n        :y=\"backgroundY\"></image>\r\n      <defs>\r\n        <pattern id=\"smallGrid\" width=\"20\" height=\"20\"\r\n          patternUnits=\"userSpaceOnUse\">\r\n          <path d=\"M 20 0 L 0 0 0 20\" fill=\"none\" stroke=\"#ddd\"\r\n            stroke-width=\"0.5\"></path>\r\n        </pattern>\r\n        <pattern id=\"grid\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\">\r\n          <rect width=\"100\" height=\"100\" fill=\"url(#smallGrid)\"></rect>\r\n          <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#ccc\"\r\n            stroke-width=\"1\"></path>\r\n        </pattern>\r\n      </defs>\r\n      <rect v-if=\"grid\" :width=\"plan.size.width\" :height=\"plan.size.height\"\r\n        fill=\"url(#grid)\" :cursor=\"cursor\">\r\n      </rect>\r\n\r\n      <g v-show=\"tool === 'focusPoint'\" class=\"booktik-focus-point\"\r\n        id=\"booktik-focus-point\">\r\n        <circle :cx=\"focusPointX\" :cy=\"focusPointY\" :r=\"18\" fill=\"none\"\r\n          stroke=\"#000\" stroke-width=\"8px\" cursor=\"move\">\r\n        </circle>\r\n        <circle :cx=\"focusPointX\" :cy=\"focusPointY\" :r=\"30\" fill=\"none\"\r\n          stroke=\"#000\" stroke-width=\"5px\" cursor=\"move\">\r\n        </circle>\r\n        <circle :cx=\"focusPointX\" :cy=\"focusPointY\" :r=\"100\" fill=\"none\"\r\n          stroke=\"#cccccc\" stroke-width=\"2px\"></circle>\r\n        <circle :cx=\"focusPointX\" :cy=\"focusPointY\" :r=\"180\" fill=\"none\"\r\n          stroke=\"#cccccc\" stroke-width=\"2px\"></circle>\r\n        <circle :cx=\"focusPointX\" :cy=\"focusPointY\" :r=\"260\" fill=\"none\"\r\n          stroke=\"#cccccc\" stroke-width=\"2px\"></circle>\r\n      </g>\r\n\r\n      <IconComponent />\r\n\r\n      <ZoneComponent v-for=\"z in plan.zones\" :zone=\"z\" :key=\"z.uuid\"\r\n        :startDragging=\"startDragging\"\r\n        :startDraggingPolygonPoint=\"startDraggingPolygonPoint\" :ox=\"temp_ox\"\r\n        :oy=\"temp_oy\" :selectionBoundary=\"selectionBoundary\">\r\n      </ZoneComponent>\r\n\r\n      <rect class=\"selection-box\" v-for=\"b in selectionBoxesVisible\"\r\n        :x=\"b.x - 1.5\" :y=\"b.y - 1.5\" :width=\"b.width + 3\" :height=\"b.height + 3\"\r\n        :key=\"b\" fill=\"none\"></rect>\r\n\r\n      <line class=\"selection-rotate-handle-connector\"\r\n        v-if=\"selection.length && selectionBoundary && currentToolStatus\"\r\n        :x1=\"rotateHandle.x\" :y1=\"rotateHandle.y\" :x2=\"rotatingOriginX\r\n          ? rotatingOriginX\r\n          : selectionBoundary.x + selectionBoundary.width / 2\r\n          \" :y2=\"rotatingOriginY\r\n    ? rotatingOriginY\r\n    : selectionBoundary.y + selectionBoundary.height / 2\r\n    \"></line>\r\n      <circle class=\"selection-rotate-handle\"\r\n        v-if=\"selection.length && selectionBoundary && currentToolStatus\"\r\n        :cx=\"rotateHandle.x\" :cy=\"rotateHandle.y\" r=\"5\"\r\n        @mousedown=\"startRotating\"></circle>\r\n      <circle class=\"selection-rotate-handle-end\"\r\n        v-if=\"selection.length && selectionBoundary && currentToolStatus\" :cx=\"rotatingOriginX\r\n          ? rotatingOriginX\r\n          : selectionBoundary.x + selectionBoundary.width / 2\r\n          \" :cy=\"rotatingOriginY\r\n    ? rotatingOriginY\r\n    : selectionBoundary.y + selectionBoundary.height / 2\r\n    \" r=\"5\"></circle>\r\n      <rect class=\"selection-boundary\"\r\n        v-if=\"selection.length && selectionBoundary\"\r\n        :x=\"selectionBoundary.x - 1.5\" :y=\"selectionBoundary.y - 1.5\"\r\n        :width=\"selectionBoundary.width + 3\"\r\n        :height=\"selectionBoundary.height + 3\" fill=\"none\"></rect>\r\n      <rect class=\"selection-resize-handle-nw\"\r\n        v-if=\"selection.length && selectionBoundary && selectionIncludesNoSeats && noTableSelection\"\r\n        :x=\"selectionBoundary.x - 4.5\" :y=\"selectionBoundary.y - 4.5\" :width=\"6\"\r\n        :height=\"6\" @mousedown=\"startResizing($event, 'nw')\"></rect>\r\n      <rect class=\"selection-resize-handle-ne\"\r\n        v-if=\"selection.length && selectionBoundary && selectionIncludesNoSeats && noTableSelection\"\r\n        :x=\"selectionBoundary.x + selectionBoundary.width - 1.5\"\r\n        :y=\"selectionBoundary.y - 4.5\" :width=\"6\" :height=\"6\"\r\n        @mousedown=\"startResizing($event, 'ne')\"></rect>\r\n      <rect class=\"selection-resize-handle-sw\"\r\n        v-if=\"selection.length && selectionBoundary && selectionIncludesNoSeats && noTableSelection\"\r\n        :x=\"selectionBoundary.x - 4.5\"\r\n        :y=\"selectionBoundary.y + selectionBoundary.height - 1.5\" :width=\"6\"\r\n        :height=\"6\" @mousedown=\"startResizing($event, 'sw')\"></rect>\r\n      <rect class=\"selection-resize-handle-se\"\r\n        v-if=\"selection.length && selectionBoundary && selectionIncludesNoSeats && noTableSelection\"\r\n        :x=\"selectionBoundary.x + selectionBoundary.width - 1.5\"\r\n        :y=\"selectionBoundary.y + selectionBoundary.height - 1.5\" :width=\"6\"\r\n        :height=\"6\" fill=\"none\" @mousedown=\"startResizing($event, 'se')\"></rect>\r\n      <rect class=\"preview\"\r\n        v-if=\"(tool == 'rectangle' || tool == 'gaSquare') && drawing\"\r\n        :x=\"Math.min(drawingStartX, drawingCurrentX)\"\r\n        :y=\"Math.min(drawingStartY, drawingCurrentY)\"\r\n        :width=\"Math.abs(drawingStartX - drawingCurrentX)\"\r\n        :height=\"Math.abs(drawingStartY - drawingCurrentY)\"></rect>\r\n      <circle class=\"preview\" v-else-if=\"tool == 'circle' && drawing\"\r\n        :cx=\"drawingStartX\" :cy=\"drawingStartY\" :r=\"Math.sqrt(\r\n          Math.pow(drawingStartX - drawingCurrentX, 2) +\r\n          Math.pow(drawingStartY - drawingCurrentY, 2)\r\n        )\r\n          \"></circle>\r\n      <ellipse class=\"preview\"\r\n        v-else-if=\"(tool == 'ellipse' || tool == 'gaCircle') && drawing\"\r\n        :cx=\"drawingStartX\" :cy=\"drawingStartY\"\r\n        :rx=\"Math.abs(drawingStartX - drawingCurrentX)\"\r\n        :ry=\"Math.abs(drawingStartY - drawingCurrentY)\"></ellipse>\r\n\r\n      <polygon class=\"preview\" v-else-if=\"tool === 'polygon' && polygonDrawing\"\r\n        x=\"0\" y=\"0\" :points=\"polygonPreviewPoints\"></polygon>\r\n\r\n      <polygon class=\"preview\" v-else-if=\"tool === 'gaPolygon' && polygonDrawing\"\r\n        x=\"0\" y=\"0\" :points=\"polygonPreviewPoints\"></polygon>\r\n\r\n      <g class=\"row-circle-preview\"\r\n        v-else-if=\"tool === 'rowCircle' || tool === 'rowCircleFixedCenter'\">\r\n        <circle class=\"preview\" v-for=\"circ in rowCirclePreviews\" :r=\"circ.radius\"\r\n          :cx=\"circ.cx\" :cy=\"circ.cy\" :key=\"circ\"></circle>\r\n        <circle class=\"preview-center\" v-for=\"circ in rowCirclePreviews\" :r=\"2\"\r\n          :cx=\"circ.cx\" :cy=\"circ.cy\" :key=\"circ\"></circle>\r\n      </g>\r\n\r\n      <g class=\"preview\" v-else-if=\"(tool === 'roundTable') && mouseStatus\">\r\n        <circle class=\"seat-preview\" :cx=\"drawingCurrentX\" :cy=\"drawingCurrentY\"\r\n          :r=\"25\">\r\n        </circle>\r\n        <circle class=\"seat-preview\" v-for=\"index in 6\" :key=\"index\"\r\n          :cx=\"drawingCurrentX + 35 * Math.cos(2 * Math.PI / 6 * index)\"\r\n          :cy=\"drawingCurrentY + 35 * Math.sin(2 * Math.PI / 6 * index)\" :r=\"10\">\r\n        </circle>\r\n      </g>\r\n\r\n      <g class=\"preview\" v-else-if=\"(tool === 'rectangleTable') && mouseStatus\"\r\n        :transform=\"`translate(-70, -30)`\">\r\n        <rect class=\"seat-preview\" :x=\"drawingCurrentX\" :y=\"drawingCurrentY\"\r\n          :width=\"140\" :height=\"60\">\r\n        </rect>\r\n        <circle class=\"seat-preview\" v-for=\"index in 4\" :key=\"index\"\r\n          :cx=\"drawingCurrentX + 40 * (index - 1) + 10\" :cy=\"drawingCurrentY - 10\"\r\n          :r=\"10\">\r\n        </circle>\r\n        <circle class=\"seat-preview\" v-for=\"index in 4\" :key=\"index\"\r\n          :cx=\"drawingCurrentX + 40 * (index - 1) + 10\" :cy=\"drawingCurrentY + 70\"\r\n          :r=\"10\">\r\n        </circle>\r\n      </g>\r\n\r\n      <circle class=\"seat-preview\"\r\n        v-else-if=\"tool === 'row' && !rowDrawing && mouseStatus\" :cx=\"rowCurrentX\"\r\n        :cy=\"rowCurrentY\" :r=\"10\"></circle>\r\n      <circle class=\"seat-preview\"\r\n        v-else-if=\"tool === 'rows' && !rowBlockDrawing && mouseStatus\"\r\n        :cx=\"rowCurrentX\" :cy=\"rowCurrentY\" :r=\"10\"></circle>\r\n      <circle class=\"seat-preview\"\r\n        v-else-if=\"tool === 'stgrows' && !stgrowBlockDrawing && mouseStatus\"\r\n        :cx=\"rowCurrentX\" :cy=\"rowCurrentY\" :r=\"10\"></circle>\r\n      <g class=\"row-preview\" v-else-if=\"tool === 'row' && rowDrawing\">\r\n        <line class=\"preview\" :x1=\"drawingStartX\" :y1=\"drawingStartY\"\r\n          :x2=\"drawingCurrentX\" :y2=\"drawingCurrentY\"></line>\r\n        <line class=\"auxline\"\r\n          :x1=\"drawingStartX - (drawingCurrentX - drawingStartX) * 1000\"\r\n          :y1=\"drawingStartY - (drawingCurrentY - drawingStartY) * 1000\"\r\n          :x2=\"drawingCurrentX + (drawingCurrentX - drawingStartX) * 1000\"\r\n          :y2=\"drawingCurrentY + (drawingCurrentY - drawingStartY) * 1000\"></line>\r\n        <text v-if=\"rowDrawingSeats.length >= 3\" :x=\"(rowDrawingSeats[rowDrawingSeats.length - 1].x -\r\n          rowDrawingSeats[0].x) /\r\n          rowDrawingSeats.length +\r\n          rowDrawPosition.x +\r\n          10\r\n          \" :y=\"(rowDrawingSeats[rowDrawingSeats.length - 1].y -\r\n    rowDrawingSeats[0].y) /\r\n    rowDrawingSeats.length +\r\n    rowDrawPosition.y -\r\n    30\r\n    \" text-anchor=\"middle\" fill=\"black\" dy=\".35em\" style=\"z-index: 99\">\r\n          {{ rowDrawingSeats.length }} Seats\r\n        </text>\r\n        <circle class=\"seat-preview\" v-for=\"(s, sid) in rowDrawingSeats\"\r\n          :key=\"sid\" :cx=\"s.x\" :cy=\"s.y\" r=\"10\"></circle>\r\n      </g>\r\n      <g class=\"rows-preview\" v-else-if=\"tool === 'rows' && rowBlockDrawing\"\r\n        :transform=\"rowBlockTransform\">\r\n        <g v-for=\"rid in rowBlockRows\" :key=\"rid\">\r\n          <circle class=\"seat-preview\" v-for=\"sid in rowBlockSeats\" :key=\"sid\"\r\n            :cx=\"rowSeatSpacing * (sid - 1)\" :cy=\"rowSpacing * (rid - 1)\" r=\"10\">\r\n          </circle>\r\n        </g>\r\n        <text v-if=\"rowBlockRows * rowBlockSeats > 0\" :x=\"10\" :y=\"-30\"\r\n          fill=\"black\" dy=\".35em\" style=\"z-index: 99\">\r\n          {{ rowBlockRows }} × {{ rowBlockSeats }} Seats\r\n        </text>\r\n\r\n      </g>\r\n      <g class=\"rows-preview\" v-else-if=\"tool === 'stgrows' && stgrowBlockDrawing\"\r\n        :transform=\"rowBlockTransform\">\r\n        <!-- //change here -->\r\n        <g v-for=\"rid in stgrowBlockRows\" :key=\"rid\">\r\n          <g v-if=\"rid % 2\">\r\n            <circle class=\"seat-preview\" v-for=\"sid in stgrowBlockSeats\"\r\n              :key=\"sid\"\r\n              :cx=\"rid % 2 ? rowSeatSpacing * (sid - 1) : rowSeatSpacing * (sid - 1) + rowSeatSpacing / 2\"\r\n              :cy=\"rowSpacing * (rid - 1)\" r=\"10\">\r\n            </circle>\r\n          </g>\r\n          <g v-if=\"rid % 2 === 0\">\r\n            <circle class=\"seat-preview\" v-for=\"sid in stgrowBlockSeats1\"\r\n              :key=\"sid\"\r\n              :cx=\"rid % 2 ? rowSeatSpacing * (sid - 1) : rowSeatSpacing * (sid - 1) + rowSeatSpacing / 2\"\r\n              :cy=\"rowSpacing * (rid - 1)\" r=\"10\">\r\n            </circle>\r\n          </g>\r\n        </g>\r\n\r\n        <text v-if=\"stgrowBlockRows * stgrowBlockSeats > 0\" :x=\"10\" :y=\"-30\"\r\n          fill=\"black\" dy=\".35em\" style=\"z-index: 99\">\r\n          {{ stgrowBlockRows }} × {{ stgrowBlockSeats }} Seats\r\n        </text>\r\n      </g>\r\n\r\n      <rect class=\"selection-area\"\r\n        v-else-if=\"(tool == 'select' || tool == 'seatselect') && selecting\"\r\n        :x=\"Math.min(selectingStartX, selectingCurrentX)\"\r\n        :y=\"Math.min(selectingStartY, selectingCurrentY)\"\r\n        :width=\"Math.abs(selectingStartX - selectingCurrentX)\"\r\n        :height=\"Math.abs(selectingStartY - selectingCurrentY)\"></rect>\r\n    </g>\r\n  </svg>\r\n</template>\r\n<style>\r\n.c-plan {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.c-plan svg {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: block;\r\n}\r\n\r\n.c-plan svg image {\r\n  pointer-events: none;\r\n}\r\n\r\n.c-plan svg * {\r\n  -webkit-touch-callout: none;\r\n  /* iOS Safari */\r\n  -webkit-user-select: none;\r\n  /* Safari */\r\n  -khtml-user-select: none;\r\n  /* Konqueror HTML */\r\n  -moz-user-select: none;\r\n  /* Old versions of Firefox */\r\n  -ms-user-select: none;\r\n  /* Internet Explorer/Edge */\r\n  user-select: none;\r\n}\r\n\r\nsvg .selection-area {\r\n  stroke-width: 1.5px;\r\n  fill: #8fc8f330;\r\n  stroke: #0064d050;\r\n}\r\n\r\nsvg .selection-box {\r\n  stroke-width: 1.5px;\r\n  stroke: #0064d0;\r\n}\r\n\r\nsvg .selection-resize-handle-nw {\r\n  fill: #0064d0;\r\n  cursor: nw-resize;\r\n}\r\n\r\nsvg .selection-resize-handle-ne {\r\n  fill: #0064d0;\r\n  cursor: ne-resize;\r\n}\r\n\r\nsvg .selection-resize-handle-sw {\r\n  fill: #0064d0;\r\n  cursor: sw-resize;\r\n}\r\n\r\nsvg .selection-resize-handle-se {\r\n  fill: #0064d0;\r\n  cursor: se-resize;\r\n}\r\n\r\nsvg .selection-rotate-handle {\r\n  fill: #0064d0;\r\n  cursor: grab;\r\n}\r\n\r\nsvg .selection-rotate-handle-connector,\r\nsvg .selection-rotate-handle-end {\r\n  fill: #fff;\r\n  stroke-width: 1.5px;\r\n  stroke: #0064d0;\r\n  pointer-events: none;\r\n}\r\n\r\nsvg .selection-boundary {\r\n  box-shadow: 0 0 5px 5px #0064d0;\r\n  stroke: #0064d0;\r\n  stroke-width: 1.5px;\r\n  stroke-dasharray: 3, 3;\r\n}\r\n\r\nsvg .preview {\r\n  stroke: #0064d0;\r\n  stroke-width: 2px;\r\n  fill: #8fc8f3;\r\n}\r\n\r\nsvg .auxline {\r\n  stroke: #0064d0;\r\n  stroke-width: 1px;\r\n  opacity: 0.5;\r\n  fill: rgba(0, 0, 204, 0.3);\r\n}\r\n\r\nsvg .seat-preview {\r\n  stroke: #0064d0;\r\n  stroke-width: 1px;\r\n  fill: #8fc8f3;\r\n}\r\n\r\nsvg .row-circle-preview circle.preview {\r\n  fill: #8fc8f3;\r\n  stroke-width: 2px;\r\n  opacity: 0.5;\r\n}\r\n\r\nsvg .row-circle-preview circle.preview-center {\r\n  fill: #8fc8f3;\r\n  stroke-width: 0;\r\n  opacity: 0.5;\r\n}\r\n</style>\r\n","<template>\r\n  <g :transform=\"transform\" @mousedown=\"mousedown\" @mouseup=\"mouseup\"\r\n    :class=\"classObject\">\r\n    <g :id=\"row.guid\" class=\"row_group\" :data-row-label=\"row.row_number\"\r\n      text-anchor=\"middle\">\r\n      <text class=\"row_lable\" v-if=\"rowNumberStart\" :x=\"rowNumberStart.x\"\r\n        :y=\"rowNumberStart.y\" dy=\".35em\" :font-size=\"rowNumberStart.fontSize\"\r\n        :transform=\"rotate ? rowNumberStart.transform : ''\" fill=\"#888\">{{\r\n          row.skip ? row.skip_number : row.row_number\r\n        }}</text>\r\n      <text class=\"row_lable\" v-if=\"rowNumberEnd\" :x=\"rowNumberEnd.x\"\r\n        :y=\"rowNumberEnd.y\" dy=\".35em\" :font-size=\"rowNumberEnd.fontSize\"\r\n        :transform=\"rotate ? rowNumberEnd.transform : ''\" fill=\"#888\">{{\r\n          row.skip ? row.skip_number : row.row_number }}</text>\r\n      <Seat v-for=\"s in row.seats\" :row=\"row\" :seat=\"s\" :key=\"s.uuid\" :zone=\"zone\"\r\n        @startDragging=\"startDragging\" :row_number=\"row.row_number\">\r\n      </Seat>\r\n      <path class=\"selection-line\" v-if=\"selection.includes(row.uuid)\"\r\n        :d=\"selectionLinePath\"></path>\r\n    </g>\r\n  </g>\r\n</template>\r\n<script>\r\nimport Seat from \"./Seat\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport { computed, ref } from \"vue\";\r\nimport { letterCounter } from \"@/lib/numbering\";\r\nimport { useSeatFormatStore } from \"@/stores/seatFormat\";\r\n\r\n// import { mapState } from \"vuex\";\r\n// import { positionInZone } from \"../../lib/geometry\";\r\nconst round = (fl, places) => Number(fl.toFixed(places ? places : 0));\r\n\r\n\r\nexport default {\r\n  name: \"SeatComp\",\r\n  components: { Seat },\r\n  props: {\r\n    row: Object,\r\n    zone: Object,\r\n    ox: Number,\r\n    oy: Number,\r\n    selectionBoundary: Object\r\n  },\r\n  setup() {\r\n    const store = useMainStore();\r\n    const selection = computed(() => store.selection);\r\n    const storeSeatFormat = useSeatFormatStore();\r\n    const temp_ox = ref(0);\r\n    const temp_oy = ref(0);\r\n\r\n    return {\r\n      tool: store.tool,\r\n      selection,\r\n      seatCur: storeSeatFormat.seatCur,\r\n      temp_ox,\r\n      temp_oy,\r\n    };\r\n  },\r\n  data() {\r\n    return {\r\n      lastMouseUp: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    // ...mapState([\"selection\"]),\r\n\r\n    rowContent() {\r\n      // if (this.seatCur === 0) {\r\n      //   content = this.row.row_number;\r\n      // } else if (this.seatCur === 1) {\r\n      // } else {\r\n      //   content = letterCounter(parseInt(this.row.row_number), 'a')\r\n      // }\r\n      // return letterCounter(parseInt(this.row.row_number), 'A')\r\n      // return letterCounter(parseInt(this.row.row_number), 'A');\r\n      return letterCounter(parseInt(this.row.row_number), 'A');\r\n    },\r\n\r\n    classObject() {\r\n      return {\r\n        row: true,\r\n        selected: this.selection.includes(this.row.uuid),\r\n      };\r\n    },\r\n    selectionLinePath() {\r\n      let p = \"\";\r\n      for (let s of this.row.seats) {\r\n        if (p) {\r\n          p += ` L ${s.position.x} ${s.position.y}`;\r\n        } else {\r\n          p += `M ${s.position.x} ${s.position.y}`;\r\n        }\r\n      }\r\n      return p;\r\n    },\r\n    transform() {\r\n      return `translate(${this.row.position.x}, ${this.row.position.y})`;\r\n    },\r\n    rotate() {\r\n      return this.row.rotate_label;\r\n    },\r\n    rowNumberStart() {\r\n      const temp = this.getRowNumber(this.row, false);\r\n      return temp\r\n    },\r\n    rowNumberEnd() {\r\n      const temp = this.getRowNumber(this.row, true);\r\n      // console.log('End', temp);\r\n      return temp\r\n    },\r\n    getRowNumber_Custom() {\r\n      // console.log('typeof', typeof (this.row.row_number))\r\n      return this.row.row_number;\r\n    },\r\n  },\r\n  watch: {},\r\n  mounted() { },\r\n  unmounted() { },\r\n  methods: {\r\n    getRowNumber(row, end) {\r\n      if (\r\n        row.row_number_position !== \"both\" &&\r\n        row.row_number_position !== (end ? \"end\" : \"start\")\r\n      )\r\n        return null;\r\n\r\n      if (row.seats.length == 1) {\r\n        const distFactor = 2; // Determined by \"what looks good?\" with lots of real plans\r\n        const idxedge = end ? row.seats.length - 1 : 0;\r\n        const linevec = [25, 0];\r\n        const linelen = Math.sqrt(linevec[0] * linevec[0] + linevec[1] * linevec[1]);\r\n        const linevec_normed = [\r\n          round(linevec[0] / linelen, 8), // prevent floating point issues\r\n          round(linevec[1] / linelen, 8),\r\n        ];\r\n\r\n\r\n        let x =\r\n          row.seats[idxedge].position.x +\r\n          linevec_normed[0] * distFactor * 10;\r\n        let y =\r\n          row.seats[idxedge].position.y +\r\n          linevec_normed[1] * distFactor * 10;\r\n        let flipped = linevec_normed[0] < 0;\r\n\r\n        let transform = \"\";\r\n        let theta = -Math.atan(linevec_normed[0] / linevec_normed[1]);\r\n        theta -= ((Math.sign(theta) >= 0 ? 1 : -1) * Math.PI) / 2; // Do not use Math.sign directly to multiply because Math.sign(0)==0\r\n        if (Math.abs(Math.abs(theta) - Math.PI / 2) < 0.0001) {\r\n          // 90°\r\n          if (linevec_normed[1] > 0 !== end) {\r\n            // right of stage\r\n            theta += Math.PI;\r\n          }\r\n          flipped = end;\r\n        }\r\n        if (Math.abs(theta) > 0.0001) {\r\n          transform = `rotate(${(theta / Math.PI) * 180}, ${x}, ${y})`;\r\n        }\r\n        if (end) {\r\n          x -= 40;\r\n        }\r\n        return {\r\n          x, y,\r\n          textAnchor: end ? \"end\" : \"start\",\r\n          transform: transform,\r\n        }\r\n      }\r\n\r\n      if (row.seats.length < 2) return null;\r\n\r\n\r\n      // To determine the *position* of the row number, we calculate the vector from the second-outmost\r\n      // seat to the outmost seat and extend it by distFactor times the radius of the outmost seat.\r\n      const distFactor = 2; // Determined by \"what looks good?\" with lots of real plans\r\n      const idxedge = end ? row.seats.length - 1 : 0;\r\n      const idxcomp = end ? row.seats.length - 2 : 1;\r\n      const linevec = [\r\n        row.seats[idxedge].position.x - row.seats[idxcomp].position.x,\r\n        row.seats[idxedge].position.y - row.seats[idxcomp].position.y,\r\n      ];\r\n      const linelen = Math.sqrt(linevec[0] * linevec[0] + linevec[1] * linevec[1]);\r\n      const linevec_normed = [\r\n        round(linevec[0] / linelen, 8), // prevent floating point issues\r\n        round(linevec[1] / linelen, 8),\r\n      ];\r\n\r\n      const x =\r\n        row.seats[idxedge].position.x +\r\n        linevec_normed[0] * distFactor * (row.seats[idxedge].radius || 10);\r\n      const y =\r\n        row.seats[idxedge].position.y +\r\n        linevec_normed[1] * distFactor * (row.seats[idxedge].radius || 10);\r\n\r\n      // To support upside-down rows properly, we base the text-anchor on the vector, not on the end flag\r\n      let flipped = linevec_normed[0] < 0;\r\n\r\n      // To determine the *rotation* of the row number, we compute the angle between the vector from the\r\n      // second-outmost seat to the outmost seat and the vertical axis.\r\n      // We then rotate the result 90° in the direction of the vertical axis, because we want our vector\r\n      // to be the text's length axis, not it's size axis.\r\n      // We use atan(), which only returns results between -90° and 90°. This is nice, because it mean\r\n      // we'll never render text which is upside down, but alwas favor the direction most suitable to read.\r\n      // The exception is if we have a perfectly vertical row, in which case it is unclear whether -90° or 90°\r\n      // is easier to read. Visually, it looks nice if the text is rotated in the way that it is correct\r\n      // \"looking from the stage\". We don't know where the stage is, so we're assuming the order of the seats\r\n      // in the row is \"left to right\" (looking from the seat to the stage), because that's the most likely way\r\n      // to create the row.\r\n      let transform = \"\";\r\n      let theta = -Math.atan(linevec_normed[0] / linevec_normed[1]);\r\n      theta -= ((Math.sign(theta) >= 0 ? 1 : -1) * Math.PI) / 2; // Do not use Math.sign directly to multiply because Math.sign(0)==0\r\n      if (Math.abs(Math.abs(theta) - Math.PI / 2) < 0.0001) {\r\n        // 90°\r\n        if (linevec_normed[1] > 0 !== end) {\r\n          // right of stage\r\n          theta += Math.PI;\r\n        }\r\n        flipped = end;\r\n      }\r\n      if (Math.abs(theta) > 0.0001) {\r\n        transform = `rotate(${(theta / Math.PI) * 180}, ${x}, ${y})`;\r\n      }\r\n\r\n      if (this.tool !== 'stgrows') {\r\n        return {\r\n          x,\r\n          y,\r\n          textAnchor: flipped ? \"end\" : \"start\",\r\n          transform: transform,\r\n        };\r\n      } else {\r\n        if (this.getRowNumASCII(row.row_number) % 2) {\r\n          return {\r\n            x: x,\r\n            y: y,\r\n            textAnchor: flipped ? \"end\" : \"start\",\r\n            transform: transform,\r\n          }\r\n        }\r\n        else {\r\n          return {\r\n            x: flipped ? x - 10 : x + 15,\r\n            y: y,\r\n            textAnchor: flipped ? \"end\" : \"start\",\r\n            transform: transform,\r\n          }\r\n        }\r\n      }\r\n    },\r\n    getRowNumASCII(str) {\r\n      let sum = 0;\r\n      for (let i = 0; i < str.length; i++) {\r\n        sum += str.charCodeAt(i); // Add the ASCII value of each character\r\n      }\r\n      return str.length % 2 ? sum % 2 : sum % 2 - 1;\r\n    },\r\n    startDragging(uuid, zone, event) {\r\n      // console.log('row start dragging');\r\n      if (useMainStore().tool === \"select\") {\r\n        this.$emit(\"startDragging\", uuid, zone, event);\r\n      }\r\n    },\r\n    mouseup(event) {\r\n      // console.log('row mouseup')\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n\r\n      setTimeout(() => {\r\n        if (this.selectionBoundary) {\r\n\r\n          // const temp = this.selectionBoundary;\r\n          this.temp_ox = this.selectionBoundary.x + this.selectionBoundary.width / 2;\r\n          this.temp_oy = this.selectionBoundary.y + this.selectionBoundary.height / 2;\r\n          const store = useMainStore();\r\n          store.set_Ox(this.temp_ox);\r\n          store.set_Oy(this.temp_oy);\r\n          // console.log('Aha', temp)\r\n        }\r\n      }, 100);\r\n\r\n\r\n      const interval = new Date().getTime() - this.lastMouseUp;\r\n      this.lastMouseUp = new Date().getTime();\r\n      if (useMainStore().tool === \"select\") {\r\n        if (!useMainStore().dragged) {\r\n          useMainStore().toggleSelection(\r\n            [this.row.uuid],\r\n            event.shiftKey,\r\n            this.zone.uuid\r\n          );\r\n\r\n        }\r\n        if (useMainStore().dragging) {\r\n          useMainStore().stopDragging();\r\n        }\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    mousedown(event) {\r\n      // console.log('row mousedown')\r\n      setTimeout(() => {\r\n        if (this.selectionBoundary) {\r\n\r\n          // const temp = this.selectionBoundary;\r\n          this.temp_ox = this.selectionBoundary.x + this.selectionBoundary.width / 2;\r\n          this.temp_oy = this.selectionBoundary.y + this.selectionBoundary.height / 2;\r\n          const store = useMainStore();\r\n          store.set_Ox(this.temp_ox);\r\n          store.set_Oy(this.temp_oy);\r\n          // console.log('Aha', temp)\r\n        }\r\n      }, 100);\r\n\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      if (useMainStore().tool === \"select\") {\r\n        this.$emit(\"startDragging\", this.row.uuid, this.zone, event);\r\n        event.stopPropagation();\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.selection-line {\r\n  stroke: #0064d080;\r\n  stroke-width: 2px;\r\n  pointer-events: none;\r\n  fill: none;\r\n}\r\n</style>\r\n","<template>\r\n  <g @mousedown=\"mousedown\" @mouseup=\"mouseup\" class=\"seat_group\"\r\n    data-object-type=\"seat_group\">\r\n\r\n    <circle class=\"seat_circle\" :id=\"seat.guid\" :fill=\"seatColor\"\r\n      :cx=\"seat.position.x\" :cy=\"seat.position.y\" :r=\"radius\" stroke=\"#000\"\r\n      style=\"stroke-width: 1px\" :data-seat-label=\"seat.seat_number\"\r\n      :data-row-label=\"row_number\" :data-section-label=\"seat.section_label\"\r\n      :data-section-abv=\"seat.section_abv\" :data-category-name=\"seat.category\"\r\n      :data-tags=\"makeTag\">\r\n    </circle>\r\n\r\n    <text class=\"seat_label\" :fill=\"textColor ? 'black' : 'black'\"\r\n      :x=\"seat.position.x\" :y=\"seat.position.y\" text-anchor=\"middle\"\r\n      font-size=\"10px\" font-family=\"sans-serif\" dy=\".35em\">\r\n      {{ textContent }}\r\n    </text>\r\n\r\n\r\n    <g v-if=\"seat.tag_name && seat.tag_name.includes('Wheelchair')\"\r\n      :transform=\"`matrix(1, 0, 0, 1, ${seat.position.x - 5}, ${seat.position.y - 6})`\"\r\n      data-object-type=\"seat-icon\" x=\"-5\" y=\"-6\" data-seat-id=\"element-1-1\"\r\n      data-seat-icon=\"wheelchair\" data-v-e185086c=\"\">\r\n      <g data-v-e185086c=\"\">\r\n        <path\r\n          d=\"M 3.261719 0.015625 C 2.613281 0.117188 2.195312 0.742188 2.378906 1.347656 C 2.476562 1.675781 2.761719 1.957031 3.097656 2.058594 C 3.386719 2.144531 3.660156 2.125 3.925781 1.996094 C 4.148438 1.890625 4.3125 1.734375 4.421875 1.523438 C 4.503906 1.367188 4.53125 1.265625 4.535156 1.085938 C 4.539062 0.972656 4.539062 0.9375 4.519531 0.851562 C 4.429688 0.429688 4.101562 0.113281 3.660156 0.0234375 C 3.554688 0 3.371094 -0.00390625 3.261719 0.015625 Z M 3.261719 0.015625 \"\r\n          data-v-e185086c=\"\" :style=\"{ 'fill-opacity': 1, fill: tagColor }\">\r\n        </path>\r\n        <path\r\n          d=\"M 3.367188 2.3125 C 3.355469 2.3125 3.324219 2.320312 3.292969 2.324219 C 3.105469 2.363281 2.917969 2.460938 2.769531 2.601562 C 2.574219 2.785156 2.46875 3.011719 2.453125 3.277344 C 2.449219 3.359375 2.457031 3.527344 2.519531 4.523438 C 2.527344 4.609375 2.554688 5.121094 2.589844 5.65625 C 2.636719 6.433594 2.652344 6.652344 2.667969 6.71875 C 2.734375 7.035156 2.957031 7.296875 3.273438 7.4375 C 3.347656 7.472656 3.476562 7.511719 3.574219 7.53125 C 3.613281 7.539062 4.1875 7.542969 5.488281 7.542969 L 7.347656 7.546875 L 7.476562 7.761719 C 8.464844 9.402344 8.824219 9.992188 8.851562 10.023438 C 8.941406 10.128906 9.082031 10.210938 9.222656 10.242188 C 9.324219 10.265625 9.480469 10.257812 9.574219 10.226562 C 9.902344 10.117188 10.074219 9.769531 9.960938 9.445312 C 9.941406 9.382812 9.746094 9.058594 8.988281 7.808594 C 8.46875 6.949219 8.03125 6.226562 8.011719 6.195312 C 7.929688 6.082031 7.789062 5.988281 7.640625 5.945312 C 7.585938 5.929688 7.480469 5.929688 6.160156 5.925781 L 4.738281 5.925781 L 4.730469 5.761719 C 4.726562 5.675781 4.722656 5.496094 4.71875 5.363281 L 4.710938 5.128906 L 5.734375 5.128906 C 6.621094 5.128906 6.769531 5.125 6.820312 5.113281 C 7.078125 5.050781 7.246094 4.820312 7.207031 4.578125 C 7.179688 4.402344 7.0625 4.269531 6.878906 4.195312 C 6.828125 4.175781 6.828125 4.175781 5.738281 4.171875 L 4.652344 4.167969 L 4.644531 4.070312 C 4.609375 3.613281 4.574219 3.21875 4.566406 3.164062 C 4.546875 3.027344 4.476562 2.867188 4.390625 2.742188 C 4.292969 2.605469 4.097656 2.453125 3.9375 2.386719 C 3.792969 2.328125 3.714844 2.3125 3.542969 2.308594 C 3.457031 2.308594 3.378906 2.308594 3.367188 2.3125 Z M 3.367188 2.3125 \"\r\n          data-v-e185086c=\"\" :style=\"{ 'fill-opacity': 1, fill: tagColor }\">\r\n        </path>\r\n        <path\r\n          d=\"M 1.84375 4.753906 C 1.328125 5.089844 0.90625 5.511719 0.585938 6.015625 C 0.03125 6.886719 -0.136719 7.957031 0.117188 8.96875 C 0.367188 9.945312 0.988281 10.789062 1.871094 11.347656 C 2.878906 11.984375 4.132812 12.164062 5.292969 11.84375 C 6.285156 11.570312 7.152344 10.929688 7.6875 10.074219 C 7.796875 9.90625 7.925781 9.65625 7.917969 9.640625 C 7.90625 9.609375 7.347656 8.691406 7.34375 8.691406 C 7.339844 8.691406 7.332031 8.71875 7.324219 8.75 C 7.304688 8.835938 7.242188 9.039062 7.191406 9.164062 C 6.839844 10.03125 6.109375 10.703125 5.195312 11 C 4.558594 11.210938 3.851562 11.222656 3.191406 11.035156 C 2.492188 10.832031 1.839844 10.371094 1.421875 9.777344 C 1.140625 9.371094 0.96875 8.941406 0.894531 8.4375 C 0.871094 8.269531 0.871094 7.796875 0.894531 7.636719 C 0.929688 7.40625 0.976562 7.21875 1.046875 7.03125 C 1.214844 6.5625 1.476562 6.167969 1.855469 5.8125 L 2.019531 5.65625 L 1.988281 5.1875 C 1.972656 4.929688 1.960938 4.710938 1.960938 4.703125 C 1.960938 4.695312 1.957031 4.6875 1.953125 4.6875 C 1.949219 4.6875 1.898438 4.71875 1.84375 4.753906 Z M 1.84375 4.753906 \"\r\n          data-v-e185086c=\"\" :style=\"{ 'fill-opacity': 1, fill: tagColor }\">\r\n        </path>\r\n      </g>\r\n    </g>\r\n\r\n    <circle v-if=\"showTag\" fill=\"#fff\" :cx=\"seat.position.x\"\r\n      :cy=\"seat.position.y + 7\" :r=\"3\">\r\n    </circle>\r\n\r\n  </g>\r\n</template>\r\n\r\n<script>\r\nimport { contrast, hex2rgb } from \"@/lib/colors\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\nimport { computed } from \"vue\";\r\n\r\nexport default {\r\n  name: \"SeatComp\",\r\n  props: {\r\n    seat: Object,\r\n    row: Object,\r\n    zone: Object,\r\n    row_number: String,\r\n  },\r\n  data() {\r\n    return {\r\n      lastMouseUp: 0,\r\n    };\r\n  },\r\n  setup() {\r\n    const planstore = usePlanStore();\r\n    const store = useMainStore();\r\n\r\n    const getCategoryByName = computed(() => planstore.getCategoryByName);\r\n    const cursor = computed(() => store.cursor);\r\n\r\n    const bValid = computed(() => store.bvalid);\r\n\r\n    return { getCategoryByName, cursor, bValid };\r\n  },\r\n  computed: {\r\n    makeTag() {\r\n      const res = []\r\n      if (this.seat.tag_name) {\r\n        if (this.seat.tag_name.includes('Wheelchair')) res.push('W')\r\n        if (this.seat.tag_name.includes('Wheelchair Companion')) res.push('C')\r\n        if (this.seat.tag_name.includes('Partial View')) res.push('P')\r\n        if (this.seat.tag_name.includes('Folding Chair')) res.push('F')\r\n        if (this.seat.tag_name.includes('Standing Room Only')) res.push('S')\r\n        return res.join(',')\r\n      }\r\n      return '';\r\n    },\r\n    showTag() {\r\n      const tags = [\r\n        \"Wheelchair Companion\",\r\n        \"Partial View\",\r\n        \"Folding Chair\",\r\n        \"Standing Room Only\"\r\n      ]\r\n      if (this.seat.tag_name) {\r\n        let res = false;\r\n        tags.forEach(tag => {\r\n          if (this.seat.tag_name.includes(tag))\r\n            res = true;\r\n        })\r\n        return res;\r\n      }\r\n      return false;\r\n    },\r\n    tagColor() {\r\n      return this.seat.category ? '#ffffff' : '#0064d0';\r\n    },\r\n    seatID() {\r\n      return `seat-${this.$props.row_number}-${this.seat.seat_number}`\r\n    },\r\n\r\n    classObject() {\r\n      return {\r\n        seat: true,\r\n        selected: useMainStore().selection.includes(this.seat.uuid),\r\n      };\r\n    },\r\n    textContent() {\r\n      // let content = this.seat.seat_number;\r\n      // if (this.seat.flag) {\r\n      //   content = this.seat.flag;\r\n      // }\r\n      // if (this.seat.start_direction) {\r\n      //   content = this.seat.start_direction;\r\n      // }\r\n      // return content;\r\n      return this.row.skip_letter ? this.seat.skip_number : this.seat.seat_number;\r\n      // return letterCounter(this.seat.seat_number, 'A');\r\n    },\r\n    category() {\r\n      return this.getCategoryByName(this.seat.category);\r\n    },\r\n    radius() {\r\n      if (this.seat.radius !== undefined) {\r\n        return this.seat.radius;\r\n      } else {\r\n        return 10;\r\n      }\r\n    },\r\n    seatColor() {\r\n      if (this.bValid && !this.seat.valid) {\r\n        return \"#ffcf37\";\r\n      }\r\n      if (this.category) {\r\n        return this.category.color;\r\n      } else {\r\n        return \"#fff\";\r\n      }\r\n    },\r\n    textColor() {\r\n      if (this.category) {\r\n        const c = contrast([0, 0, 0], hex2rgb(this.category.color));\r\n        if (c < 5) return \"#FFFFFF\";\r\n        else return \"#000000\";\r\n      } else {\r\n        return \"#666666\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    mouseup(event) {\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      const interval = new Date().getTime() - this.lastMouseUp;\r\n      this.lastMouseUp = new Date().getTime();\r\n      if (useMainStore().tool === \"seatselect\") {\r\n        if (!useMainStore().dragged) {\r\n          useMainStore().toggleSelection(\r\n            [this.seat.uuid],\r\n            event.shiftKey,\r\n            this.zone.uuid\r\n          );\r\n        }\r\n        if (useMainStore().dragging) {\r\n          useMainStore().stopDragging();\r\n        }\r\n        return true;\r\n      } else if (useMainStore().tool === \"select\" && interval < 500) {\r\n        // console.log(interval);\r\n        // doubleclick\r\n        useMainStore().changeTool(\"seatselect\");\r\n        useMainStore().toggleSelection([this.seat.uuid], false, this.zone.uuid);\r\n\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    mousedown(event) {\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      if (useMainStore().tool === \"seatselect\") {\r\n        this.$emit(\"startDragging\", this.seat.uuid, this.zone, event);\r\n        event.stopPropagation();\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.movable .selected g.seat *,\r\n.movable .selected * {\r\n  cursor: move;\r\n}\r\n</style>\r\n","import { render } from \"./Seat.vue?vue&type=template&id=3d4a6fd6\"\nimport script from \"./Seat.vue?vue&type=script&lang=js\"\nexport * from \"./Seat.vue?vue&type=script&lang=js\"\n\nimport \"./Seat.vue?vue&type=style&index=0&id=3d4a6fd6&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Row.vue?vue&type=template&id=71897af9\"\nimport script from \"./Row.vue?vue&type=script&lang=js\"\nexport * from \"./Row.vue?vue&type=script&lang=js\"\n\nimport \"./Row.vue?vue&type=style&index=0&id=71897af9&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <g class=\"area\" v-if=\"area\" :transform=\"transform\" @mousedown=\"mousedown\"\r\n    @mouseup=\"mouseup\" :class=\"classes\">\r\n\r\n    <template v-if=\"area.shape === 'circle'\">\r\n      <circle cx=\"0\" cy=\"0\" :r=\"area.circle.radius\"\r\n        :fill=\"area.color || '#888888'\"\r\n        :stroke=\"area.border_width >= 1 ? area.border_color || '#888888' : ''\"\r\n        :stroke-width=\"area.border_width || '2px'\">\r\n      </circle>\r\n      <text v-if=\"area.text.text\" :x=\"area.text.position.x\"\r\n        :y=\"area.text.position.y\" :font-size=\"area.text.size || 16\"\r\n        text-anchor=\"middle\" font-family=\"sans-serif\" dy=\".35em\"\r\n        :fill=\"area.text.color || '#888888'\">\r\n        {{ area.text.text }}\r\n      </text>\r\n    </template>\r\n\r\n    <template v-else-if=\"area.shape === 'ellipse'\">\r\n      <ellipse\r\n        :stroke=\"area.border_width >= 1 ? area.border_color || '#888888' : ''\"\r\n        cx=\"0\" cy=\"0\" :fill=\"area.color || '#888888'\" :rx=\"area.ellipse.radius.x\"\r\n        :ry=\"area.ellipse.radius.y\" :stroke-width=\"area.border_width || '2px'\">\r\n      </ellipse>\r\n      <text v-if=\"area.text.text\" :x=\"area.text.position.x\"\r\n        :y=\"area.text.position.y\" :font-size=\"area.text.size || 16\"\r\n        text-anchor=\"middle\" font-family=\"sans-serif\" dy=\".35em\"\r\n        :fill=\"area.text.color || '#888888'\">\r\n        {{ area.text.text }}\r\n      </text>\r\n    </template>\r\n\r\n    <template v-else-if=\"area.shape === 'gaCircle'\">\r\n      <ellipse :id=\"area.guid\" :data-capacity=\"area.capacity\"\r\n        :data-label=\"area.label || ''\" :data-abv=\"area.abbreviation || ''\"\r\n        class=\"gaSecCr\"\r\n        :stroke=\"area.border_width >= 1 ? area.border_color || '#888888' : ''\"\r\n        cx=\"0\" cy=\"0\" :fill=\"gaColor\" :rx=\"area.ellipse.radius.x\"\r\n        :ry=\"area.ellipse.radius.y\" :stroke-width=\"area.border_width || '2px'\"\r\n        :data-section-label=\"area.section_label || ''\"\r\n        :data-category-name=\"area.category || ''\"\r\n        :data-section-abv=\"area.section_abv || ''\" :data-tags=\"makeTag(area)\">\r\n      </ellipse>\r\n      <text v-if=\"area.show_label && area.text.text\" :x=\"area.text.position.x\"\r\n        :y=\"area.text.position.y\" :font-size=\"area.text.size || 16\"\r\n        text-anchor=\"middle\" font-family=\"sans-serif\" dy=\".35em\"\r\n        :fill=\"area.text.color || '#888888'\">\r\n        {{ area.text.text }}\r\n      </text>\r\n      <circle v-if=\"showTag(area)\" fill=\"#fff\" :cx=\"0\"\r\n        :cy=\"area.ellipse.radius.y - 7\" :r=\"7\">\r\n      </circle>\r\n    </template>\r\n\r\n    <template v-else-if=\"area.shape === 'rectangle'\">\r\n      <rect :fill=\"area.color || '#888888'\"\r\n        :stroke=\"area.border_width >= 1 ? area.border_color || '#888888' : ''\"\r\n        x=\"0\" y=\"0\" :width=\"area.rectangle.width\" :height=\"area.rectangle.height\"\r\n        :stroke-width=\"area.border_width || '2px'\"></rect>\r\n      <text v-if=\"area.text.text\" :x=\"area.text.position.x\"\r\n        :y=\"area.text.position.y\" :font-size=\"area.text.size || 16\"\r\n        text-anchor=\"middle\" font-family=\"sans-serif\" dy=\".35em\"\r\n        :fill=\"area.text.color || '#888888'\">\r\n        {{ area.text.text }}\r\n      </text>\r\n    </template>\r\n\r\n    <template v-else-if=\"area.shape === 'gaSquare'\">\r\n      <rect class=\"gaSecSq\" :id=\"area.guid\" :fill=\"gaColor\"\r\n        :data-capacity=\"area.capacity\" :data-label=\"area.label || ''\"\r\n        :data-abv=\"area.abbreviation || ''\"\r\n        :stroke=\"area.border_width >= 1 ? area.border_color || '#888888' : ''\"\r\n        x=\"0\" y=\"0\" :width=\"area.rectangle.width\" :height=\"area.rectangle.height\"\r\n        :stroke-width=\"area.border_width || '2px'\"\r\n        :data-section-label=\"area.section_label || ''\"\r\n        :data-category-name=\"area.category || ''\"\r\n        :data-section-abv=\"area.section_abv || ''\" :data-tags=\"makeTag(area)\">\r\n      </rect>\r\n      <text v-if=\"area.show_label && area.text.text\" :x=\"area.rectangle.width / 2\"\r\n        :y=\"area.rectangle.height / 2\" :font-size=\"area.text.size || 16\"\r\n        text-anchor=\"middle\" font-family=\"sans-serif\" dy=\".35em\"\r\n        :fill=\"area.text.color || '#888888'\">\r\n        {{ area.text.text }}\r\n      </text>\r\n      <circle v-if=\"showTag(area)\" fill=\"#fff\" :cx=\"area.rectangle.width / 2\"\r\n        :cy=\"area.rectangle.height - 7\" :r=\"7\">\r\n      </circle>\r\n    </template>\r\n\r\n    <template v-else-if=\"area.shape === 'polygon'\">\r\n\r\n      <polygon :fill=\"area.color || '#888888'\"\r\n        :stroke=\"area.border_width >= 1 ? area.border_color || '#888888' : ''\"\r\n        :points=\"polygonPoints\" :stroke-width=\"area.border_width || '2px'\">\r\n      </polygon>\r\n      <text v-if=\"area.text.text\" :x=\"area.text.position.x\"\r\n        :y=\"area.text.position.y\" :font-size=\"area.text.size || 16\"\r\n        text-anchor=\"middle\" font-family=\"sans-serif\" dy=\".35em\"\r\n        :fill=\"area.text.color || '#888888'\">\r\n        {{ area.text.text }}\r\n      </text>\r\n\r\n      <g v-if=\"isIndividuallySelected &&\r\n        area.polygon &&\r\n        area.polygon.points\r\n        \">\r\n        <rect class=\"polygon-point-handle\"\r\n          v-for=\"( p, pid ) in  area.polygon.points \" :key=\"'point-handle-' + pid\"\r\n          :x=\"p.x - 3\" :y=\"p.y - 3\" width=\"6\" height=\"6\"\r\n          @mousedown=\"mousedownPolygonPoint($event, pid)\"></rect>\r\n        <rect class=\"polygon-new-point-handle\"\r\n          v-for=\"( p, pid ) in  area.polygon.points \"\r\n          :key=\"'new-point-handle-' + pid\"\r\n          :x=\"(p.x + getNextPoint(pid).x) / 2 - 2\"\r\n          :y=\"(p.y + getNextPoint(pid).y) / 2 - 2\" width=\"4\" height=\"4\"\r\n          @mousedown=\"insertPolygonPointBefore($event, pid)\"></rect>\r\n      </g>\r\n    </template>\r\n\r\n    <template v-else-if=\"area.shape === 'gaPolygon'\">\r\n      <polygon class=\"gaSecPy\" :id=\"area.guid\" :data-capacity=\"area.capacity\"\r\n        :data-label=\"area.label || ''\" :data-abv=\"area.abbreviation || ''\"\r\n        :fill=\"gaColor\"\r\n        :stroke=\"area.border_width >= 1 ? area.border_color || '#888888' : ''\"\r\n        :points=\"polygonPoints\" :stroke-width=\"area.border_width || '2px'\"\r\n        :data-section-label=\"area.section_label || ''\"\r\n        :data-category-name=\"area.category || ''\"\r\n        :data-section-abv=\"area.section_abv || ''\" :data-tags=\"makeTag(area)\">\r\n      </polygon>\r\n      <text v-if=\"area.show_label && area.text.text\" :x=\"area.text.position.x\"\r\n        :y=\"area.text.position.y\" :font-size=\"area.text.size || 16\"\r\n        text-anchor=\"middle\" font-family=\"sans-serif\" dy=\".35em\"\r\n        :fill=\"area.text.color || '#888888'\">\r\n        {{ area.text.text }}\r\n      </text>\r\n      <circle v-if=\"showTag(area)\" fill=\"#fff\" :cx=\"polygonTagX\" :cy=\"polygonTagY\"\r\n        :r=\"7\">\r\n      </circle>\r\n      <g v-if=\"isIndividuallySelected &&\r\n        area.polygon &&\r\n        area.polygon.points\r\n        \">\r\n        <rect class=\"polygon-point-handle\"\r\n          v-for=\"( p, pid ) in  area.polygon.points \" :key=\"'point-handle-' + pid\"\r\n          :x=\"p.x - 3\" :y=\"p.y - 3\" width=\"6\" height=\"6\"\r\n          @mousedown=\"mousedownPolygonPoint($event, pid)\"></rect>\r\n        <rect class=\"polygon-new-point-handle\"\r\n          v-for=\"( p, pid ) in  area.polygon.points \"\r\n          :key=\"'new-point-handle-' + pid\"\r\n          :x=\"(p.x + getNextPoint(pid).x) / 2 - 2\"\r\n          :y=\"(p.y + getNextPoint(pid).y) / 2 - 2\" width=\"4\" height=\"4\"\r\n          @mousedown=\"insertPolygonPointBefore($event, pid)\"></rect>\r\n      </g>\r\n    </template>\r\n\r\n    <g v-else-if=\"area.shape === 'roundTable'\" class=\"table\">\r\n      <circle class=\"table_circle\" :cx=\"0\" :cy=\"0\" :r=\"area.radius\" fill=\"#ffffff\"\r\n        stroke=\"#000\" stroke-width=\"1\" :data-space=\"area.space\">\r\n      </circle>\r\n      <text class=\"table_label\" :x=\"area.label.position.x\"\r\n        :y=\"area.label.position.y\" :font-size=\"area.label.size || 16\"\r\n        text-anchor=\"middle\" font-family=\"sans-serif\" dy=\".35em\"\r\n        :fill=\"area.label.color || '#888888'\"\r\n        :transform=\"!area.rotate_label ? `rotate(${-area.rotation})` : ''\">\r\n        {{ area.label.abv }}\r\n      </text>\r\n      <g class=\"table_seat_group\" v-for=\"(item, idx) in area.seats\" :key=\"item\"\r\n        @mousedown=\"event => seat_mousedown(event, item.uuid)\"\r\n        @mouseup=\"event => seat_mouseup(event, item.uuid)\">\r\n        <circle class=\"tableCrSt\" :id=\"item.guid\" :cx=\"item.position.x\"\r\n          :cy=\"item.position.y\" :r=\"item.r\" stroke=\"#000\"\r\n          style=\"stroke-width: 1px;\" :fill=\"seatColor(item)\" stroke-width=\"1\"\r\n          :data-section-label=\"item.section_label\"\r\n          :data-section-abv=\"item.section_abv\" :data-category-name=\"item.category\"\r\n          :data-tags=\"makeTag(item)\" :data-seat-label=\"item.seat_number\"\r\n          :data-table-label=\"area.label.name\" :data-table-abv=\"area.label.abv\">\r\n        </circle>\r\n\r\n        <g v-if=\"item.tag_name && item.tag_name.includes('Wheelchair')\"\r\n          :transform=\"`matrix(1, 0, 0, 1, ${item.position.x - 5}, ${item.position.y - 6})`\"\r\n          data-object-type=\"seat-icon\" x=\"-5\" y=\"-6\" data-seat-id=\"element-1-1\"\r\n          data-seat-icon=\"wheelchair\" data-v-e185086c=\"\">\r\n          <g data-v-e185086c=\"\">\r\n            <path\r\n              d=\"M 3.261719 0.015625 C 2.613281 0.117188 2.195312 0.742188 2.378906 1.347656 C 2.476562 1.675781 2.761719 1.957031 3.097656 2.058594 C 3.386719 2.144531 3.660156 2.125 3.925781 1.996094 C 4.148438 1.890625 4.3125 1.734375 4.421875 1.523438 C 4.503906 1.367188 4.53125 1.265625 4.535156 1.085938 C 4.539062 0.972656 4.539062 0.9375 4.519531 0.851562 C 4.429688 0.429688 4.101562 0.113281 3.660156 0.0234375 C 3.554688 0 3.371094 -0.00390625 3.261719 0.015625 Z M 3.261719 0.015625 \"\r\n              data-v-e185086c=\"\"\r\n              :style=\"{ 'fill-opacity': 1, fill: tagColor(item) }\">\r\n            </path>\r\n            <path\r\n              d=\"M 3.367188 2.3125 C 3.355469 2.3125 3.324219 2.320312 3.292969 2.324219 C 3.105469 2.363281 2.917969 2.460938 2.769531 2.601562 C 2.574219 2.785156 2.46875 3.011719 2.453125 3.277344 C 2.449219 3.359375 2.457031 3.527344 2.519531 4.523438 C 2.527344 4.609375 2.554688 5.121094 2.589844 5.65625 C 2.636719 6.433594 2.652344 6.652344 2.667969 6.71875 C 2.734375 7.035156 2.957031 7.296875 3.273438 7.4375 C 3.347656 7.472656 3.476562 7.511719 3.574219 7.53125 C 3.613281 7.539062 4.1875 7.542969 5.488281 7.542969 L 7.347656 7.546875 L 7.476562 7.761719 C 8.464844 9.402344 8.824219 9.992188 8.851562 10.023438 C 8.941406 10.128906 9.082031 10.210938 9.222656 10.242188 C 9.324219 10.265625 9.480469 10.257812 9.574219 10.226562 C 9.902344 10.117188 10.074219 9.769531 9.960938 9.445312 C 9.941406 9.382812 9.746094 9.058594 8.988281 7.808594 C 8.46875 6.949219 8.03125 6.226562 8.011719 6.195312 C 7.929688 6.082031 7.789062 5.988281 7.640625 5.945312 C 7.585938 5.929688 7.480469 5.929688 6.160156 5.925781 L 4.738281 5.925781 L 4.730469 5.761719 C 4.726562 5.675781 4.722656 5.496094 4.71875 5.363281 L 4.710938 5.128906 L 5.734375 5.128906 C 6.621094 5.128906 6.769531 5.125 6.820312 5.113281 C 7.078125 5.050781 7.246094 4.820312 7.207031 4.578125 C 7.179688 4.402344 7.0625 4.269531 6.878906 4.195312 C 6.828125 4.175781 6.828125 4.175781 5.738281 4.171875 L 4.652344 4.167969 L 4.644531 4.070312 C 4.609375 3.613281 4.574219 3.21875 4.566406 3.164062 C 4.546875 3.027344 4.476562 2.867188 4.390625 2.742188 C 4.292969 2.605469 4.097656 2.453125 3.9375 2.386719 C 3.792969 2.328125 3.714844 2.3125 3.542969 2.308594 C 3.457031 2.308594 3.378906 2.308594 3.367188 2.3125 Z M 3.367188 2.3125 \"\r\n              data-v-e185086c=\"\"\r\n              :style=\"{ 'fill-opacity': 1, fill: tagColor(item) }\">\r\n            </path>\r\n            <path\r\n              d=\"M 1.84375 4.753906 C 1.328125 5.089844 0.90625 5.511719 0.585938 6.015625 C 0.03125 6.886719 -0.136719 7.957031 0.117188 8.96875 C 0.367188 9.945312 0.988281 10.789062 1.871094 11.347656 C 2.878906 11.984375 4.132812 12.164062 5.292969 11.84375 C 6.285156 11.570312 7.152344 10.929688 7.6875 10.074219 C 7.796875 9.90625 7.925781 9.65625 7.917969 9.640625 C 7.90625 9.609375 7.347656 8.691406 7.34375 8.691406 C 7.339844 8.691406 7.332031 8.71875 7.324219 8.75 C 7.304688 8.835938 7.242188 9.039062 7.191406 9.164062 C 6.839844 10.03125 6.109375 10.703125 5.195312 11 C 4.558594 11.210938 3.851562 11.222656 3.191406 11.035156 C 2.492188 10.832031 1.839844 10.371094 1.421875 9.777344 C 1.140625 9.371094 0.96875 8.941406 0.894531 8.4375 C 0.871094 8.269531 0.871094 7.796875 0.894531 7.636719 C 0.929688 7.40625 0.976562 7.21875 1.046875 7.03125 C 1.214844 6.5625 1.476562 6.167969 1.855469 5.8125 L 2.019531 5.65625 L 1.988281 5.1875 C 1.972656 4.929688 1.960938 4.710938 1.960938 4.703125 C 1.960938 4.695312 1.957031 4.6875 1.953125 4.6875 C 1.949219 4.6875 1.898438 4.71875 1.84375 4.753906 Z M 1.84375 4.753906 \"\r\n              data-v-e185086c=\"\"\r\n              :style=\"{ 'fill-opacity': 1, fill: tagColor(item) }\">\r\n            </path>\r\n          </g>\r\n        </g>\r\n\r\n        <circle v-if=\"showTag(item)\" fill=\"#fff\" :cx=\"item.position.x\"\r\n          :cy=\"item.position.y + 7\" :r=\"3\">\r\n        </circle>\r\n\r\n        <text fill=\"table_seat_label\" :x=\"item.position.x\" :y=\"item.position.y\"\r\n          text-anchor=\"middle\" font-size=\"10px\" font-family=\"sans-serif\"\r\n          :key=\"item\" dy=\".35em\"\r\n          :transform=\"!area.rotate_label ? roundTableTransform(area, item, idx) : ''\">\r\n          {{ area.skip_letter ? item.skip_number : item.seat_number }}\r\n        </text>\r\n      </g>\r\n    </g>\r\n\r\n    <g v-else-if=\"area.shape === 'rectangleTable'\" class=\"table\"\r\n      :transform=\"`translate(${-area.rectangleTable.width / 2}, ${-area.rectangleTable.height / 2})`\">\r\n      <rect class=\"table_rect\" :x=\"0\" :y=\"0\" :width=\"area.rectangleTable.width\"\r\n        :height=\"area.rectangleTable.height\" fill=\"#ffffff\" stroke=\"#000\"\r\n        stroke-width=\"1\"></rect>\r\n      <text class=\"table_label\" :x=\"area.label.position.x\"\r\n        :y=\"area.label.position.y\" :font-size=\"area.label.size || 16\"\r\n        text-anchor=\"middle\" font-family=\"sans-serif\" dy=\".35em\"\r\n        :fill=\"area.label.color || '#888888'\"\r\n        :transform=\"!area.rotate_label ? `translate(${area.rectangleTable.width / 2}, ${area.rectangleTable.height / 2}) rotate(${-area.rotation})`\r\n          : `translate(${area.rectangleTable.width / 2}, ${area.rectangleTable.height / 2})`\">\r\n        {{ area.label.abv }}\r\n      </text>\r\n      <g class=\"table_seat_group\" v-for=\"(item, index) in area.seats\" :key=\"item\"\r\n        @mousedown=\"event => seat_mousedown(event, item.uuid)\"\r\n        @mouseup=\"event => seat_mouseup(event, item.uuid)\">\r\n        <circle class=\"tableSqSt\" :id=\"item.guid\" :cx=\"item.position.x\"\r\n          :cy=\"item.position.y\" :r=\"item.radius\" stroke=\"#000\"\r\n          style=\"stroke-width: 1px;\" :fill=\"seatColor(item)\" stroke-width=\"1\"\r\n          :data-section-label=\"item.section_label\"\r\n          :data-section-abv=\"item.section_abv\" :data-category-name=\"item.category\"\r\n          :data-tags=\"makeTag(item)\" :data-seat-label=\"item.seat_number\"\r\n          :data-table-label=\"area.label.name\" :data-table-abv=\"area.label.abv\">\r\n        </circle>\r\n\r\n        <g v-if=\"item.tag_name && item.tag_name.includes('Wheelchair')\"\r\n          :transform=\"`matrix(1, 0, 0, 1, ${item.position.x - 5}, ${item.position.y - 6})`\"\r\n          data-object-type=\"seat-icon\" x=\"-5\" y=\"-6\" data-seat-id=\"element-1-1\"\r\n          data-seat-icon=\"wheelchair\" data-v-e185086c=\"\">\r\n          <g data-v-e185086c=\"\">\r\n            <path\r\n              d=\"M 3.261719 0.015625 C 2.613281 0.117188 2.195312 0.742188 2.378906 1.347656 C 2.476562 1.675781 2.761719 1.957031 3.097656 2.058594 C 3.386719 2.144531 3.660156 2.125 3.925781 1.996094 C 4.148438 1.890625 4.3125 1.734375 4.421875 1.523438 C 4.503906 1.367188 4.53125 1.265625 4.535156 1.085938 C 4.539062 0.972656 4.539062 0.9375 4.519531 0.851562 C 4.429688 0.429688 4.101562 0.113281 3.660156 0.0234375 C 3.554688 0 3.371094 -0.00390625 3.261719 0.015625 Z M 3.261719 0.015625 \"\r\n              data-v-e185086c=\"\"\r\n              :style=\"{ 'fill-opacity': 1, fill: tagColor(item) }\">\r\n            </path>\r\n            <path\r\n              d=\"M 3.367188 2.3125 C 3.355469 2.3125 3.324219 2.320312 3.292969 2.324219 C 3.105469 2.363281 2.917969 2.460938 2.769531 2.601562 C 2.574219 2.785156 2.46875 3.011719 2.453125 3.277344 C 2.449219 3.359375 2.457031 3.527344 2.519531 4.523438 C 2.527344 4.609375 2.554688 5.121094 2.589844 5.65625 C 2.636719 6.433594 2.652344 6.652344 2.667969 6.71875 C 2.734375 7.035156 2.957031 7.296875 3.273438 7.4375 C 3.347656 7.472656 3.476562 7.511719 3.574219 7.53125 C 3.613281 7.539062 4.1875 7.542969 5.488281 7.542969 L 7.347656 7.546875 L 7.476562 7.761719 C 8.464844 9.402344 8.824219 9.992188 8.851562 10.023438 C 8.941406 10.128906 9.082031 10.210938 9.222656 10.242188 C 9.324219 10.265625 9.480469 10.257812 9.574219 10.226562 C 9.902344 10.117188 10.074219 9.769531 9.960938 9.445312 C 9.941406 9.382812 9.746094 9.058594 8.988281 7.808594 C 8.46875 6.949219 8.03125 6.226562 8.011719 6.195312 C 7.929688 6.082031 7.789062 5.988281 7.640625 5.945312 C 7.585938 5.929688 7.480469 5.929688 6.160156 5.925781 L 4.738281 5.925781 L 4.730469 5.761719 C 4.726562 5.675781 4.722656 5.496094 4.71875 5.363281 L 4.710938 5.128906 L 5.734375 5.128906 C 6.621094 5.128906 6.769531 5.125 6.820312 5.113281 C 7.078125 5.050781 7.246094 4.820312 7.207031 4.578125 C 7.179688 4.402344 7.0625 4.269531 6.878906 4.195312 C 6.828125 4.175781 6.828125 4.175781 5.738281 4.171875 L 4.652344 4.167969 L 4.644531 4.070312 C 4.609375 3.613281 4.574219 3.21875 4.566406 3.164062 C 4.546875 3.027344 4.476562 2.867188 4.390625 2.742188 C 4.292969 2.605469 4.097656 2.453125 3.9375 2.386719 C 3.792969 2.328125 3.714844 2.3125 3.542969 2.308594 C 3.457031 2.308594 3.378906 2.308594 3.367188 2.3125 Z M 3.367188 2.3125 \"\r\n              data-v-e185086c=\"\"\r\n              :style=\"{ 'fill-opacity': 1, fill: tagColor(item) }\">\r\n            </path>\r\n            <path\r\n              d=\"M 1.84375 4.753906 C 1.328125 5.089844 0.90625 5.511719 0.585938 6.015625 C 0.03125 6.886719 -0.136719 7.957031 0.117188 8.96875 C 0.367188 9.945312 0.988281 10.789062 1.871094 11.347656 C 2.878906 11.984375 4.132812 12.164062 5.292969 11.84375 C 6.285156 11.570312 7.152344 10.929688 7.6875 10.074219 C 7.796875 9.90625 7.925781 9.65625 7.917969 9.640625 C 7.90625 9.609375 7.347656 8.691406 7.34375 8.691406 C 7.339844 8.691406 7.332031 8.71875 7.324219 8.75 C 7.304688 8.835938 7.242188 9.039062 7.191406 9.164062 C 6.839844 10.03125 6.109375 10.703125 5.195312 11 C 4.558594 11.210938 3.851562 11.222656 3.191406 11.035156 C 2.492188 10.832031 1.839844 10.371094 1.421875 9.777344 C 1.140625 9.371094 0.96875 8.941406 0.894531 8.4375 C 0.871094 8.269531 0.871094 7.796875 0.894531 7.636719 C 0.929688 7.40625 0.976562 7.21875 1.046875 7.03125 C 1.214844 6.5625 1.476562 6.167969 1.855469 5.8125 L 2.019531 5.65625 L 1.988281 5.1875 C 1.972656 4.929688 1.960938 4.710938 1.960938 4.703125 C 1.960938 4.695312 1.957031 4.6875 1.953125 4.6875 C 1.949219 4.6875 1.898438 4.71875 1.84375 4.753906 Z M 1.84375 4.753906 \"\r\n              data-v-e185086c=\"\"\r\n              :style=\"{ 'fill-opacity': 1, fill: tagColor(item) }\">\r\n            </path>\r\n          </g>\r\n        </g>\r\n\r\n        <circle v-if=\"showTag(item)\" fill=\"#fff\" :cx=\"item.position.x\"\r\n          :cy=\"item.position.y + 7\" :r=\"3\">\r\n        </circle>\r\n\r\n        <text fill=\"black\" :x=\"item.position.x\" :y=\"item.position.y\"\r\n          text-anchor=\"middle\" font-size=\"10px\" font-family=\"sans-serif\"\r\n          dy=\".35em\"\r\n          :transform=\"!area.rotate_label ? rectangleTableTransform(area, item, index) : ''\">{{\r\n            area.skip_letter ? item.skip_number : item.seat_number }}</text>\r\n      </g>\r\n    </g>\r\n\r\n    <text v-else-if=\"area.shape === 'text' && area.text && area.text.text\"\r\n      :x=\"area.text.position.x\" :y=\"area.text.position.y\"\r\n      :font-size=\"area.text.size || 16\" text-anchor=\"middle\"\r\n      font-family=\"sans-serif\" dy=\".35em\" :fill=\"area.text.color || '#888888'\">{{\r\n        area.text.text }}</text>\r\n  </g>\r\n</template>\r\n\r\n<script>\r\nimport { useMainStore } from \"@/stores\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\nimport { computed, ref } from \"vue\";\r\n\r\n\r\nexport default {\r\n  name: \"ZoneArea\",\r\n  props: {\r\n    area: Object,\r\n    zone: Object,\r\n    ox: Number,\r\n    oy: Number,\r\n    selectionBoundary: Object,\r\n    startDraggingPolygonPoint: Function\r\n  },\r\n  data() {\r\n    return {\r\n      ignoreNextMouseUp: false\r\n    }\r\n  },\r\n  setup() {\r\n    const store = useMainStore();\r\n    const planStore = usePlanStore();\r\n    const cursor = computed(() => store.cursor);\r\n    const selection = computed(() => store.selection);\r\n    const getCategoryByName = computed(() => planStore.getCategoryByName);\r\n    const temp_ox = ref(0);\r\n    const temp_oy = ref(0);\r\n    const tool = computed(() => store.tool);\r\n    const bValid = computed(() => store.bvalid);\r\n    return { bValid, cursor, selection, store, getCategoryByName, temp_ox, temp_oy, tool, planStore };\r\n  },\r\n  computed: {\r\n    category() {\r\n      return this.getCategoryByName(this.area.category);\r\n    },\r\n    gaColor() {\r\n      if (this.bValid && !this.area.valid) {\r\n        return \"#ffcf37\";\r\n      }\r\n      if (this.category) {\r\n        return this.category.color;\r\n      }\r\n      return '#cccccc'\r\n    },\r\n    isSelected() {\r\n      // console.log(\"Check here\");\r\n      // console.log(this.selection, this.area.uuid);\r\n      return this.selection.includes(this.area.uuid);\r\n    },\r\n    isIndividuallySelected() {\r\n      return this.selection.length === 1 && this.isSelected;\r\n    },\r\n    classes() {\r\n      return {\r\n        selected: this.isSelected,\r\n        [\"area-\" + this.area.shape]: true,\r\n      };\r\n    },\r\n    transform() {\r\n      return this.area.rotation\r\n        ? `translate(${this.area.position.x}, ${this.area.position.y}) rotate(${this.area.rotation})`\r\n        : `translate(${this.area.position.x}, ${this.area.position.y})`;\r\n    },\r\n    polygonPoints() {\r\n      return this.area.polygon\r\n        ? this.area.polygon.points.map((p) => `${p.x},${p.y}`).join(\" \")\r\n        : \"\";\r\n    },\r\n    polygonTagX() {\r\n      const points = this.area.polygon.points;\r\n      let minX = points[0].x;\r\n      let maxX = points[0].x;\r\n      points.forEach(p => {\r\n        if (p.x < minX) minX = p.x;\r\n        if (p.x > maxX) maxX = p.x;\r\n      })\r\n      return (minX + maxX) / 2;\r\n    },\r\n    polygonTagY() {\r\n      const points = this.area.polygon.points;\r\n      let minY = points[0].y;\r\n      let maxY = points[0].y;\r\n      points.forEach(p => {\r\n        if (p.y < minY) minY = p.y;\r\n        if (p.y > maxY) maxY = p.y\r\n      })\r\n      return (minY + maxY) / 2 + 20;\r\n    }\r\n  },\r\n  methods: {\r\n    makeTag(item) {\r\n      const res = []\r\n      if (item.tag_name) {\r\n        if (item.tag_name.includes('Wheelchair')) res.push('W')\r\n        if (item.tag_name.includes('Wheelchair Companion')) res.push('C')\r\n        if (item.tag_name.includes('Partial View')) res.push('P')\r\n        if (item.tag_name.includes('Folding Chair')) res.push('F')\r\n        if (item.tag_name.includes('Standing Room Only')) res.push('S')\r\n        return res.join(',')\r\n      }\r\n      return '';\r\n    },\r\n    showTag(item) {\r\n      const tags = [\r\n        \"Wheelchair Companion\",\r\n        \"Partial View\",\r\n        \"Folding Chair\",\r\n        \"Standing Room Only\"\r\n      ]\r\n      if (item.tag_name) {\r\n        let res = false;\r\n        tags.forEach(tag => {\r\n          if (item.tag_name.includes(tag))\r\n            res = true;\r\n        })\r\n        return res;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    tagColor(item) {\r\n      return item.category ? '#ffffff' : '#0064d0';\r\n    },\r\n\r\n    roundTableTransform(area, item, idx) {\r\n      const theta = area.rotation * Math.PI / 180;\r\n      const len = area.seats.length + area?.space;\r\n      const dx = (area.radius + (10 || item.radius)) * Math.cos(theta + 2 * Math.PI / len * idx) - item.position.x\r\n      const dy = (area.radius + (10 || item.radius)) * Math.sin(theta + 2 * Math.PI / len * idx) - item.position.y\r\n      return `rotate(${-area.rotation}) translate(${dx}, ${dy})`\r\n    },\r\n\r\n    rectangleTableTransform(area, item, index) {\r\n      const theta = area.rotation * Math.PI / 180;\r\n      const centerX = area.position.x;\r\n      const centerY = area.position.y;\r\n      const newX = item.position.x * Math.cos(theta) - item.position.y * Math.sin(theta);\r\n      const newY = item.position.x * Math.sin(theta) + item.position.y * Math.cos(theta);\r\n      const dx = newX - item.position.x;\r\n      const dy = newY - item.position.y;\r\n      return `rotate(${-area.rotation}) translate(${dx}, ${dy})`\r\n    },\r\n\r\n    seatColor(item) {\r\n      if (this.bValid && !item.valid) {\r\n        return '#ffcf37';\r\n      }\r\n      if (item.category) {\r\n        return this.getCategoryByName(item.category)?.color\r\n      } else {\r\n        return '#fff';\r\n      }\r\n    },\r\n    startDragging(uuid, zone, event) {\r\n      this.$emit(\"startDragging\", uuid, zone, event);\r\n    },\r\n    getNextPoint(pid) {\r\n      return this.area.polygon.points[\r\n        pid ? pid - 1 : this.area.polygon.points.length - 1\r\n      ];\r\n    },\r\n    insertPolygonPointBefore(event, pid) {\r\n      // const newPoint = {\r\n      //   x: (this.area.polygon.points[pid].x + this.getNextPoint(pid).x) / 2,\r\n      //   y: (this.area.polygon.points[pid].y + this.getNextPoint(pid).y) / 2,\r\n      // };\r\n      // this.$emit(\"insert-point\", { point: newPoint, index: pid });\r\n      if (event.ctrlKey || event.metaKey) {\r\n        return false;\r\n      }\r\n      if (this.tool === 'select' || this.tool === 'polygon') {\r\n        this.planStore.addPolygonPoint(this.area, pid, {\r\n          x: (this.area.polygon.points[pid].x + this.area.polygon.points[pid ? pid - 1 : this.area.polygon.points.length - 1].x) / 2,\r\n          y: (this.area.polygon.points[pid].y + this.area.polygon.points[pid ? pid - 1 : this.area.polygon.points.length - 1].y) / 2,\r\n        })\r\n        // this.area.polygon.points.splice(pid, 0, {\r\n        //   x: (this.area.polygon.points[pid].x + this.area.polygon.points[pid ? pid - 1 : this.area.polygon.points.length - 1].x) / 2,\r\n        //   y: (this.area.polygon.points[pid].y + this.area.polygon.points[pid ? pid - 1 : this.area.polygon.points.length - 1].y) / 2,\r\n        // })\r\n        this.ignoreNextMouseUp = true;\r\n        event.stopPropagation();\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    mousedownPolygonPoint(event, pid) {\r\n      if (event.ctrlKey || event.metaKey) {\r\n        return false;\r\n      }\r\n\r\n      if (this.tool === 'select' || this.tool === 'polygon' || this.tool === 'gaPolygon') {\r\n        if (event.which === 2) {\r\n          this.planStore.removePolygonPoint(this.area, pid);\r\n          // this.area.polygon.points.splice(pid, 1);\r\n          this.ignoreNextMouseUp = true;\r\n        } else {\r\n          this.startDraggingPolygonPoint(this.area.uuid, this.zone, event, pid)\r\n          // this.$emit(\"startDraggingPolygonPoint\", this.area.uuid, pid, this.zone, event);\r\n          this.ignoreNextMouseUp = false;\r\n        }\r\n        event.stopPropagation();\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    mousedown(event) {\r\n      setTimeout(() => {\r\n        if (this.selectionBoundary) {\r\n\r\n          // const temp = this.selectionBoundary;\r\n          this.temp_ox = this.selectionBoundary.x + this.selectionBoundary.width / 2;\r\n          this.temp_oy = this.selectionBoundary.y + this.selectionBoundary.height / 2;\r\n          const store = useMainStore();\r\n          store.set_Ox(this.temp_ox);\r\n          store.set_Oy(this.temp_oy);\r\n          // console.log('Aha', temp)\r\n        }\r\n      }, 100);\r\n\r\n      if (event.ctrlKey || event.metaKey) {\r\n        return false;\r\n      }\r\n\r\n      if (this.store.tool === \"select\") {\r\n        // console.log('zonearea', this.area, this.zone, this.selection)\r\n        this.$emit(\"startDragging\", this.area.uuid, this.zone, event);\r\n        event.stopPropagation();\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    seat_mousedown(event, uuid) {\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      if (useMainStore().tool === \"seatselect\") {\r\n        this.$emit(\"startDragging\", uuid, this.zone, event);\r\n        event.stopPropagation();\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    seat_mouseup(event, uuid) {\r\n      if (event.ctrlKey || event.metaKey) {\r\n        // this is a panning event\r\n        return false;\r\n      }\r\n      const interval = new Date().getTime() - this.lastMouseUp;\r\n      this.lastMouseUp = new Date().getTime();\r\n      if (useMainStore().tool === \"seatselect\") {\r\n        if (!useMainStore().dragged) {\r\n          useMainStore().toggleSelection(\r\n            [uuid],\r\n            event.shiftKey,\r\n            this.zone.uuid\r\n          );\r\n        }\r\n        if (useMainStore().dragging) {\r\n          useMainStore().stopDragging();\r\n        }\r\n        return true;\r\n      } else if (useMainStore().tool === \"select\" && interval < 500) {\r\n        // console.log(interval);\r\n        // doubleclick\r\n        useMainStore().changeTool(\"seatselect\");\r\n        useMainStore().toggleSelection([uuid], false, this.zone.uuid);\r\n\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.movable g.area.selected,\r\n.movable g.area.selected * {\r\n  cursor: move;\r\n}\r\n\r\n.polygon-point-handle {\r\n  stroke: #00c;\r\n  stroke-width: 2px;\r\n  fill: #fff;\r\n  cursor: grabbing !important;\r\n}\r\n\r\n.polygon-new-point-handle {\r\n  stroke: #00c;\r\n  stroke-width: 2px;\r\n  fill: #00c;\r\n  cursor: copy !important;\r\n}\r\n</style>\r\n","import { render } from \"./ZoneArea.vue?vue&type=template&id=5df0112b\"\nimport script from \"./ZoneArea.vue?vue&type=script&lang=js\"\nexport * from \"./ZoneArea.vue?vue&type=script&lang=js\"\n\nimport \"./ZoneArea.vue?vue&type=style&index=0&id=5df0112b&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <g class=\"zone\" :transform=\"transform\" :opacity=\"opacity\" :pointer-events=\"lockedZones.includes(zone.uuid) ? 'none' : 'visiblePainted'\r\n    \">\r\n    <ZoneArea v-for=\"a in zone.areas\" :key=\"a.uuid\" :area=\"a\" :zone=\"zone\"\r\n      :selectionBoundary=\"selectionBoundary\" :ox=\"ox\" :oy=\"oy\"\r\n      @startDragging=\"startDragging\"\r\n      :startDraggingPolygonPoint=\"startDraggingPolygonPoint\"></ZoneArea>\r\n    <Row v-for=\"r in zone.rows\" :key=\"r.uuid\" :row=\"r\" :zone=\"zone\" :ox=\"ox\"\r\n      :selectionBoundary=\"selectionBoundary\" :oy=\"oy\"\r\n      @startDragging=\"startDragging\"></Row>\r\n  </g>\r\n</template>\r\n\r\n<script setup>\r\nimport { useMainStore } from \"@/stores\";\r\nimport { computed, emit, defineProps } from \"vue\";\r\nimport Row from \"./Row.vue\";\r\nimport ZoneArea from \"./ZoneArea.vue\";\r\n\r\n// Receive props via defineProps\r\nconst props = defineProps({\r\n  zone: Object,\r\n  startDragging: Function,\r\n  startDraggingPolygonPoint: Function,\r\n  ox: Number,\r\n  oy: Number,\r\n  selectionBoundary: Object\r\n});\r\n\r\nconst store = useMainStore();\r\n\r\n// console.log(\"Zone\", props.zone);\r\n\r\n\r\n// Computed properties\r\nconst lockedZones = computed(() => store.lockedZones);\r\nconst transform = computed(\r\n  () => `translate(${props.zone.position.x}, ${props.zone.position.y})`\r\n);\r\nconst opacity = computed(() =>\r\n  props.zone.uuid === store.selectedZone ? 1 : 0.7\r\n);\r\n\r\nconst startDragging = (uuid, zone, event) => {\r\n  props.startDragging(uuid, zone, event);\r\n};\r\nconst startDraggingPolygonPoint = (uuid, zone, event, pid) => {\r\n  props.startDraggingPolygonPoint(uuid, pid, zone, event);\r\n};\r\n</script>\r\n","import script from \"./ZoneComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ZoneComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineStore } from \"pinia\";\r\nimport { ref } from \"vue\";\r\n\r\nexport const useIconStore = defineStore(\"iconStore\", () => {\r\n  const selectedIcon = ref(null);\r\n  const icons = ref([]);\r\n\r\n  const selectIcon = (icon) => {\r\n    selectedIcon.value = icon;\r\n  };\r\n\r\n  const placeIcon = (icon) => {\r\n    icons.value.push(icon);\r\n    persistIcon();\r\n  };\r\n\r\n  const resetSelectedIcon = () => {\r\n    selectedIcon.value = null;\r\n  };\r\n\r\n  const persistIcon = (skipHistory = false) => {\r\n    const ics = JSON.stringify(icons.value);\r\n    localStorage.setItem(\"frontrow2.editor.icon\", ics);\r\n  };\r\n\r\n  const loadIcon = (ic) => {\r\n    icons.value = ic;\r\n    persistIcon();\r\n  };\r\n\r\n  return {\r\n    selectedIcon,\r\n    icons,\r\n    selectIcon,\r\n    placeIcon,\r\n    resetSelectedIcon,\r\n    persistIcon,\r\n    loadIcon,\r\n  };\r\n});\r\n","<template>\r\n  <g class=\"icons\">\r\n    <g v-for=\" (icon, index) in icons\" :key=\"index\" class=\"svg-icon\"\r\n      :transform=\"icon.transform\" @mousedown=\"selectIcon(icon)\">\r\n      <image :href=\"icon.path\" />\r\n    </g>\r\n  </g>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useIconStore } from \"@/stores/icon\";\r\nconst iconStore = useIconStore();\r\nconst selectedIcon = ref(iconStore.selectedIcon);\r\nconst icons = ref(iconStore.icons)\r\n\r\nconst placeIcon = event => {\r\n  if (!selectedIcon.value) return;\r\n  const { offsetX, offsetY } = event;\r\n  iconStore.placeIcon({\r\n    path: selectedIcon.value.path,\r\n    transform: `translate(${offsetX}, ${offsetY})`,\r\n    rotation: 0,\r\n    scale: 1\r\n  })\r\n  iconStore.resetSelectedIcon();\r\n  document.body.style.cursor = 'default';\r\n}\r\n\r\nconst selectIcon = icon => {\r\n  console.log('ahah')\r\n}\r\n</script>","import script from \"./IconComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./IconComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./Plan.vue?vue&type=template&id=32fe2b91\"\nimport script from \"./Plan.vue?vue&type=script&lang=js\"\nexport * from \"./Plan.vue?vue&type=script&lang=js\"\n\nimport \"./Plan.vue?vue&type=style&index=0&id=32fe2b91&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"c-status-bar\">\r\n    <div class=\"left-container\">\r\n\r\n      <span v-if=\"selectionIsPolygon\">\r\n        <span class=\"hint\">Move nodes by dragging</span>\r\n        <span class=\"hint\">Click blue squares to add nodes</span>\r\n        <span class=\"hint\">Middle-click nodes to delete them</span>\r\n      </span>\r\n\r\n      <span v-if=\"tool == 'seatselect' && selection.length === 2\">\r\n        <span class=\"hint\">Seat distance: {{ seatDistance }}</span>\r\n      </span>\r\n\r\n      <span v-if=\"tool == 'seatselect' || tool == 'select'\">\r\n        <span v-if=\"dragging\">\r\n          <span class=\"hint\">Hold down <code>SHIFT</code> to snap to grid\r\n            positions</span>\r\n        </span>\r\n        <!-- <span v-else-if=\"plan.rotating\">\r\n        <span class=\"hint\"\r\n          >Hold down <code>SHIFT</code> to only rotate in 5° steps</span\r\n        >\r\n      </span> -->\r\n        <span v-else-if=\"selection.length\">\r\n          <span class=\"hint\">Press <code>SHIFT</code> and click to (de)select more\r\n            objects</span>\r\n          <span class=\"hint\">Press arrow keys to move objects (hold\r\n            <code>SHIFT</code> to move\r\n            fast, <code>ALT</code> to move slow)</span>\r\n          <span class=\"hint\">Click and drag to move objects</span>\r\n        </span>\r\n        <span v-else>\r\n          <span class=\"hint\">Click any object to select it</span>\r\n          <span class=\"hint\"\r\n            v-if=\"plan && zoomTransform.k !== plan.defaultScale\">Click + drag\r\n            while\r\n            pressing\r\n            <code>{{ $parent.cmdOtherwiseCtrl }}</code> to move around</span>\r\n          <span class=\"hint\" v-else>Press\r\n            <code>{{ $parent.cmdOtherwiseCtrl }}</code> and scroll to\r\n            zoom</span>\r\n        </span>\r\n      </span>\r\n\r\n      <span v-if=\"tool == 'row'\">\r\n        <span v-if=\"plan.rowDrawing\">\r\n          <span class=\"hint\">Move your mouse and click again once the correct\r\n            number\r\n            of seats is\r\n            visible</span>\r\n          <span class=\"hint\">Press <code>ESC</code> to abort</span>\r\n          <span class=\"hint\">Drawing {{ plan.rowDrawingSeats.length }}\r\n            seats</span>\r\n        </span>\r\n        <span v-else>\r\n          <span class=\"hint\">Click on the position of the first seat to\r\n            draw</span>\r\n          <span class=\"hint\">Hold down <code>SHIFT</code> to choose a position on\r\n            the grid</span>\r\n        </span>\r\n        <span class=\"hint\">Spacing {{ plan.rowSeatSpacing }}, press\r\n          <code>+</code>/<code>-</code>\r\n          to vary (<code>ALT</code> for smaller steps)</span>\r\n      </span>\r\n\r\n      <span v-else-if=\"tool === 'rowCircle' || tool === 'rowCircleFixedCenter'\">\r\n        <span class=\"hint\">Press <code>SHIFT</code> to snap to grid</span>\r\n        <span class=\"hint\">Click to apply</span>\r\n      </span>\r\n\r\n      <span v-else-if=\"tool === 'hand'\">\r\n        <span class=\"hint\">\r\n          Click and drag the map to move it around. Use your Scroll Wheel to zoom\r\n          in and out.\r\n        </span>\r\n      </span>\r\n\r\n      <span v-else-if=\"tool === 'focusPoint'\">\r\n        <span class=\"hint\">\r\n          Drag this area to center on the most important area of your chart.\r\n        </span>\r\n      </span>\r\n\r\n      <span v-else-if=\"tool === 'rows'\">\r\n        <span v-if=\"plan.rowBlockDrawing\">\r\n          <span class=\"hint\">Move your mouse and click again once the correct\r\n            number\r\n            of seats is\r\n            visible</span>\r\n          <span class=\"hint\">Press <code>ESC</code> to abort</span>\r\n          <span class=\"hint\">Drawing\r\n            {{ plan.rowBlockRows * plan.rowBlockSeats }}\r\n            seats</span>\r\n        </span>\r\n        <span v-else>\r\n          <span class=\"hint\">Click on the position of the first seat to\r\n            draw</span>\r\n          <span class=\"hint\">Hold down <code>SHIFT</code> to choose a position on\r\n            the grid</span>\r\n        </span>\r\n        <span class=\"hint\">Spacing {{ plan.rowSpacing }}x{{ plan.rowSeatSpacing\r\n        }},\r\n          press\r\n          <code>CTRL</code>+<code>-</code> to vary (<code>ALT</code> for smaller\r\n          steps)</span>\r\n      </span>\r\n\r\n      <span\r\n        v-else-if=\"['rectangle', 'circle', 'ellipse', 'gaCircle', 'gaSquare'].includes(tool)\">\r\n        <span v-if=\"planRef.drawing\">\r\n          <span class=\"hint\">\r\n            Move your mouse to start drawing, release it once you're done\r\n          </span>\r\n          <!-- <span class=\"hint\">Hold down <code>SHIFT</code> to limit movement to\r\n            grid positions</span> -->\r\n          <span class=\"hint\">\r\n            Press <code>ESC</code> to abort\r\n          </span>\r\n        </span>\r\n        <span v-else>\r\n          <span class=\"hint\">\r\n            Click and drag to draw a new shape\r\n          </span>\r\n          <span class=\"hint\">\r\n            Hold down <code>SHIFT</code> to only start at grid positions\r\n          </span>\r\n        </span>\r\n      </span>\r\n\r\n      <span v-else-if=\"['polygon', 'gaPolygon'].includes(tool)\">\r\n        <span v-if=\"planRef.polygonDrawing\">\r\n          <span class=\"hint\">\r\n            Double click when you’re finishedmaking the shape.\r\n          </span>\r\n          <span class=\"hint\">\r\n            Press <code>ENTER</code> or double-click to finish\r\n          </span>\r\n          <span class=\"hint\">\r\n            Press <code>ESC</code> to abort\r\n          </span>\r\n          <!-- <span v-if=\"planRef.polygonDrawing\">\r\n          <span class=\"hint\">Click to add another point</span>\r\n          <span class=\"hint\">Hold down <code>SHIFT</code> to limit angles to 5°\r\n            steps</span>\r\n        </span> -->\r\n        </span>\r\n        <span v-else>\r\n          <span class=\"hint\">\r\n            Click to add the first point of your polygon\r\n          </span>\r\n          <span class=\"hint\">\r\n            Hold down <code>SHIFT</code> to choose a position on the grid\r\n          </span>\r\n        </span>\r\n      </span>\r\n\r\n      <span v-else-if=\"tool === 'text'\">\r\n        <span class=\"hint\">Click anywhere to add a new text object</span>\r\n      </span>\r\n    </div>\r\n    <span class=\"selected-hint\">\r\n      {{ seatStatus }}\r\n    </span>\r\n\r\n    <!-- Additional tool conditions -->\r\n    <!-- Add other conditions similar to the above based on your requirements -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { mapGetters, mapMutations, mapState } from \"vuex\";\r\n// import store from \"../store\";\r\nimport { computed, ref, inject } from \"vue\";\r\nimport sampleplan from \"@/sampleplan\";\r\nimport * as d3 from \"d3\";\r\nimport Ajv from \"ajv\";\r\nimport * as schema from \"@/schema/seating-plan.schema.json\";\r\nimport { useMainStore } from \"@/stores\";\r\nimport { usePlanStore } from \"@/stores/plan\";\r\n\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  setup() {\r\n    const store = useMainStore();\r\n    const planstore = usePlanStore();\r\n\r\n    const tool = computed(() => store.tool);\r\n    const selection = computed(() => store.selection);\r\n    const zoomTransform = computed(() => store.zoomTransform);\r\n    const dragging = computed(() => store.dragging);\r\n\r\n    const plan = computed(() => planstore.plan);\r\n\r\n    const planRef = inject(\"planRef\");\r\n\r\n    return { tool, selection, zoomTransform, dragging, plan, planRef };\r\n  },\r\n  methods: {\r\n    selectionCount(uuids, addition) {\r\n      let res = 0;\r\n      if (addition && this.selection.length > 0) {\r\n        for (const uuid of uuids) {\r\n          if (!this.selection.includes(uuid)) {\r\n            res++;\r\n            this.selection.push(uuid);\r\n          }\r\n        }\r\n      } else {\r\n        this.selectedZone = addition;\r\n        this.selection = uuids;\r\n        res = uuids.length;\r\n      }\r\n      return res;\r\n    }\r\n  },\r\n  computed: {\r\n    seatStatus() {\r\n      let total = 0;\r\n      let selected = 0;\r\n      let qa = 0;\r\n      for (const z of this.plan.zones) {\r\n        for (const s of z.rows) {\r\n          total += s.seats.length;\r\n        }\r\n\r\n        for (const a of z.areas) {\r\n          if (a.shape === 'gaSquare' || a.shape === 'gaCircle' || a.shape === 'gaPolygon') {\r\n            qa += a.capacity;\r\n          } else if (a.shape === 'roundTable') {\r\n            total += a.capacity;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            total += a.seats.length;\r\n          }\r\n        }\r\n        // for (const a of z.areas) {\r\n        //   if (a.shape === 'gaSquare' || a.shape === 'gaCircle' || a.shape === 'gaPolygon') {\r\n        //     total += a.capacity;\r\n        //   }\r\n        // if (a.shape === 'roundTable') {\r\n        //   seats += a.roundTable.seats.length;\r\n        // } else if (a.shape === 'rectangleTable') {\r\n        //   seats += a.rectangleTable.seats.length;\r\n        // } else if (a.shape === 'gaSquare') {\r\n        //   qa++;\r\n        // } else if (a.shape === 'gaCircle') {\r\n        //   qa++;\r\n        // }\r\n        // }\r\n      }\r\n\r\n      if (this.tool !== 'seatselect') {\r\n        let allSelection = this.selection;\r\n        for (const z of this.plan.zones) {\r\n          for (const s of z.rows) {\r\n            const idx = allSelection.findIndex(item => item === s.uuid);\r\n            if (idx !== -1) {\r\n              selected += s.seats.length;\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        selected = this.selection.length;\r\n      }\r\n\r\n      return `Seats: ${total} (${selected}) | GA Seats: ${qa}`\r\n    },\r\n    totalSeatsCount() {\r\n      let seats = 0;\r\n      let qa = 0;\r\n      for (const z of this.plan.zones) {\r\n        for (const s of z.rows) {\r\n          seats += s.seats.length;\r\n        }\r\n        for (const a of z.areas) {\r\n          if (a.shape === 'roundTable') {\r\n            seats += a.roundTable.seats.length;\r\n          } else if (a.shape === 'rectangleTable') {\r\n            seats += a.rectangleTable.seats.length;\r\n          } else if (a.shape === 'gaSquare') {\r\n            qa++;\r\n          } else if (a.shape === 'gaCircle') {\r\n            qa++;\r\n          }\r\n        }\r\n      }\r\n      return seats;\r\n    },\r\n    selectedSeatsCount() {\r\n      let seats = 0;\r\n      let qa = 0;\r\n      return `Seats: ${seats} | GA Seats: ${qa}`;\r\n    },\r\n    selectionIsPolygon() {\r\n      if (!this.plan && !this.plan.zones) return false;\r\n\r\n      for (const z of this.plan.zones) {\r\n        for (const r of z.rows) {\r\n          if (this.selection.includes(r.uuid)) {\r\n            return false;\r\n          }\r\n          for (const s of r.seats) {\r\n            if (this.selection.includes(s.uuid)) {\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        for (const a of z.areas) {\r\n          if (this.selection.includes(a.uuid) && a.shape !== \"polygon\") {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      return this.selection.length === 1;\r\n    },\r\n    seatDistance() {\r\n      let p1 = null;\r\n      for (const z of this.plan.zones) {\r\n        for (const r of z.rows) {\r\n          for (const s of r.seats) {\r\n            if (this.selection.includes(s.uuid)) {\r\n              if (p1 === null) {\r\n                p1 = [\r\n                  z.position.x + r.position.x + s.position.x,\r\n                  z.position.y + r.position.y + s.position.y,\r\n                ];\r\n              } else {\r\n                const p2 = [\r\n                  z.position.x + r.position.x + s.position.x,\r\n                  z.position.y + r.position.y + s.position.y,\r\n                ];\r\n                const d = Math.sqrt(\r\n                  Math.pow(p1[0] - p2[0], 2) + Math.pow(p1[1] - p2[1], 2)\r\n                );\r\n                return d.toFixed(3);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return \"?\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.c-status-bar {\r\n  position: fixed;\r\n  padding: 10px 20px;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: calc(100% - 300px);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background-color: white;\r\n}\r\n\r\n.c-status-bar code {\r\n  display: inline-block;\r\n  border: 1px solid #888;\r\n  border-radius: 2px;\r\n  padding: 1px;\r\n  position: relative;\r\n  top: -1px;\r\n}\r\n\r\n.selected-hint {\r\n  padding: 0 5px;\r\n  max-width: 200px;\r\n  width: 200px;\r\n  text-wrap: nowrap;\r\n}\r\n\r\n.left-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.left-container span {\r\n  text-align: left;\r\n}\r\n\r\n.left-container span.hint {\r\n  padding: 0 5px;\r\n}\r\n</style>\r\n","import { render } from \"./StatusBar.vue?vue&type=template&id=0b7b3f12\"\nimport script from \"./StatusBar.vue?vue&type=script&lang=js\"\nexport * from \"./StatusBar.vue?vue&type=script&lang=js\"\n\nimport \"./StatusBar.vue?vue&type=style&index=0&id=0b7b3f12&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <AppToolbar :selectionBoundary=\"selectionBoundary\" />\r\n  <v-layout class=\"main-container\">\r\n    <RightNav :temp_Rotate=\"temp_Rotate\" />\r\n    <div class=\"main-pan\">\r\n      <HandMenu :selectionBoundary=\"selectionBoundary\"\r\n        :selectionBoxes=\"selectionBoxes\" />\r\n      <!-- <MainZone style=\"padding: 100px\"></MainZone> -->\r\n      <!-- <Toolbar></Toolbar> -->\r\n      <Plan ref=\"planref\"></Plan>\r\n      <StatusBar></StatusBar>\r\n    </div>\r\n  </v-layout>\r\n</template>\r\n<script setup>\r\nimport { ref, computed, onMounted, provide } from \"vue\";\r\nimport AppToolbar from \"./components/AppToolbar.vue\";\r\nimport RightNav from \"../layout/right/RightNav.vue\";\r\nimport HandMenu from \"./components/HandMenu.vue\";\r\nimport Plan from \"./components/canvas/Plan.vue\";\r\nimport StatusBar from \"./components/StatusBar.vue\";\r\nimport sampleplan from \"@/sampleplan\";\r\n\r\nimport { useMainStore } from \"@/stores\";\r\nimport { usePlanStore } from \"@/stores/plan.js\"; // Assuming you've set up a Pinia store in this location\r\nimport { useIconStore } from \"@/stores/icon\";\r\nconst store = useMainStore();\r\nconst iconStore = useIconStore();\r\n\r\nstore.loadPlan(\r\n  localStorage.getItem(\"frontrow2.editor.plan\")\r\n    ? JSON.parse(localStorage.getItem(\"frontrow2.editor.plan\"))\r\n    : sampleplan.sampleplan\r\n);\r\n\r\n\r\niconStore.loadIcon(\r\n  localStorage.getItem(\"frontend2.editor.icon\")\r\n    ? JSON.parse(localStorage.getItem(\"frontend2.editor.icon\")) : []\r\n)\r\n\r\nconst WELCOME_VERSION = \"1\";\r\n\r\n// Data properties as refs\r\nconst showCreateZonePrompt = ref(false);\r\nconst showWelcomePrompt = ref(\r\n  window.localStorage.getItem(\"frontrow2.welcome.seen\") !== WELCOME_VERSION\r\n);\r\nconst cmdOtherwiseCtrl = ref(\r\n  window.navigator.platform.toLowerCase().startsWith(\"mac\") ? \"CMD\" : \"CTRL\"\r\n);\r\n\r\nconst planStore = usePlanStore();\r\nconst plan = computed(() => planStore.plan);\r\n\r\n// const planref = ref(null)\r\n// const temp_Rotate = ref(null)\r\n\r\n// onMounted(() => {\r\n//   if (planref.value && planref.value.temp_Rotate) {\r\n//     temp_Rotate.value = planref.value.temp_Rotate;\r\n//   }\r\n// })\r\n// const planref = ref(null)\r\n// const temp_Rotate = (v) => planref.value.temp_Rotate(v);\r\n// const selectionBoundary = () => planref.value.selectionBoundary;\r\nconst planref = ref(null);\r\n// Dynamically assign functions if ref is available\r\nconst temp_Rotate = (v) => planref.value ? planref.value.temp_Rotate(v) : undefined;\r\nconst selectionBoundary = () => planref.value ? planref.value.selectionBoundary : undefined;\r\nconst selectionBoxes = () => planref.value ? planref.value.selectionBoxes : undefined;\r\n\r\nprovide('planRef', planref);\r\n// const selectionBoundary = () => planref.value ? planref.value.selectionBoundary : null;\r\n\r\n// Methods\r\nconst hideWelcomePrompt = () => {\r\n  showWelcomePrompt.value = false;\r\n  window.localStorage.setItem(\"frontrow2.welcome.seen\", WELCOME_VERSION);\r\n};\r\n</script>\r\n\r\n<style>\r\n.main-pan {\r\n  width: 100%;\r\n  background-color: rgb(151, 162, 182);\r\n  /* display: flex; */\r\n  /* align-items: center; */\r\n  /* justify-content: center; */\r\n}\r\n\r\n.main-container {\r\n  height: calc(100vh - 41px);\r\n  width: calc(100% - 300px);\r\n}\r\n</style>\r\n","import script from \"./MainHome.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MainHome.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MainHome.vue?vue&type=style&index=0&id=68f60964&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","'use strict';\nvar global = require('../internals/global');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(global, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nmodule.exports = typeof navigator != 'undefined' && String(navigator.userAgent) || '';\n","'use strict';\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar Deno = global.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = global[TARGET] && global[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(global[namespace]) : global[namespace] && global[namespace][method];\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = global.TypeError;\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","'use strict';\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nmodule.exports = false;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar globalThis = require('../internals/global');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.36.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2024 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nvar store = require('../internals/shared-store');\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar $String = global.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\nvar $TypeError = TypeError;\n\nmodule.exports = function (passed, required) {\n  if (passed < required) throw new $TypeError('Not enough arguments');\n  return passed;\n};\n","'use strict';\nvar global = require('../internals/global');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nvar global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = global.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar append = uncurryThis(URLSearchParamsPrototype.append);\nvar $delete = uncurryThis(URLSearchParamsPrototype['delete']);\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\nvar push = uncurryThis([].push);\nvar params = new $URLSearchParams('a=1&a=2&b=3');\n\nparams['delete']('a', 1);\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nparams['delete']('b', undefined);\n\nif (params + '' !== 'a=2') {\n  defineBuiltIn(URLSearchParamsPrototype, 'delete', function (name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $delete(this, name);\n    var entries = [];\n    forEach(this, function (v, k) { // also validates `this`\n      push(entries, { key: k, value: v });\n    });\n    validateArgumentsLength(length, 1);\n    var key = toString(name);\n    var value = toString($value);\n    var index = 0;\n    var dindex = 0;\n    var found = false;\n    var entriesLength = entries.length;\n    var entry;\n    while (index < entriesLength) {\n      entry = entries[index++];\n      if (found || entry.key === key) {\n        found = true;\n        $delete(this, entry.key);\n      } else dindex++;\n    }\n    while (dindex < entriesLength) {\n      entry = entries[dindex++];\n      if (!(entry.key === key && entry.value === value)) append(this, entry.key, entry.value);\n    }\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar defineBuiltIn = require('../internals/define-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar validateArgumentsLength = require('../internals/validate-arguments-length');\n\nvar $URLSearchParams = URLSearchParams;\nvar URLSearchParamsPrototype = $URLSearchParams.prototype;\nvar getAll = uncurryThis(URLSearchParamsPrototype.getAll);\nvar $has = uncurryThis(URLSearchParamsPrototype.has);\nvar params = new $URLSearchParams('a=1');\n\n// `undefined` case is a Chromium 117 bug\n// https://bugs.chromium.org/p/v8/issues/detail?id=14222\nif (params.has('a', 2) || !params.has('a', undefined)) {\n  defineBuiltIn(URLSearchParamsPrototype, 'has', function has(name /* , value */) {\n    var length = arguments.length;\n    var $value = length < 2 ? undefined : arguments[1];\n    if (length && $value === undefined) return $has(this, name);\n    var values = getAll(this, name); // also validates `this`\n    validateArgumentsLength(length, 1);\n    var value = toString($value);\n    var index = 0;\n    while (index < values.length) {\n      if (values[index++] === value) return true;\n    } return false;\n  }, { enumerable: true, unsafe: true });\n}\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar URLSearchParamsPrototype = URLSearchParams.prototype;\nvar forEach = uncurryThis(URLSearchParamsPrototype.forEach);\n\n// `URLSearchParams.prototype.size` getter\n// https://github.com/whatwg/url/pull/734\nif (DESCRIPTORS && !('size' in URLSearchParamsPrototype)) {\n  defineBuiltInAccessor(URLSearchParamsPrototype, 'size', {\n    get: function size() {\n      var count = 0;\n      forEach(this, function () { count++; });\n      return count;\n    },\n    configurable: true,\n    enumerable: true\n  });\n}\n","const globalFetch = globalThis.fetch;\nconst globalHeaders = globalThis.Headers;\nconst globalRequest = globalThis.Request;\nconst globalResponse = globalThis.Response;\nexport {\n  globalFetch as fetch\n};\nexport {\n  globalHeaders as Headers\n};\nexport {\n  globalRequest as Request\n};\nexport {\n  globalResponse as Response\n};","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n"],"names":["Object","defineProperty","exports","value","NotFoundError","PlunkError_1","PlunkError","constructor","msg","super","setPrototypeOf","this","prototype","Error","TokenError","Plunk_1","Plunk","tslib_1","native_fetch_1","NotFound_1","TokenError_1","key","events","track","event","__awaiter","fetch","method","url","json","assign","emails","send","body","_a","_b","options","__rest","res","URL","toString","headers","Authorization","JSON","stringify","undefined","text","data","safeJsonParse","status","message","ok","parse","e","MissingRefError","ValidationError","CodeGen","Name","nil","str","_","KeywordCxt","core_1","draft7_1","discriminator_1","draft7MetaSchema","META_SUPPORT_DATA","META_SCHEMA_ID","Ajv","default","_addVocabularies","forEach","v","addVocabulary","opts","discriminator","addKeyword","_addDefaultMetaSchema","meta","metaSchema","$data","$dataMetaSchema","addMetaSchema","refs","defaultMeta","getSchema","module","validate_1","enumerable","get","codegen_1","validation_error_1","ref_error_1","regexpCode","getEsmExportName","getProperty","safeStringify","strConcat","addCodeArg","_Code","IDENTIFIER","_CodeOrName","s","test","emptyStr","names","code","_items","length","item","_str","reduce","c","_names","strs","args","i","push","plus","expr","optimize","arg","interpolate","mergeExprItems","splice","a","b","slice","c1","c2","x","Array","isArray","join","replace","rx","or","and","not","operators","varKinds","ValueScopeName","ValueScope","Scope","code_1","scope_1","code_2","scope_2","GT","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","Node","optimizeNodes","optimizeNames","_constants","Def","varKind","name","rhs","render","es5","_n","var","constants","optimizeExpr","Assign","lhs","sideEffects","addExprNames","AssignOp","op","Label","label","Break","Throw","error","AnyCode","ParentNode","nodes","n","subtractNames","addNames","BlockNode","Root","Else","kind","If","condition","else","cond","ns","For","ForLoop","iteration","ForRange","from","to","ForIter","loop","iterable","Func","async","_async","Return","Try","catch","finally","Catch","Finally","extScope","_values","_blockStarts","lines","_extScope","_scope","parent","_nodes","_root","prefix","scopeName","scopeValue","prefixOrName","vs","Set","add","getScopeValue","keyOrRef","getValue","scopeRefs","scopeCode","_def","nameOrPrefix","constant","toName","_leafNode","_constant","const","let","object","keyValues","thenBody","elseBody","_blockNode","endIf","elseIf","_elseNode","_endBlockNode","_for","node","forBody","endFor","forRange","forOf","arr","forIn","obj","ownProperties","tryBody","catchCode","finallyCode","_currNode","block","nodeCount","endBlock","len","pop","toClose","func","funcBody","endFunc","N1","N2","replaceName","canOptimize","items","some","par","andCode","mappend","orCode","y","UsedValueState","ValueError","prefixes","_prefixes","_parent","_newName","ng","_nameGroup","index","has","nameStr","setValue","property","itemIndex","scopePath","line","scope","ref","valueKey","_name","Map","set","values","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","def","Completed","extendErrors","resetErrorsCount","reportExtraError","reportError","keyword$DataError","keywordError","util_1","names_1","cxt","errorPaths","overrideAllErrors","it","gen","compositeRule","allErrors","errObj","errorObjectCode","addError","returnErrors","vErrors","errsCount","errors","if","keyword","schemaValue","err","instancePath","errorPath","errSchemaPath","verbose","errs","validateName","schemaEnv","$async","throw","return","schemaType","E","schemaPath","params","propertyName","schema","parentSchema","createErrors","errorObject","errorInstancePath","errorSchemaPath","extraErrorProps","instPath","getErrorPath","Type","Str","schPath","topSchemaRef","messages","resolveSchema","getCompilingSchema","resolveRef","compileSchema","SchemaEnv","resolve_1","env","dynamicAnchors","schemaId","root","baseId","normalizeId","localRefs","sch","_sch","call","rootId","getFullPath","uriResolver","_ValidationError","schemaCxt","parentData","parentDataProperty","dataNames","dataPathArr","dataLevel","dataTypes","definedProperties","source","jtd","self","sourceCode","_compilations","validateFunctionCode","validateCode","process","makeValidate","Function","validate","scopeValues","unevaluated","props","evaluated","dynamicProps","dynamicItems","logger","delete","resolveUrl","schOrFunc","resolve","inlineOrCompile","inlineRef","inlineRefs","schEnv","sameSchemaEnv","s1","s2","schemas","p","refPath","_getFullPath","keys","getJsonPointer","id","schOrRef","schId","PREVENT_SCOPE_CHANGE","parsedRef","fragment","part","split","partSchema","unescapeFragment","$ref","schemaHasRulesButRef","RULES","valCxt","rootData","jsonPos","jsonLen","jsonPart","resolver","missingRef","missingSchema","getSchemaRefs","equal","traverse","SIMPLE_INLINED","limit","hasRef","countKeys","REF_KEYWORDS","count","Infinity","eachItem","normalize","serialized","serialize","TRAILING_SLASH_HASH","ANCHOR","baseIds","pathPrefix","schemaRefs","allKeys","jsonPtr","parentJsonPtr","fullPath","addRef","_resolve","ambiguos","checkAmbiguosRef","addAnchor","anchor","$anchor","$dynamicAnchor","sch1","sch2","getRules","isJSONType","_jsonTypes","jsonTypes","groups","number","type","rules","string","array","types","integer","boolean","null","post","all","keywords","checkStrictMode","useFunc","setEvaluated","evaluatedPropsToName","mergeEvaluated","unescapeJsonPointer","escapeJsonPointer","escapeFragment","schemaRefOrVal","schemaHasRules","checkUnknownRules","alwaysValidSchema","toHash","hash","strictSchema","decodeURIComponent","encodeURIComponent","xs","f","makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","ps","Math","max","snippets","dataProp","dataPropType","jsPropertySyntax","isNumber","Num","mode","warn","schemaHasRulesForType","group","shouldUseGroup","rule","shouldUseRule","definition","implements","kwd","boolOrEmptySchema","topBoolOrEmptySchema","errors_1","boolError","falseSchemaError","valid","schemaCode","reportTypeError","checkDataTypes","checkDataType","coerceAndCheckDataType","getJSONTypes","getSchemaTypes","DataType","rules_1","applicability_1","hasNull","includes","nullable","ts","every","coerceTo","coerceToTypes","coerceTypes","checkTypes","wrongType","strictNumbers","Wrong","coerceData","COERCIBLE","filter","t","dataType","coerced","coerceSpecificType","assignParentData","strictNums","correct","Correct","numCond","_cond","notObj","typeError","getTypeErrorContext","assignDefaults","ty","properties","assignDefault","prop","defaultValue","childData","useDefaults","getData","boolSchema_1","dataType_1","dataType_2","defaults_1","keyword_1","subschema_1","isSchemaObj","checkKeywords","schemaCxtHasRules","topSchemaObjCode","validateFunction","funcSourceUrl","destructureValCxtES5","destructureValCxt","dynamicRef","$comment","commentKeyword","checkNoDefault","resetEvaluated","typeAndKeywords","returnResults","subschemaCode","subSchemaObjCode","updateContext","checkAsyncSchema","checkRefsAndKeywords","schemaKeywords","checkedTypes","ignoreKeywordsWithRef","rootName","assignEvaluated","typeErrors","groupKeywords","iterateKeywords","checkStrictTypes","keywordCode","strictTypes","checkContextTypes","allowUnionTypes","checkMultipleTypes","checkKeywordTypes","includesType","strictTypesError","narrowSchemaTypes","hasApplicableType","schTs","kwdT","withTypes","validateKeywordUsage","validSchemaType","allowUndefined","trackErrors","result","successAction","failAction","failResult","pass","fail","fail$data","invalid$data","append","errorParams","setParams","_error","$dataError","reset","block$data","codeBlock","$dataValid","check$data","validateSchema","wrong$DataType","invalid$DataSchema","st","validateSchemaRef","subschema","appl","getSubschema","extendSubschemaData","extendSubschemaMode","nextContext","mergeValidEvaluated","ruleType","funcKeywordCode","macroKeywordCode","compile","JSON_POINTER","RELATIVE_JSON_POINTER","jsonPointer","matches","exec","up","errorMsg","segments","segment","pointerType","macroSchema","macro","schemaRef","useKeyword","checkAsyncKeyword","validateRef","validateKeyword","assignValid","modifying","modifyData","reportErrs","ruleErrs","validateAsync","validateSync","addErrs","try","validateErrs","_await","passCxt","passContext","passSchema","callValidateCode","deps","dependencies","hasOwnProperty","errorsText","schemaProp","dpType","nextData","dataContextProps","_nextData","jtdDiscriminator","jtdMetadata","compile_1","codegen_2","$dataRefSchema","uri_1","defaultRegExp","flags","RegExp","META_IGNORE_OPTIONS","EXT_SCOPE_NAMES","removedOptions","errorDataPath","format","jsonPointers","extendRefs","missingRefs","processCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","deprecatedOptions","unicode","MAX_EXPRESSION","requiredOptions","o","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","strict","_optz","regExp","strictTuples","strictRequired","loopRequired","loopEnum","addUsedSchema","validateFormats","unicodeRegExp","int32range","formats","_loading","_cache","getLogger","formatOpt","checkOptions","_metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","addInitialSchemas","_dataRefSchema","$id","schemaKeyRef","_meta","_addSchema","_compileSchemaEnv","compileAsync","loadSchema","runCompileAsync","_schema","loadMetaSchema","$schema","_compileAsync","checkLoaded","loadMissingSchema","_loadSchema","addSchema","_validateSchema","_checkUnique","throwOrLogError","keyRef","getSchEnv","removeSchema","_removeAllSchemas","clear","cacheKey","definitions","kwdOrDef","checkKeyword","addRule","keywordMetaschema","k","getKeyword","removeKeyword","findIndex","addFormat","separator","dataVar","map","keywordsJsonPointers","seg","schemaOrData","regex","startsWith","_compileMetaSchema","currentOpts","checkOpts","log","opt","optsSchemas","defs","metaOpts","noLogs","console","KEYWORD_NAME","ruleGroup","find","before","addBeforeRule","_rule","$dataRef","anyOf","ucs2length","pos","charCodeAt","uri","ajv","validation","validateAdditionalItems","validateItems","break","additionalProperty","removeAdditional","allSchemaProperties","patProps","patternProperties","checkAdditionalProperties","isAdditional","additionalPropertyCode","definedProp","propsSchema","isOwnProperty","usePattern","deleteAdditional","applyAdditionalSchema","schCxt","validateUnion","min","minContains","maxContains","next","validateItemsWithCount","schValid","checkLimits","_valid","validateSchemaDeps","validatePropertyDeps","depsCount","property_ies","missingProperty","propDeps","schDeps","splitDependencies","propertyDeps","schemaDeps","missing","hasProperty","propertyInData","depProp","checkReportMissingProp","checkMissingProp","reportMissingProp","ifClause","then","hasThen","hasSchema","hasElse","validateIf","validateClause","additionalItems_1","prefixItems_1","items_1","items2020_1","contains_1","dependencies_1","propertyNames_1","additionalProperties_1","properties_1","patternProperties_1","not_1","anyOf_1","oneOf_1","allOf_1","if_1","thenElse_1","getApplicator","draft2020","applicator","validateTuple","validateArray","extraItems","schArr","checkStrictTuple","l","fullTuple","minItems","maxItems","prefixItems","passing","validateOneOf","util_2","patterns","alwaysValidPatterns","checkProperties","allowMatchingProperties","validatePatternProperties","pat","checkMatchingProperties","validateProperties","alwaysValid","additionalProperties","allProps","hasDefault","applyPropertySchema","schemaProperties","noPropertyInData","hasPropFunc","schemaMap","context","dataAndSchema","newRegExp","pattern","u","validArr","notValid","merged","id_1","ref_1","core","callRef","getValidate","callRootRef","schOrEnv","callValidate","inlineRefSchema","schName","callAsyncRef","addEvaluatedFrom","addErrorsFrom","callSyncRef","schEvaluated","types_1","discrError","tagName","DiscrError","Tag","tag","oneOf","mapping","validateMapping","getMapping","tagValue","applyTagSchema","Mapping","oneOfMapping","topRequired","hasRequired","tagRequired","propSch","addMappings","required","addMapping","enum","validation_1","applicator_1","format_1","metadata_1","draft7Vocabularies","metadataVocabulary","contentVocabulary","validate$DataFormat","fmts","fDef","fType","unknownFmt","invalidFmt","callFormat","validData","validateFormat","formatDef","unknownFormat","fmtType","fmtRef","getFormat","unknownMsg","fmtDef","fmt","validCondition","equal_1","useLoop","eql","getEql","vSchema","equalCode","limitNumber_1","multipleOf_1","limitLength_1","pattern_1","limitProperties_1","required_1","limitItems_1","uniqueItems_1","const_1","enum_1","comp","ucs2length_1","ops","KWDs","maximum","okStr","minimum","exclusiveMaximum","exclusiveMinimum","prec","multipleOfPrecision","invalid","allErrorsMode","exitOnErrorMode","requiredKey","loopAllRequired","loopUntilMissing","j","itemTypes","validateUniqueItems","loopN","loopN2","indices","for","outer","valueOf","x1","y1","w1","h1","x2","y2","w2","h2","xb","yb","wb","hb","xc","yc","rc","hw","hh","distX","abs","distY","circleOutlineBox","width","height","thickness","ellipseBox","xe","ye","rex","rey","lineBox","polygonBox","points","boxCircle","r1","r2","radii","ellipseCircle","lineCircle","polygonCircle","tolerance","circlePoint","ellipseLine","boxPoint","ellipseHelper","r1x","r1y","r2x","r2y","ellipseEllipse","innerPolygonCoef","outerPolygonCoef","initialized","MAX_ITERATIONS","initialize","numNodes","cos","acos","iterate","c0x","c0y","c2x","c2y","rr","c1x","c1y","tx","t2x","t2y","t0x","t0y","c3x","c3y","c4x","c4y","t3x","t3y","x0","y0","w0","h0","r","w","h","A","pow","B","C","D","sqrt","t1","t2","polygonEllipse","circleCircle","circleLine","circleBox","circlePolygon","circleEllipse","circleOutlineLine","circleOutlinePoint","polygonPoint","polygonLine","polygonPolygon","boxBox","boxLine","boxPolygon","boxEllipse","boxCircleOutline","pointBox","pointPolygon","pointCircle","pointLine","pointEllipse","pointCircleOutline","lineLine","linePolygon","linePoint","lineEllipse","lineCircleOutline","ellipsePoint","ellipsePolygon","dot","v1","v2","ac","ab","ab2","acab","lineToPolygon","lineToLine","lineLineThickness","x3","y3","x4","y4","thickness1","thickness2","distanceSquared","xp","yp","s1_x","s1_y","s2_x","s2_y","angle","atan2","PI","half","sin","points2","p2x","p2y","p1x","p1y","points1","minA","maxA","projected","minB","maxB","polygons","polygon","i1","i2","normal","cb","pre","_traverse","rootSchema","parentKeyword","keyIndex","arrayKeywords","propsKeywords","escapeJsonPtr","skipKeywords","additionalItems","contains","propertyNames","allOf","$defs","multipleOf","maxLength","minLength","maxProperties","minProperties","global","factory","merge","_len","arguments","sets","_key","xl","subexp","typeOf","shift","toLowerCase","toUpperCase","toArray","setInterval","target","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","GEN_DELIMS$$","SUB_DELIMS$$","RESERVED$$","UCSCHAR$$","IPRIVATE$$","UNRESERVED$$","SCHEME$","USERINFO$","DEC_OCTET_RELAXED$","IPV4ADDRESS$","H16$","LS32$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","IPV6ADDRESS$","ZONEID$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","IP_LITERAL$","REG_NAME$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","slicedToArray","sliceIterator","_arr","_i","Symbol","iterator","done","TypeError","toConsumableArray","arr2","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","floor","stringFromCharCode","String","fromCharCode","error$1","RangeError","fn","mapDomain","parts","labels","encoded","ucs2decode","output","counter","extra","ucs2encode","fromCodePoint","apply","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","inputLength","bias","basic","lastIndexOf","oldi","baseMinusT","out","encode","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_currentValue2","basicLength","handledCPCount","m","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","currentValue","handledCPCountPlusOne","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_currentValue","q","qMinusT","toUnicode","toASCII","punycode","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","substr","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","match","scheme","userinfo","host","path","query","_stripLeadingZeros","_normalizeIPv4","_matches","address","_normalizeIPv6","_matches2","zone","_address$toLowerCase$","reverse","_address$toLowerCase$2","last","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","allZeroFields","acc","field","lastLongest","longestZeroFields","sort","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","port","isNaN","indexOf","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","charAt","absolutePath","resolveComponents","relative","skipNormalization","tolerant","baseURI","relativeURI","schemelessOptions","uriA","uriB","escapeComponent","unescapeComponent","handler","secure","handler$1","isSecure","wsComponents","handler$2","resourceName","_wsComponents$resourc","_wsComponents$resourc2","handler$3","O","ATEXT$$","QTEXT$$","VCHAR$$","SOME_DELIMS$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","handler$4","mailtoComponents","unknownHeaders","hfields","hfield","toAddrs","_xl","subject","_x2","_xl2","addr","toAddr","atIdx","localPart","domain","URN_PARSE","handler$5","urnComponents","nid","nss","urnScheme","uriComponents","UUID","handler$6","uuidComponents","uuid","defineStore","magnifier_init","zoom_up","zoom_in","init_zoom","set_zoom","useBoardStore","board_name","hand_selected","select_selected","dselect_selected","grid","set_name","new_name","set_width","set_height","set_hand","set_hand_false","grid_toggle","select_toggle","dselect_toggle","round","fl","places","Number","toFixed","generateID","random","substring","none","selector","querySelector","select","_groups","subgroups","subnode","subgroup","__data__","Selection","_parents","empty","querySelectorAll","arrayAll","selectorAll","parents","childMatcher","childFind","children","childFirst","firstElementChild","childrenFilter","selectAll","matcher","update","_enter","sparse","EnterNode","datum","ownerDocument","namespaceURI","_next","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","bind","arraylike","enterGroup","updateGroup","exitGroup","previous","i0","_exit","onenter","onupdate","onexit","selection","remove","order","groups0","groups1","m0","m1","merges","group0","group1","compareDocumentPosition","parentNode","insertBefore","compare","compareNode","ascending","sortgroups","sortgroup","NaN","callback","size","appendChild","child","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","namespace","getAttributeNS","getAttribute","each","defaultView","document","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","trim","classList","ClassList","_node","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creatorInherit","documentElement","createElement","createElementNS","creatorFixed","create","creator","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","contextListener","listener","parseTypenames","typenames","onRemove","typename","on","__on","removeEventListener","onAdd","addEventListener","dispatchEvent","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","selection_selection","selection_select","selectChild","selectChildren","selection_filter","selection_empty","attr","classed","selection_text","html","selection_raise","selection_lower","insert","selection_remove","selection_datum","dispatch","selection_dispatch","noop","Dispatch","concat","T","copy","that","taskHead","taskTail","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","delay","time","restart","timerFlush","wake","nap","poke","t0","sleep","clearTimeout","clearInterval","elapsed","stop","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","timing","schedules","__transition","tween","duration","ease","state","init","schedule","start","tick","active","svgNode","degrees","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","d","atan","parseCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","parseSvg","transform","baseVal","consolidate","matrix","interpolateTransform","pxComma","pxParen","degParen","translate","xa","ya","scale","interpolateTransformCss","interpolateTransformSvg","tweenRemove","tween0","tween1","tweenFunction","_id","tweenValue","transition","extend","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatHex8","formatHex8","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","color","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatHex8","rgb_formatRgb","clampa","clampi","Hsl","hsl","clamph","clampt","hsl2rgb","m2","basis","v0","v3","t3","channels","displayable","clamp","linear","exponential","gamma","nogamma","rgbGamma","end","rgbSpline","spline","colors","basisClosed","reA","reB","zero","one","am","bm","bs","bi","lastIndex","value1","string00","interpolate0","string1","string0","string10","attrTween","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","easeVarying","Transition","onFunction","on0","on1","sit","removeFunction","inherit","styleNull","styleMaybeRemove","listener0","styleTween","styleInterpolate","textInterpolate","textTween","id0","id1","newId","Promise","reject","cancel","interrupt","selection_prototype","cubicInOut","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_on","transition_attr","transition_attrTween","transition_style","transition_styleTween","transition_text","transition_textTween","transition_remove","transition_easeVarying","defaultTiming","selection_interrupt","selection_transition","number1","number2","nonpassivecapture","capture","passive","preventDefault","stopImmediatePropagation","view","__noselect","MozUserSelect","yesdrag","noclick","epsilon2","cosh","exp","sinh","tanh","zoomRho","rho","rho2","rho4","zoom","p0","p1","S","ux0","uy0","ux1","uy1","dx","dy","d2","d1","b0","b1","r0","coshr0","SQRT2","_1","_2","_4","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","ZoomEvent","defineProperties","configurable","Transform","applyX","applyY","invert","location","invertX","invertY","rescaleX","range","rescaleY","__zoom","ctrlKey","button","SVGElement","hasAttribute","viewBox","clientWidth","clientHeight","defaultTransform","defaultWheelDelta","deltaY","deltaMode","navigator","maxTouchPoints","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","touchstarting","touchfirst","touchending","constrain","wheelDelta","touchable","scaleExtent","listeners","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","clean","__zooming","Gesture","taps","wheel","mouse","wheelidled","mousemoved","mouseupped","moved","changedTouches","k1","shiftKey","started","touches","identifier","touch0","touch1","l0","l1","dp","dl","hypot","collection","scaleBy","scaleTo","k0","translateBy","translateTo","emit","clickDistance","positionInZone","zoomTransform","position","estimateTextWidth","canvas","getContext","font","measureText","rotateRectangluarBox","area","abox","ox","oy","rotated_points_x","rotation","rotated_points_y","minx","miny","maxx","maxy","rectangleBBox","rectangle","roundTableBBox","radius","rectangleTableBBox","seats","special","bottom","right","rectangleTable","textBBox","polygonBBox","ellipseBBox","thetha","ellipse","findClosestGridPoint","rotatePolygon","testOverlap","xmin","ymin","xmax","ymax","shape","circle","flatMap","stX","stY","findCircleCenter","sign","centerx","centery","distance","cx","cy","degreeInCircle","theta","getRandomValues","rnds8","Uint8Array","rng","crypto","msCrypto","byteToHex","offset","v4","buf","rnds","letterCounter","baseChar","letters","skipLetterCounter","skip_letter","num","skips","reverseLetterCounter","SEAT_NUMBERINGS","compute","startAt","skip","findStartAt","firstValue","val","ROW_NUMBERINGS","rows","idx","zoneNameToID","usePlanStore","_plan","zones","categories","sections","validationErrors","hasUndo","hasRedo","undoStack","redoStack","timeoutID","getters","plan","planSize","getCategoryByName","category","actions","persistPlan","skipHistory","localStorage","setItem","recordHistoryState","setValidationErrors","validatePlan","setMode","validationPlan","nCategory","nSection","seatIds","nTableLabel","nTableAbv","nCapacity","nSectionLabel","nSectionAbv","nSeatLabel","nRowLabel","z","section_label","seat_number","guid","row_number","areas","capacity","abbreviation","abv","temp","nSeat","isValid","section","seatId","tableLabel","tableAbv","sectionLabel","sectionAbv","seatLabel","rowLabel","validatePosition","positions","detectOverlaps","threshold","cellSize","getGridKey","gridX","gridY","overlapCount","entries","adjacentKey","seatGuids","seatNames","errorIds","sname","seat_guid","tool","createRowBlock","row_spacing","seat_spacing","rej","rowids","rix","row","row_number_position","six","createRowAfter","createStgRowBlock","undo","redo","restackAreas","areaIds","front","movedAreas","isTarget","unshift","deleteCategory","alert","deleteObjects","objects","useMainStore","unselect","setTableCategory","tables","setTableSeatCategory","setGACategory","modifyRows","rowIds","inner","argparts","modifySeats","modifyRectangleTableWidth","dt","db","modifyRectangleTableHeight","dr","modifyRectangleTableCapacityT","numbers","numbering","guessedStartAt","guessedNumbers","seatsReversed","guessedStartAtRev","guessedNumbersRev","fill","ss","modifyRectangleTableCapacityB","modifyRectangleTableCapacityR","modifyRectangleTableCapacityL","modifyRoundTableRadius","total","degree","modifyRoundTableSpace","modifyTableSeatLabel","seat","modifyAreas","addPolygonPoint","pid","removePolygonPoint","addSeat","newposition","newnumber","newNumbers","zone_id","addSectionLabel","section_abv","addGASectionLabel","addTableSectionLabel","ids","renumberRows","reversed","renumberSeats","skipLetterSeats","skip_number","skipLetterRows","renumberTableSeats","skipLetterTableSeats","changeNumberSeats","cnt","newPositions","renumberCircleSeats","respaceRows","spacing","previousRow","normalisationFactor","persist","createRow","spos","createAreaAfter","createArea","respaceSeats","si","previousPosition","dxOld","dyOld","dOld","loadPlan","_editor_id","setPlanName","setPlanSize","Event","setFocusPoint","setTag","tag_name","setRotateLabel","rotate_label","createZone","moveZoneInOrder","currentIdx","newIdx","changeZone","createCategory","changeCategory","oldname","newname","cat","planStore","nextX","R","available","getPoints","d3","snap","bfocus","bvalid","clipboardAreas","clipboardRows","ignoreNextSelection","selectedZone","lockedZones","dragging","draggingPolygonPoint","draggingPolygonPointId","dragged","dragStartX","dragStartY","getItem","temp_ox","temp_oy","cursor","set_Ox","set_Oy","setBvalid","toggleGrid","toggleSnap","setSectionLabel","removeSectionLabel","disableGrid","toggleZoneLock","selectAllInZone","selectZone","uuids","setSelection","addition","toggleSelection","changeTool","rowTools","keepSelection","clearSelection","startDragging","startDraggingPolygonPoint","stopDragging","calculateQuadraticCoefficients","denominator","calculateCircleCenter","midPointX01","midPointY01","midPointX12","midPointY12","slope01","slope12","perpendicularSlope01","perpendicularSlope12","yIntercept01","yIntercept12","centerX","centerY","findPointOnLine","distanceX0X1","nx","ny","px","py","newX","newY","curveRows","curve","fromX","fromY","a00","a01","a10","a11","toX","toY","circleRows","fixedCenter","firstx","firsty","lastx","lasty","rtx","rty","cc","theta0","theta1","thetaStep","sidx","moveSelected","moveDragging","zoomLevel","oldpos","ppoint","moveRotating","deg","lox","loy","rdx","rdy","llox","lloy","oldx","oldy","moveResizing","factor","setZoomTransform","rowsToClip","areasToClip","cut","paste","uid","store","computed","zoomValue","onChange","setTransform","fitScreen","getElementById","viewportHeight","viewportWidth","defaultScale","initTransform","__exports__","mainStore","onClick","validateSeatSection","tt","dialog","emailAddress","onChangeEmail","__props","onSave","export","toast","useToast","version","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_3","_hoisted_4","preserveAspectRatio","stroke","boardstore","clip","selectionBoundary","set_all_false","onEscPress","onMounted","onUnmounted","sampleplan","confirm","reload","useToolbarStore","bSnap2Grid","changeSnap2Grid","toolbarStore","toogleSnap","boardName","importSVG","accept","onchange","reader","FileReader","file","files","onload","parser","DOMParser","doc","parseFromString","metadataElement","booktixDataElement","chartNameElement","chartName","categoryNodes","nameElement","colorElement","sectionNodes","abvElement","sec","planData","isNumeric","chart_id","chart_sec","chartId","chartSec","readAsText","click","removeComments","rootElement","walker","createTreeWalker","NodeFilter","SHOW_COMMENT","acceptNode","FILTER_ACCEPT","comments","currentNode","nextNode","comment","exportSVG","svgElement","getElementsByClassName","metadata","getElementsByTagName","newSvg","filename","serializer","XMLSerializer","svgString","serializeToString","blob","Blob","createObjectURL","href","download","revokeObjectURL","toolbarTitleStyle","fontSize","fontWeight","overflow","textOverflow","display","WebkitLineClamp","WebkitBoxOrient","whiteSpace","groupValue","mapper","uniques","_createVNode","_component_v_container","_withCtx","_component_v_row","_component_v_col","cols","sm","_createTextVNode","class","_ctx","numberSeats","onInput","setNumberSeats","setCurve","seatSpacing","setSeatSpacing","_hoisted_5","useSeatFormatStore","rowsLabel","rowCur","seatsLabel","seatCur","nseat","changeRow","cur","changeSeat","setNseat","shallowEqual","object1","object2","keys1","keys2","lastFound","defineComponent","testInput","setup","seatStore","methods","handle_seat_num_changed","setRowSpacing","minSpace","rowSpacing","allSpace","ri","rowNormal","rowDist","rowDistProjectedOnRowNormal","rotate_val","handleRotate","temp_Rotate","$options","setRowNumbering","rowNumbering","_Fragment","_renderList","rowNumberings","setRowNumberingStartAt","setRowNumberingReversed","labelDirection","_hoisted_7","_hoisted_6","handleLabelLocation","labelLocation","labelDisplay","_hoisted_9","_hoisted_8","setSkip","_hoisted_10","checked","handle_rotate","_hoisted_11","planstore","rowNumberPositionStart","rowNumberPositionEnd","row_label","rowLabelStatus","rowsReversed","seatNumbering","validUpper","validLower","validNumbers","handleChange","newValue","setRowNumberPositionStart","setRowNumberPositionEnd","setLabelDirection","le","$event","setSeatNumbering","seatNumberings","setSeatNumberingStartAt","setSeatNumberingReversed","setSeat","show","isShow","show_label","setAbbreviation","validCharacters","text__text","setLabel","setCapacity","setShow","_createBlock","_createCommentVNode","setWidth","setHeight","setRadius","radiusX","setRadiusX","radiusY","setRadiusY","setRotation","textValue","setText","maxlength","textSize","setTextSize","_component_InputColor","textColor","setColor","setTextColor","gaTextColor","setGATextColor","gaColorOptions","_hoisted_12","textX","setTextX","_hoisted_13","textY","setTextY","_hoisted_14","borderWidth","setBorderWidth","_hoisted_15","borderColor","setBorderColor","popupStyles","innerHeight","watch","oldValue","InputColor","text_color","fill_color","stroke_color","border_color","text__color","border_width","text__size","text__position__x","text__position__y","rectangle__width","rectangle__height","circle__radius","ellipse__radius__x","ellipse__radius__y","filtered","setSpace","_component_v_divider","capacityT","setCapacityT","capacityB","setCapacityB","capacityL","setCapacityL","capacityR","setCapacityR","_toDisplayString","capacityTotal","label__color","tableName","positionX","positionY","setTableName","label__name","setTableAbv","label__abv","setPositionX","label__position__x","setPositionY","label__position__y","label__size","setRotate","onClose","validateCategory","validateSection","validateSeatId","validateTableLabel","validateTableAbv","validateCapacity","validateSectionLabel","validateSectionAbv","validateSeatLabel","validateRowLabel","luminanace","contrast","rgb1","rgb2","l2","ratio","hex2rgb","shorthandRegex","categoryColors","onColorSelected","selected","setToggle","onOk","clearToggle","onCancel","addCategories","toggle","assigned_category","categoryName","deleteBtnShow","bStatus","onBlur","allCategoryInput","handle_delete","getUniqueCategoryName","newName","onCreate","rand","nextTick","onDiscard","planRef","inject","isSetBackground","background","setChartName","newLabel","newAbr","abvPattern","findLabel","findAbv","addTags","tags","remoteTag","delete_btn","assigned_section","bgUpload","validTypes","fileReader","img","Image","planWidth","planHeight","backgroundWidth","backgroundHeight","persistBackground","src","readAsDataURL","bgRemove","testStore","increase","getCounter","selectedOption","toggleDropdown","handleItemClick","option","setCategory","setSection","tagsOption","selectedTag","provide","isSelectedRowsOnly","selectedRows","isSelectedSeatsOnly","selectedSeats","isSelectedTablesOnly","selectedTables","isSelectedTableSeatsOnly","selectedTableSeats","isSelectedGAOnly","selectedGA","isSelectedShapesOnly","selectedAreas","selectedCategory","cats","section_labels","section_abvs","tgs","tg","_createStaticVNode","icons","loadIcons","iconNames","onAlignHorizonCenter","boundary","startX","endX","midX","midy","onAlignHorizonLeft","onAlignHorizonRight","rotateArea","onFlipHorizental","rBox","oX","oY","prevRot","onFlipVertical","startY","endY","midY","onDistributeHorizental","boxes","selectionBoxes","minX","maxX","onDistributeVertical","minY","maxY","onAlignVerticalCenter","onAlignVerticalTop","onAlignVerticalBottom","seatopened","itemopened","alignopened","onSeatToggle","onItemToggle","onAlignToggle","$setup","onMousemove","mousemove","onMousedown","mousedown","onMouseup","mouseup","onWheel","_normalizeClass","mainclasses","backgroundOpacity","backgroundX","backgroundY","focusPointX","focusPointY","_component_IconComponent","_component_ZoneComponent","selectionBoxesVisible","_hoisted_16","currentToolStatus","rotateHandle","rotatingOriginX","rotatingOriginY","_hoisted_17","startRotating","_hoisted_18","_hoisted_19","_hoisted_20","selectionIncludesNoSeats","noTableSelection","startResizing","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","drawing","drawingStartX","drawingStartY","drawingCurrentX","drawingCurrentY","_hoisted_26","polygonDrawing","polygonPreviewPoints","_hoisted_28","_hoisted_29","_hoisted_30","rowCirclePreviews","circ","_hoisted_31","_hoisted_32","mouseStatus","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_36","rowDrawing","rowCurrentX","rowCurrentY","_hoisted_40","rowBlockDrawing","_hoisted_41","stgrowBlockDrawing","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","rowDrawingSeats","rowDrawPosition","_hoisted_46","sid","_hoisted_47","rowBlockTransform","rowBlockRows","rid","rowBlockSeats","rowSeatSpacing","_hoisted_49","_hoisted_50","_hoisted_48","stgrowBlockRows","_hoisted_52","stgrowBlockSeats","_hoisted_53","_hoisted_54","stgrowBlockSeats1","_hoisted_55","_hoisted_56","_hoisted_51","selecting","selectingStartX","selectingCurrentX","selectingStartY","selectingCurrentY","_hoisted_57","ry","_hoisted_27","_hoisted_25","classObject","$props","rowNumberStart","rowNumberEnd","_component_Seat","onStartDragging","selectionLinePath","seatColor","makeTag","_normalizeStyle","tagColor","showTag","lastMouseUp","bValid","seatID","metaKey","getTime","$emit","stopPropagation","Seat","storeSeatFormat","rowContent","getRowNumber","getRowNumber_Custom","mounted","unmounted","distFactor","idxedge","linevec","linelen","linevec_normed","flipped","textAnchor","idxcomp","getRowNumASCII","sum","classes","gaColor","polygonPoints","isIndividuallySelected","mousedownPolygonPoint","getNextPoint","insertPolygonPointBefore","polygonTagX","polygonTagY","seat_mousedown","seat_mouseup","roundTableTransform","rectangleTableTransform","ignoreNextMouseUp","isSelected","which","useIconStore","selectedIcon","selectIcon","icon","placeIcon","persistIcon","resetSelectedIcon","ics","loadIcon","ic","iconStore","defaultBg","ZoneComponent","IconComponent","fullScreen","rotating","rotatingHandleX","rotatingHandleY","rotatingStartAngle","resizing","resizingOriginX","resizingOriginY","resizingStartDistance","focusDragging","getSvgRect","categoriesXML","sectionsXML","movable","rowBlockPosition","ceil","circles","numberOfSeats","visible","bboxes","created","hotkey","getUniqueTableName","tableNames","tableAbvs","nName","nAbv","labelName","abvName","getUniqueGAName","gaLabels","gaAbvs","gaLabel","gaAbv","svgbox","drawPos","moveDirection","offsetX","offsetY","targetPos","selPos","$nextTick","clickPos","rowPos","pp","polysnap","comparepos","finishPolygon","finishGAPolygon","rowId","createStage","innerWidth","boxWidth","boxHeight","deltaX","createZoom","panPadding","mouseDrag","touch","altKey","getTransform","beforeUnmout","_hoisted_61","_hoisted_62","_hoisted_65","_hoisted_66","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_75","_hoisted_76","_hoisted_79","selectionIsPolygon","seatDistance","$parent","cmdOtherwiseCtrl","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_63","_hoisted_64","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_73","_hoisted_74","_hoisted_77","_hoisted_78","_hoisted_80","_hoisted_81","seatStatus","selectionCount","qa","allSelection","totalSeatsCount","roundTable","selectedSeatsCount","p2","WELCOME_VERSION","platform","planref","isCallable","tryToString","$TypeError","argument","isObject","$String","toIndexedObject","toAbsoluteIndex","lengthOfArrayLike","createMethod","IS_INCLUDES","$this","el","fromIndex","DESCRIPTORS","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","writable","uncurryThis","stringSlice","TO_STRING_TAG_SUPPORT","classofRaw","wellKnownSymbol","TO_STRING_TAG","$Object","CORRECT_ARGUMENTS","tryGet","callee","hasOwn","ownKeys","getOwnPropertyDescriptorModule","definePropertyModule","exceptions","createPropertyDescriptor","bitmap","makeBuiltIn","descriptor","getter","setter","defineGlobalProperty","simple","unsafe","nonConfigurable","nonWritable","fails","EXISTS","MAX_SAFE_INTEGER","userAgent","Deno","versions","v8","createNonEnumerableProperty","defineBuiltIn","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","TARGET","GLOBAL","STATIC","stat","dontCallGetSet","forced","sham","NATIVE_BIND","FunctionPrototype","getDescriptor","PROPER","CONFIGURABLE","uncurryThisWithBind","aFunction","aCallable","isNullOrUndefined","V","P","check","globalThis","toObject","classof","propertyIsEnumerable","functionToString","inspectSource","NATIVE_WEAK_MAP","shared","sharedKey","hiddenKeys","OBJECT_ALREADY_INITIALIZED","WeakMap","enforce","getterFor","TYPE","facade","STATE","documentAll","replacement","feature","detection","POLYFILL","NATIVE","getBuiltIn","isPrototypeOf","USE_SYMBOL_AS_UID","$Symbol","toLength","CONFIGURABLE_FUNCTION_NAME","InternalStateModule","enforceInternalState","getInternalState","CONFIGURABLE_LENGTH","TEMPLATE","arity","trunc","IE8_DOM_DEFINE","V8_PROTOTYPE_DEFINE_BUG","anObject","toPropertyKey","$defineProperty","$getOwnPropertyDescriptor","ENUMERABLE","WRITABLE","Attributes","current","propertyIsEnumerableModule","internalObjectKeys","enumBugKeys","getOwnPropertyNames","getOwnPropertySymbols","$propertyIsEnumerable","NASHORN_BUG","pref","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","IS_PURE","SHARED","copyright","license","V8_VERSION","symbol","toIntegerOrInfinity","IndexedObject","requireObjectCoercible","isSymbol","getMethod","ordinaryToPrimitive","TO_PRIMITIVE","exoticToPrim","toPrimitive","postfix","NATIVE_SYMBOL","passed","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","$","setArrayLength","doesNotExceedSafeInteger","INCORRECT_TO_LENGTH","properErrorOnNonWritableLength","proto","argCount","validateArgumentsLength","$URLSearchParams","URLSearchParams","URLSearchParamsPrototype","$delete","$value","entry","dindex","found","entriesLength","getAll","$has","defineBuiltInAccessor","globalFetch","globalHeaders","Headers","globalRequest","Request","globalResponse","Response","extendStatics","__proto__","__extends","__","__assign","__decorate","decorators","desc","Reflect","decorate","__param","paramIndex","decorator","__esDecorate","ctor","descriptorIn","contextIn","initializers","extraInitializers","access","addInitializer","__runInitializers","thisArg","useValue","__propKey","__setFunctionName","description","__metadata","metadataKey","metadataValue","_arguments","generator","adopt","fulfilled","step","rejected","__generator","sent","trys","verb","__createBinding","k2","__esModule","__exportStar","__values","__read","ar","__spread","__spreadArrays","jl","__spreadArray","pack","__await","__asyncGenerator","asyncIterator","resume","settle","fulfill","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__importDefault","__classPrivateFieldGet","receiver","__classPrivateFieldSet","__classPrivateFieldIn","__addDisposableResource","dispose","asyncDispose","stack","_SuppressedError","SuppressedError","suppressed","__disposeResources","hasError","rec"],"sourceRoot":""}