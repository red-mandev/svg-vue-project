(self["webpackChunkvue_svg"]=self["webpackChunkvue_svg"]||[]).push([[962],{9096:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;const o=n(2805);class r extends o.PlunkError{constructor(e="That resource could not be found"){super(e),Object.setPrototypeOf(this,r.prototype)}}t.NotFoundError=r},2805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlunkError=void 0;class n extends Error{constructor(e){super(e),Object.setPrototypeOf(this,n.prototype)}}t.PlunkError=n},7250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenError=void 0;const o=n(2805);class r extends o.PlunkError{constructor(e="Invalid API Credentials Provided"){super(e),Object.setPrototypeOf(this,r.prototype)}}t.TokenError=r},4443:function(e,t,n){"use strict";const o=n(6995);o.Plunk},6995:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Plunk=void 0;const o=n(1635),r=n(6623),a=n(9096),s=n(7250);class i{constructor(e){this.events={track:e=>o.__awaiter(this,void 0,void 0,(function*(){return yield this.fetch({method:"POST",url:"track",json:Object.assign({},e)})}))},this.emails={send:e=>o.__awaiter(this,void 0,void 0,(function*(){return yield this.fetch({method:"POST",url:"send",json:Object.assign({},e)})}))},this.key=e}fetch(e){var t,{json:n,url:i}=e,c=o.__rest(e,["json","url"]);return o.__awaiter(this,void 0,void 0,(function*(){const e=yield(0,r.fetch)(new URL(i,"https://api.useplunk.com/v1/").toString(),Object.assign(Object.assign({},c),{headers:Object.assign(Object.assign({Authorization:`Bearer ${this.key}`},n&&{"Content-Type":"application/json"}),c.headers),body:n?JSON.stringify(n):void 0})),o=yield e.text(),u=l(o);if(401===(null===e||void 0===e?void 0:e.status))throw new s.TokenError(null===u||void 0===u?void 0:u.message);if(404===(null===e||void 0===e?void 0:e.status))throw new a.NotFoundError(null===u||void 0===u?void 0:u.message);if(!e.ok)throw new Error(null!==(t=null===u||void 0===u?void 0:u.message)&&void 0!==t?t:"Unknown API Error");return u}))}}function l(e){try{return JSON.parse(e)}catch(t){return e}}t.Plunk=i},3282:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const o=n(4042),r=n(6144),a=n(6653),s=n(2079),i=["/properties"],l="http://json-schema.org/draft-07/schema";class c extends o.default{_addVocabularies(){super._addVocabularies(),r.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(e,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=c;var u=n(2586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var h=n(9029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var d=n(3558);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return d.default}});var p=n(4551);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})},1520:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class n{}t._CodeOrName=n,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class o extends n{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=o;class r extends n{constructor(e){super(),this._items="string"===typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof o&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function a(e,...t){const n=[e[0]];let o=0;while(o<t.length)l(n,t[o]),n.push(e[++o]);return new r(n)}t._Code=r,t.nil=new r(""),t._=a;const s=new r("+");function i(e,...t){const n=[f(e[0])];let o=0;while(o<t.length)n.push(s),l(n,t[o]),n.push(s,f(e[++o]));return c(n),new r(n)}function l(e,t){t instanceof r?e.push(...t._items):t instanceof o?e.push(t):e.push(d(t))}function c(e){let t=1;while(t<e.length-1){if(e[t]===s){const n=u(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}function u(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof o||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof o?void 0:`"${e}${t.slice(1)}`}function h(e,t){return t.emptyStr()?e:e.emptyStr()?t:i`${e}${t}`}function d(e){return"number"==typeof e||"boolean"==typeof e||null===e?e:f(Array.isArray(e)?e.join(","):e)}function p(e){return new r(f(e))}function f(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function g(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new r(`.${e}`):a`[${e}]`}function m(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new r(`${e}`);throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}function y(e){return new r(e.toString())}t.str=i,t.addCodeArg=l,t.strConcat=h,t.stringify=p,t.safeStringify=f,t.getProperty=g,t.getEsmExportName=m,t.regexpCode=y},9029:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const o=n(1520),r=n(7845);var a=n(1520);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}});var s=n(7845);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new o._Code(">"),GTE:new o._Code(">="),LT:new o._Code("<"),LTE:new o._Code("<="),EQ:new o._Code("==="),NEQ:new o._Code("!=="),NOT:new o._Code("!"),OR:new o._Code("||"),AND:new o._Code("&&"),ADD:new o._Code("+")};class i{optimizeNodes(){return this}optimizeNames(e,t){return this}}class l extends i{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const n=e?r.varKinds.var:this.varKind,o=void 0===this.rhs?"":` = ${this.rhs}`;return`${n} ${this.name}${o};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=F(this.rhs,e,t)),this}get names(){return this.rhs instanceof o._CodeOrName?this.rhs.names:{}}}class c extends i{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof o.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=F(this.rhs,e,t),this}get names(){const e=this.lhs instanceof o.Name?{}:{...this.lhs.names};return z(e,this.rhs)}}class u extends c{constructor(e,t,n,o){super(e,n,o),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class h extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends i{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){const t=this.label?` ${this.label}`:"";return`break${t};`+e}}class p extends i{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class f extends i{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=F(this.code,e,t),this}get names(){return this.code instanceof o._CodeOrName?this.code.names:{}}}class g extends i{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;while(t--){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let o=n.length;while(o--){const r=n[o];r.optimizeNames(e,t)||(I(e,r.names),n.splice(o,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>T(e,t.names)),{})}}class m extends g{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class y extends g{}class v extends m{}v.kind="else";class b extends m{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new v(e):e}return t?!1===e?t instanceof b?t:t.nodes:this.nodes.length?this:new b(L(e),t instanceof b?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=F(this.condition,e,t),this}get names(){const e=super.names;return z(e,this.condition),this.else&&T(e,this.else.names),e}}b.kind="if";class w extends m{}w.kind="for";class x extends w{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=F(this.iteration,e,t),this}get names(){return T(super.names,this.iteration.names)}}class _ extends w{constructor(e,t,n,o){super(),this.varKind=e,this.name=t,this.from=n,this.to=o}render(e){const t=e.es5?r.varKinds.var:this.varKind,{name:n,from:o,to:a}=this;return`for(${t} ${n}=${o}; ${n}<${a}; ${n}++)`+super.render(e)}get names(){const e=z(super.names,this.from);return z(e,this.to)}}class k extends w{constructor(e,t,n,o){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=o}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=F(this.iterable,e,t),this}get names(){return T(super.names,this.iterable.names)}}class C extends m{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){const t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}C.kind="func";class S extends g{render(e){return"return "+super.render(e)}}S.kind="return";class E extends m{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,o;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(o=this.finally)||void 0===o||o.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&T(e,this.catch.names),this.finally&&T(e,this.finally.names),e}}class $ extends m{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}$.kind="catch";class P extends m{render(e){return"finally"+super.render(e)}}P.kind="finally";class M{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new r.Scope({parent:e}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t),o=this._values[n.prefix]||(this._values[n.prefix]=new Set);return o.add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,o){const r=this._scope.toName(t);return void 0!==n&&o&&(this._constants[r.str]=n),this._leafNode(new l(e,r,n)),r}const(e,t,n){return this._def(r.varKinds.const,e,t,n)}let(e,t,n){return this._def(r.varKinds.let,e,t,n)}var(e,t,n){return this._def(r.varKinds.var,e,t,n)}assign(e,t,n){return this._leafNode(new c(e,t,n))}add(e,n){return this._leafNode(new u(e,t.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==o.nil&&this._leafNode(new f(e)),this}object(...e){const t=["{"];for(const[n,r]of e)t.length>1&&t.push(","),t.push(n),(n!==r||this.opts.es5)&&(t.push(":"),(0,o.addCodeArg)(t,r));return t.push("}"),new o._Code(t)}if(e,t,n){if(this._blockNode(new b(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new b(e))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(b,v)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new x(e),t)}forRange(e,t,n,o,a=(this.opts.es5?r.varKinds.var:r.varKinds.let)){const s=this._scope.toName(e);return this._for(new _(a,s,t,n),(()=>o(s)))}forOf(e,t,n,a=r.varKinds.const){const s=this._scope.toName(e);if(this.opts.es5){const e=t instanceof o.Name?t:this.var("_arr",t);return this.forRange("_i",0,o._`${e}.length`,(t=>{this.var(s,o._`${e}[${t}]`),n(s)}))}return this._for(new k("of",a,s,t),(()=>n(s)))}forIn(e,t,n,a=(this.opts.es5?r.varKinds.var:r.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,o._`Object.keys(${t})`,n);const s=this._scope.toName(e);return this._for(new k("in",a,s,t),(()=>n(s)))}endFor(){return this._endBlockNode(w)}label(e){return this._leafNode(new h(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new S;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const o=new E;if(this._blockNode(o),this.code(e),t){const e=this.name("e");this._currNode=o.catch=new $(e),t(e)}return n&&(this._currNode=o.finally=new P,this.code(n)),this._endBlockNode($,P)}throw(e){return this._leafNode(new p(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=o.nil,n,r){return this._blockNode(new C(e,t,n)),r&&this.code(r).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(e=1){while(e-- >0)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}}function T(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function z(e,t){return t instanceof o._CodeOrName?T(e,t.names):e}function F(e,t,n){return e instanceof o.Name?r(e):a(e)?new o._Code(e._items.reduce(((e,t)=>(t instanceof o.Name&&(t=r(t)),t instanceof o._Code?e.push(...t._items):e.push(t),e)),[])):e;function r(e){const o=n[e.str];return void 0===o||1!==t[e.str]?e:(delete t[e.str],o)}function a(e){return e instanceof o._Code&&e._items.some((e=>e instanceof o.Name&&1===t[e.str]&&void 0!==n[e.str]))}}function I(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function L(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:o._`!${j(e)}`}t.CodeGen=M,t.not=L;const R=O(t.operators.AND);function A(...e){return e.reduce(R)}t.and=A;const N=O(t.operators.OR);function X(...e){return e.reduce(N)}function O(e){return(t,n)=>t===o.nil?n:n===o.nil?t:o._`${j(t)} ${e} ${j(n)}`}function j(e){return e instanceof o.Name?e:o._`(${e})`}t.or=X},7845:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const o=n(1520);class r extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var a;(function(e){e[e["Started"]=0]="Started",e[e["Completed"]=1]="Completed"})(a=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new o.Name("const"),let:new o.Name("let"),var:new o.Name("var")};class s{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof o.Name?e:this.name(e)}name(e){return new o.Name(this._newName(e))}_newName(e){const t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=s;class i extends o.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:n}){this.value=e,this.scopePath=o._`.${new o.Name(t)}[${n}]`}}t.ValueScopeName=i;const l=o._`\n`;class c extends s{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?l:o.nil}}get(){return this._scope}name(e){return new i(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const o=this.toName(e),{prefix:r}=o,a=null!==(n=t.key)&&void 0!==n?n:t.ref;let s=this._values[r];if(s){const e=s.get(a);if(e)return e}else s=this._values[r]=new Map;s.set(a,o);const i=this._scope[r]||(this._scope[r]=[]),l=i.length;return i[l]=t.ref,o.setValue(t,{property:r,itemIndex:l}),o}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(void 0===t.scopePath)throw new Error(`CodeGen: name "${t}" has no value`);return o._`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(e,n,s={},i){let l=o.nil;for(const c in e){const u=e[c];if(!u)continue;const h=s[c]=s[c]||new Map;u.forEach((e=>{if(h.has(e))return;h.set(e,a.Started);let s=n(e);if(s){const n=this.opts.es5?t.varKinds.var:t.varKinds.const;l=o._`${l}${n} ${e} = ${s};${this.opts._n}`}else{if(!(s=null===i||void 0===i?void 0:i(e)))throw new r(e);l=o._`${l}${s}${this.opts._n}`}h.set(e,a.Completed)}))}return l}}t.ValueScope=c},8708:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const o=n(9029),r=n(4227),a=n(2023);function s(e,n=t.keywordError,r,a){const{it:s}=e,{gen:i,compositeRule:l,allErrors:c}=s,d=p(e,n,r);(null!==a&&void 0!==a?a:l||c)?u(i,d):h(s,o._`[${d}]`)}function i(e,n=t.keywordError,o){const{it:r}=e,{gen:s,compositeRule:i,allErrors:l}=r,c=p(e,n,o);u(s,c),i||l||h(r,a.default.vErrors)}function l(e,t){e.assign(a.default.errors,t),e.if(o._`${a.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign(o._`${a.default.vErrors}.length`,t)),(()=>e.assign(a.default.vErrors,null)))))}function c({gen:e,keyword:t,schemaValue:n,data:r,errsCount:s,it:i}){if(void 0===s)throw new Error("ajv implementation error");const l=e.name("err");e.forRange("i",s,a.default.errors,(s=>{e.const(l,o._`${a.default.vErrors}[${s}]`),e.if(o._`${l}.instancePath === undefined`,(()=>e.assign(o._`${l}.instancePath`,(0,o.strConcat)(a.default.instancePath,i.errorPath)))),e.assign(o._`${l}.schemaPath`,o.str`${i.errSchemaPath}/${t}`),i.opts.verbose&&(e.assign(o._`${l}.schema`,n),e.assign(o._`${l}.data`,r))}))}function u(e,t){const n=e.const("err",t);e.if(o._`${a.default.vErrors} === null`,(()=>e.assign(a.default.vErrors,o._`[${n}]`)),o._`${a.default.vErrors}.push(${n})`),e.code(o._`${a.default.errors}++`)}function h(e,t){const{gen:n,validateName:r,schemaEnv:a}=e;a.$async?n.throw(o._`new ${e.ValidationError}(${t})`):(n.assign(o._`${r}.errors`,t),n.return(!1))}t.keywordError={message:({keyword:e})=>o.str`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?o.str`"${e}" keyword must be ${t} ($data)`:o.str`"${e}" keyword is invalid ($data)`},t.reportError=s,t.reportExtraError=i,t.resetErrorsCount=l,t.extendErrors=c;const d={keyword:new o.Name("keyword"),schemaPath:new o.Name("schemaPath"),params:new o.Name("params"),propertyName:new o.Name("propertyName"),message:new o.Name("message"),schema:new o.Name("schema"),parentSchema:new o.Name("parentSchema")};function p(e,t,n){const{createErrors:r}=e.it;return!1===r?o._`{}`:f(e,t,n)}function f(e,t,n={}){const{gen:o,it:r}=e,a=[g(r,n),m(e,n)];return y(e,t,a),o.object(...a)}function g({errorPath:e},{instancePath:t}){const n=t?o.str`${e}${(0,r.getErrorPath)(t,r.Type.Str)}`:e;return[a.default.instancePath,(0,o.strConcat)(a.default.instancePath,n)]}function m({keyword:e,it:{errSchemaPath:t}},{schemaPath:n,parentSchema:a}){let s=a?t:o.str`${t}/${e}`;return n&&(s=o.str`${s}${(0,r.getErrorPath)(n,r.Type.Str)}`),[d.schemaPath,s]}function y(e,{params:t,message:n},r){const{keyword:s,data:i,schemaValue:l,it:c}=e,{opts:u,propertyName:h,topSchemaRef:p,schemaPath:f}=c;r.push([d.keyword,s],[d.params,"function"==typeof t?t(e):t||o._`{}`]),u.messages&&r.push([d.message,"function"==typeof n?n(e):n]),u.verbose&&r.push([d.schema,l],[d.parentSchema,o._`${p}${f}`],[a.default.data,i]),h&&r.push([d.propertyName,h])}},3835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const o=n(9029),r=n(3558),a=n(2023),s=n(6939),i=n(4227),l=n(2586);class c{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,s.normalizeId)(null===n||void 0===n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null===n||void 0===n?void 0:n.$async,this.refs={}}}function u(e){const t=p.call(this,e);if(t)return t;const n=(0,s.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:i,lines:c}=this.opts.code,{ownProperties:u}=this.opts,h=new o.CodeGen(this.scope,{es5:i,lines:c,ownProperties:u});let d;e.$async&&(d=h.scopeValue("Error",{ref:r.default,code:o._`require("ajv/dist/runtime/validation_error").default`}));const f=h.scopeName("validate");e.validateName=f;const g={gen:h,allErrors:this.opts.allErrors,data:a.default.data,parentData:a.default.parentData,parentDataProperty:a.default.parentDataProperty,dataNames:[a.default.data],dataPathArr:[o.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,o.stringify)(e.schema)}:{ref:e.schema}),validateName:f,ValidationError:d,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:o.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:o._`""`,opts:this.opts,self:this};let m;try{this._compilations.add(e),(0,l.validateFunctionCode)(g),h.optimize(this.opts.code.optimize);const t=h.toString();m=`${h.scopeRefs(a.default.scope)}return ${t}`,this.opts.code.process&&(m=this.opts.code.process(m,e));const n=new Function(`${a.default.self}`,`${a.default.scope}`,m),r=n(this,this.scope.get());if(this.scope.value(f,{ref:r}),r.errors=null,r.schema=e.schema,r.schemaEnv=e,e.$async&&(r.$async=!0),!0===this.opts.code.source&&(r.source={validateName:f,validateCode:t,scopeValues:h._values}),this.opts.unevaluated){const{props:e,items:t}=g;r.evaluated={props:e instanceof o.Name?void 0:e,items:t instanceof o.Name?void 0:t,dynamicProps:e instanceof o.Name,dynamicItems:t instanceof o.Name},r.source&&(r.source.evaluated=(0,o.stringify)(r.evaluated))}return e.validate=r,e}catch(y){throw delete e.validate,delete e.validateName,m&&this.logger.error("Error compiling schema, function code:",m),y}finally{this._compilations.delete(e)}}function h(e,t,n){var o;n=(0,s.resolveUrl)(this.opts.uriResolver,t,n);const r=e.refs[n];if(r)return r;let a=g.call(this,e,n);if(void 0===a){const r=null===(o=e.localRefs)||void 0===o?void 0:o[n],{schemaId:s}=this.opts;r&&(a=new c({schema:r,schemaId:s,root:e,baseId:t}))}return void 0!==a?e.refs[n]=d.call(this,a):void 0}function d(e){return(0,s.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function p(e){for(const t of this._compilations)if(f(t,e))return t}function f(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function g(e,t){let n;while("string"==typeof(n=this.refs[t]))t=n;return n||this.schemas[t]||m.call(this,e,t)}function m(e,t){const n=this.opts.uriResolver.parse(t),o=(0,s._getFullPath)(this.opts.uriResolver,n);let r=(0,s.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&o===r)return v.call(this,n,e);const a=(0,s.normalizeId)(o),i=this.refs[a]||this.schemas[a];if("string"==typeof i){const t=m.call(this,e,i);if("object"!==typeof(null===t||void 0===t?void 0:t.schema))return;return v.call(this,n,t)}if("object"===typeof(null===i||void 0===i?void 0:i.schema)){if(i.validate||u.call(this,i),a===(0,s.normalizeId)(t)){const{schema:t}=i,{schemaId:n}=this.opts,o=t[n];return o&&(r=(0,s.resolveUrl)(this.opts.uriResolver,r,o)),new c({schema:t,schemaId:n,root:e,baseId:r})}return v.call(this,n,i)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=h,t.getCompilingSchema=p,t.resolveSchema=m;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function v(e,{baseId:t,schema:n,root:o}){var r;if("/"!==(null===(r=e.fragment)||void 0===r?void 0:r[0]))return;for(const c of e.fragment.slice(1).split("/")){if("boolean"===typeof n)return;const e=n[(0,i.unescapeFragment)(c)];if(void 0===e)return;n=e;const o="object"===typeof n&&n[this.opts.schemaId];!y.has(c)&&o&&(t=(0,s.resolveUrl)(this.opts.uriResolver,t,o))}let a;if("boolean"!=typeof n&&n.$ref&&!(0,i.schemaHasRulesButRef)(n,this.RULES)){const e=(0,s.resolveUrl)(this.opts.uriResolver,t,n.$ref);a=m.call(this,o,e)}const{schemaId:l}=this.opts;return a=a||new c({schema:n,schemaId:l,root:o,baseId:t}),a.schema!==a.root.schema?a:void 0}},2023:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r={data:new o.Name("data"),valCxt:new o.Name("valCxt"),instancePath:new o.Name("instancePath"),parentData:new o.Name("parentData"),parentDataProperty:new o.Name("parentDataProperty"),rootData:new o.Name("rootData"),dynamicAnchors:new o.Name("dynamicAnchors"),vErrors:new o.Name("vErrors"),errors:new o.Name("errors"),this:new o.Name("this"),self:new o.Name("self"),scope:new o.Name("scope"),json:new o.Name("json"),jsonPos:new o.Name("jsonPos"),jsonLen:new o.Name("jsonLen"),jsonPart:new o.Name("jsonPart")};t["default"]=r},4551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(6939);class r extends Error{constructor(e,t,n,r){super(r||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,o.resolveUrl)(e,t,n),this.missingSchema=(0,o.normalizeId)((0,o.getFullPath)(e,this.missingRef))}}t["default"]=r},6939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const o=n(4227),r=n(2017),a=n(7106),s=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)}t.inlineRef=i;const l=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(const t in e){if(l.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(c))return!0;if("object"==typeof n&&c(n))return!0}return!1}function u(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!s.has(n)&&("object"==typeof e[n]&&(0,o.eachItem)(e[n],(e=>t+=u(e))),t===1/0))return 1/0}return t}function h(e,t="",n){!1!==n&&(t=f(t));const o=e.parse(t);return d(e,o)}function d(e,t){const n=e.serialize(t);return n.split("#")[0]+"#"}t.getFullPath=h,t._getFullPath=d;const p=/#\/?$/;function f(e){return e?e.replace(p,""):""}function g(e,t,n){return n=f(n),e.resolve(t,n)}t.normalizeId=f,t.resolveUrl=g;const m=/^[a-z_][-a-z0-9._]*$/i;function y(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:o}=this.opts,s=f(e[n]||t),i={"":s},l=h(o,s,!1),c={},u=new Set;return a(e,{allKeys:!0},((e,t,o,r)=>{if(void 0===r)return;const a=l+t;let s=i[r];function h(t){const n=this.opts.uriResolver.resolve;if(t=f(s?n(s,t):t),u.has(t))throw p(t);u.add(t);let o=this.refs[t];return"string"==typeof o&&(o=this.refs[o]),"object"==typeof o?d(e,o.schema,t):t!==f(a)&&("#"===t[0]?(d(e,c[t],t),c[t]=e):this.refs[t]=a),t}function g(e){if("string"==typeof e){if(!m.test(e))throw new Error(`invalid anchor "${e}"`);h.call(this,`#${e}`)}}"string"==typeof e[n]&&(s=h.call(this,e[n])),g.call(this,e.$anchor),g.call(this,e.$dynamicAnchor),i[t]=s})),c;function d(e,t,n){if(void 0!==t&&!r(e,t))throw p(n)}function p(e){return new Error(`reference "${e}" resolves to more than one schema`)}}t.getSchemaRefs=y},396:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;const n=["string","number","integer","boolean","null","object","array"],o=new Set(n);function r(e){return"string"==typeof e&&o.has(e)}function a(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}t.isJSONType=r,t.getRules=a},4227:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const o=n(9029),r=n(1520);function a(e){const t={};for(const n of e)t[n]=!0;return t}function s(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(i(e,t),!l(t,e.self.RULES.all))}function i(e,t=e.schema){const{opts:n,self:o}=e;if(!n.strictSchema)return;if("boolean"===typeof t)return;const r=o.RULES.keywords;for(const a in t)r[a]||k(e,`unknown keyword: "${a}"`)}function l(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function c(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1}function u({topSchemaRef:e,schemaPath:t},n,r,a){if(!a){if("number"==typeof n||"boolean"==typeof n)return n;if("string"==typeof n)return o._`${n}`}return o._`${e}${t}${(0,o.getProperty)(r)}`}function h(e){return f(decodeURIComponent(e))}function d(e){return encodeURIComponent(p(e))}function p(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function f(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function g(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)}function m({mergeNames:e,mergeToName:t,mergeValues:n,resultToName:r}){return(a,s,i,l)=>{const c=void 0===i?s:i instanceof o.Name?(s instanceof o.Name?e(a,s,i):t(a,s,i),i):s instanceof o.Name?(t(a,i,s),s):n(s,i);return l!==o.Name||c instanceof o.Name?c:r(a,c)}}function y(e,t){if(!0===t)return e.var("props",!0);const n=e.var("props",o._`{}`);return void 0!==t&&v(e,n,t),n}function v(e,t,n){Object.keys(n).forEach((n=>e.assign(o._`${t}${(0,o.getProperty)(n)}`,!0)))}t.toHash=a,t.alwaysValidSchema=s,t.checkUnknownRules=i,t.schemaHasRules=l,t.schemaHasRulesButRef=c,t.schemaRefOrVal=u,t.unescapeFragment=h,t.escapeFragment=d,t.escapeJsonPointer=p,t.unescapeJsonPointer=f,t.eachItem=g,t.mergeEvaluated={props:m({mergeNames:(e,t,n)=>e.if(o._`${n} !== true && ${t} !== undefined`,(()=>{e.if(o._`${t} === true`,(()=>e.assign(n,!0)),(()=>e.assign(n,o._`${n} || {}`).code(o._`Object.assign(${n}, ${t})`)))})),mergeToName:(e,t,n)=>e.if(o._`${n} !== true`,(()=>{!0===t?e.assign(n,!0):(e.assign(n,o._`${n} || {}`),v(e,n,t))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:y}),items:m({mergeNames:(e,t,n)=>e.if(o._`${n} !== true && ${t} !== undefined`,(()=>e.assign(n,o._`${t} === true ? true : ${n} > ${t} ? ${n} : ${t}`))),mergeToName:(e,t,n)=>e.if(o._`${n} !== true`,(()=>e.assign(n,!0===t||o._`${n} > ${t} ? ${n} : ${t}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=y,t.setEvaluated=v;const b={};function w(e,t){return e.scopeValue("func",{ref:t,code:b[t.code]||(b[t.code]=new r._Code(t.code))})}var x;function _(e,t,n){if(e instanceof o.Name){const r=t===x.Num;return n?r?o._`"[" + ${e} + "]"`:o._`"['" + ${e} + "']"`:r?o._`"/" + ${e}`:o._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return n?(0,o.getProperty)(e).toString():"/"+p(e)}function k(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}t.useFunc=w,function(e){e[e["Num"]=0]="Num",e[e["Str"]=1]="Str"}(x=t.Type||(t.Type={})),t.getErrorPath=_,t.checkStrictMode=k},7887:function(e,t){"use strict";function n({schema:e,self:t},n){const r=t.RULES.types[n];return r&&!0!==r&&o(e,r)}function o(e,t){return t.rules.some((t=>r(e,t)))}function r(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=n,t.shouldUseGroup=o,t.shouldUseRule=r},1108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const o=n(8708),r=n(9029),a=n(2023),s={message:"boolean schema is false"};function i(e){const{gen:t,schema:n,validateName:o}=e;!1===n?c(e,!1):"object"==typeof n&&!0===n.$async?t.return(a.default.data):(t.assign(r._`${o}.errors`,null),t.return(!0))}function l(e,t){const{gen:n,schema:o}=e;!1===o?(n.var(t,!1),c(e)):n.var(t,!0)}function c(e,t){const{gen:n,data:r}=e,a={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,o.reportError)(a,s,void 0,t)}t.topBoolOrEmptySchema=i,t.boolOrEmptySchema=l},208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const o=n(396),r=n(7887),a=n(8708),s=n(9029),i=n(4227);var l;function c(e){const t=u(e.type),n=t.includes("null");if(n){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t}function u(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(o.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}function h(e,t){const{gen:n,data:o,opts:a}=e,s=p(t,a.coerceTypes),i=t.length>0&&!(0===s.length&&1===t.length&&(0,r.schemaHasRulesForType)(e,t[0]));if(i){const r=y(t,o,a.strictNumbers,l.Wrong);n.if(r,(()=>{s.length?f(e,t,s):b(e)}))}return i}(function(e){e[e["Correct"]=0]="Correct",e[e["Wrong"]=1]="Wrong"})(l=t.DataType||(t.DataType={})),t.getSchemaTypes=c,t.getJSONTypes=u,t.coerceAndCheckDataType=h;const d=new Set(["string","number","integer","boolean","null"]);function p(e,t){return t?e.filter((e=>d.has(e)||"array"===t&&"array"===e)):[]}function f(e,t,n){const{gen:o,data:r,opts:a}=e,i=o.let("dataType",s._`typeof ${r}`),l=o.let("coerced",s._`undefined`);"array"===a.coerceTypes&&o.if(s._`${i} == 'object' && Array.isArray(${r}) && ${r}.length == 1`,(()=>o.assign(r,s._`${r}[0]`).assign(i,s._`typeof ${r}`).if(y(t,r,a.strictNumbers),(()=>o.assign(l,r))))),o.if(s._`${l} !== undefined`);for(const s of n)(d.has(s)||"array"===s&&"array"===a.coerceTypes)&&c(s);function c(e){switch(e){case"string":return void o.elseIf(s._`${i} == "number" || ${i} == "boolean"`).assign(l,s._`"" + ${r}`).elseIf(s._`${r} === null`).assign(l,s._`""`);case"number":return void o.elseIf(s._`${i} == "boolean" || ${r} === null
              || (${i} == "string" && ${r} && ${r} == +${r})`).assign(l,s._`+${r}`);case"integer":return void o.elseIf(s._`${i} === "boolean" || ${r} === null
              || (${i} === "string" && ${r} && ${r} == +${r} && !(${r} % 1))`).assign(l,s._`+${r}`);case"boolean":return void o.elseIf(s._`${r} === "false" || ${r} === 0 || ${r} === null`).assign(l,!1).elseIf(s._`${r} === "true" || ${r} === 1`).assign(l,!0);case"null":return o.elseIf(s._`${r} === "" || ${r} === 0 || ${r} === false`),void o.assign(l,null);case"array":o.elseIf(s._`${i} === "string" || ${i} === "number"
              || ${i} === "boolean" || ${r} === null`).assign(l,s._`[${r}]`)}}o.else(),b(e),o.endIf(),o.if(s._`${l} !== undefined`,(()=>{o.assign(r,l),g(e,l)}))}function g({gen:e,parentData:t,parentDataProperty:n},o){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,o)))}function m(e,t,n,o=l.Correct){const r=o===l.Correct?s.operators.EQ:s.operators.NEQ;let a;switch(e){case"null":return s._`${t} ${r} null`;case"array":a=s._`Array.isArray(${t})`;break;case"object":a=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=i(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=i();break;default:return s._`typeof ${t} ${r} ${e}`}return o===l.Correct?a:(0,s.not)(a);function i(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function y(e,t,n,o){if(1===e.length)return m(e[0],t,n,o);let r;const a=(0,i.toHash)(e);if(a.array&&a.object){const e=s._`typeof ${t} != "object"`;r=a.null?e:s._`!${t} || ${e}`,delete a.null,delete a.array,delete a.object}else r=s.nil;a.number&&delete a.integer;for(const i in a)r=(0,s.and)(r,m(i,t,n,o));return r}t.checkDataType=m,t.checkDataTypes=y;const v={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function b(e){const t=w(e);(0,a.reportError)(t,v)}function w(e){const{gen:t,data:n,schema:o}=e,r=(0,i.schemaRefOrVal)(e,o,"type");return{gen:t,keyword:"type",data:n,schema:o.type,schemaCode:r,schemaValue:r,parentSchema:o,params:{},it:e}}t.reportTypeError=b},7870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;const o=n(9029),r=n(4227);function a(e,t){const{properties:n,items:o}=e.schema;if("object"===t&&n)for(const r in n)s(e,r,n[r].default);else"array"===t&&Array.isArray(o)&&o.forEach(((t,n)=>s(e,n,t.default)))}function s(e,t,n){const{gen:a,compositeRule:s,data:i,opts:l}=e;if(void 0===n)return;const c=o._`${i}${(0,o.getProperty)(t)}`;if(s)return void(0,r.checkStrictMode)(e,`default is ignored for: ${c}`);let u=o._`${c} === undefined`;"empty"===l.useDefaults&&(u=o._`${u} || ${c} === null || ${c} === ""`),a.if(u,o._`${c} = ${(0,o.stringify)(n)}`)}t.assignDefaults=a},2586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const o=n(1108),r=n(208),a=n(7887),s=n(208),i=n(7870),l=n(3673),c=n(6876),u=n(9029),h=n(2023),d=n(6939),p=n(4227),f=n(8708);function g(e){C(e)&&(E(e),k(e))?b(e):m(e,(()=>(0,o.topBoolOrEmptySchema)(e)))}function m({gen:e,validateName:t,schema:n,schemaEnv:o,opts:r},a){r.code.es5?e.func(t,u._`${h.default.data}, ${h.default.valCxt}`,o.$async,(()=>{e.code(u._`"use strict"; ${x(n,r)}`),v(e,r),e.code(a)})):e.func(t,u._`${h.default.data}, ${y(r)}`,o.$async,(()=>e.code(x(n,r)).code(a)))}function y(e){return u._`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${e.dynamicRef?u._`, ${h.default.dynamicAnchors}={}`:u.nil}}={}`}function v(e,t){e.if(h.default.valCxt,(()=>{e.var(h.default.instancePath,u._`${h.default.valCxt}.${h.default.instancePath}`),e.var(h.default.parentData,u._`${h.default.valCxt}.${h.default.parentData}`),e.var(h.default.parentDataProperty,u._`${h.default.valCxt}.${h.default.parentDataProperty}`),e.var(h.default.rootData,u._`${h.default.valCxt}.${h.default.rootData}`),t.dynamicRef&&e.var(h.default.dynamicAnchors,u._`${h.default.valCxt}.${h.default.dynamicAnchors}`)}),(()=>{e.var(h.default.instancePath,u._`""`),e.var(h.default.parentData,u._`undefined`),e.var(h.default.parentDataProperty,u._`undefined`),e.var(h.default.rootData,h.default.data),t.dynamicRef&&e.var(h.default.dynamicAnchors,u._`{}`)}))}function b(e){const{schema:t,opts:n,gen:o}=e;m(e,(()=>{n.$comment&&t.$comment&&F(e),M(e),o.let(h.default.vErrors,null),o.let(h.default.errors,0),n.unevaluated&&w(e),$(e),I(e)}))}function w(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",u._`${n}.evaluated`),t.if(u._`${e.evaluated}.dynamicProps`,(()=>t.assign(u._`${e.evaluated}.props`,u._`undefined`))),t.if(u._`${e.evaluated}.dynamicItems`,(()=>t.assign(u._`${e.evaluated}.items`,u._`undefined`)))}function x(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?u._`/*# sourceURL=${n} */`:u.nil}function _(e,t){C(e)&&(E(e),k(e))?S(e,t):(0,o.boolOrEmptySchema)(e,t)}function k({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function C(e){return"boolean"!=typeof e.schema}function S(e,t){const{schema:n,gen:o,opts:r}=e;r.$comment&&n.$comment&&F(e),T(e),z(e);const a=o.const("_errs",h.default.errors);$(e,a),o.var(t,u._`${a} === ${h.default.errors}`)}function E(e){(0,p.checkUnknownRules)(e),P(e)}function $(e,t){if(e.opts.jtd)return R(e,[],!1,t);const n=(0,r.getSchemaTypes)(e.schema),o=(0,r.coerceAndCheckDataType)(e,n);R(e,n,!o,t)}function P(e){const{schema:t,errSchemaPath:n,opts:o,self:r}=e;t.$ref&&o.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,r.RULES)&&r.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function M(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,p.checkStrictMode)(e,"default is ignored in the schema root")}function T(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function z(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function F({gen:e,schemaEnv:t,schema:n,errSchemaPath:o,opts:r}){const a=n.$comment;if(!0===r.$comment)e.code(u._`${h.default.self}.logger.log(${a})`);else if("function"==typeof r.$comment){const n=u.str`${o}/$comment`,r=e.scopeValue("root",{ref:t.root});e.code(u._`${h.default.self}.opts.$comment(${a}, ${n}, ${r}.schema)`)}}function I(e){const{gen:t,schemaEnv:n,validateName:o,ValidationError:r,opts:a}=e;n.$async?t.if(u._`${h.default.errors} === 0`,(()=>t.return(h.default.data)),(()=>t.throw(u._`new ${r}(${h.default.vErrors})`))):(t.assign(u._`${o}.errors`,h.default.vErrors),a.unevaluated&&L(e),t.return(u._`${h.default.errors} === 0`))}function L({gen:e,evaluated:t,props:n,items:o}){n instanceof u.Name&&e.assign(u._`${t}.props`,n),o instanceof u.Name&&e.assign(u._`${t}.items`,o)}function R(e,t,n,o){const{gen:r,schema:i,data:l,allErrors:c,opts:d,self:f}=e,{RULES:g}=f;function m(p){(0,a.shouldUseGroup)(i,p)&&(p.type?(r.if((0,s.checkDataType)(p.type,l,d.strictNumbers)),A(e,p),1===t.length&&t[0]===p.type&&n&&(r.else(),(0,s.reportTypeError)(e)),r.endIf()):A(e,p),c||r.if(u._`${h.default.errors} === ${o||0}`))}!i.$ref||!d.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(i,g)?(d.jtd||N(e,t),r.block((()=>{for(const e of g.rules)m(e);m(g.post)}))):r.block((()=>Y(e,"$ref",g.all.$ref.definition)))}function A(e,t){const{gen:n,schema:o,opts:{useDefaults:r}}=e;r&&(0,i.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,a.shouldUseRule)(o,n)&&Y(e,n.keyword,n.definition,t.type)}))}function N(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(X(e,t),e.opts.allowUnionTypes||O(e,t),j(e,e.dataTypes))}function X(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{D(e.dataTypes,t)||B(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),K(e,t)):e.dataTypes=t)}function O(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&B(e,"use allowUnionTypes to allow union type keyword")}function j(e,t){const n=e.self.RULES.all;for(const o in n){const r=n[o];if("object"==typeof r&&(0,a.shouldUseRule)(e.schema,r)){const{type:n}=r.definition;n.length&&!n.some((e=>W(t,e)))&&B(e,`missing type "${n.join(",")}" for keyword "${o}"`)}}}function W(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function D(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function K(e,t){const n=[];for(const o of e.dataTypes)D(t,o)?n.push(o):t.includes("integer")&&"number"===o&&n.push("integer");e.dataTypes=n}function B(e,t){const n=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${n}" (strictTypes)`,(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=g;class V{constructor(e,t,n){if((0,l.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",H(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,l.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",h.default.errors))}result(e,t,n){this.failResult((0,u.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(u._`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?f.reportExtraError:f.reportError)(this,this.def.error,t)}$dataError(){(0,f.reportError)(this,this.def.$dataError||f.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,f.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=u.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:n,schemaCode:o,schemaType:r,def:a}=this;n.if((0,u.or)(u._`${o} === undefined`,t)),e!==u.nil&&n.assign(e,!0),(r.length||a.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:o,it:r}=this;return(0,u.or)(a(),i());function a(){if(n.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return u._`${(0,s.checkDataTypes)(e,t,r.opts.strictNumbers,s.DataType.Wrong)}`}return u.nil}function i(){if(o.validateSchema){const n=e.scopeValue("validate$data",{ref:o.validateSchema});return u._`!${n}(${t})`}return u.nil}}subschema(e,t){const n=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(n,this.it,e),(0,c.extendSubschemaMode)(n,e);const o={...this.it,...n,items:void 0,props:void 0};return _(o,t),o}mergeEvaluated(e,t){const{it:n,gen:o}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=p.mergeEvaluated.props(o,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=p.mergeEvaluated.items(o,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:o}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return o.if(t,(()=>this.mergeEvaluated(e,u.Name))),!0}}function Y(e,t,n,o){const r=new V(e,n,t);"code"in n?n.code(r,o):r.$data&&n.validate?(0,l.funcKeywordCode)(r,n):"macro"in n?(0,l.macroKeywordCode)(r,n):(n.compile||n.validate)&&(0,l.funcKeywordCode)(r,n)}t.KeywordCxt=V;const q=/^\/(?:[^~]|~0|~1)*$/,U=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function H(e,{dataLevel:t,dataNames:n,dataPathArr:o}){let r,a;if(""===e)return h.default.rootData;if("/"===e[0]){if(!q.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);r=e,a=h.default.rootData}else{const s=U.exec(e);if(!s)throw new Error(`Invalid JSON-pointer: ${e}`);const i=+s[1];if(r=s[2],"#"===r){if(i>=t)throw new Error(l("property/index",i));return o[t-i]}if(i>t)throw new Error(l("data",i));if(a=n[t-i],!r)return a}let s=a;const i=r.split("/");for(const c of i)c&&(a=u._`${a}${(0,u.getProperty)((0,p.unescapeJsonPointer)(c))}`,s=u._`${s} && ${a}`);return s;function l(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}t.getData=H},3673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const o=n(9029),r=n(2023),a=n(5765),s=n(8708);function i(e,t){const{gen:n,keyword:r,schema:a,parentSchema:s,it:i}=e,l=t.macro.call(i.self,a,s,i),c=d(n,r,l);!1!==i.opts.validateSchema&&i.self.validateSchema(l,!0);const u=n.name("valid");e.subschema({schema:l,schemaPath:o.nil,errSchemaPath:`${i.errSchemaPath}/${r}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,(()=>e.error(!0)))}function l(e,t){var n;const{gen:s,keyword:i,schema:l,parentSchema:p,$data:f,it:g}=e;h(g,t);const m=!f&&t.compile?t.compile.call(g.self,l,p,g):t.validate,y=d(s,i,m),v=s.let("valid");function b(){if(!1===t.errors)_(),t.modifying&&c(e),k((()=>e.error()));else{const n=t.async?w():x();t.modifying&&c(e),k((()=>u(e,n)))}}function w(){const e=s.let("ruleErrs",null);return s.try((()=>_(o._`await `)),(t=>s.assign(v,!1).if(o._`${t} instanceof ${g.ValidationError}`,(()=>s.assign(e,o._`${t}.errors`)),(()=>s.throw(t))))),e}function x(){const e=o._`${y}.errors`;return s.assign(e,null),_(o.nil),e}function _(n=(t.async?o._`await `:o.nil)){const i=g.opts.passContext?r.default.this:r.default.self,l=!("compile"in t&&!f||!1===t.schema);s.assign(v,o._`${n}${(0,a.callValidateCode)(e,y,i,l)}`,t.modifying)}function k(e){var n;s.if((0,o.not)(null!==(n=t.valid)&&void 0!==n?n:v),e)}e.block$data(v,b),e.ok(null!==(n=t.valid)&&void 0!==n?n:v)}function c(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,(()=>t.assign(n,o._`${r.parentData}[${r.parentDataProperty}]`)))}function u(e,t){const{gen:n}=e;n.if(o._`Array.isArray(${t})`,(()=>{n.assign(r.default.vErrors,o._`${r.default.vErrors} === null ? ${t} : ${r.default.vErrors}.concat(${t})`).assign(r.default.errors,o._`${r.default.vErrors}.length`),(0,s.extendErrors)(e)}),(()=>e.error()))}function h({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function d(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,o.stringify)(n)})}function p(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&"undefined"==typeof e))}function f({schema:e,opts:t,self:n,errSchemaPath:o},r,a){if(Array.isArray(r.keyword)?!r.keyword.includes(a):r.keyword!==a)throw new Error("ajv implementation error");const s=r.dependencies;if(null===s||void 0===s?void 0:s.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${a}: ${s.join(",")}`);if(r.validateSchema){const s=r.validateSchema(e[a]);if(!s){const e=`keyword "${a}" value is invalid at path "${o}": `+n.errorsText(r.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}}}t.macroKeywordCode=i,t.funcKeywordCode=l,t.validSchemaType=p,t.validateKeywordUsage=f},6876:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const o=n(9029),r=n(4227);function a(e,{keyword:t,schemaProp:n,schema:a,schemaPath:s,errSchemaPath:i,topSchemaRef:l}){if(void 0!==t&&void 0!==a)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const a=e.schema[t];return void 0===n?{schema:a,schemaPath:o._`${e.schemaPath}${(0,o.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:a[n],schemaPath:o._`${e.schemaPath}${(0,o.getProperty)(t)}${(0,o.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,r.escapeFragment)(n)}`}}if(void 0!==a){if(void 0===s||void 0===i||void 0===l)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:s,topSchemaRef:l,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}function s(e,t,{dataProp:n,dataPropType:a,data:s,dataTypes:i,propertyName:l}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:c}=t;if(void 0!==n){const{errorPath:s,dataPathArr:i,opts:l}=t,h=c.let("data",o._`${t.data}${(0,o.getProperty)(n)}`,!0);u(h),e.errorPath=o.str`${s}${(0,r.getErrorPath)(n,a,l.jsPropertySyntax)}`,e.parentDataProperty=o._`${n}`,e.dataPathArr=[...i,e.parentDataProperty]}if(void 0!==s){const t=s instanceof o.Name?s:c.let("data",s,!0);u(t),void 0!==l&&(e.propertyName=l)}function u(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}i&&(e.dataTypes=i)}function i(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:o,createErrors:r,allErrors:a}){void 0!==o&&(e.compositeRule=o),void 0!==r&&(e.createErrors=r),void 0!==a&&(e.allErrors=a),e.jtdDiscriminator=t,e.jtdMetadata=n}t.getSubschema=a,t.extendSubschemaData=s,t.extendSubschemaMode=i},4042:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var o=n(2586);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return o.KeywordCxt}});var r=n(9029);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const a=n(3558),s=n(4551),i=n(396),l=n(3835),c=n(9029),u=n(6939),h=n(208),d=n(4227),p=n(3837),f=n(5944),g=(e,t)=>new RegExp(e,t);g.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function x(e){var t,n,o,r,a,s,i,l,c,u,h,d,p,m,y,v,b,x,_,k,C,S,E,$,P;const M=e.strict,T=null===(t=e.code)||void 0===t?void 0:t.optimize,z=!0===T||void 0===T?1:T||0,F=null!==(o=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==o?o:g,I=null!==(r=e.uriResolver)&&void 0!==r?r:f.default;return{strictSchema:null===(s=null!==(a=e.strictSchema)&&void 0!==a?a:M)||void 0===s||s,strictNumbers:null===(l=null!==(i=e.strictNumbers)&&void 0!==i?i:M)||void 0===l||l,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:M)&&void 0!==u?u:"log",strictTuples:null!==(d=null!==(h=e.strictTuples)&&void 0!==h?h:M)&&void 0!==d?d:"log",strictRequired:null!==(m=null!==(p=e.strictRequired)&&void 0!==p?p:M)&&void 0!==m&&m,code:e.code?{...e.code,optimize:z,regExp:F}:{optimize:z,regExp:F},loopRequired:null!==(y=e.loopRequired)&&void 0!==y?y:w,loopEnum:null!==(v=e.loopEnum)&&void 0!==v?v:w,meta:null===(b=e.meta)||void 0===b||b,messages:null===(x=e.messages)||void 0===x||x,inlineRefs:null===(_=e.inlineRefs)||void 0===_||_,schemaId:null!==(k=e.schemaId)&&void 0!==k?k:"$id",addUsedSchema:null===(C=e.addUsedSchema)||void 0===C||C,validateSchema:null===(S=e.validateSchema)||void 0===S||S,validateFormats:null===(E=e.validateFormats)||void 0===E||E,unicodeRegExp:null===($=e.unicodeRegExp)||void 0===$||$,int32range:null===(P=e.int32range)||void 0===P||P,uriResolver:I}}class _{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...x(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:y,es5:t,lines:n}),this.logger=T(e.logger);const o=e.validateFormats;e.validateFormats=!1,this.RULES=(0,i.getRules)(),k.call(this,v,e,"NOT SUPPORTED"),k.call(this,b,e,"DEPRECATED","warn"),this._metaOpts=P.call(this),e.formats&&E.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&$.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),S.call(this),e.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let o=p;"id"===n&&(o={...p},o.id=o.$id,delete o.$id),t&&e&&this.addMetaSchema(o,o[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const o=n(t);return"$async"in n||(this.errors=n.errors),o}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return o.call(this,e,t);async function o(e,t){await r.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||a.call(this,n)}async function r(e){e&&!this.getSchema(e)&&await o.call(this,{$ref:e},!0)}async function a(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return i.call(this,t),await l.call(this,t.missingSchema),a.call(this,e)}}function i({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function l(e){const n=await c.call(this,e);this.refs[e]||await r.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function c(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,o=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,o);return this}let r;if("object"===typeof e){const{schemaId:t}=this.opts;if(r=e[t],void 0!==r&&"string"!=typeof r)throw new Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||r),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,o,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(n,e);if(!o&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return o}getSchema(e){let t;while("string"==typeof(t=C.call(this,e)))e=t;if(void 0===t){const{schemaId:n}=this.opts,o=new l.SchemaEnv({schema:{},schemaId:n});if(t=l.resolveSchema.call(this,o,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=C.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,u.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(t=e,n=t.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(F.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>I.call(this,e))),this;R.call(this,t);const o={...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===o.type.length?e=>I.call(this,e,o):e=>o.type.forEach((t=>I.call(this,e,o,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const o of t){const t=o.split("/").slice(1);let r=e;for(const e of t)r=r[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:o}=t.definition,a=r[e];o&&a&&(r[e]=N(a))}}return e}_removeAllSchemas(e,t){for(const n in e){const o=e[n];t&&!t.test(n)||("string"==typeof o?delete e[n]:o&&!o.meta&&(this._cache.delete(o.schema),delete e[n]))}}_addSchema(e,t,n,o=this.opts.validateSchema,r=this.opts.addUsedSchema){let a;const{schemaId:s}=this.opts;if("object"==typeof e)a=e[s];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let i=this._cache.get(e);if(void 0!==i)return i;n=(0,u.normalizeId)(a||n);const c=u.getSchemaRefs.call(this,e,n);return i=new l.SchemaEnv({schema:e,schemaId:s,meta:t,baseId:n,localRefs:c}),this._cache.set(i.schema,i),r&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=i),o&&this.validateSchema(e,!0),i}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):l.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,e)}finally{this.opts=t}}}function k(e,t,n,o="error"){for(const r in e){const a=r;a in t&&this.logger[o](`${n}: option ${r}. ${e[a]}`)}}function C(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function S(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function E(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function $(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function P(){const e={...this.opts};for(const t of m)delete e[t];return e}t["default"]=_,_.ValidationError=a.default,_.MissingRefError=s.default;const M={log(){},warn(){},error(){}};function T(e){if(!1===e)return M;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function F(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!z.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function I(e,t,n){var o;const r=null===t||void 0===t?void 0:t.post;if(n&&r)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:a}=this;let s=r?a.post:a.rules.find((({type:e})=>e===n));if(s||(s={type:n,rules:[]},a.rules.push(s)),a.keywords[e]=!0,!t)return;const i={keyword:e,definition:{...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)}};t.before?L.call(this,s,i,t.before):s.rules.push(i),a.all[e]=i,null===(o=t.implements)||void 0===o||o.forEach((e=>this.addKeyword(e)))}function L(e,t,n){const o=e.rules.findIndex((e=>e.keyword===n));o>=0?e.rules.splice(o,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function R(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=N(t)),e.validateSchema=this.compile(t,!0))}const A={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function N(e){return{anyOf:[e,A]}}},6250:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2017);o.code='require("ajv/dist/runtime/equal").default',t["default"]=o},3853:function(e,t){"use strict";function n(e){const t=e.length;let n,o=0,r=0;while(r<t)o++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<t&&(n=e.charCodeAt(r),56320===(64512&n)&&r++);return o}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,n.code='require("ajv/dist/runtime/ucs2length").default'},5944:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(6579);o.code='require("ajv/dist/runtime/uri").default',t["default"]=o},3558:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t["default"]=n},5457:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;const o=n(9029),r=n(4227),a={message:({params:{len:e}})=>o.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>o._`{limit: ${e}}`},s={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:a,code(e){const{parentSchema:t,it:n}=e,{items:o}=t;Array.isArray(o)?i(e,o):(0,r.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function i(e,t){const{gen:n,schema:a,data:s,keyword:i,it:l}=e;l.items=!0;const c=n.const("len",o._`${s}.length`);if(!1===a)e.setParams({len:t.length}),e.pass(o._`${c} <= ${t.length}`);else if("object"==typeof a&&!(0,r.alwaysValidSchema)(l,a)){const r=n.var("valid",o._`${c} <= ${t.length}`);n.if((0,o.not)(r),(()=>u(r))),e.ok(r)}function u(a){n.forRange("i",t.length,c,(t=>{e.subschema({keyword:i,dataProp:t,dataPropType:r.Type.Num},a),l.allErrors||n.if((0,o.not)(a),(()=>n.break()))}))}}t.validateAdditionalItems=i,t["default"]=s},8660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5765),r=n(9029),a=n(2023),s=n(4227),i={message:"must NOT have additional properties",params:({params:e})=>r._`{additionalProperty: ${e.additionalProperty}}`},l={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:i,code(e){const{gen:t,schema:n,parentSchema:i,data:l,errsCount:c,it:u}=e;if(!c)throw new Error("ajv implementation error");const{allErrors:h,opts:d}=u;if(u.props=!0,"all"!==d.removeAdditional&&(0,s.alwaysValidSchema)(u,n))return;const p=(0,o.allSchemaProperties)(i.properties),f=(0,o.allSchemaProperties)(i.patternProperties);function g(){t.forIn("key",l,(e=>{p.length||f.length?t.if(m(e),(()=>v(e))):v(e)}))}function m(n){let a;if(p.length>8){const e=(0,s.schemaRefOrVal)(u,i.properties,"properties");a=(0,o.isOwnProperty)(t,e,n)}else a=p.length?(0,r.or)(...p.map((e=>r._`${n} === ${e}`))):r.nil;return f.length&&(a=(0,r.or)(a,...f.map((t=>r._`${(0,o.usePattern)(e,t)}.test(${n})`)))),(0,r.not)(a)}function y(e){t.code(r._`delete ${l}[${e}]`)}function v(o){if("all"===d.removeAdditional||d.removeAdditional&&!1===n)y(o);else{if(!1===n)return e.setParams({additionalProperty:o}),e.error(),void(h||t.break());if("object"==typeof n&&!(0,s.alwaysValidSchema)(u,n)){const n=t.name("valid");"failing"===d.removeAdditional?(b(o,n,!1),t.if((0,r.not)(n),(()=>{e.reset(),y(o)}))):(b(o,n),h||t.if((0,r.not)(n),(()=>t.break())))}}}function b(t,n,o){const r={keyword:"additionalProperties",dataProp:t,dataPropType:s.Type.Str};!1===o&&Object.assign(r,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(r,n)}g(),e.ok(r._`${c} === ${a.default.errors}`)}};t["default"]=l},5844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(4227),r={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const a=t.name("valid");n.forEach(((t,n)=>{if((0,o.alwaysValidSchema)(r,t))return;const s=e.subschema({keyword:"allOf",schemaProp:n},a);e.ok(a),e.mergeEvaluated(s)}))}};t["default"]=r},6505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5765),r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:o.validateUnion,error:{message:"must match a schema in anyOf"}};t["default"]=r},2661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=n(4227),a={message:({params:{min:e,max:t}})=>void 0===t?o.str`must contain at least ${e} valid item(s)`:o.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?o._`{minContains: ${e}}`:o._`{minContains: ${e}, maxContains: ${t}}`},s={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:a,code(e){const{gen:t,schema:n,parentSchema:a,data:s,it:i}=e;let l,c;const{minContains:u,maxContains:h}=a;i.opts.next?(l=void 0===u?1:u,c=h):l=1;const d=t.const("len",o._`${s}.length`);if(e.setParams({min:l,max:c}),void 0===c&&0===l)return void(0,r.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==c&&l>c)return(0,r.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,r.alwaysValidSchema)(i,n)){let t=o._`${d} >= ${l}`;return void 0!==c&&(t=o._`${t} && ${d} <= ${c}`),void e.pass(t)}i.items=!0;const p=t.name("valid");function f(){const e=t.name("_valid"),n=t.let("count",0);g(e,(()=>t.if(e,(()=>m(n)))))}function g(n,o){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:r.Type.Num,compositeRule:!0},n),o()}))}function m(e){t.code(o._`${e}++`),void 0===c?t.if(o._`${e} >= ${l}`,(()=>t.assign(p,!0).break())):(t.if(o._`${e} > ${c}`,(()=>t.assign(p,!1).break())),1===l?t.assign(p,!0):t.if(o._`${e} >= ${l}`,(()=>t.assign(p,!0))))}void 0===c&&1===l?g(p,(()=>t.if(p,(()=>t.break())))):0===l?(t.let(p,!0),void 0!==c&&t.if(o._`${s}.length > 0`,f)):(t.let(p,!1),f()),e.result(p,(()=>e.reset()))}};t["default"]=s},3025:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const o=n(9029),r=n(4227),a=n(5765);t.error={message:({params:{property:e,depsCount:t,deps:n}})=>{const r=1===t?"property":"properties";return o.str`must have ${r} ${n} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:n,missingProperty:r}})=>o._`{property: ${e},
    missingProperty: ${r},
    depsCount: ${t},
    deps: ${n}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,n]=i(e);l(e,t),c(e,n)}};function i({schema:e}){const t={},n={};for(const o in e){if("__proto__"===o)continue;const r=Array.isArray(e[o])?t:n;r[o]=e[o]}return[t,n]}function l(e,t=e.schema){const{gen:n,data:r,it:s}=e;if(0===Object.keys(t).length)return;const i=n.let("missing");for(const l in t){const c=t[l];if(0===c.length)continue;const u=(0,a.propertyInData)(n,r,l,s.opts.ownProperties);e.setParams({property:l,depsCount:c.length,deps:c.join(", ")}),s.allErrors?n.if(u,(()=>{for(const t of c)(0,a.checkReportMissingProp)(e,t)})):(n.if(o._`${u} && (${(0,a.checkMissingProp)(e,c,i)})`),(0,a.reportMissingProp)(e,i),n.else())}}function c(e,t=e.schema){const{gen:n,data:o,keyword:s,it:i}=e,l=n.name("valid");for(const c in t)(0,r.alwaysValidSchema)(i,t[c])||(n.if((0,a.propertyInData)(n,o,c,i.opts.ownProperties),(()=>{const t=e.subschema({keyword:s,schemaProp:c},l);e.mergeValidEvaluated(t,l)}),(()=>n.var(l,!0))),e.ok(l))}t.validatePropertyDeps=l,t.validateSchemaDeps=c,t["default"]=s},1239:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=n(4227),a={message:({params:e})=>o.str`must match "${e.ifClause}" schema`,params:({params:e})=>o._`{failingKeyword: ${e.ifClause}}`},s={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:a,code(e){const{gen:t,parentSchema:n,it:a}=e;void 0===n.then&&void 0===n.else&&(0,r.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const s=i(a,"then"),l=i(a,"else");if(!s&&!l)return;const c=t.let("valid",!0),u=t.name("_valid");if(h(),e.reset(),s&&l){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(u,d("then",n),d("else",n))}else s?t.if(u,d("then")):t.if((0,o.not)(u),d("else"));function h(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}function d(n,r){return()=>{const a=e.subschema({keyword:n},u);t.assign(c,u),e.mergeValidEvaluated(a,c),r?t.assign(r,o._`${n}`):e.setParams({ifClause:n})}}e.pass(c,(()=>e.error(!0)))}};function i(e,t){const n=e.schema[t];return void 0!==n&&!(0,r.alwaysValidSchema)(e,n)}t["default"]=s},6378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5457),r=n(5354),a=n(494),s=n(3966),i=n(2661),l=n(3025),c=n(9713),u=n(8660),h=n(117),d=n(5333),p=n(7923),f=n(6505),g=n(6163),m=n(5844),y=n(1239),v=n(4426);function b(e=!1){const t=[p.default,f.default,g.default,m.default,y.default,v.default,c.default,u.default,l.default,h.default,d.default];return e?t.push(r.default,s.default):t.push(o.default,a.default),t.push(i.default),t}t["default"]=b},494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;const o=n(9029),r=n(4227),a=n(5765),s={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return i(e,"additionalItems",t);n.items=!0,(0,r.alwaysValidSchema)(n,t)||e.ok((0,a.validateArray)(e))}};function i(e,t,n=e.schema){const{gen:a,parentSchema:s,data:i,keyword:l,it:c}=e;d(s),c.opts.unevaluated&&n.length&&!0!==c.items&&(c.items=r.mergeEvaluated.items(a,n.length,c.items));const u=a.name("valid"),h=a.const("len",o._`${i}.length`);function d(e){const{opts:o,errSchemaPath:a}=c,s=n.length,i=s===e.minItems&&(s===e.maxItems||!1===e[t]);if(o.strictTuples&&!i){const e=`"${l}" is ${s}-tuple, but minItems or maxItems/${t} are not specified or different at path "${a}"`;(0,r.checkStrictMode)(c,e,o.strictTuples)}}n.forEach(((t,n)=>{(0,r.alwaysValidSchema)(c,t)||(a.if(o._`${h} > ${n}`,(()=>e.subschema({keyword:l,schemaProp:n,dataProp:n},u))),e.ok(u))}))}t.validateTuple=i,t["default"]=s},3966:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=n(4227),a=n(5765),s=n(5457),i={message:({params:{len:e}})=>o.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>o._`{limit: ${e}}`},l={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:i,code(e){const{schema:t,parentSchema:n,it:o}=e,{prefixItems:i}=n;o.items=!0,(0,r.alwaysValidSchema)(o,t)||(i?(0,s.validateAdditionalItems)(e,i):e.ok((0,a.validateArray)(e)))}};t["default"]=l},7923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(4227),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,o.alwaysValidSchema)(r,n))return void e.fail();const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t["default"]=r},6163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=n(4227),a={message:"must match exactly one schema in oneOf",params:({params:e})=>o._`{passingSchemas: ${e.passing}}`},s={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:a,code(e){const{gen:t,schema:n,parentSchema:a,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&a.discriminator)return;const i=n,l=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");function h(){i.forEach(((n,a)=>{let i;(0,r.alwaysValidSchema)(s,n)?t.var(u,!0):i=e.subschema({keyword:"oneOf",schemaProp:a,compositeRule:!0},u),a>0&&t.if(o._`${u} && ${l}`).assign(l,!1).assign(c,o._`[${c}, ${a}]`).else(),t.if(u,(()=>{t.assign(l,!0),t.assign(c,a),i&&e.mergeEvaluated(i,o.Name)}))}))}e.setParams({passing:c}),t.block(h),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}};t["default"]=s},5333:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5765),r=n(9029),a=n(4227),s=n(4227),i={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:i,parentSchema:l,it:c}=e,{opts:u}=c,h=(0,o.allSchemaProperties)(n),d=h.filter((e=>(0,a.alwaysValidSchema)(c,n[e])));if(0===h.length||d.length===h.length&&(!c.opts.unevaluated||!0===c.props))return;const p=u.strictSchema&&!u.allowMatchingProperties&&l.properties,f=t.name("valid");!0===c.props||c.props instanceof r.Name||(c.props=(0,s.evaluatedPropsToName)(t,c.props));const{props:g}=c;function m(){for(const e of h)p&&y(e),c.allErrors?v(e):(t.var(f,!0),v(e),t.if(f))}function y(e){for(const t in p)new RegExp(e).test(t)&&(0,a.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function v(n){t.forIn("key",i,(a=>{t.if(r._`${(0,o.usePattern)(e,n)}.test(${a})`,(()=>{const o=d.includes(n);o||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:a,dataPropType:s.Type.Str},f),c.opts.unevaluated&&!0!==g?t.assign(r._`${g}[${a}]`,!0):o||c.allErrors||t.if((0,r.not)(f),(()=>t.break()))}))}))}m()}};t["default"]=i},5354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(494),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,o.validateTuple)(e,"items")};t["default"]=r},117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2586),r=n(5765),a=n(4227),s=n(8660),i={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:i,data:l,it:c}=e;"all"===c.opts.removeAdditional&&void 0===i.additionalProperties&&s.default.code(new o.KeywordCxt(c,s.default,"additionalProperties"));const u=(0,r.allSchemaProperties)(n);for(const o of u)c.definedProperties.add(o);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=a.mergeEvaluated.props(t,(0,a.toHash)(u),c.props));const h=u.filter((e=>!(0,a.alwaysValidSchema)(c,n[e])));if(0===h.length)return;const d=t.name("valid");for(const o of h)p(o)?f(o):(t.if((0,r.propertyInData)(t,l,o,c.opts.ownProperties)),f(o),c.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add(o),e.ok(d);function p(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==n[e].default}function f(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t["default"]=i},9713:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=n(4227),a={message:"property name must be valid",params:({params:e})=>o._`{propertyName: ${e.propertyName}}`},s={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:a,code(e){const{gen:t,schema:n,data:a,it:s}=e;if((0,r.alwaysValidSchema)(s,n))return;const i=t.name("valid");t.forIn("key",a,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},i),t.if((0,o.not)(i),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(i)}};t["default"]=s},4426:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(4227),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,o.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};t["default"]=r},5765:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const o=n(9029),r=n(4227),a=n(2023),s=n(4227);function i(e,t){const{gen:n,data:r,it:a}=e;n.if(p(n,r,t,a.opts.ownProperties),(()=>{e.setParams({missingProperty:o._`${t}`},!0),e.error()}))}function l({gen:e,data:t,it:{opts:n}},r,a){return(0,o.or)(...r.map((r=>(0,o.and)(p(e,t,r,n.ownProperties),o._`${a} = ${r}`))))}function c(e,t){e.setParams({missingProperty:t},!0),e.error()}function u(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:o._`Object.prototype.hasOwnProperty`})}function h(e,t,n){return o._`${u(e)}.call(${t}, ${n})`}function d(e,t,n,r){const a=o._`${t}${(0,o.getProperty)(n)} !== undefined`;return r?o._`${a} && ${h(e,t,n)}`:a}function p(e,t,n,r){const a=o._`${t}${(0,o.getProperty)(n)} === undefined`;return r?(0,o.or)(a,(0,o.not)(h(e,t,n))):a}function f(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}function g(e,t){return f(t).filter((n=>!(0,r.alwaysValidSchema)(e,t[n])))}function m({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:s,errorPath:i},it:l},c,u,h){const d=h?o._`${e}, ${t}, ${r}${s}`:t,p=[[a.default.instancePath,(0,o.strConcat)(a.default.instancePath,i)],[a.default.parentData,l.parentData],[a.default.parentDataProperty,l.parentDataProperty],[a.default.rootData,a.default.rootData]];l.opts.dynamicRef&&p.push([a.default.dynamicAnchors,a.default.dynamicAnchors]);const f=o._`${d}, ${n.object(...p)}`;return u!==o.nil?o._`${c}.call(${u}, ${f})`:o._`${c}(${f})`}t.checkReportMissingProp=i,t.checkMissingProp=l,t.reportMissingProp=c,t.hasPropFunc=u,t.isOwnProperty=h,t.propertyInData=d,t.noPropertyInData=p,t.allSchemaProperties=f,t.schemaProperties=g,t.callValidateCode=m;const y=o._`new RegExp`;function v({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:a}=t.code,i=a(n,r);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:o._`${"new RegExp"===a.code?y:(0,s.useFunc)(e,a)}(${n}, ${r})`})}function b(e){const{gen:t,data:n,keyword:a,it:s}=e,i=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return l((()=>t.assign(e,!1))),e}return t.var(i,!0),l((()=>t.break())),i;function l(s){const l=t.const("len",o._`${n}.length`);t.forRange("i",0,l,(n=>{e.subschema({keyword:a,dataProp:n,dataPropType:r.Type.Num},i),t.if((0,o.not)(i),s)}))}}function w(e){const{gen:t,schema:n,keyword:a,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=n.some((e=>(0,r.alwaysValidSchema)(s,e)));if(i&&!s.opts.unevaluated)return;const l=t.let("valid",!1),c=t.name("_valid");t.block((()=>n.forEach(((n,r)=>{const s=e.subschema({keyword:a,schemaProp:r,compositeRule:!0},c);t.assign(l,o._`${l} || ${c}`);const i=e.mergeValidEvaluated(s,c);i||t.if((0,o.not)(l))})))),e.result(l,(()=>e.reset()),(()=>e.error(!0)))}t.usePattern=v,t.validateArray=b,t.validateUnion=w},3463:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t["default"]=n},2128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(3463),r=n(3693),a=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",o.default,r.default];t["default"]=a},3693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;const o=n(4551),r=n(5765),a=n(9029),s=n(2023),i=n(3835),l=n(4227),c={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:s,schemaEnv:l,validateName:c,opts:d,self:p}=r,{root:f}=l;if(("#"===n||"#/"===n)&&s===f.baseId)return m();const g=i.resolveRef.call(p,f,s,n);if(void 0===g)throw new o.default(r.opts.uriResolver,s,n);return g instanceof i.SchemaEnv?y(g):v(g);function m(){if(l===f)return h(e,c,l,l.$async);const n=t.scopeValue("root",{ref:f});return h(e,a._`${n}.validate`,f,f.$async)}function y(t){const n=u(e,t);h(e,n,t,t.$async)}function v(o){const r=t.scopeValue("schema",!0===d.code.source?{ref:o,code:(0,a.stringify)(o)}:{ref:o}),s=t.name("valid"),i=e.subschema({schema:o,dataTypes:[],schemaPath:a.nil,topSchemaRef:r,errSchemaPath:n},s);e.mergeEvaluated(i),e.ok(s)}}};function u(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):a._`${n.scopeValue("wrapper",{ref:t})}.validate`}function h(e,t,n,o){const{gen:i,it:c}=e,{allErrors:u,schemaEnv:h,opts:d}=c,p=d.passContext?s.default.this:a.nil;function f(){if(!h.$async)throw new Error("async schema referenced by sync schema");const n=i.let("valid");i.try((()=>{i.code(a._`await ${(0,r.callValidateCode)(e,t,p)}`),y(t),u||i.assign(n,!0)}),(e=>{i.if(a._`!(${e} instanceof ${c.ValidationError})`,(()=>i.throw(e))),m(e),u||i.assign(n,!1)})),e.ok(n)}function g(){e.result((0,r.callValidateCode)(e,t,p),(()=>y(t)),(()=>m(t)))}function m(e){const t=a._`${e}.errors`;i.assign(s.default.vErrors,a._`${s.default.vErrors} === null ? ${t} : ${s.default.vErrors}.concat(${t})`),i.assign(s.default.errors,a._`${s.default.vErrors}.length`)}function y(e){var t;if(!c.opts.unevaluated)return;const o=null===(t=null===n||void 0===n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props)if(o&&!o.dynamicProps)void 0!==o.props&&(c.props=l.mergeEvaluated.props(i,o.props,c.props));else{const t=i.var("props",a._`${e}.evaluated.props`);c.props=l.mergeEvaluated.props(i,t,c.props,a.Name)}if(!0!==c.items)if(o&&!o.dynamicItems)void 0!==o.items&&(c.items=l.mergeEvaluated.items(i,o.items,c.items));else{const t=i.var("items",a._`${e}.evaluated.items`);c.items=l.mergeEvaluated.items(i,t,c.items,a.Name)}}o?f():g()}t.getValidate=u,t.callRef=h,t["default"]=c},6653:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=n(7652),a=n(3835),s=n(4227),i={message:({params:{discrError:e,tagName:t}})=>e===r.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>o._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},l={keyword:"discriminator",type:"object",schemaType:"object",error:i,code(e){const{gen:t,data:n,schema:i,parentSchema:l,it:c}=e,{oneOf:u}=l;if(!c.opts.discriminator)throw new Error("discriminator: requires discriminator option");const h=i.propertyName;if("string"!=typeof h)throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),p=t.const("tag",o._`${n}${(0,o.getProperty)(h)}`);function f(){const n=m();t.if(!1);for(const e in n)t.elseIf(o._`${p} === ${e}`),t.assign(d,g(n[e]));t.else(),e.error(!1,{discrError:r.DiscrError.Mapping,tag:p,tagName:h}),t.endIf()}function g(n){const r=t.name("valid"),a=e.subschema({keyword:"oneOf",schemaProp:n},r);return e.mergeEvaluated(a,o.Name),r}function m(){var e;const t={},n=r(l);let o=!0;for(let l=0;l<u.length;l++){let t=u[l];(null===t||void 0===t?void 0:t.$ref)&&!(0,s.schemaHasRulesButRef)(t,c.self.RULES)&&(t=a.resolveRef.call(c.self,c.schemaEnv.root,c.baseId,null===t||void 0===t?void 0:t.$ref),t instanceof a.SchemaEnv&&(t=t.schema));const d=null===(e=null===t||void 0===t?void 0:t.properties)||void 0===e?void 0:e[h];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`);o=o&&(n||r(t)),i(d,l)}if(!o)throw new Error(`discriminator: "${h}" must be required`);return t;function r({required:e}){return Array.isArray(e)&&e.includes(h)}function i(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${h}" values must be unique strings`);t[e]=n}}t.if(o._`typeof ${p} == "string"`,(()=>f()),(()=>e.error(!1,{discrError:r.DiscrError.Tag,tag:p,tagName:h}))),e.ok(d)}};t["default"]=l},7652:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e["Tag"]="tag",e["Mapping"]="mapping"}(t.DiscrError||(t.DiscrError={}))},6144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(2128),r=n(7060),a=n(6378),s=n(7532),i=n(9857),l=[o.default,r.default,(0,a.default)(),s.default,i.metadataVocabulary,i.contentVocabulary];t["default"]=l},4737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r={message:({schemaCode:e})=>o.str`must match format "${e}"`,params:({schemaCode:e})=>o._`{format: ${e}}`},a={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:r,code(e,t){const{gen:n,data:r,$data:a,schema:s,schemaCode:i,it:l}=e,{opts:c,errSchemaPath:u,schemaEnv:h,self:d}=l;function p(){const a=n.scopeValue("formats",{ref:d.formats,code:c.code.formats}),s=n.const("fDef",o._`${a}[${i}]`),l=n.let("fType"),u=n.let("format");function p(){return!1===c.strictSchema?o.nil:o._`${i} && !${u}`}function f(){const e=h.$async?o._`(${s}.async ? await ${u}(${r}) : ${u}(${r}))`:o._`${u}(${r})`,n=o._`(typeof ${u} == "function" ? ${e} : ${u}.test(${r}))`;return o._`${u} && ${u} !== true && ${l} === ${t} && !${n}`}n.if(o._`typeof ${s} == "object" && !(${s} instanceof RegExp)`,(()=>n.assign(l,o._`${s}.type || "string"`).assign(u,o._`${s}.validate`)),(()=>n.assign(l,o._`"string"`).assign(u,s))),e.fail$data((0,o.or)(p(),f()))}function f(){const a=d.formats[s];if(!a)return void f();if(!0===a)return;const[i,l,p]=g(a);function f(){if(!1!==c.strictSchema)throw new Error(e());function e(){return`unknown format "${s}" ignored in schema at path "${u}"`}d.logger.warn(e())}function g(e){const t=e instanceof RegExp?(0,o.regexpCode)(e):c.code.formats?o._`${c.code.formats}${(0,o.getProperty)(s)}`:void 0,r=n.scopeValue("formats",{key:s,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,r]:[e.type||"string",e.validate,o._`${r}.validate`]}function m(){if("object"==typeof a&&!(a instanceof RegExp)&&a.async){if(!h.$async)throw new Error("async format in sync schema");return o._`await ${p}(${r})`}return"function"==typeof l?o._`${p}(${r})`:o._`${p}.test(${r})`}i===t&&e.pass(m())}c.validateFormats&&(a?p():f())}};t["default"]=a},7532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(4737),r=[o.default];t["default"]=r},9857:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},7935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=n(4227),a=n(6250),s={message:"must be equal to constant",params:({schemaCode:e})=>o._`{allowedValue: ${e}}`},i={keyword:"const",$data:!0,error:s,code(e){const{gen:t,data:n,$data:s,schemaCode:i,schema:l}=e;s||l&&"object"==typeof l?e.fail$data(o._`!${(0,r.useFunc)(t,a.default)}(${n}, ${i})`):e.fail(o._`${l} !== ${n}`)}};t["default"]=i},8643:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=n(4227),a=n(6250),s={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>o._`{allowedValues: ${e}}`},i={keyword:"enum",schemaType:"array",$data:!0,error:s,code(e){const{gen:t,data:n,$data:s,schema:i,schemaCode:l,it:c}=e;if(!s&&0===i.length)throw new Error("enum must have non-empty array");const u=i.length>=c.opts.loopEnum;let h;const d=()=>null!==h&&void 0!==h?h:h=(0,r.useFunc)(t,a.default);let p;if(u||s)p=t.let("valid"),e.block$data(p,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const e=t.const("vSchema",l);p=(0,o.or)(...i.map(((t,n)=>g(e,n))))}function f(){t.assign(p,!1),t.forOf("v",l,(e=>t.if(o._`${d()}(${n}, ${e})`,(()=>t.assign(p,!0).break()))))}function g(e,t){const r=i[t];return"object"===typeof r&&null!==r?o._`${d()}(${n}, ${e}[${t}])`:o._`${n} === ${r}`}e.pass(p)}};t["default"]=i},7060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5882),r=n(3439),a=n(7307),s=n(422),i=n(4486),l=n(4003),c=n(1163),u=n(617),h=n(7935),d=n(8643),p=[o.default,r.default,a.default,s.default,i.default,l.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},h.default,d.default];t["default"]=p},1163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r={message({keyword:e,schemaCode:t}){const n="maxItems"===e?"more":"fewer";return o.str`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>o._`{limit: ${e}}`},a={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:r,code(e){const{keyword:t,data:n,schemaCode:r}=e,a="maxItems"===t?o.operators.GT:o.operators.LT;e.fail$data(o._`${n}.length ${a} ${r}`)}};t["default"]=a},7307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=n(4227),a=n(3853),s={message({keyword:e,schemaCode:t}){const n="maxLength"===e?"more":"fewer";return o.str`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>o._`{limit: ${e}}`},i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:s,it:i}=e,l="maxLength"===t?o.operators.GT:o.operators.LT,c=!1===i.opts.unicode?o._`${n}.length`:o._`${(0,r.useFunc)(e.gen,a.default)}(${n})`;e.fail$data(o._`${c} ${l} ${s}`)}};t["default"]=i},5882:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r=o.operators,a={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},s={message:({keyword:e,schemaCode:t})=>o.str`must be ${a[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>o._`{comparison: ${a[e].okStr}, limit: ${t}}`},i={keyword:Object.keys(a),type:"number",schemaType:"number",$data:!0,error:s,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data(o._`${n} ${a[t].fail} ${r} || isNaN(${n})`)}};t["default"]=i},4486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r={message({keyword:e,schemaCode:t}){const n="maxProperties"===e?"more":"fewer";return o.str`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>o._`{limit: ${e}}`},a={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:r,code(e){const{keyword:t,data:n,schemaCode:r}=e,a="maxProperties"===t?o.operators.GT:o.operators.LT;e.fail$data(o._`Object.keys(${n}).length ${a} ${r}`)}};t["default"]=a},3439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(9029),r={message:({schemaCode:e})=>o.str`must be multiple of ${e}`,params:({schemaCode:e})=>o._`{multipleOf: ${e}}`},a={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:r,code(e){const{gen:t,data:n,schemaCode:r,it:a}=e,s=a.opts.multipleOfPrecision,i=t.let("res"),l=s?o._`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:o._`${i} !== parseInt(${i})`;e.fail$data(o._`(${r} === 0 || (${i} = ${n}/${r}, ${l}))`)}};t["default"]=a},422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5765),r=n(9029),a={message:({schemaCode:e})=>r.str`must match pattern "${e}"`,params:({schemaCode:e})=>r._`{pattern: ${e}}`},s={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:a,code(e){const{data:t,$data:n,schema:a,schemaCode:s,it:i}=e,l=i.opts.unicodeRegExp?"u":"",c=n?r._`(new RegExp(${s}, ${l}))`:(0,o.usePattern)(e,a);e.fail$data(r._`!${c}.test(${t})`)}};t["default"]=s},4003:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(5765),r=n(9029),a=n(4227),s={message:({params:{missingProperty:e}})=>r.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>r._`{missingProperty: ${e}}`},i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:s,code(e){const{gen:t,schema:n,schemaCode:s,data:i,$data:l,it:c}=e,{opts:u}=c;if(!l&&0===n.length)return;const h=n.length>=u.loopRequired;if(c.allErrors?d():p(),u.strictRequired){const t=e.parentSchema.properties,{definedProperties:o}=e.it;for(const e of n)if(void 0===(null===t||void 0===t?void 0:t[e])&&!o.has(e)){const t=c.schemaEnv.baseId+c.errSchemaPath,n=`required property "${e}" is not defined at "${t}" (strictRequired)`;(0,a.checkStrictMode)(c,n,c.opts.strictRequired)}}function d(){if(h||l)e.block$data(r.nil,f);else for(const t of n)(0,o.checkReportMissingProp)(e,t)}function p(){const r=t.let("missing");if(h||l){const n=t.let("valid",!0);e.block$data(n,(()=>g(r,n))),e.ok(n)}else t.if((0,o.checkMissingProp)(e,n,r)),(0,o.reportMissingProp)(e,r),t.else()}function f(){t.forOf("prop",s,(n=>{e.setParams({missingProperty:n}),t.if((0,o.noPropertyInData)(t,i,n,u.ownProperties),(()=>e.error()))}))}function g(n,a){e.setParams({missingProperty:n}),t.forOf(n,s,(()=>{t.assign(a,(0,o.propertyInData)(t,i,n,u.ownProperties)),t.if((0,r.not)(a),(()=>{e.error(),t.break()}))}),r.nil)}}};t["default"]=i},617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(208),r=n(9029),a=n(4227),s=n(6250),i={message:({params:{i:e,j:t}})=>r.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>r._`{i: ${e}, j: ${t}}`},l={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:i,code(e){const{gen:t,data:n,$data:i,schema:l,parentSchema:c,schemaCode:u,it:h}=e;if(!i&&!l)return;const d=t.let("valid"),p=c.items?(0,o.getSchemaTypes)(c.items):[];function f(){const o=t.let("i",r._`${n}.length`),a=t.let("j");e.setParams({i:o,j:a}),t.assign(d,!0),t.if(r._`${o} > 1`,(()=>(g()?m:y)(o,a)))}function g(){return p.length>0&&!p.some((e=>"object"===e||"array"===e))}function m(a,s){const i=t.name("item"),l=(0,o.checkDataTypes)(p,i,h.opts.strictNumbers,o.DataType.Wrong),c=t.const("indices",r._`{}`);t.for(r._`;${a}--;`,(()=>{t.let(i,r._`${n}[${a}]`),t.if(l,r._`continue`),p.length>1&&t.if(r._`typeof ${i} == "string"`,r._`${i} += "_"`),t.if(r._`typeof ${c}[${i}] == "number"`,(()=>{t.assign(s,r._`${c}[${i}]`),e.error(),t.assign(d,!1).break()})).code(r._`${c}[${i}] = ${a}`)}))}function y(o,i){const l=(0,a.useFunc)(t,s.default),c=t.name("outer");t.label(c).for(r._`;${o}--;`,(()=>t.for(r._`${i} = ${o}; ${i}--;`,(()=>t.if(r._`${l}(${n}[${o}], ${n}[${i}])`,(()=>{e.error(),t.assign(d,!1).break(c)}))))))}e.block$data(d,f,r._`${u} === false`),e.ok(d)}};t["default"]=l},2017:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,a;if(Array.isArray(t)){if(o=t.length,o!=n.length)return!1;for(r=o;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),o=a.length,o!==Object.keys(n).length)return!1;for(r=o;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=o;0!==r--;){var s=a[r];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},1974:function(e){"use strict";e.exports=function(e,t,n,o,r,a,s,i){return e<r+s&&e+n>r&&t<a+i&&t+o>a}},335:function(e){"use strict";e.exports=function(e,t,n,o,r,a,s){var i=n/2,l=o/2,c=Math.abs(r-(e+n/2)),u=Math.abs(a-(t+o/2));if(c>i+s||u>l+s)return!1;if(c<=i||u<=l)return!0;var h=c-i,d=u-l;return h*h+d*d<=s*s}},4553:function(e,t,n){var o=n(1941);e.exports=function(e,t,n,r,a,s,i,l){return o(a,s,i,e,t,n,r,l)}},1533:function(e,t,n){var o=n(8121);e.exports=function(e,t,n,r,a,s,i,l){return o(a,s,i,l,e,t,n,r)}},9985:function(e,t,n){"use strict";var o=n(9437);e.exports=function(e,t,n,r,a,s,i,l){return o(a,s,i,l,e,t,n,r)}},229:function(e){"use strict";e.exports=function(e,t,n,o,r,a){return r>=e&&r<=e+n&&a>=t&&a<=t+o}},4261:function(e,t,n){"use strict";var o=n(9849);e.exports=function(e,t,n,r,a){return o(a,e,t,n,r)}},3491:function(e,t,n){"use strict";var o=n(335);e.exports=function(e,t,n,r,a,s,i){return o(r,a,s,i,e,t,n)}},5320:function(e){"use strict";e.exports=function(e,t,n,o,r,a){var s=e-o,i=r-t,l=n+a;return s*s+i*i<=l*l}},5260:function(e,t,n){var o=n(6630);e.exports=function(e,t,n,r,a,s,i){return o(r,a,s,i,e,t,n)}},1458:function(e,t,n){"use strict";var o=n(9146);e.exports=function(e,t,n,r,a,s,i){return o(r,a,s,i,e,t,n)}},1800:function(e){"use strict";e.exports=function(e,t,n,o,r){var a=o-e,s=r-t;return a*a+s*s<=n*n}},4784:function(e,t,n){"use strict";var o=n(9926);e.exports=function(e,t,n,r,a){return o(r,e,t,n,a)}},1941:function(e,t,n){var o=n(1800),r=n(335);e.exports=function(e,t,n,a,s,i,l,c){c=c||1;var u=0;return u+=o(e,t,n,a,s)?1:0,u+=o(e,t,n,a+i,s)?1:0,u+=o(e,t,n,a,s+l)?1:0,u+=o(e,t,n,a+i,s+l)?1:0,0===u?r(a,s,i,l,e,t,n):u>=1&&u<=3||(4===u?!o(e,t,n-c,a,s)||!o(e,t,n-c,a+i,s)||!o(e,t,n-c,a,s+l)||!o(e,t,n-c,a+i,s+l):void 0)}},9628:function(e,t,n){var o=n(9146),r=n(1800);e.exports=function(e,t,n,a,s,i,l,c){return c=c||1,o(a,s,i,l,e,t,n)&&!(r(e,t,n-c,a,s)&&r(e,t,n-c,i,l))}},4634:function(e,t,n){var o=n(1800);e.exports=function(e,t,n,r,a,s){return s=s||1,o(e,t,n,r,a)&&!o(e,t,n-s,r,a)}},8121:function(e,t,n){var o=n(6920),r=n(229);e.exports=function(e,t,n,a,s,i,l,c){return r(s,i,l,c,e,t)||o(e,t,n,a,s,i,s+l,i)||o(e,t,n,a,s,i+c,s+l,i+c)||o(e,t,n,a,s,i,s,i+c)||o(e,t,n,a,s+l,i,s+l,i+c)}},6630:function(e,t,n){var o=n(4882);e.exports=function(e,t,n,r,a,s,i){return o.ellipseCircle(e,t,n,r,a,s,i)}},1838:function(e,t,n){var o=n(4882);e.exports=function(e,t,n,r,a,s,i,l){return o.ellipseEllipse(e,t,n,r,a,s,i,l)}},4882:function(e){var t,n,o,r=10;function a(){t=[],n=[];for(var e=0;e<=r;e++){var a=4<<e;t[e]=.5/Math.cos(4*Math.acos(0)/a),n[e]=.5/(Math.cos(2*Math.acos(0)/a)*Math.cos(2*Math.acos(0)/a))}o=!0}function s(e,o,a,s,i,l,c){for(var u=1;u<=r;u++){var h=(a+i)*t[u],d=(s+l)*t[u],p=e-h,f=o-d;if(p*p+f*f<=c)return!0;var g=i-h,m=l-d;if(p*g+f*m>=0&&p*g+f*m<=g*g+m*m&&(f*g-p*m>=0||c*(g*g+m*m)>=(f*g-p*m)*(f*g-p*m)))return!0;var y=a-h,v=s-d;if(p*y+f*v>=0&&p*y+f*v<=y*y+v*v&&(f*y-p*v<=0||c*(y*y+v*v)>=(f*y-p*v)*(f*y-p*v)))return!0;var b=(a+h)*n[u],w=(s+d)*n[u];if((b-e)*(b-e)+(w-o)*(w-o)<c)i=h,l=d;else{var x=h-b+h,_=d-w+d;if(!((x-e)*(x-e)+(_-o)*(_-o)<c)){var k=b-h,C=w-d;if(f*k-p*C<=0||c*(k*k+C*C)>(f*k-p*C)*(f*k-p*C))if(p*k+f*C>0){if(Math.abs(p*k+f*C)<=k*k+C*C||(e-b)*(a-b)+(o-w)*(s-w)>=0){i=h,l=d;continue}}else if(-(p*k+f*C)<=k*k+C*C||(e-x)*(i-x)+(o-_)*(l-_)>=0){a=h,s=d;continue}return!1}a=h,s=d}}return!1}function i(e,t,n,r,i,l,c,u){o||a();var h=Math.abs(i-e)*u,d=Math.abs(l-t)*c;n*=u,r*=c;var p=c*u;return h*h+(r-d)*(r-d)<=p*p||(n-h)*(n-h)+d*d<=p*p||h*r+d*n<=n*r||(h*r+d*n-n*r)*(h*r+d*n-n*r)<=p*p*(n*n+r*r)&&h*n-d*r>=-r*r&&h*n-d*r<=n*n||((h-n)*(h-n)+(d-r)*(d-r)<=p*p||h<=n&&d-p<=r||d<=r&&h-p<=n)&&s(h,d,n,0,0,r,p*p)}function l(e,t,n,r,i,l,c){o||a();var u=Math.abs(i-e),h=Math.abs(l-t);return u*u+(r-h)*(r-h)<=c*c||(n-u)*(n-u)+h*h<=c*c||u*r+h*n<=n*r||(u*r+h*n-n*r)*(u*r+h*n-n*r)<=c*c*(n*n+r*r)&&u*n-h*r>=-r*r&&u*n-h*r<=n*n||((u-n)*(u-n)+(h-r)*(h-r)<=c*c||u<=n&&h-c<=r||h<=r&&u-c<=n)&&s(u,h,n,0,0,r,c*c)}e.exports={ellipseCircle:l,ellipseEllipse:i}},6920:function(e){e.exports=function(e,t,n,o,r,a,s,i){r-=e,s-=e,a-=t,i-=t;var l=Math.pow(s-r,2)/n/n+Math.pow(i-a,2)/o/o,c=2*r*(s-r)/n/n+2*a*(i-a)/o/o,u=r*r/n/n+a*a/o/o-1,h=c*c-4*l*u;if(0===h){var d=-c/2/l;return d>=0&&d<=1}if(h>0){var p=Math.sqrt(h),f=(-c+p)/2/l,g=(-c-p)/2/l;return f>=0&&f<=1||g>=0&&g<=1}return!1}},2638:function(e){e.exports=function(e,t,n,o,r,a){var s=Math.pow(r-e,2)/(n*n),i=Math.pow(a-t,2)/(o*o);return s+i<=1}},9862:function(e,t,n){var o=n(9086);e.exports=function(e,t,n,r,a){return o(a,e,t,n,r)}},2467:function(e,t,n){e.exports={circlePoint:n(1800),circleCircle:n(5320),circleLine:n(1458),circleBox:n(3491),circlePolygon:n(4784),circleEllipse:n(5260),circleOutlineBox:n(1941),circleOutlineLine:n(9628),circleOutlinePoint:n(4634),polygonPoint:n(1822),polygonLine:n(9496),polygonPolygon:n(4790),polygonBox:n(9849),polygonCircle:n(9926),polygonEllipse:n(9086),boxPoint:n(229),boxBox:n(1974),boxLine:n(9985),boxPolygon:n(4261),boxCircle:n(335),boxEllipse:n(1533),boxCircleOutline:n(4553),pointBox:n(1609),pointPolygon:n(5302),pointCircle:n(3494),pointLine:n(1400),pointEllipse:n(5390),pointCircleOutline:n(550),lineLine:n(7188),lineBox:n(9437),linePolygon:n(7450),lineCircle:n(9146),linePoint:n(9826),lineEllipse:n(2842),lineCircleOutline:n(8258),ellipsePoint:n(2638),ellipseLine:n(6920),ellipseBox:n(8121),ellipseCircle:n(6630),ellipseEllipse:n(1838),ellipsePolygon:n(9862)}},9437:function(e,t,n){"use strict";var o=n(229),r=n(7188);e.exports=function(e,t,n,a,s,i,l,c){return!(!o(s,i,l,c,e,t)&&!o(s,i,l,c,n,a))||(r(e,t,n,a,s,i,s+l,i)||r(e,t,n,a,s+l,i,s+l,i+c)||r(e,t,n,a,s,i+c,s+l,i+c)||r(e,t,n,a,s,i,s,i+c))}},9146:function(e){"use strict";function t(e,t){return e[0]*t[0]+e[1]*t[1]}e.exports=function(e,n,o,r,a,s,i){var l=[a-e,s-n],c=[o-e,r-n],u=t(c,c),h=t(l,c),d=h/u;d=d<0?0:d,d=d>1?1:d;var p=[c[0]*d+e-a,c[1]*d+n-s],f=t(p,p);return f<=i*i}},8258:function(e,t,n){var o=n(9628);e.exports=function(e,t,n,r,a,s,i,l){return o(a,s,i,e,t,n,r,l)}},2842:function(e,t,n){var o=n(6920);e.exports=function(e,t,n,r,a,s,i,l){return o(a,s,i,l,e,t,n,r)}},7188:function(e,t,n){"use strict";const o=n(3044),r=n(4790),a=n(7450),s=n(942);function i(e,t,n,s,i,l,c,u,h,d){return h&&d?r(o(e,t,n,s,h),o(i,l,c,u,d)):h?a(i,l,c,u,o(e,t,n,s,h)):d?a(e,t,n,s,o(i,l,c,u,h)):void 0}e.exports=function(e,t,n,o,r,a,l,c,u,h){return u||h?i(e,t,n,o,r,a,l,c,u,h):s(e,t,n,o,r,a,l,c)}},9826:function(e){"use strict";function t(e,t,n,o){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-o,2))}e.exports=function(e,n,o,r,a,s,i){return i=i||1,Math.abs(t(e,n,o,r)-(t(e,n,a,s)+t(o,r,a,s)))<=i}},7450:function(e,t,n){var o=n(1822),r=n(942);e.exports=function(e,t,n,a,s,i){var l=s.length;if(o(s,e,t,i))return!0;for(var c=0;c<l;c+=2){var u=(c+2)%l;if(r(e,t,n,a,s[c],s[c+1],s[u],s[u+1]))return!0}return!1}},942:function(e){"use strict";e.exports=function(e,t,n,o,r,a,s,i){var l=n-e,c=o-t,u=s-r,h=i-a,d=(-c*(e-r)+l*(t-a))/(-u*c+l*h),p=(u*(t-a)-h*(e-r))/(-u*c+l*h);return d>=0&&d<=1&&p>=0&&p<=1}},3044:function(e){"use strict";e.exports=function(e,t,n,o,r){const a=Math.atan2(o-t,n-e)-Math.PI/2,s=r/2,i=Math.cos(a)*s,l=Math.sin(a)*s;return[e-i,t-l,n-i,o-l,n+i,o+l,e+i,t+l]}},1609:function(e,t,n){"use strict";var o=n(229);e.exports=function(e,t,n,r,a,s){return o(n,r,a,s,e,t)}},3494:function(e,t,n){"use strict";var o=n(1800);e.exports=function(e,t,n,r,a){return o(n,r,a,e,t)}},550:function(e,t,n){var o=n(4634);e.exports=function(e,t,n,r,a,s){return o(e,t,n,r,a,s)}},5390:function(e,t,n){var o=n(2638);e.exports=function(e,t,n,r,a,s){return o(n,r,a,s,e,t)}},1400:function(e,t,n){"use strict";var o=n(9826);e.exports=function(e,t,n,r,a,s){return o(n,r,a,s,e,t)}},5302:function(e,t,n){"use strict";var o=n(1822);e.exports=function(e,t,n,r){return o(n,e,t,r)}},9849:function(e,t,n){"use strict";var o=n(4790);e.exports=function(e,t,n,r,a){var s=[t,n,t+r,n,t+r,n+a,t,n+a];return o(e,s)}},9926:function(e,t,n){var o=n(1822),r=n(9146);e.exports=function(e,t,n,a,s){if(o(e,t,n,s))return!0;for(var i=e.length,l=0;l<i-2;l+=2)if(r(e[l],e[l+1],e[l+2],e[l+3],t,n,a))return!0;return r(e[0],e[1],e[i-2],e[i-1],t,n,a)}},9086:function(e,t,n){var o=n(1822),r=n(2842);e.exports=function(e,t,n,a,s){if(o(e,t,n))return!0;for(var i=e.length,l=0;l<i-2;l+=2)if(r(e[l],e[l+1],e[l+2],e[l+3],t,n,a,s))return!0;return r(e[0],e[1],e[i-2],e[i-1],t,n,a,s)}},9496:function(e,t,n){var o=n(7450);e.exports=function(e,t,n,r,a,s){return o(t,n,r,a,e,s)}},1822:function(e,t,n){"use strict";const o=n(9826);e.exports=function(e,t,n,r){var a,s,i=e.length,l=!1;for(a=0,s=i-2;a<i;a+=2)e[a+1]>n!==e[s+1]>n&&t<(e[s]-e[a])*(n-e[a+1])/(e[s+1]-e[a+1])+e[a]&&(l=!l),s=a;if(l)return!0;for(a=0;a<i;a+=2){var c,u,h=e[a],d=e[a+1];if(a===i-2?(c=e[0],u=e[1]):(c=e[a+2],u=e[a+3]),o(h,d,c,u,t,n,r))return!0}return!1}},4790:function(e){"use strict";e.exports=function(e,t){for(var n,o,r,a,s,i,l=e,c=t,u=[l,c],h=0;h<u.length;h++)for(var d=u[h],p=0;p<d.length;p+=2){var f=(p+2)%d.length,g={x:d[f+1]-d[p+1],y:d[p]-d[f]};for(n=o=null,i=0;i<l.length;i+=2)r=g.x*l[i]+g.y*l[i+1],(null===n||r<n)&&(n=r),(null===o||r>o)&&(o=r);for(a=s=null,i=0;i<c.length;i+=2)r=g.x*c[i]+g.y*c[i+1],(null===a||r<a)&&(a=r),(null===s||r>s)&&(s=r);if(o<a||s<n)return!1}return!0}},7106:function(e){"use strict";var t=e.exports=function(e,t,o){"function"==typeof t&&(o=t,t={}),o=t.cb||o;var r="function"==typeof o?o:o.pre||function(){},a=o.post||function(){};n(t,r,a,e,"",e)};function n(e,r,a,s,i,l,c,u,h,d){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var p in r(s,i,l,c,u,h,d),s){var f=s[p];if(Array.isArray(f)){if(p in t.arrayKeywords)for(var g=0;g<f.length;g++)n(e,r,a,f[g],i+"/"+p+"/"+g,l,i,p,s,g)}else if(p in t.propsKeywords){if(f&&"object"==typeof f)for(var m in f)n(e,r,a,f[m],i+"/"+p+"/"+o(m),l,i,p,s,m)}else(p in t.keywords||e.allKeys&&!(p in t.skipKeywords))&&n(e,r,a,f,i+"/"+p,l,i,p,s)}a(s,i,l,c,u,h,d)}}function o(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},6579:function(e,t){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
(function(e,n){n(t)})(0,(function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var o=t.length-1,r=1;r<o;++r)t[r]=t[r].slice(1,-1);return t[o]=t[o].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function o(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(e){return e.toUpperCase()}function a(e){return void 0!==e&&null!==e?e instanceof Array?e:"number"!==typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function s(e,t){var n=e;if(t)for(var o in t)n[o]=t[o];return n}function i(e){var o="[A-Za-z]",r="[0-9]",a=t(r,"[A-Fa-f]"),s=n(n("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+n("%[89A-Fa-f]"+a+"%"+a+a)+"|"+n("%"+a+a)),i="[\\:\\/\\?\\#\\[\\]\\@]",l="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t(i,l),u=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",h=e?"[\\uE000-\\uF8FF]":"[]",d=t(o,r,"[\\-\\.\\_\\~]",u),p=n(o+t(o,r,"[\\+\\-\\.]")+"*"),f=n(n(s+"|"+t(d,l,"[\\:]"))+"*"),g=(n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("[1-9]"+r)+"|"+r),n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("0?[1-9]"+r)+"|0?0?"+r)),m=n(g+"\\."+g+"\\."+g+"\\."+g),y=n(a+"{1,4}"),v=n(n(y+"\\:"+y)+"|"+m),b=n(n(y+"\\:")+"{6}"+v),w=n("\\:\\:"+n(y+"\\:")+"{5}"+v),x=n(n(y)+"?\\:\\:"+n(y+"\\:")+"{4}"+v),_=n(n(n(y+"\\:")+"{0,1}"+y)+"?\\:\\:"+n(y+"\\:")+"{3}"+v),k=n(n(n(y+"\\:")+"{0,2}"+y)+"?\\:\\:"+n(y+"\\:")+"{2}"+v),C=n(n(n(y+"\\:")+"{0,3}"+y)+"?\\:\\:"+y+"\\:"+v),S=n(n(n(y+"\\:")+"{0,4}"+y)+"?\\:\\:"+v),E=n(n(n(y+"\\:")+"{0,5}"+y)+"?\\:\\:"+y),$=n(n(n(y+"\\:")+"{0,6}"+y)+"?\\:\\:"),P=n([b,w,x,_,k,C,S,E,$].join("|")),M=n(n(d+"|"+s)+"+"),T=(n(P+"\\%25"+M),n(P+n("\\%25|\\%(?!"+a+"{2})")+M)),z=n("[vV]"+a+"+\\."+t(d,l,"[\\:]")+"+"),F=n("\\["+n(T+"|"+P+"|"+z)+"\\]"),I=n(n(s+"|"+t(d,l))+"*"),L=n(F+"|"+m+"(?!"+I+")|"+I),R=n(r+"*"),A=n(n(f+"@")+"?"+L+n("\\:"+R)+"?"),N=n(s+"|"+t(d,l,"[\\:\\@]")),X=n(N+"*"),O=n(N+"+"),j=n(n(s+"|"+t(d,l,"[\\@]"))+"+"),W=n(n("\\/"+X)+"*"),D=n("\\/"+n(O+W)+"?"),K=n(j+W),B=n(O+W),V="(?!"+N+")",Y=(n(W+"|"+D+"|"+K+"|"+B+"|"+V),n(n(N+"|"+t("[\\/\\?]",h))+"*")),q=n(n(N+"|[\\/\\?]")+"*"),U=n(n("\\/\\/"+A+W)+"|"+D+"|"+B+"|"+V),H=n(p+"\\:"+U+n("\\?"+Y)+"?"+n("\\#"+q)+"?"),G=n(n("\\/\\/"+A+W)+"|"+D+"|"+K+"|"+V),Q=n(G+n("\\?"+Y)+"?"+n("\\#"+q)+"?");n(H+"|"+Q),n(p+"\\:"+U+n("\\?"+Y)+"?"),n(n("\\/\\/("+n("("+f+")@")+"?("+L+")"+n("\\:("+R+")")+"?)")+"?("+W+"|"+D+"|"+B+"|"+V+")"),n("\\?("+Y+")"),n("\\#("+q+")"),n(n("\\/\\/("+n("("+f+")@")+"?("+L+")"+n("\\:("+R+")")+"?)")+"?("+W+"|"+D+"|"+K+"|"+V+")"),n("\\?("+Y+")"),n("\\#("+q+")"),n(n("\\/\\/("+n("("+f+")@")+"?("+L+")"+n("\\:("+R+")")+"?)")+"?("+W+"|"+D+"|"+B+"|"+V+")"),n("\\?("+Y+")"),n("\\#("+q+")"),n("("+f+")@"),n("\\:("+R+")");return{NOT_SCHEME:new RegExp(t("[^]",o,r,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",d,l),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",d,l),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",d,l),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",d,l),"g"),NOT_QUERY:new RegExp(t("[^\\%]",d,l,"[\\:\\@\\/\\?]",h),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",d,l,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",d,l),"g"),UNRESERVED:new RegExp(d,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",d,c),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+m+")$"),IPV6ADDRESS:new RegExp("^\\[?("+P+")"+n(n("\\%25|\\%(?!"+a+"{2})")+"("+M+")")+"?\\]?$")}}var l=i(!1),c=i(!0),u=function(){function e(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(o=(s=i.next()).done);o=!0)if(n.push(s.value),t&&n.length===t)break}catch(l){r=!0,a=l}finally{try{!o&&i["return"]&&i["return"]()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},d=2147483647,p=36,f=1,g=26,m=38,y=700,v=72,b=128,w="-",x=/^xn--/,_=/[^\0-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=p-f,E=Math.floor,$=String.fromCharCode;function P(e){throw new RangeError(C[e])}function M(e,t){var n=[],o=e.length;while(o--)n[o]=t(e[o]);return n}function T(e,t){var n=e.split("@"),o="";n.length>1&&(o=n[0]+"@",e=n[1]),e=e.replace(k,".");var r=e.split("."),a=M(r,t).join(".");return o+a}function z(e){var t=[],n=0,o=e.length;while(n<o){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<o){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&r)<<10)+(1023&a)+65536):(t.push(r),n--)}else t.push(r)}return t}var F=function(e){return String.fromCodePoint.apply(String,h(e))},I=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p},L=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},R=function(e,t,n){var o=0;for(e=n?E(e/y):e>>1,e+=E(e/t);e>S*g>>1;o+=p)e=E(e/S);return E(o+(S+1)*e/(e+m))},A=function(e){var t=[],n=e.length,o=0,r=b,a=v,s=e.lastIndexOf(w);s<0&&(s=0);for(var i=0;i<s;++i)e.charCodeAt(i)>=128&&P("not-basic"),t.push(e.charCodeAt(i));for(var l=s>0?s+1:0;l<n;){for(var c=o,u=1,h=p;;h+=p){l>=n&&P("invalid-input");var m=I(e.charCodeAt(l++));(m>=p||m>E((d-o)/u))&&P("overflow"),o+=m*u;var y=h<=a?f:h>=a+g?g:h-a;if(m<y)break;var x=p-y;u>E(d/x)&&P("overflow"),u*=x}var _=t.length+1;a=R(o-c,_,0==c),E(o/_)>d-r&&P("overflow"),r+=E(o/_),o%=_,t.splice(o++,0,r)}return String.fromCodePoint.apply(String,t)},N=function(e){var t=[];e=z(e);var n=e.length,o=b,r=0,a=v,s=!0,i=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var h=c.value;h<128&&t.push($(h))}}catch(Y){i=!0,l=Y}finally{try{!s&&u.return&&u.return()}finally{if(i)throw l}}var m=t.length,y=m;m&&t.push(w);while(y<n){var x=d,_=!0,k=!1,C=void 0;try{for(var S,M=e[Symbol.iterator]();!(_=(S=M.next()).done);_=!0){var T=S.value;T>=o&&T<x&&(x=T)}}catch(Y){k=!0,C=Y}finally{try{!_&&M.return&&M.return()}finally{if(k)throw C}}var F=y+1;x-o>E((d-r)/F)&&P("overflow"),r+=(x-o)*F,o=x;var I=!0,A=!1,N=void 0;try{for(var X,O=e[Symbol.iterator]();!(I=(X=O.next()).done);I=!0){var j=X.value;if(j<o&&++r>d&&P("overflow"),j==o){for(var W=r,D=p;;D+=p){var K=D<=a?f:D>=a+g?g:D-a;if(W<K)break;var B=W-K,V=p-K;t.push($(L(K+B%V,0))),W=E(B/V)}t.push($(L(W,0))),a=R(r,F,y==m),r=0,++y}}}catch(Y){A=!0,N=Y}finally{try{!I&&O.return&&O.return()}finally{if(A)throw N}}++r,++o}return t.join("")},X=function(e){return T(e,(function(e){return x.test(e)?A(e.slice(4).toLowerCase()):e}))},O=function(e){return T(e,(function(e){return _.test(e)?"xn--"+N(e):e}))},j={version:"2.1.0",ucs2:{decode:z,encode:F},decode:A,encode:N,toASCII:O,toUnicode:X},W={};function D(e){var t=e.charCodeAt(0),n=void 0;return n=t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase(),n}function K(e){var t="",n=0,o=e.length;while(n<o){var r=parseInt(e.substr(n+1,2),16);if(r<128)t+=String.fromCharCode(r),n+=3;else if(r>=194&&r<224){if(o-n>=6){var a=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&r)<<6|63&a)}else t+=e.substr(n,6);n+=6}else if(r>=224){if(o-n>=9){var s=parseInt(e.substr(n+4,2),16),i=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&i)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function B(e,t){function n(e){var n=K(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,D).replace(t.PCT_ENCODED,r)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,D).replace(t.PCT_ENCODED,r)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,D).replace(t.PCT_ENCODED,r)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,D).replace(t.PCT_ENCODED,r)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,D).replace(t.PCT_ENCODED,r)),e}function V(e){return e.replace(/^0*(.*)/,"$1")||"0"}function Y(e,t){var n=e.match(t.IPV4ADDRESS)||[],o=u(n,2),r=o[1];return r?r.split(".").map(V).join("."):e}function q(e,t){var n=e.match(t.IPV6ADDRESS)||[],o=u(n,3),r=o[1],a=o[2];if(r){for(var s=r.toLowerCase().split("::").reverse(),i=u(s,2),l=i[0],c=i[1],h=c?c.split(":").map(V):[],d=l.split(":").map(V),p=t.IPV4ADDRESS.test(d[d.length-1]),f=p?7:8,g=d.length-f,m=Array(f),y=0;y<f;++y)m[y]=h[y]||d[g+y]||"";p&&(m[f-1]=Y(m[f-1],t));var v=m.reduce((function(e,t,n){if(!t||"0"===t){var o=e[e.length-1];o&&o.index+o.length===n?o.length++:e.push({index:n,length:1})}return e}),[]),b=v.sort((function(e,t){return t.length-e.length}))[0],w=void 0;if(b&&b.length>1){var x=m.slice(0,b.index),_=m.slice(b.index+b.length);w=x.join(":")+"::"+_.join(":")}else w=m.join(":");return a&&(w+="%"+a),w}return e}var U=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,H=void 0==="".match(/(){0}/)[1];function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},o=!1!==t.iri?c:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var r=e.match(U);if(r){H?(n.scheme=r[1],n.userinfo=r[3],n.host=r[4],n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=r[7],n.fragment=r[8],isNaN(n.port)&&(n.port=r[5])):(n.scheme=r[1]||void 0,n.userinfo=-1!==e.indexOf("@")?r[3]:void 0,n.host=-1!==e.indexOf("//")?r[4]:void 0,n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=-1!==e.indexOf("?")?r[7]:void 0,n.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),n.host&&(n.host=q(Y(n.host,o),o)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var a=W[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)B(n,o);else{if(n.host&&(t.domainHost||a&&a.domainHost))try{n.host=j.toASCII(n.host.replace(o.PCT_ENCODED,K).toLowerCase())}catch(s){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+s}B(n,l)}a&&a.parse&&a.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function Q(e,t){var n=!1!==t.iri?c:l,o=[];return void 0!==e.userinfo&&(o.push(e.userinfo),o.push("@")),void 0!==e.host&&o.push(q(Y(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!==typeof e.port&&"string"!==typeof e.port||(o.push(":"),o.push(String(e.port))),o.length?o.join(""):void 0}var Z=/^\.\.?\//,J=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function ne(e){var t=[];while(e.length)if(e.match(Z))e=e.replace(Z,"");else if(e.match(J))e=e.replace(J,"/");else if(e.match(ee))e=e.replace(ee,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(te);if(!n)throw new Error("Unexpected dot segment condition");var o=n[0];e=e.slice(o.length),t.push(o)}return t.join("")}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?c:l,o=[],r=W[(t.scheme||e.scheme||"").toLowerCase()];if(r&&r.serialize&&r.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||r&&r.domainHost)try{e.host=t.iri?j.toUnicode(e.host):j.toASCII(e.host.replace(n.PCT_ENCODED,K).toLowerCase())}catch(i){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+i}B(e,n),"suffix"!==t.reference&&e.scheme&&(o.push(e.scheme),o.push(":"));var a=Q(e,t);if(void 0!==a&&("suffix"!==t.reference&&o.push("//"),o.push(a),e.path&&"/"!==e.path.charAt(0)&&o.push("/")),void 0!==e.path){var s=e.path;t.absolutePath||r&&r.absolutePath||(s=ne(s)),void 0===a&&(s=s.replace(/^\/\//,"/%2F")),o.push(s)}return void 0!==e.query&&(o.push("?"),o.push(e.query)),void 0!==e.fragment&&(o.push("#"),o.push(e.fragment)),o.join("")}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],r={};return o||(e=G(oe(e,n),n),t=G(oe(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=ne(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=ne(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=ne(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=ne(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function ae(e,t,n){var o=s({scheme:"null"},n);return oe(re(G(e,o),G(t,o),o,!0),o)}function se(e,t){return"string"===typeof e?e=oe(G(e,t),t):"object"===o(e)&&(e=G(oe(e,t),t)),e}function ie(e,t,n){return"string"===typeof e?e=oe(G(e,n),n):"object"===o(e)&&(e=oe(e,n)),"string"===typeof t?t=oe(G(t,n),n):"object"===o(t)&&(t=oe(t,n)),e===t}function le(e,t){return e&&e.toString().replace(t&&t.iri?c.ESCAPE:l.ESCAPE,D)}function ce(e,t){return e&&e.toString().replace(t&&t.iri?c.PCT_ENCODED:l.PCT_ENCODED,K)}var ue={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},he={scheme:"https",domainHost:ue.domainHost,parse:ue.parse,serialize:ue.serialize};function de(e){return"boolean"===typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var pe={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=de(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(de(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"===typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),o=u(n,2),r=o[0],a=o[1];e.path=r&&"/"!==r?r:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},fe={scheme:"wss",domainHost:pe.domainHost,parse:pe.parse,serialize:pe.serialize},ge={},me=!0,ye="[A-Za-z0-9\\-\\.\\_\\~"+(me?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",ve="[0-9A-Fa-f]",be=n(n("%[EFef]"+ve+"%"+ve+ve+"%"+ve+ve)+"|"+n("%[89A-Fa-f]"+ve+"%"+ve+ve)+"|"+n("%"+ve+ve)),we="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",xe="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",_e=t(xe,'[\\"\\\\]'),ke="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Ce=new RegExp(ye,"g"),Se=new RegExp(be,"g"),Ee=new RegExp(t("[^]",we,"[\\.]",'[\\"]',_e),"g"),$e=new RegExp(t("[^]",ye,ke),"g"),Pe=$e;function Me(e){var t=K(e);return t.match(Ce)?t:e}var Te={scheme:"mailto",parse:function(e,t){var n=e,o=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var r=!1,a={},s=n.query.split("&"),i=0,l=s.length;i<l;++i){var c=s[i].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),h=0,d=u.length;h<d;++h)o.push(u[h]);break;case"subject":n.subject=ce(c[1],t);break;case"body":n.body=ce(c[1],t);break;default:r=!0,a[ce(c[0],t)]=ce(c[1],t);break}}r&&(n.headers=a)}n.query=void 0;for(var p=0,f=o.length;p<f;++p){var g=o[p].split("@");if(g[0]=ce(g[0]),t.unicodeSupport)g[1]=ce(g[1],t).toLowerCase();else try{g[1]=j.toASCII(ce(g[1],t).toLowerCase())}catch(m){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+m}o[p]=g.join("@")}return n},serialize:function(e,t){var n=e,o=a(e.to);if(o){for(var s=0,i=o.length;s<i;++s){var l=String(o[s]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(Se,Me).replace(Se,r).replace(Ee,D),h=l.slice(c+1);try{h=t.iri?j.toUnicode(h):j.toASCII(ce(h,t).toLowerCase())}catch(g){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+g}o[s]=u+"@"+h}n.path=o.join(",")}var d=e.headers=e.headers||{};e.subject&&(d["subject"]=e.subject),e.body&&(d["body"]=e.body);var p=[];for(var f in d)d[f]!==ge[f]&&p.push(f.replace(Se,Me).replace(Se,r).replace($e,D)+"="+d[f].replace(Se,Me).replace(Se,r).replace(Pe,D));return p.length&&(n.query=p.join("&")),n}},ze=/^([^\:]+)\:(.*)/,Fe={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ze),o=e;if(n){var r=t.scheme||o.scheme||"urn",a=n[1].toLowerCase(),s=n[2],i=r+":"+(t.nid||a),l=W[i];o.nid=a,o.nss=s,o.path=void 0,l&&(o=l.parse(o,t))}else o.error=o.error||"URN can not be parsed.";return o},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",o=e.nid,r=n+":"+(t.nid||o),a=W[r];a&&(e=a.serialize(e,t));var s=e,i=e.nss;return s.path=(o||t.nid)+":"+i,s}},Ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Le={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(Ie)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};W[ue.scheme]=ue,W[he.scheme]=he,W[pe.scheme]=pe,W[fe.scheme]=fe,W[Te.scheme]=Te,W[Fe.scheme]=Fe,W[Le.scheme]=Le,e.SCHEMES=W,e.pctEncChar=D,e.pctDecChars=K,e.parse=G,e.removeDotSegments=ne,e.serialize=oe,e.resolveComponents=re,e.resolve=ae,e.normalize=se,e.equal=ie,e.escapeComponent=le,e.unescapeComponent=ce,Object.defineProperty(e,"__esModule",{value:!0})}))},8129:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Gb}});var o=n(641),r=n(953),a=(n(4114),n(4603),n(7566),n(8721),n(33)),s=n(8839);(0,s.nY)("svgStore",(()=>{const e=(0,r.KR)(1),t=()=>{e.value+=.1};function n(){e.value-=.1}const o=()=>e.value=1,a=t=>e.value=t;return{magnifier_init:e,zoom_up:t,zoom_in:n,init_zoom:o,set_zoom:a}}));const i=(0,s.nY)("myboard",(()=>{const e=(0,r.KR)("My Charting Board"),t=(0,r.KR)(800),n=(0,r.KR)(550),o=(0,r.KR)(!1),a=(0,r.KR)(!1),s=(0,r.KR)(!0),i=(0,r.KR)(!1),l=t=>e.value=t,c=e=>t.value=e,u=e=>n.value=e,h=()=>o.value=!o.value,d=()=>o.value=!1,p=()=>i.value=!i.value,f=e=>a.value=e,g=e=>s.value=e;return{board_name:e,width:t,height:n,set_name:l,set_height:u,set_width:c,hand_selected:o,set_hand:h,set_hand_false:d,grid:i,grid_toggle:p,select_selected:a,dselect_selected:s,select_toggle:f,dselect_toggle:g}})),l=(e,t)=>Number(e.toFixed(t||0)),c=()=>Math.random().toString(36).substring(2,9);function u(){}function h(e){return null==e?u:function(){return this.querySelector(e)}}function d(e){"function"!==typeof e&&(e=h(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,s,i=t[r],l=i.length,c=o[r]=new Array(l),u=0;u<l;++u)(a=i[u])&&(s=e.call(a,a.__data__,u,i))&&("__data__"in a&&(s.__data__=a.__data__),c[u]=s);return new st(o,this._parents)}function p(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function f(){return[]}function g(e){return null==e?f:function(){return this.querySelectorAll(e)}}function m(e){return function(){return p(e.apply(this,arguments))}}function y(e){e="function"===typeof e?m(e):g(e);for(var t=this._groups,n=t.length,o=[],r=[],a=0;a<n;++a)for(var s,i=t[a],l=i.length,c=0;c<l;++c)(s=i[c])&&(o.push(e.call(s,s.__data__,c,i)),r.push(s));return new st(o,r)}function v(e){return function(){return this.matches(e)}}function b(e){return function(t){return t.matches(e)}}var w=Array.prototype.find;function x(e){return function(){return w.call(this.children,e)}}function _(){return this.firstElementChild}function k(e){return this.select(null==e?_:x("function"===typeof e?e:b(e)))}var C=Array.prototype.filter;function S(){return Array.from(this.children)}function E(e){return function(){return C.call(this.children,e)}}function $(e){return this.selectAll(null==e?S:E("function"===typeof e?e:b(e)))}function P(e){"function"!==typeof e&&(e=v(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,s=t[r],i=s.length,l=o[r]=[],c=0;c<i;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new st(o,this._parents)}function M(e){return new Array(e.length)}function T(){return new st(this._enter||this._groups.map(M),this._parents)}function z(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function F(e){return function(){return e}}function I(e,t,n,o,r,a){for(var s,i=0,l=t.length,c=a.length;i<c;++i)(s=t[i])?(s.__data__=a[i],o[i]=s):n[i]=new z(e,a[i]);for(;i<l;++i)(s=t[i])&&(r[i]=s)}function L(e,t,n,o,r,a,s){var i,l,c,u=new Map,h=t.length,d=a.length,p=new Array(h);for(i=0;i<h;++i)(l=t[i])&&(p[i]=c=s.call(l,l.__data__,i,t)+"",u.has(c)?r[i]=l:u.set(c,l));for(i=0;i<d;++i)c=s.call(e,a[i],i,a)+"",(l=u.get(c))?(o[i]=l,l.__data__=a[i],u.delete(c)):n[i]=new z(e,a[i]);for(i=0;i<h;++i)(l=t[i])&&u.get(p[i])===l&&(r[i]=l)}function R(e){return e.__data__}function A(e,t){if(!arguments.length)return Array.from(this,R);var n=t?L:I,o=this._parents,r=this._groups;"function"!==typeof e&&(e=F(e));for(var a=r.length,s=new Array(a),i=new Array(a),l=new Array(a),c=0;c<a;++c){var u=o[c],h=r[c],d=h.length,p=N(e.call(u,u&&u.__data__,c,o)),f=p.length,g=i[c]=new Array(f),m=s[c]=new Array(f),y=l[c]=new Array(d);n(u,h,g,m,y,p,t);for(var v,b,w=0,x=0;w<f;++w)if(v=g[w]){w>=x&&(x=w+1);while(!(b=m[x])&&++x<f);v._next=b||null}}return s=new st(s,o),s._enter=i,s._exit=l,s}function N(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function X(){return new st(this._exit||this._groups.map(M),this._parents)}function O(e,t,n){var o=this.enter(),r=this,a=this.exit();return"function"===typeof e?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),null!=t&&(r=t(r),r&&(r=r.selection())),null==n?a.remove():n(a),o&&r?o.merge(r).order():r}function j(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,a=o.length,s=Math.min(r,a),i=new Array(r),l=0;l<s;++l)for(var c,u=n[l],h=o[l],d=u.length,p=i[l]=new Array(d),f=0;f<d;++f)(c=u[f]||h[f])&&(p[f]=c);for(;l<r;++l)i[l]=n[l];return new st(i,this._parents)}function W(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],a=r.length-1,s=r[a];--a>=0;)(o=r[a])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this}function D(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=K);for(var n=this._groups,o=n.length,r=new Array(o),a=0;a<o;++a){for(var s,i=n[a],l=i.length,c=r[a]=new Array(l),u=0;u<l;++u)(s=i[u])&&(c[u]=s);c.sort(t)}return new st(r,this._parents).order()}function K(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function B(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function V(){return Array.from(this)}function Y(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,a=o.length;r<a;++r){var s=o[r];if(s)return s}return null}function q(){let e=0;for(const t of this)++e;return e}function U(){return!this.node()}function H(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,a=t[n],s=0,i=a.length;s<i;++s)(r=a[s])&&e.call(r,r.__data__,s,a);return this}z.prototype={constructor:z,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var G="http://www.w3.org/1999/xhtml",Q={svg:"http://www.w3.org/2000/svg",xhtml:G,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Z(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Q.hasOwnProperty(t)?{space:Q[t],local:e}:e}function J(e){return function(){this.removeAttribute(e)}}function ee(e){return function(){this.removeAttributeNS(e.space,e.local)}}function te(e,t){return function(){this.setAttribute(e,t)}}function ne(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function oe(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function re(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ae(e,t){var n=Z(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?ee:J:"function"===typeof t?n.local?re:oe:n.local?ne:te)(n,t))}function se(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ie(e){return function(){this.style.removeProperty(e)}}function le(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ce(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function ue(e,t,n){return arguments.length>1?this.each((null==t?ie:"function"===typeof t?ce:le)(e,t,null==n?"":n)):he(this.node(),e)}function he(e,t){return e.style.getPropertyValue(t)||se(e).getComputedStyle(e,null).getPropertyValue(t)}function de(e){return function(){delete this[e]}}function pe(e,t){return function(){this[e]=t}}function fe(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function ge(e,t){return arguments.length>1?this.each((null==t?de:"function"===typeof t?fe:pe)(e,t)):this.node()[e]}function me(e){return e.trim().split(/^|\s+/)}function ye(e){return e.classList||new ve(e)}function ve(e){this._node=e,this._names=me(e.getAttribute("class")||"")}function be(e,t){var n=ye(e),o=-1,r=t.length;while(++o<r)n.add(t[o])}function we(e,t){var n=ye(e),o=-1,r=t.length;while(++o<r)n.remove(t[o])}function xe(e){return function(){be(this,e)}}function _e(e){return function(){we(this,e)}}function ke(e,t){return function(){(t.apply(this,arguments)?be:we)(this,e)}}function Ce(e,t){var n=me(e+"");if(arguments.length<2){var o=ye(this.node()),r=-1,a=n.length;while(++r<a)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?ke:t?xe:_e)(n,t))}function Se(){this.textContent=""}function Ee(e){return function(){this.textContent=e}}function $e(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Pe(e){return arguments.length?this.each(null==e?Se:("function"===typeof e?$e:Ee)(e)):this.node().textContent}function Me(){this.innerHTML=""}function Te(e){return function(){this.innerHTML=e}}function ze(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Fe(e){return arguments.length?this.each(null==e?Me:("function"===typeof e?ze:Te)(e)):this.node().innerHTML}function Ie(){this.nextSibling&&this.parentNode.appendChild(this)}function Le(){return this.each(Ie)}function Re(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ae(){return this.each(Re)}function Ne(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===G&&t.documentElement.namespaceURI===G?t.createElement(e):t.createElementNS(n,e)}}function Xe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Oe(e){var t=Z(e);return(t.local?Xe:Ne)(t)}function je(e){var t="function"===typeof e?e:Oe(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}function We(){return null}function De(e,t){var n="function"===typeof e?e:Oe(e),o=null==t?We:"function"===typeof t?t:h(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))}function Ke(){var e=this.parentNode;e&&e.removeChild(this)}function Be(){return this.each(Ke)}function Ve(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ye(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qe(e){return this.select(e?Ye:Ve)}function Ue(e){return arguments.length?this.property("__data__",e):this.node().__data__}function He(e){return function(t){e.call(this,t,this.__data__)}}function Ge(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Qe(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,a=t.length;o<a;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function Ze(e,t,n){return function(){var o,r=this.__on,a=He(t);if(r)for(var s=0,i=r.length;s<i;++s)if((o=r[s]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),void(o.value=t);this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(o):this.__on=[o]}}function Je(e,t,n){var o,r,a=Ge(e+""),s=a.length;if(!(arguments.length<2)){for(i=t?Ze:Qe,o=0;o<s;++o)this.each(i(a[o],t,n));return this}var i=this.node().__on;if(i)for(var l,c=0,u=i.length;c<u;++c)for(o=0,l=i[c];o<s;++o)if((r=a[o]).type===l.type&&r.name===l.name)return l.value}function et(e,t,n){var o=se(e),r=o.CustomEvent;"function"===typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function tt(e,t){return function(){return et(this,e,t)}}function nt(e,t){return function(){return et(this,e,t.apply(this,arguments))}}function ot(e,t){return this.each(("function"===typeof t?nt:tt)(e,t))}function*rt(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,r=e[t],a=0,s=r.length;a<s;++a)(o=r[a])&&(yield o)}ve.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var at=[null];function st(e,t){this._groups=e,this._parents=t}function it(){return new st([[document.documentElement]],at)}function lt(){return this}st.prototype=it.prototype={constructor:st,select:d,selectAll:y,selectChild:k,selectChildren:$,filter:P,data:A,enter:T,exit:X,join:O,merge:j,selection:lt,order:W,sort:D,call:B,nodes:V,node:Y,size:q,empty:U,each:H,attr:ae,style:ue,property:ge,classed:Ce,text:Pe,html:Fe,raise:Le,lower:Ae,append:je,insert:De,remove:Be,clone:qe,datum:Ue,on:Je,dispatch:ot,[Symbol.iterator]:rt};var ct=it,ut={value:()=>{}};function ht(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new dt(o)}function dt(e){this._=e}function pt(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",o=e.indexOf(".");if(o>=0&&(n=e.slice(o+1),e=e.slice(0,o)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function ft(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function gt(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=ut,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}dt.prototype=ht.prototype={constructor:dt,on:function(e,t){var n,o=this._,r=pt(e+"",o),a=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);while(++a<s)if(n=(e=r[a]).type)o[n]=gt(o[n],e.name,t);else if(null==t)for(n in o)o[n]=gt(o[n],e.name,null);return this}while(++a<s)if((n=(e=r[a]).type)&&(n=ft(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new dt(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],a=0,n=o.length;a<n;++a)o[a].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,a=o.length;r<a;++r)o[r].value.apply(t,n)}};var mt,yt,vt=ht,bt=0,wt=0,xt=0,_t=1e3,kt=0,Ct=0,St=0,Et="object"===typeof performance&&performance.now?performance:Date,$t="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Pt(){return Ct||($t(Mt),Ct=Et.now()+St)}function Mt(){Ct=0}function Tt(){this._call=this._time=this._next=null}function zt(e,t,n){var o=new Tt;return o.restart(e,t,n),o}function Ft(){Pt(),++bt;var e,t=mt;while(t)(e=Ct-t._time)>=0&&t._call.call(void 0,e),t=t._next;--bt}function It(){Ct=(kt=Et.now())+St,bt=wt=0;try{Ft()}finally{bt=0,Rt(),Ct=0}}function Lt(){var e=Et.now(),t=e-kt;t>_t&&(St-=t,kt=e)}function Rt(){var e,t,n=mt,o=1/0;while(n)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:mt=t);yt=e,At(o)}function At(e){if(!bt){wt&&(wt=clearTimeout(wt));var t=e-Ct;t>24?(e<1/0&&(wt=setTimeout(It,e-Et.now()-St)),xt&&(xt=clearInterval(xt))):(xt||(kt=Et.now(),xt=setInterval(Lt,_t)),bt=1,$t(It))}}function Nt(e,t,n){var o=new Tt;return t=null==t?0:+t,o.restart((n=>{o.stop(),e(n+t)}),t,n),o}Tt.prototype=zt.prototype={constructor:Tt,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Pt():+n)+(null==t?0:+t),this._next||yt===this||(yt?yt._next=this:mt=this,yt=this),this._call=e,this._time=n,At()},stop:function(){this._call&&(this._call=null,this._time=1/0,At())}};var Xt=vt("start","end","cancel","interrupt"),Ot=[],jt=0,Wt=1,Dt=2,Kt=3,Bt=4,Vt=5,Yt=6;function qt(e,t,n,o,r,a){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};Qt(e,n,{name:t,index:o,group:r,on:Xt,tween:Ot,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:jt})}function Ut(e,t){var n=Gt(e,t);if(n.state>jt)throw new Error("too late; already scheduled");return n}function Ht(e,t){var n=Gt(e,t);if(n.state>Kt)throw new Error("too late; already running");return n}function Gt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Qt(e,t,n){var o,r=e.__transition;function a(e){n.state=Wt,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(a){var c,u,h,d;if(n.state!==Wt)return l();for(c in r)if(d=r[c],d.name===n.name){if(d.state===Kt)return Nt(s);d.state===Bt?(d.state=Yt,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[c]):+c<t&&(d.state=Yt,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[c])}if(Nt((function(){n.state===Kt&&(n.state=Bt,n.timer.restart(i,n.delay,n.time),i(a))})),n.state=Dt,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Dt){for(n.state=Kt,o=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=d);o.length=u+1}}function i(t){var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=Vt,1),a=-1,s=o.length;while(++a<s)o[a].call(e,r);n.state===Vt&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var o in n.state=Yt,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=zt(a,0,n.time)}function Zt(e,t){var n,o,r,a=e.__transition,s=!0;if(a){for(r in t=null==t?null:t+"",a)(n=a[r]).name===t?(o=n.state>Dt&&n.state<Vt,n.state=Yt,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[r]):s=!1;s&&delete e.__transition}}function Jt(e){return this.each((function(){Zt(this,e)}))}function en(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var tn,nn=180/Math.PI,on={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rn(e,t,n,o,r,a){var s,i,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(i=Math.sqrt(n*n+o*o))&&(n/=i,o/=i,l/=i),e*o<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(t,e)*nn,skewX:Math.atan(l)*nn,scaleX:s,scaleY:i}}function an(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?on:rn(t.a,t.b,t.c,t.d,t.e,t.f)}function sn(e){return null==e?on:(tn||(tn=document.createElementNS("http://www.w3.org/2000/svg","g")),tn.setAttribute("transform",e),(e=tn.transform.baseVal.consolidate())?(e=e.matrix,rn(e.a,e.b,e.c,e.d,e.e,e.f)):on)}function ln(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}function a(e,o,r,a,s,i){if(e!==r||o!==a){var l=s.push("translate(",null,t,null,n);i.push({i:l-4,x:en(e,r)},{i:l-2,x:en(o,a)})}else(r||a)&&s.push("translate("+r+t+a+n)}function s(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(r(n)+"rotate(",null,o)-2,x:en(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}function i(e,t,n,a){e!==t?a.push({i:n.push(r(n)+"skewX(",null,o)-2,x:en(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}function l(e,t,n,o,a,s){if(e!==n||t!==o){var i=a.push(r(a)+"scale(",null,",",null,")");s.push({i:i-4,x:en(e,n)},{i:i-2,x:en(t,o)})}else 1===n&&1===o||a.push(r(a)+"scale("+n+","+o+")")}return function(t,n){var o=[],r=[];return t=e(t),n=e(n),a(t.translateX,t.translateY,n.translateX,n.translateY,o,r),s(t.rotate,n.rotate,o,r),i(t.skewX,n.skewX,o,r),l(t.scaleX,t.scaleY,n.scaleX,n.scaleY,o,r),t=n=null,function(e){var t,n=-1,a=r.length;while(++n<a)o[(t=r[n]).i]=t.x(e);return o.join("")}}}var cn=ln(an,"px, ","px)","deg)"),un=ln(sn,", ",")",")");function hn(e,t){var n,o;return function(){var r=Ht(this,e),a=r.tween;if(a!==n){o=n=a;for(var s=0,i=o.length;s<i;++s)if(o[s].name===t){o=o.slice(),o.splice(s,1);break}}r.tween=o}}function dn(e,t,n){var o,r;if("function"!==typeof n)throw new Error;return function(){var a=Ht(this,e),s=a.tween;if(s!==o){r=(o=s).slice();for(var i={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=i;break}l===c&&r.push(i)}a.tween=r}}function pn(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=Gt(this.node(),n).tween,a=0,s=r.length;a<s;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((null==t?hn:dn)(n,e,t))}function fn(e,t,n){var o=e._id;return e.each((function(){var e=Ht(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Gt(e,o).value[t]}}function gn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function mn(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function yn(){}var vn=.7,bn=1/vn,wn="\\s*([+-]?\\d+)\\s*",xn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kn=/^#([0-9a-f]{3,8})$/,Cn=new RegExp(`^rgb\\(${wn},${wn},${wn}\\)$`),Sn=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),En=new RegExp(`^rgba\\(${wn},${wn},${wn},${xn}\\)$`),$n=new RegExp(`^rgba\\(${_n},${_n},${_n},${xn}\\)$`),Pn=new RegExp(`^hsl\\(${xn},${_n},${_n}\\)$`),Mn=new RegExp(`^hsla\\(${xn},${_n},${_n},${xn}\\)$`),Tn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zn(){return this.rgb().formatHex()}function Fn(){return this.rgb().formatHex8()}function In(){return Un(this).formatHsl()}function Ln(){return this.rgb().formatRgb()}function Rn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=kn.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?An(t):3===n?new jn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Nn(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Nn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Cn.exec(e))?new jn(t[1],t[2],t[3],1):(t=Sn.exec(e))?new jn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=En.exec(e))?Nn(t[1],t[2],t[3],t[4]):(t=$n.exec(e))?Nn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Pn.exec(e))?qn(t[1],t[2]/100,t[3]/100,1):(t=Mn.exec(e))?qn(t[1],t[2]/100,t[3]/100,t[4]):Tn.hasOwnProperty(e)?An(Tn[e]):"transparent"===e?new jn(NaN,NaN,NaN,0):null}function An(e){return new jn(e>>16&255,e>>8&255,255&e,1)}function Nn(e,t,n,o){return o<=0&&(e=t=n=NaN),new jn(e,t,n,o)}function Xn(e){return e instanceof yn||(e=Rn(e)),e?(e=e.rgb(),new jn(e.r,e.g,e.b,e.opacity)):new jn}function On(e,t,n,o){return 1===arguments.length?Xn(e):new jn(e,t,n,null==o?1:o)}function jn(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}function Wn(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}`}function Dn(){return`#${Yn(this.r)}${Yn(this.g)}${Yn(this.b)}${Yn(255*(isNaN(this.opacity)?1:this.opacity))}`}function Kn(){const e=Bn(this.opacity);return`${1===e?"rgb(":"rgba("}${Vn(this.r)}, ${Vn(this.g)}, ${Vn(this.b)}${1===e?")":`, ${e})`}`}function Bn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yn(e){return e=Vn(e),(e<16?"0":"")+e.toString(16)}function qn(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Gn(e,t,n,o)}function Un(e){if(e instanceof Gn)return new Gn(e.h,e.s,e.l,e.opacity);if(e instanceof yn||(e=Rn(e)),!e)return new Gn;if(e instanceof Gn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,r=Math.min(t,n,o),a=Math.max(t,n,o),s=NaN,i=a-r,l=(a+r)/2;return i?(s=t===a?(n-o)/i+6*(n<o):n===a?(o-t)/i+2:(t-n)/i+4,i/=l<.5?a+r:2-a-r,s*=60):i=l>0&&l<1?0:s,new Gn(s,i,l,e.opacity)}function Hn(e,t,n,o){return 1===arguments.length?Un(e):new Gn(e,t,n,null==o?1:o)}function Gn(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}function Qn(e){return e=(e||0)%360,e<0?e+360:e}function Zn(e){return Math.max(0,Math.min(1,e||0))}function Jn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function eo(e,t,n,o,r){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*o+s*r)/6}function to(e){var t=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[o],a=e[o+1],s=o>0?e[o-1]:2*r-a,i=o<t-1?e[o+2]:2*a-r;return eo((n-o/t)*t,s,r,a,i)}}function no(e){var t=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*t),r=e[(o+t-1)%t],a=e[o%t],s=e[(o+1)%t],i=e[(o+2)%t];return eo((n-o/t)*t,r,a,s,i)}}gn(yn,Rn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zn,formatHex:zn,formatHex8:Fn,formatHsl:In,formatRgb:Ln,toString:Ln}),gn(jn,On,mn(yn,{brighter(e){return e=null==e?bn:Math.pow(bn,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?vn:Math.pow(vn,e),new jn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new jn(Vn(this.r),Vn(this.g),Vn(this.b),Bn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wn,formatHex:Wn,formatHex8:Dn,formatRgb:Kn,toString:Kn})),gn(Gn,Hn,mn(yn,{brighter(e){return e=null==e?bn:Math.pow(bn,e),new Gn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?vn:Math.pow(vn,e),new Gn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,r=2*n-o;return new jn(Jn(e>=240?e-240:e+120,r,o),Jn(e,r,o),Jn(e<120?e+240:e-120,r,o),this.opacity)},clamp(){return new Gn(Qn(this.h),Zn(this.s),Zn(this.l),Bn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bn(this.opacity);return`${1===e?"hsl(":"hsla("}${Qn(this.h)}, ${100*Zn(this.s)}%, ${100*Zn(this.l)}%${1===e?")":`, ${e})`}`}}));var oo=e=>()=>e;function ro(e,t){return function(n){return e+n*t}}function ao(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function so(e){return 1===(e=+e)?io:function(t,n){return n-t?ao(t,n,e):oo(isNaN(t)?n:t)}}function io(e,t){var n=t-e;return n?ro(e,n):oo(isNaN(e)?t:e)}var lo=function e(t){var n=so(t);function o(e,t){var o=n((e=On(e)).r,(t=On(t)).r),r=n(e.g,t.g),a=n(e.b,t.b),s=io(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=r(t),e.b=a(t),e.opacity=s(t),e+""}}return o.gamma=e,o}(1);function co(e){return function(t){var n,o,r=t.length,a=new Array(r),s=new Array(r),i=new Array(r);for(n=0;n<r;++n)o=On(t[n]),a[n]=o.r||0,s[n]=o.g||0,i[n]=o.b||0;return a=e(a),s=e(s),i=e(i),o.opacity=1,function(e){return o.r=a(e),o.g=s(e),o.b=i(e),o+""}}}co(to),co(no);var uo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ho=new RegExp(uo.source,"g");function po(e){return function(){return e}}function fo(e){return function(t){return e(t)+""}}function go(e,t){var n,o,r,a=uo.lastIndex=ho.lastIndex=0,s=-1,i=[],l=[];e+="",t+="";while((n=uo.exec(e))&&(o=ho.exec(t)))(r=o.index)>a&&(r=t.slice(a,r),i[s]?i[s]+=r:i[++s]=r),(n=n[0])===(o=o[0])?i[s]?i[s]+=o:i[++s]=o:(i[++s]=null,l.push({i:s,x:en(n,o)})),a=ho.lastIndex;return a<t.length&&(r=t.slice(a),i[s]?i[s]+=r:i[++s]=r),i.length<2?l[0]?fo(l[0].x):po(t):(t=l.length,function(e){for(var n,o=0;o<t;++o)i[(n=l[o]).i]=n.x(e);return i.join("")})}function mo(e,t){var n;return("number"===typeof t?en:t instanceof Rn?lo:(n=Rn(t))?(t=n,lo):go)(e,t)}function yo(e){return function(){this.removeAttribute(e)}}function vo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bo(e,t,n){var o,r,a=n+"";return function(){var s=this.getAttribute(e);return s===a?null:s===o?r:r=t(o=s,n)}}function wo(e,t,n){var o,r,a=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===a?null:s===o?r:r=t(o=s,n)}}function xo(e,t,n){var o,r,a;return function(){var s,i,l=n(this);if(null!=l)return s=this.getAttribute(e),i=l+"",s===i?null:s===o&&i===r?a:(r=i,a=t(o=s,l));this.removeAttribute(e)}}function _o(e,t,n){var o,r,a;return function(){var s,i,l=n(this);if(null!=l)return s=this.getAttributeNS(e.space,e.local),i=l+"",s===i?null:s===o&&i===r?a:(r=i,a=t(o=s,l));this.removeAttributeNS(e.space,e.local)}}function ko(e,t){var n=Z(e),o="transform"===n?un:mo;return this.attrTween(e,"function"===typeof t?(n.local?_o:xo)(n,o,fn(this,"attr."+e,t)):null==t?(n.local?vo:yo)(n):(n.local?wo:bo)(n,o,t))}function Co(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function So(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Eo(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&So(e,r)),n}return r._value=t,r}function $o(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Co(e,r)),n}return r._value=t,r}function Po(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var o=Z(e);return this.tween(n,(o.local?Eo:$o)(o,t))}function Mo(e,t){return function(){Ut(this,e).delay=+t.apply(this,arguments)}}function To(e,t){return t=+t,function(){Ut(this,e).delay=t}}function zo(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Mo:To)(t,e)):Gt(this.node(),t).delay}function Fo(e,t){return function(){Ht(this,e).duration=+t.apply(this,arguments)}}function Io(e,t){return t=+t,function(){Ht(this,e).duration=t}}function Lo(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Fo:Io)(t,e)):Gt(this.node(),t).duration}function Ro(e,t){if("function"!==typeof t)throw new Error;return function(){Ht(this,e).ease=t}}function Ao(e){var t=this._id;return arguments.length?this.each(Ro(t,e)):Gt(this.node(),t).ease}function No(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;Ht(this,e).ease=n}}function Xo(e){if("function"!==typeof e)throw new Error;return this.each(No(this._id,e))}function Oo(e){"function"!==typeof e&&(e=v(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var a,s=t[r],i=s.length,l=o[r]=[],c=0;c<i;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new fr(o,this._parents,this._name,this._id)}function jo(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,a=Math.min(o,r),s=new Array(o),i=0;i<a;++i)for(var l,c=t[i],u=n[i],h=c.length,d=s[i]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;i<o;++i)s[i]=t[i];return new fr(s,this._parents,this._name,this._id)}function Wo(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}function Do(e,t,n){var o,r,a=Wo(t)?Ut:Ht;return function(){var s=a(this,e),i=s.on;i!==o&&(r=(o=i).copy()).on(t,n),s.on=r}}function Ko(e,t){var n=this._id;return arguments.length<2?Gt(this.node(),n).on.on(e):this.each(Do(n,e,t))}function Bo(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Vo(){return this.on("end.remove",Bo(this._id))}function Yo(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=h(e));for(var o=this._groups,r=o.length,a=new Array(r),s=0;s<r;++s)for(var i,l,c=o[s],u=c.length,d=a[s]=new Array(u),p=0;p<u;++p)(i=c[p])&&(l=e.call(i,i.__data__,p,c))&&("__data__"in i&&(l.__data__=i.__data__),d[p]=l,qt(d[p],t,n,p,d,Gt(i,n)));return new fr(a,this._parents,t,n)}function qo(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=g(e));for(var o=this._groups,r=o.length,a=[],s=[],i=0;i<r;++i)for(var l,c=o[i],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=e.call(l,l.__data__,h,c),f=Gt(l,n),m=0,y=p.length;m<y;++m)(d=p[m])&&qt(d,t,n,m,p,f);a.push(p),s.push(l)}return new fr(a,s,t,n)}var Uo=ct.prototype.constructor;function Ho(){return new Uo(this._groups,this._parents)}function Go(e,t){var n,o,r;return function(){var a=he(this,e),s=(this.style.removeProperty(e),he(this,e));return a===s?null:a===n&&s===o?r:r=t(n=a,o=s)}}function Qo(e){return function(){this.style.removeProperty(e)}}function Zo(e,t,n){var o,r,a=n+"";return function(){var s=he(this,e);return s===a?null:s===o?r:r=t(o=s,n)}}function Jo(e,t,n){var o,r,a;return function(){var s=he(this,e),i=n(this),l=i+"";return null==i&&(this.style.removeProperty(e),l=i=he(this,e)),s===l?null:s===o&&l===r?a:(r=l,a=t(o=s,i))}}function er(e,t){var n,o,r,a,s="style."+t,i="end."+s;return function(){var l=Ht(this,e),c=l.on,u=null==l.value[s]?a||(a=Qo(t)):void 0;c===n&&r===u||(o=(n=c).copy()).on(i,r=u),l.on=o}}function tr(e,t,n){var o="transform"===(e+="")?cn:mo;return null==t?this.styleTween(e,Go(e,o)).on("end.style."+e,Qo(e)):"function"===typeof t?this.styleTween(e,Jo(e,o,fn(this,"style."+e,t))).each(er(this._id,e)):this.styleTween(e,Zo(e,o,t),n).on("end.style."+e,null)}function nr(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function or(e,t,n){var o,r;function a(){var a=t.apply(this,arguments);return a!==r&&(o=(r=a)&&nr(e,a,n)),o}return a._value=t,a}function rr(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!==typeof t)throw new Error;return this.tween(o,or(e,t,null==n?"":n))}function ar(e){return function(){this.textContent=e}}function sr(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function ir(e){return this.tween("text","function"===typeof e?sr(fn(this,"text",e)):ar(null==e?"":e+""))}function lr(e){return function(t){this.textContent=e.call(this,t)}}function cr(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&lr(o)),t}return o._value=e,o}function ur(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,cr(e))}function hr(){for(var e=this._name,t=this._id,n=mr(),o=this._groups,r=o.length,a=0;a<r;++a)for(var s,i=o[a],l=i.length,c=0;c<l;++c)if(s=i[c]){var u=Gt(s,t);qt(s,e,n,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new fr(o,this._parents,e,n)}function dr(){var e,t,n=this,o=n._id,r=n.size();return new Promise((function(a,s){var i={value:s},l={value:function(){0===--r&&a()}};n.each((function(){var n=Ht(this,o),r=n.on;r!==e&&(t=(e=r).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(l)),n.on=t})),0===r&&a()}))}var pr=0;function fr(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function gr(e){return ct().transition(e)}function mr(){return++pr}var yr=ct.prototype;function vr(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}fr.prototype=gr.prototype={constructor:fr,select:Yo,selectAll:qo,selectChild:yr.selectChild,selectChildren:yr.selectChildren,filter:Oo,merge:jo,selection:Ho,transition:hr,call:yr.call,nodes:yr.nodes,node:yr.node,size:yr.size,empty:yr.empty,each:yr.each,on:Ko,attr:ko,attrTween:Po,style:tr,styleTween:rr,text:ir,textTween:ur,remove:Vo,tween:pn,delay:zo,duration:Lo,ease:Ao,easeVarying:Xo,end:dr,[Symbol.iterator]:yr[Symbol.iterator]};var br={time:null,delay:0,duration:250,ease:vr};function wr(e,t){var n;while(!(n=e.__transition)||!(n=n[t]))if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function xr(e){var t,n;e instanceof fr?(t=e._id,e=e._name):(t=mr(),(n=br).time=Pt(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,a=0;a<r;++a)for(var s,i=o[a],l=i.length,c=0;c<l;++c)(s=i[c])&&qt(s,e,t,c,i,n||wr(s,t));return new fr(o,this._parents,e,t)}ct.prototype.interrupt=Jt,ct.prototype.transition=xr;const{abs:_r,max:kr,min:Cr}=Math;function Sr(e){return[+e[0],+e[1]]}function Er(e){return[Sr(e[0]),Sr(e[1])]}["w","e"].map($r),["n","s"].map($r),["n","w","e","s","nw","ne","sw","se"].map($r);function $r(e){return{type:e}}function Pr(e){return"string"===typeof e?new st([[document.querySelector(e)]],[document.documentElement]):new st([[e]],at)}const Mr={capture:!0,passive:!1};function Tr(e){e.preventDefault(),e.stopImmediatePropagation()}function zr(e){var t=e.document.documentElement,n=Pr(e).on("dragstart.drag",Tr,Mr);"onselectstart"in t?n.on("selectstart.drag",Tr,Mr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Fr(e,t){var n=e.document.documentElement,o=Pr(e).on("dragstart.drag",null);t&&(o.on("click.drag",Tr,Mr),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ir=1e-12;function Lr(e){return((e=Math.exp(e))+1/e)/2}function Rr(e){return((e=Math.exp(e))-1/e)/2}function Ar(e){return((e=Math.exp(2*e))-1)/(e+1)}var Nr=function e(t,n,o){function r(e,r){var a,s,i=e[0],l=e[1],c=e[2],u=r[0],h=r[1],d=r[2],p=u-i,f=h-l,g=p*p+f*f;if(g<Ir)s=Math.log(d/c)/t,a=function(e){return[i+e*p,l+e*f,c*Math.exp(t*e*s)]};else{var m=Math.sqrt(g),y=(d*d-c*c+o*g)/(2*c*n*m),v=(d*d-c*c-o*g)/(2*d*n*m),b=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(v*v+1)-v);s=(w-b)/t,a=function(e){var o=e*s,r=Lr(b),a=c/(n*m)*(r*Ar(t*o+b)-Rr(b));return[i+a*p,l+a*f,c*r/Lr(t*o+b)]}}return a.duration=1e3*s*t/Math.SQRT2,a}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n,r=o*o;return e(n,o,r)},r}(Math.SQRT2,2,4);function Xr(e){let t;while(t=e.sourceEvent)e=t;return e}function Or(e,t){if(e=Xr(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}var jr=e=>()=>e;function Wr(e,{sourceEvent:t,target:n,transform:o,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:r}})}function Dr(e,t,n){this.k=e,this.x=t,this.y=n}Dr.prototype={constructor:Dr,scale:function(e){return 1===e?this:new Dr(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Dr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kr=new Dr(1,0,0);function Br(e){while(!e.__zoom)if(!(e=e.parentNode))return Kr;return e.__zoom}function Vr(e){e.stopImmediatePropagation()}function Yr(e){e.preventDefault(),e.stopImmediatePropagation()}function qr(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Ur(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Hr(){return this.__zoom||Kr}function Gr(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Qr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Zr(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function Jr(){var e,t,n,o=qr,r=Ur,a=Zr,s=Gr,i=Qr,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=Nr,d=vt("start","zoom","end"),p=500,f=150,g=0,m=10;function y(e){e.property("__zoom",Hr).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",E).filter(i).on("touchstart.zoom",$).on("touchmove.zoom",P).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return t=Math.max(l[0],Math.min(l[1],t)),t===e.k?e:new Dr(t,e.x,e.y)}function b(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new Dr(e.k,o,r)}function w(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,o){e.on("start.zoom",(function(){_(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(o).end()})).tween("zoom",(function(){var e=this,a=arguments,s=_(e,a).event(o),i=r.apply(e,a),l=null==n?w(i):"function"===typeof n?n.apply(e,a):n,c=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),u=e.__zoom,d="function"===typeof t?t.apply(e,a):t,p=h(u.invert(l).concat(c/u.k),d.invert(l).concat(c/d.k));return function(e){if(1===e)e=d;else{var t=p(e),n=c/t[2];e=new Dr(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function C(e,...t){if(o.apply(this,arguments)){var n=_(this,t).event(e),r=this.__zoom,i=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,s.apply(this,arguments)))),u=Or(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=r.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(r.k===i)return;n.mouse=[u,r.invert(u)],Zt(this),n.start()}Yr(e),n.wheel=setTimeout(h,f),n.zoom("mouse",a(b(v(r,i),n.mouse[0],n.mouse[1]),n.extent,c))}function h(){n.wheel=null,n.end()}}function S(e,...t){if(!n&&o.apply(this,arguments)){var r=e.currentTarget,s=_(this,t,!0).event(e),i=Pr(e.view).on("mousemove.zoom",d,!0).on("mouseup.zoom",p,!0),l=Or(e,r),u=e.clientX,h=e.clientY;zr(e.view),Vr(e),s.mouse=[l,this.__zoom.invert(l)],Zt(this),s.start()}function d(e){if(Yr(e),!s.moved){var t=e.clientX-u,n=e.clientY-h;s.moved=t*t+n*n>g}s.event(e).zoom("mouse",a(b(s.that.__zoom,s.mouse[0]=Or(e,r),s.mouse[1]),s.extent,c))}function p(e){i.on("mousemove.zoom mouseup.zoom",null),Fr(e.view,s.moved),Yr(e),s.event(e).end()}}function E(e,...t){if(o.apply(this,arguments)){var n=this.__zoom,s=Or(e.changedTouches?e.changedTouches[0]:e,this),i=n.invert(s),l=n.k*(e.shiftKey?.5:2),h=a(b(v(n,l),s,i),r.apply(this,t),c);Yr(e),u>0?Pr(this).transition().duration(u).call(x,h,s,e):Pr(this).call(y.transform,h,s,e)}}function $(n,...r){if(o.apply(this,arguments)){var a,s,i,l,c=n.touches,u=c.length,h=_(this,r,n.changedTouches.length===u).event(n);for(Vr(n),s=0;s<u;++s)i=c[s],l=Or(i,this),l=[l,this.__zoom.invert(l),i.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,a=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(h.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),p)),Zt(this),h.start())}}function P(e,...t){if(this.__zooming){var n,o,r,s,i=_(this,t).event(e),l=e.changedTouches,u=l.length;for(Yr(e),n=0;n<u;++n)o=l[n],r=Or(o,this),i.touch0&&i.touch0[2]===o.identifier?i.touch0[0]=r:i.touch1&&i.touch1[2]===o.identifier&&(i.touch1[0]=r);if(o=i.that.__zoom,i.touch1){var h=i.touch0[0],d=i.touch0[1],p=i.touch1[0],f=i.touch1[1],g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g,m=(m=f[0]-d[0])*m+(m=f[1]-d[1])*m;o=v(o,Math.sqrt(g/m)),r=[(h[0]+p[0])/2,(h[1]+p[1])/2],s=[(d[0]+f[0])/2,(d[1]+f[1])/2]}else{if(!i.touch0)return;r=i.touch0[0],s=i.touch0[1]}i.zoom("touch",a(b(o,r,s),i.extent,c))}}function M(e,...o){if(this.__zooming){var r,a,s=_(this,o).event(e),i=e.changedTouches,l=i.length;for(Vr(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),r=0;r<l;++r)a=i[r],s.touch0&&s.touch0[2]===a.identifier?delete s.touch0:s.touch1&&s.touch1[2]===a.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(a=Or(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<m)){var c=Pr(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return y.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",Hr),e!==r?x(e,t,n,o):r.interrupt().each((function(){_(this,arguments).event(o).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},y.scaleBy=function(e,t,n,o){y.scaleTo(e,(function(){var e=this.__zoom.k,n="function"===typeof t?t.apply(this,arguments):t;return e*n}),n,o)},y.scaleTo=function(e,t,n,o){y.transform(e,(function(){var e=r.apply(this,arguments),o=this.__zoom,s=null==n?w(e):"function"===typeof n?n.apply(this,arguments):n,i=o.invert(s),l="function"===typeof t?t.apply(this,arguments):t;return a(b(v(o,l),s,i),e,c)}),n,o)},y.translateBy=function(e,t,n,o){y.transform(e,(function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),c)}),null,o)},y.translateTo=function(e,t,n,o,s){y.transform(e,(function(){var e=r.apply(this,arguments),s=this.__zoom,i=null==o?w(e):"function"===typeof o?o.apply(this,arguments):o;return a(Kr.translate(i[0],i[1]).scale(s.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),o,s)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Pr(this.that).datum();d.call(e,this.that,new Wr(e,{sourceEvent:this.sourceEvent,target:y,type:e,transform:this.that.__zoom,dispatch:d}),t)}},y.wheelDelta=function(e){return arguments.length?(s="function"===typeof e?e:jr(+e),y):s},y.filter=function(e){return arguments.length?(o="function"===typeof e?e:jr(!!e),y):o},y.touchable=function(e){return arguments.length?(i="function"===typeof e?e:jr(!!e),y):i},y.extent=function(e){return arguments.length?(r="function"===typeof e?e:jr([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),y):r},y.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],y):[l[0],l[1]]},y.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],y):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},y.constrain=function(e){return arguments.length?(a=e,y):a},y.duration=function(e){return arguments.length?(u=+e,y):u},y.interpolate=function(e){return arguments.length?(h=e,y):h},y.on=function(){var e=d.on.apply(d,arguments);return e===d?y:e},y.clickDistance=function(e){return arguments.length?(g=(e=+e)*e,y):Math.sqrt(g)},y.tapDistance=function(e){return arguments.length?(m=+e,y):m},y}Br.prototype=Dr.prototype;var ea=n(2467);const ta=(e,t,n,o)=>(e=(e-n.x)/n.k-(o?o.position.x:0),t=(t-n.y)/n.k-(o?o.position.y:0),{x:e,y:t}),na=(e,t)=>{const n=document.createElement("canvas"),o=n.getContext("2d");return o.font=t+"px sans-serif",o.measureText(e).width},oa=(e,t)=>{let n=e.position.x,o=e.position.y;const r=[Math.cos(e.rotation/180*Math.PI)*(t.x-n)-Math.sin(e.rotation/180*Math.PI)*(t.y-o)+n,Math.cos(e.rotation/180*Math.PI)*(t.x+t.width-n)-Math.sin(e.rotation/180*Math.PI)*(t.y-o)+n,Math.cos(e.rotation/180*Math.PI)*(t.x-n)-Math.sin(e.rotation/180*Math.PI)*(t.y+t.height-o)+n,Math.cos(e.rotation/180*Math.PI)*(t.x+t.width-n)-Math.sin(e.rotation/180*Math.PI)*(t.y+t.height-o)+n],a=[Math.sin(e.rotation/180*Math.PI)*(t.x-n)+Math.cos(e.rotation/180*Math.PI)*(t.y-o)+o,Math.sin(e.rotation/180*Math.PI)*(t.x+t.width-n)+Math.cos(e.rotation/180*Math.PI)*(t.y-o)+o,Math.sin(e.rotation/180*Math.PI)*(t.x-n)+Math.cos(e.rotation/180*Math.PI)*(t.y+t.height-o)+o,Math.sin(e.rotation/180*Math.PI)*(t.x+t.width-n)+Math.cos(e.rotation/180*Math.PI)*(t.y+t.height-o)+o],s=Math.min(...r),i=Math.min(...a),l=Math.max(...r),c=Math.max(...a);return{x:s,y:i,width:l-s,height:c-i}},ra=e=>{let t={x:e.position.x,y:e.position.y,width:e.rectangle.width,height:e.rectangle.height};return e.rotation&&(t=oa(e,t)),t},aa=e=>{let t={x:e.position.x-e.radius-20,y:e.position.y-e.radius-20,width:2*(e.radius+20),height:2*(e.radius+20)};return e.rotation,t},sa=e=>{const t=e.seats.some((e=>"top"===e.special))?1:0,n=e.seats.some((e=>"bottom"===e.special))?1:0,o=e.seats.some((e=>"left"===e.special))?1:0,r=e.seats.some((e=>"right"===e.special))?1:0,a=e.rectangleTable.width+20*(o+r),s=e.rectangleTable.height+20*(t+n);let i={x:e.position.x-e.rectangleTable.width/2-20*o,y:e.position.y-e.rectangleTable.height/2-20*t,width:a,height:s};return e.rotation&&(i=oa(e,i)),i},ia=(e,t,n)=>{const o=na(t,n);let r={x:e.position.x+e.text.position.x-o/2,y:e.position.y+e.text.position.y-n/2,width:o,height:n};return e.rotation&&(r=oa(e,r)),r},la=e=>{const t=e.rotation?e.polygon.points.map((t=>({x:Math.cos(e.rotation/180*Math.PI)*t.x-Math.sin(e.rotation/180*Math.PI)*t.y,y:Math.sin(e.rotation/180*Math.PI)*t.x+Math.cos(e.rotation/180*Math.PI)*t.y}))):e.polygon.points,n=Math.min(...t.map((e=>e.x))),o=Math.min(...t.map((e=>e.y))),r=Math.max(...t.map((e=>e.x))),a=Math.max(...t.map((e=>e.y)));return{x:e.position.x+n,y:e.position.y+o,width:r-n,height:a-o}},ca=e=>{const t=(e.rotation||0)/180*Math.PI,n=e.ellipse.radius.x,o=e.ellipse.radius.y,r=2*Math.sqrt(Math.pow(n*Math.cos(t),2)+Math.pow(o*Math.sin(t),2)),a=2*Math.sqrt(Math.pow(n*Math.sin(t),2)+Math.pow(o*Math.cos(t),2));return{x:e.position.x-r/2,y:e.position.y-a/2,width:r,height:a}},ua=({x:e,y:t,zone:n})=>(n&&(e+=n.position.x,t+=n.position.y),e=20*Math.round(e/20),t=20*Math.round(t/20),n&&(e-=n.position.x,t-=n.position.y),{x:e,y:t}),ha=(e,t,n,o)=>t?e.map((e=>({x:Math.cos(t/180*Math.PI)*(e.x-n)-Math.sin(t/180*Math.PI)*(e.y-o)+n,y:Math.sin(t/180*Math.PI)*(e.x-n)+Math.cos(t/180*Math.PI)*(e.y-o)+o}))):e,da=(e,t,n,o,r,a)=>{if("circle"===e.shape)return(0,ea.circleBox)(t.position.x+e.position.x,t.position.y+e.position.y,e.circle.radius,n,o,r-n,a-o);if("ellipse"===e.shape||"gaCircle"===e.shape)return(0,ea.polygonEllipse)(ha([{x:n,y:o},{x:r,y:o},{x:r,y:a},{x:n,y:a}],-e.rotation,t.position.x+e.position.x,t.position.y+e.position.y).flatMap((e=>[e.x,e.y])),t.position.x+e.position.x,t.position.y+e.position.y,e.ellipse.radius.x,e.ellipse.radius.y);if("rectangle"===e.shape||"gaSquare"===e.shape)return ha([{x:t.position.x+e.position.x,y:t.position.y+e.position.y},{x:t.position.x+e.position.x+e.rectangle.width,y:t.position.y+e.position.y},{x:t.position.x+e.position.x+e.rectangle.width,y:t.position.y+e.position.y+e.rectangle.height},{x:t.position.x+e.position.x,y:t.position.y+e.position.y+e.rectangle.height}],e.rotation,t.position.x+e.position.x,t.position.y+e.position.y).some((e=>e.x>=n&&e.x<=r&&e.y>=o&&e.y<=a));if("polygon"===e.shape||"gaPolygon"===e.shape)return ha(e.polygon.points.map((n=>({x:t.position.x+e.position.x+n.x,y:t.position.y+e.position.y+n.y}))),e.rotation,t.position.x+e.position.x,t.position.y+e.position.y).some((e=>e.x>=n&&e.x<=r&&e.y>=o&&e.y<=a));if("text"===e.shape){const s=e.text.size||16,i=na(e.text.text,s);return(0,ea.polygonBox)(ha([{x:t.position.x+e.position.x-i/2,y:t.position.y+e.position.y-s/2},{x:t.position.x+e.position.x+i/2,y:t.position.y+e.position.y-s/2},{x:t.position.x+e.position.x+i/2,y:t.position.y+e.position.y+s/2},{x:t.position.x+e.position.x-i/2,y:t.position.y+e.position.y+s/2}],e.rotation,t.position.x+e.position.x,t.position.y+e.position.y).flatMap((e=>[e.x,e.y])),n,o,r-n,a-o)}if("roundTable"===e.shape)return(0,ea.circleBox)(t.position.x+e.position.x,t.position.y+e.position.y,e.radius+20,n,o,r-n,a-o);if("rectangleTable"===e.shape){const s=e.seats.some((e=>"top"===e.special))?1:0,i=e.seats.some((e=>"bottom"===e.special))?1:0,l=e.seats.some((e=>"left"===e.special))?1:0,c=e.seats.some((e=>"right"===e.special))?1:0,u=e.rectangleTable.width+20*(l+c),h=e.rectangleTable.height+20*(s+i),d=e.position.x-e.rectangleTable.width/2-20*l,p=e.position.y-e.rectangleTable.height/2-20*s;return ha([{x:t.position.x+d,y:t.position.y+p},{x:t.position.x+d+u,y:t.position.y+p},{x:t.position.x+d+u,y:t.position.y+p+h},{x:t.position.x+d,y:t.position.y+p+h}],e.rotation,t.position.x+e.position.x,t.position.y+e.position.y).some((e=>e.x>=n&&e.x<=r&&e.y>=o&&e.y<=a))}},pa=({x1:e,y1:t,x2:n,y2:o,radius:r,sign:a})=>{const s=.5*(e+n),i=.5*(t+o),l=Math.sqrt((n-e)*(n-e)+(o-t)*(o-t)),c=Math.sqrt(r*r-l/2*(l/2)),u=s+c*(i-t)/(l/2)*a,h=i-c*(s-e)/(l/2)*a;return{cx:u,cy:h}};let fa=(e,t)=>{let n=Math.atan2(-e,t);return n<0&&(n+=2*Math.PI),n};var ga,ma=new Uint8Array(16);function ya(){if(!ga&&(ga="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!ga))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ga(ma)}var va=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ba(e){return"string"===typeof e&&va.test(e)}for(var wa=ba,xa=[],_a=0;_a<256;++_a)xa.push((_a+256).toString(16).substr(1));function ka(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(xa[e[t+0]]+xa[e[t+1]]+xa[e[t+2]]+xa[e[t+3]]+"-"+xa[e[t+4]]+xa[e[t+5]]+"-"+xa[e[t+6]]+xa[e[t+7]]+"-"+xa[e[t+8]]+xa[e[t+9]]+"-"+xa[e[t+10]]+xa[e[t+11]]+xa[e[t+12]]+xa[e[t+13]]+xa[e[t+14]]+xa[e[t+15]]).toLowerCase();if(!wa(n))throw TypeError("Stringified UUID is invalid");return n}var Ca=ka;function Sa(e,t,n){e=e||{};var o=e.random||(e.rng||ya)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return Ca(o)}var Ea=Sa,$a=n(3282),Pa=n.n($a),Ma=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","title":"Seating Plan","description":"Seating plan for venues","type":"object","properties":{"name":{"type":"string"},"zones":{"type":"array","description":"List of zones","items":{"$ref":"#/definitions/zone"}},"categories":{"type":"array","description":"List of categories","items":{"$ref":"#/definitions/category"}},"size":{"type":"object","description":"Size of the entire plan (in pixels)","properties":{"width":{"type":"integer"},"height":{"type":"integer"}},"required":["width","height"],"additionalProperties":false}},"required":["zones","name","categories","size"],"additionalProperties":false,"definitions":{"zone":{"type":"object","description":"Zone represents the parent entity that groups all other entities. Examples of different zones would be \'main area\', \'balcony\', etc.","properties":{"name":{"type":"string","description":"Name of the zone"},"zone_id":{"type":"string","description":"Internal ID of the zone. Currently not used in any way during plan rendering, but only to auto-generate seat GUIDs. May be missing since previous versions of the schema did not include this, in which case a fallback to the name is expected."},"uuid":{"type":"string","description":"Unique ID of this object. May not under any circumstances be duplicate, not even between different object types. Should be an UUID-4. May be missing since previous versions of the schema did not include this."},"position":{"$ref":"#/definitions/position"},"rows":{"type":"array","description":"List of rows","items":{"$ref":"#/definitions/row"}},"areas":{"type":"array","description":"List of areas","items":{"$ref":"#/definitions/area"}}},"required":["position","rows"],"additionalProperties":false},"row":{"type":"object","description":"Row is simply a collection of seats with some additional information that simplifies working with seats.","properties":{"row_number":{"type":"string","description":"Row number or name by which it can be identified"},"row_label":{"type":["string","null"],"description":"Human-readable name for the row. Not used for rendering the plan, but for describing the seats in text."},"seat_label":{"type":["string","null"],"description":"Human-readable name for the seats in this. May include %s as a placeholder for the seat_number values. Not used for rendering the plan, but for describing the seats in text."},"uuid":{"type":"string","description":"Unique ID of this object. May not under any circumstances be duplicate, not even between different object types. Should be an UUID-4. May be missing since previous versions of the schema did not include this."},"seats":{"type":"array","description":"List of seats in this row","items":{"$ref":"#/definitions/seat"}},"row_number_position":{"type":["string","null"],"enum":["start","end","both",null],"description":"Should the row numbers be shown?"},"position":{"$ref":"#/definitions/position"}},"required":["seats","row_number"],"additionalProperties":false},"seat":{"type":"object","description":"Individual seat that can be reserved.","properties":{"seat_guid":{"type":"string","description":"Seat global ID by which it can be identified. It should be globally unique (not just per row). It doesn\'t have to be pretty since it won\'t be shown to the user."},"seat_number":{"type":"string","description":"Human-readable seat number."},"uuid":{"type":"string","description":"Unique ID of this object. May not under any circumstances be duplicate, not even between different object types. Should be an UUID-4. May be missing since previous versions of the schema did not include this."},"start_direction":{"type":["string","null"],"description":"Declares this seat as a start point for ordered booking in its row. Can contain \'<\', \'>\' or \'<>\'."},"radius":{"type":"number","description":"Defaults to 10"},"position":{"$ref":"#/definitions/position"},"category":{"type":"string","description":"What category does this seat belong to? This needs to refer to the name of a category defined on the top level of the file. Keep in mind that there is no way to enfore this requirement with this version of JSON schema."}},"required":["seat_guid","seat_number","position","category"],"additionalProperties":false},"area":{"type":"object","description":"Area can represent anything from general admission area, to stage, bar or even tables.","properties":{"color":{"type":"string"},"border_color":{"type":"string"},"rotation":{"type":"number","description":"Rotation of the shape in degrees clockwise around the point specified in position."},"position":{"$ref":"#/definitions/position"},"uuid":{"type":"string","description":"Unique ID of this object. May not under any circumstances be duplicate, not even between different object types. Should be an UUID-4. May be missing since previous versions of the schema did not include this."},"shape":{"type":"string","enum":["polygon","rectangle","ellipse","circle","text"]},"polygon":{"type":"object","properties":{"points":{"type":"array","items":{"$ref":"#/definitions/position"}}},"required":["points"],"additionalProperties":false},"rectangle":{"type":"object","properties":{"width":{"type":"number"},"height":{"type":"number"}},"required":["width","height"],"additionalProperties":false},"ellipse":{"type":"object","properties":{"radius":{"$ref":"#/definitions/position"}},"required":["radius"],"additionalProperties":false},"circle":{"type":"object","properties":{"radius":{"type":"number"}},"required":["radius"],"additionalProperties":false},"text":{"type":"object","properties":{"text":{"type":"string"},"color":{"type":"string"},"size":{"type":"number","description":"Defaults to 16"},"position":{"$ref":"#/definitions/position"}},"required":["text","position"],"additionalProperties":false}},"additionalProperties":false},"position":{"type":"object","description":"Position of the element","properties":{"x":{"type":"number"},"y":{"type":"number"}},"required":["x","y"],"additionalProperties":false},"category":{"type":"object","description":"A category of seats, e.g. a price level.","properties":{"name":{"type":"string","description":"Internal name of the seats, e.g. \'stalls\'. This should be used to map this to actual shop products."},"color":{"type":"string","description":"The color used to draw seats of this category."}},"required":["name"],"additionalProperties":false}}}');function Ta(e,t){let n=t.charCodeAt(0),o="";do{e-=1,o=String.fromCharCode(n+e%26)+o,e=e/26|0}while(e>0);return o}function za(e,t,n,o){const r=[];let a=e;const s=n.split(/\s*,\s*/);while(r.length<o){let n=t.charCodeAt(0),o="";do{e-=1,o=String.fromCharCode(n+e%26)+o,e=e/26|0}while(e>0);s.includes(o.toString())||r.push(o),e=a+1,a++}return r}function Fa(e){let t=0;for(let n=0;n<e.length;n++)t=e[n].charCodeAt()-64+26*t;return t}const Ia=[{id:"natural",label:"1, 2, 3, ",compute:(e,t)=>{let n=t;return e.map((e=>(n++).toString()))},skip:(e,t,n)=>{let o=t;const r=[],a=e.length,s=n.split(/\s*,\s*/);while(r.length<a)s.includes(o.toString())||r.push(o.toString()),o++;return r},findStartAt:e=>parseInt(e),start:e=>e},{id:"odd",label:"1, 3, 5, ",compute:(e,t)=>{let n=t;return t%2?e.map((e=>{const t=n;return n+=2,t.toString()})):null},skip:(e,t,n)=>{let o=t;const r=[],a=e.length,s=n.split(/\s*,\s*/);while(r.length<a)s.includes(o.toString())||r.push(o.toString()),o+=2;return r},findStartAt:e=>parseInt(e),start:e=>e},{id:"even",label:"2, 4, 6, ",compute:(e,t)=>{let n=t;return t%2?null:e.map((e=>{const t=n;return n+=2,t.toString()}))},skip:(e,t,n)=>{let o=t;const r=[],a=e.length,s=n.split(/\s*,\s*/);while(r.length<a)s.includes(o.toString())||r.push(o.toString()),o+=2;return r},findStartAt:e=>parseInt(e),start:e=>e},{id:"alpha",label:"A, B, C, ",compute:(e,t)=>{let n=t;return e.map((e=>Ta(n++,"A")))},skip:(e,t,n)=>{let o=t;return za(o,"A",n,e.length)},findStartAt:e=>Fa(e.toUpperCase()),start:e=>Ta(e,"A")},{id:"alphalower",label:"a, b, c, ",compute:(e,t)=>{let n=t;return e.map((e=>Ta(n++,"a")))},skip:(e,t,n)=>za(t,"a",n,e.length),findStartAt:e=>Fa(e.toUpperCase()),start:e=>Ta(e,"a")}],La=[{id:"natural",label:"1, 2, 3, ",compute:(e,t)=>{let n=t;return e.map((e=>(n++).toString()))},skip:(e,t,n)=>{let o=t;const r=[],a=e.length,s=n.split(/\s*,\s*/);while(r.length<a)s.includes(o.toString())||r.push(o.toString()),o++;return r},start:e=>e,findStartAt:e=>parseInt(e)},{id:"odd",label:"1, 3, 5, ",compute:(e,t)=>{let n=t;return t%2?e.map((e=>{const t=n;return n+=2,t.toString()})):null},skip:(e,t,n)=>{let o=t;const r=[],a=e.length,s=n.split(/\s*,\s*/);while(r.length<a)s.includes(o.toString())||r.push(o.toString()),o+=2;return r},start:e=>e,findStartAt:e=>parseInt(e)},{id:"even",label:"2, 4, 6, ",compute:(e,t)=>{let n=t;return t%2?null:e.map((e=>{const t=n;return n+=2,t.toString()}))},start:e=>e,skip:(e,t,n)=>{let o=t;const r=[],a=e.length,s=n.split(/\s*,\s*/);while(r.length<a)s.includes(o.toString())||r.push(o.toString()),o+=2;return r},findStartAt:e=>parseInt(e)},{id:"alpha",label:"A, B, C, ",compute:(e,t)=>{let n=t;return e.map((e=>Ta(n++,"A")))},skip:(e,t,n)=>{let o=t;return za(o,"A",n,e.length)},findStartAt:e=>Fa(e.toUpperCase()),start:e=>Ta(e,"A")},{id:"alphalower",label:"a, b, c, ",compute:(e,t)=>{let n=t;return e.map((e=>Ta(n++,"a")))},skip:(e,t,n)=>za(t,"a",n,e.length),findStartAt:e=>Fa(e.toUpperCase()),start:e=>Ta(e,"a")}],Ra=e=>e.map(((t,n)=>e[e.length-1-n])),Aa=e=>e.replace(/[^0-9A-Za-z]/,""),Na=(0,s.nY)("plan",{state:()=>({_plan:{zones:[],categories:[],sections:[],size:{width:0,height:0},point:{x:0,y:0},name:"My Charting Board",mode:!1},validationErrors:void 0,hasUndo:!1,hasRedo:!1,undoStack:[],redoStack:[],timeoutID:null}),getters:{plan:e=>e._plan,planSize:e=>e._plan.size||0,getCategoryByName:e=>t=>e._plan.categories.find((e=>e.name===t)),categories:e=>e._plan.categories},actions:{persistPlan(e=!1){const t=JSON.stringify(this._plan);localStorage.setItem("frontrow2.editor.plan",t),e||this.recordHistoryState(t),this.setValidationErrors(void 0),this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((()=>{this.validatePlan(),this.timeoutID=null}),500)},setMode(e){this._plan.mode=e,this.persistPlan()},validationPlan(){let e=0,t=0;const n=[];let o=0,r=0,a=0,s=0,i=0,l=0,c=0;for(const p of this.plan.zones){for(const o of p.rows){for(const r of o.seats)r.category&&r.section_label&&r.seat_number?r.valid=!0:(r.valid=!1,r.category||e++,r.section_label||t++,r.seat_number||l++),n.push(r.guid);o.row_number||c++}for(const c of p.areas)if("gaCircle"!==c.shape&&"gaSquare"!==c.shape&&"gaPolygon"!==c.shape||(c.category&&c.section_label&&!(c.capacity<1)&&c.label&&c.abbreviation?c.valid=!0:(c.valid=!1,c.category||e++,c.section_label||t++,c.capacity<=0&&a++,c.label||s++,c.abbreviation||i++),n.push(c.guid)),"roundTable"===c.shape||"rectangleTable"===c.shape){for(const o of c.seats)o.category&&o.section_label&&o.seat_number&&c.label.name&&c.label.abv?o.valid=!0:(o.valid=!1,o.category||e++,o.section_label||t++,o.seat_number||l++),n.push(o.guid);c.label.name||(o+=c.seats.length),c.label.abv||(r+=c.seats.length)}}const u=[...new Set(n)],h=n.length-u.length,d=e||t||h||o||r||a||s||i||l||c;return{category:e,section:t,seatId:h,tableLabel:o,tableAbv:r,capacity:a,sectionLabel:s,sectionAbv:i,seatLabel:l,rowLabel:c,isValid:d}},validatePosition(){const e=[];for(const n of this.plan.zones)for(const t of n.rows)for(const n of t.seats)e.push({x:n.position.x+t.position.x,y:n.position.y+t.position.y});const t=this.detectOverlaps(e,19);return t},detectOverlaps(e,t){const n=t,o=new Map;function r(e,t){const o=Math.floor(e/n),r=Math.floor(t/n);return`${o},${r}`}for(const{x:s,y:i}of e){const e=r(s,i);o.has(e)||o.set(e,[]),o.get(e).push({x:s,y:i})}let a=0;for(const[s,i]of o.entries()){const[e,n]=s.split(",").map(Number);for(let r=0;r<i.length;r++){const{x:s,y:l}=i[r];for(let e=r+1;e<i.length;e++){const{x:n,y:o}=i[e];Math.sqrt((s-n)*(s-n)+(l-o)*(l-o))<t&&a++}for(let r=-1;r<=1;r++)for(let i=-1;i<=1;i++){if(0===r&&0===i)continue;const c=`${e+r},${n+i}`;if(o.has(c))for(const{x:e,y:n}of o.get(c))Math.sqrt((s-e)*(s-e)+(l-n)*(l-n))<t&&a++}}}return a},validatePlan(){const e=new(Pa())({allErrors:!0,verbose:!0}),t=this._plan;Promise.resolve(e.validate(JSON.parse(JSON.stringify(Ma)),t)).then((n=>{if(n){const e=[],n=new Set,o=new Set,r=new Set;for(const a of t.zones){if(e.length>50)break;for(const t of a.rows){if(e.length>50)break;for(const s of t.seats){if(e.length>50)break;const i=`${a.name}>${t.row_number}>${s.seat_number}`;s.seat_guid?n.has(s.seat_guid)&&!r.has(s.seat_guid)?(e.push({text:`Seat ID "${s.seat_guid}" is not unique! This will lead to errors when people try to book these seats. (Seen again in "${a.name}" > "${t.row_number}" > "${s.seat_number}")`,uuid:s.uuid,tool:"seatselect"}),r.add(s.seat_guid)):o.has(i)&&!r.has(i)&&(e.push({text:`You have multiple seats with zone "${a.name}", row "${t.row_number}", and seat "${s.seat_number}". This is going to be very confusing.`,uuid:s.uuid,tool:"seatselect"}),r.add(i)):e.push({text:`Seat ${a.name} > ${t.row_number} > ${s.seat_number} has no seat ID.`,uuid:s.uuid,tool:"seatselect"}),n.add(s.seat_guid),o.add(i)}}}this.setValidationErrors(e)}else this.setValidationErrors([{text:"JSON schema validation error (contact support for help): "+e.errorsText(e.errors)}])}))},setValidationErrors(e){this.validationErrors=e},createRowBlock(e,t,n,o,r,a){return new Promise(((s,i)=>{try{const s=[];e=this._plan.zones.find((t=>t.uuid===e));for(const i of[...Array(n).keys()]){const n={position:{x:t.x,y:t.y+i*r},row_number:Ta(i+1,"A"),row_number_position:"both",seats:[],uuid:Ea(),guid:c(),rotation:0};for(const e of[...Array(o).keys()])n.seats.push({seat_number:(e+1).toString(),seat_guid:Ea(),uuid:Ea(),guid:c(),position:{x:e*a,y:0},category:""});this.createRowAfter(e.uuid,n,!1),s.push(n.uuid)}return this.persistPlan(),s}catch(l){i(l)}}))},createStgRowBlock(e,t,n,o,r,a){return new Promise(((s,i)=>{try{const s=[];e=this._plan.zones.find((t=>t.uuid===e));for(const i of[...Array(n).keys()]){let n={};if(i%2===0){n={position:{x:t.x,y:t.y+i*r},row_number:Ta(i+1,"A"),row_number_position:"both",seats:[],guid:c(),uuid:Ea(),rotation:0};for(const e of[...Array(o).keys()])n.seats.push({seat_number:(e+1).toString(),seat_guid:Ea(),uuid:Ea(),guid:c(),position:{x:e*a,y:0},category:""})}else{n={position:{x:t.x+10,y:t.y+i*r},row_number:Ta(i+1,"A"),row_number_position:"both",seats:[],uuid:Ea(),guid:c(),rotation:0};for(const e of[...Array(o-1).keys()])n.seats.push({seat_number:(e+1).toString(),seat_guid:Ea(),uuid:Ea(),guid:c(),position:{x:e*a,y:0},category:""})}this.createRowAfter(e.uuid,n,!1),s.push(n.uuid)}return this.persistPlan(),s}catch(l){i(l)}}))},undo(){if(this.undoStack.length>2){const e=this.undoStack.pop();this.redoStack.push(e),this._plan=JSON.parse(this.undoStack[this.undoStack.length-1]),this.hasRedo=!0,this.hasUndo=this.undoStack.length>2,this.persistPlan({skipHistory:!0})}},redo(){if(this.redoStack.length){const e=this.redoStack.pop();this.undoStack.push(e),this._plan=JSON.parse(e),this.hasUndo=this.undoStack.length>=2,this.hasRedo=this.redoStack.length>=1,this.persistPlan({skipHistory:!1})}},restackAreas(e,t){for(const n of this._plan.zones){let o=[];n.areas=n.areas.filter((t=>{const n=e.includes(t.uuid);return n&&o.push(t),!n})),t?n.areas.push(...o):n.areas.unshift(...o)}this.persistPlan()},deleteCategory(e){this._plan.mode?alert("Can not delete category"):(this._plan.categories=this._plan.categories.filter((t=>t.name!==e)),this.persistPlan())},deleteObjects(e){if(this._plan.mode)alert("Can not delete object");else{e=Ka().selection,this._plan.zones=this._plan.zones.filter((t=>!e.includes(t.uuid)));for(const t of this._plan.zones){t.areas=t.areas.filter((t=>!e.includes(t.uuid))),t.rows=t.rows.filter((t=>!e.includes(t.uuid)));for(const n of t.rows)n.seats=n.seats.filter((t=>!e.includes(t.uuid)));for(const n of t.areas)"roundTable"!==n.shape&&"rectangleTable"!==n.shape||(n.seats=n.seats.filter((t=>!e.includes(t.uuid))))}Ka().unselect(e),this.persistPlan()}},recordHistoryState(e){this.undoStack.push(e),this.undoStack.length>100&&this.undoStack.shift(),this.redoStack=[],this.hasUndo=this.undoStack.length>=2,this.hasRedo=!1},setTableCategory(e,t){e.forEach((e=>{for(const n of e.seats)n.category=t})),this.persistPlan()},setTableSeatCategory(e,t){for(const n of e)n.category=t;this.persistPlan()},setGACategory(e,t){this._plan.zones.forEach((n=>{n.areas.forEach((n=>{e.includes(n.uuid)&&(n.category=t)}))})),this.persistPlan()},modifyRows({rowIds:e,...t}){this._plan.zones.forEach((n=>{n.rows.forEach((n=>{if(e.includes(n.uuid))for(const e in t)if(e.includes("__")){let o=n;const r=e.split("__");r.forEach(((n,a)=>{a===r.length-1?o[n]=t[e]:o=o[n]}))}else n[e]=t[e]}))})),this.persistPlan()},modifySeats({seatIds:e,...t}){this._plan.zones.forEach((n=>{n.rows.forEach((n=>{n.seats.forEach((n=>{if(e.includes(n.uuid))for(const e in t)if(e.includes("__")){let o=n;const r=e.split("__");r.forEach(((n,a)=>{a===r.length-1?o[n]=t[e]:o=o[n]}))}else n[e]=t[e]}))}))})),this.persistPlan()},modifyRectangleTableWidth(e,t){e.forEach((e=>{e.rectangleTable.width=t;let n=e.seats.filter((e=>"top"===e.special)),o=e.seats.filter((e=>"bottom"===e.special)),r=e.seats.filter((e=>"left"===e.special)),a=e.seats.filter((e=>"right"===e.special));const s=(t-20)/(n.length-1),i=(t-20)/(o.length-1);n=n.map(((e,t)=>(e.position.x=s*t+10,e))),o=o.map(((e,t)=>(e.position.x=i*t+10,e))),a=a.map(((e,n)=>(e.position.x=t+10,e))),e.seats=[...n,...o,...r,...a]})),this.persistPlan()},modifyRectangleTableHeight(e,t){e.forEach((e=>{e.rectangleTable.height=t;let n=e.seats.filter((e=>"top"===e.special)),o=e.seats.filter((e=>"bottom"===e.special)),r=e.seats.filter((e=>"left"===e.special)),a=e.seats.filter((e=>"right"===e.special));const s=(t-20)/(r.length-1),i=(t-20)/(a.length-1);o=o.map(((e,n)=>(e.position.y=t+10,e))),r=r.map(((e,t)=>(e.position.y=t*s+10,e))),a=a.map(((e,t)=>(e.position.y=t*i+10,e))),e.seats=[...n,...o,...r,...a]})),this.persistPlan()},modifyRectangleTableCapacityT(e,t){e.forEach((e=>{const n=e.rectangleTable.width;let o=e.seats.filter((e=>"top"===e.special));const r=e.seats[e.seats.length-1].category,a=(n-20)/(t-1);let s=[];for(let t of Ia)try{let n=t.findStartAt(e.seats[0].seat_number),o=t.compute(e.seats,n);if(e.seats.filter(((e,t)=>e.seat_number===o[t])).length===e.seats.length){const o=[];for(let e=0;e<500;e++)o.push({});s=t.compute(e.seats.concat(o),n);break}let r=[...e.seats].reverse(),a=t.findStartAt(r[0].seat_number),i=t.compute(r,a);if(r.filter(((e,t)=>e.seat_number===i[t])).length===e.seats.length){s=t.compute(r.concat([{}]),a);break}}catch(l){console.warn("Crash while trying to test seat numbering schema",t,l)}o=t>1?Array(t).fill(0).map(((e,t)=>({position:{x:t*a+10,y:-10},radius:10,seat_number:s[t],color:"#333333",guid:c(),uuid:Ea(),special:"top",category:r}))):Array(t).fill(0).map(((e,t)=>({position:{x:n/2,y:-10},radius:10,seat_number:s[t],color:"#333333",uuid:Ea(),guid:c(),special:"top",category:r})));const i=e.seats.filter((e=>"top"!==e.special));i.forEach(((e,n)=>e.seat_number=s[n+t])),e.seats=[...o,...i]})),this.persistPlan()},modifyRectangleTableCapacityB(e,t){e.forEach((e=>{const n=e.rectangleTable.width,o=e.rectangleTable.height;let r=e.seats.filter((e=>"bottom"===e.special));const a=e.seats[e.seats.length-1].category,s=(n-20)/(t-1);let i=[];for(let t of Ia)try{let n=t.findStartAt(e.seats[0].seat_number),o=t.compute(e.seats,n);if(e.seats.filter(((e,t)=>e.seat_number===o[t])).length===e.seats.length){const o=[];for(let e=0;e<500;e++)o.push({});i=t.compute(e.seats.concat(o),n);break}let r=[...e.seats].reverse(),a=t.findStartAt(r[0].seat_number),s=t.compute(r,a);if(r.filter(((e,t)=>e.seat_number===s[t])).length===e.seats.length){i=t.compute(r.concat([{}]),a);break}}catch(p){console.warn("Crash while trying to test seat numbering schema",t,p)}const l=e.seats.filter((e=>"top"===e.special)),u=e.seats.filter((e=>"right"===e.special)),h=e.seats.filter((e=>"left"===e.special));let d=l.length+u.length;r=t>1?Array(t).fill(0).map(((e,t)=>({position:{x:t*s+10,y:o+10},radius:10,seat_number:i[d+t],color:"#333333",uuid:Ea(),guid:c(),special:"bottom",category:a}))):Array(t).fill(0).map(((e,t)=>({position:{x:n/2,y:o+10},radius:10,seat_number:i[d+t],color:"#333333",uuid:Ea(),guid:c(),special:"bottom",category:a}))),d+=t,h.forEach(((e,t)=>{e.seat_number=i[d+t]})),e.seats=[...l,...u,...r,...h]})),this.persistPlan()},modifyRectangleTableCapacityR(e,t){e.forEach((e=>{const n=e.rectangleTable.width,o=e.rectangleTable.height;let r=e.seats.filter((e=>"right"===e.special));const a=e.seats[e.seats.length-1].category,s=(o-20)/(t-1);let i=[];for(let t of Ia)try{let n=t.findStartAt(e.seats[0].seat_number),o=t.compute(e.seats,n);if(e.seats.filter(((e,t)=>e.seat_number===o[t])).length===e.seats.length){const o=[];for(let e=0;e<500;e++)o.push({});i=t.compute(e.seats.concat(o),n);break}let r=[...e.seats].reverse(),a=t.findStartAt(r[0].seat_number),s=t.compute(r,a);if(r.filter(((e,t)=>e.seat_number===s[t])).length===e.seats.length){i=t.compute(r.concat([{}]),a);break}}catch(p){console.warn("Crash while trying to test seat numbering schema",t,p)}const l=e.seats.filter((e=>"top"===e.special)),u=e.seats.filter((e=>"bottom"===e.special)),h=e.seats.filter((e=>"left"===e.special));let d=l.length;r=t>1?Array(t).fill(0).map(((e,t)=>({position:{x:n+10,y:t*s+10},radius:10,seat_number:i[t+d],color:"#333333",uuid:Ea(),guid:c(),special:"right",category:a}))):Array(t).fill(0).map(((e,t)=>({position:{x:n+10,y:o/2},radius:10,seat_number:i[t+d],color:"#333333",uuid:Ea(),guid:c(),special:"right",category:a}))),d+=t,u.forEach(((e,t)=>{e.seat_number=i[d+t]})),d+=u.length,h.forEach(((e,t)=>{e.seat_number=i[d+t]})),e.seats=[...l,...r,...u,...h]})),this.persistPlan()},modifyRectangleTableCapacityL(e,t){e.forEach((e=>{e.rectangleTable.width;const n=e.rectangleTable.height;let o=e.seats.filter((e=>"left"===e.special));const r=e.seats[e.seats.length-1].category,a=(n-20)/(t-1);let s=[];for(let t of Ia)try{let n=t.findStartAt(e.seats[0].seat_number),o=t.compute(e.seats,n);if(e.seats.filter(((e,t)=>e.seat_number===o[t])).length===e.seats.length){const o=[];for(let e=0;e<500;e++)o.push({});s=t.compute(e.seats.concat(o),n);break}let r=[...e.seats].reverse(),a=t.findStartAt(r[0].seat_number),i=t.compute(r,a);if(r.filter(((e,t)=>e.seat_number===i[t])).length===e.seats.length){s=t.compute(r.concat([{}]),a);break}}catch(d){console.warn("Crash while trying to test seat numbering schema",t,d)}const i=e.seats.filter((e=>"top"===e.special)),l=e.seats.filter((e=>"right"===e.special)),u=e.seats.filter((e=>"bottom"===e.special)),h=i.length+l.length+u.length;o=t>1?Array(t).fill(0).map(((e,t)=>({position:{x:-10,y:t*a+10},radius:10,seat_number:s[h+t],color:"#333333",uuid:Ea(),guid:c(),special:"left",category:r}))):Array(t).fill(0).map(((e,t)=>({position:{x:-10,y:n/2},radius:10,seat_number:s[h+t],color:"#333333",uuid:Ea(),guid:c(),special:"left",category:r}))),e.seats=[...i,...l,...u,...o]})),this.persistPlan()},modifyRoundTableRadius(e,t){e.forEach((e=>{e.radius=t;const n=e.seats.length+e?.space;e.seats.forEach(((e,o,r)=>{const a=2*Math.PI/n*o;e.position.x=(t+10)*Math.cos(a),e.position.y=(t+10)*Math.sin(a)}))})),this.persistPlan()},modifyRoundTableSpace(e,t){e.forEach((e=>{e.space=t;const n=t+e.capacity,o=e.radius;e.seats.forEach(((e,t,r)=>{const a=2*Math.PI/n*t;e.position.x=(o+10)*Math.cos(a),e.position.y=(o+10)*Math.sin(a)}))})),this.persistPlan()},modifyTableSeatLabel(e,t){this._plan.zones.forEach((n=>{n.areas.forEach((n=>{if("roundTable"===n.shape||"rectangleTable"===n.shape){const o=n.seats.find((t=>t.uuid===e));o&&(o.seat_number=t)}}))})),this.persistPlan()},modifyAreas({areaIds:e,...t}){this._plan.zones.forEach((n=>{n.areas.forEach((n=>{if(e.includes(n.uuid))for(const e in t)if(e.includes("__")){let o=n;const r=e.split("__");r.forEach(((n,a)=>{a===r.length-1?o[n]=t[e]:o=o[n]}))}else n[e]=t[e]}))})),this.persistPlan()},addPolygonPoint(e,t,n){e.polygon.points.splice(t,0,n),this.persistPlan()},removePolygonPoint(e,t){e.polygon.points.splice(e,t),this.persistPlan()},addSeat(e){this._plan.zones.forEach((t=>{t.rows.forEach((n=>{if(e.includes(n.uuid)&&n.seats.length){let e;if(1===n.seats.length)e={x:n.seats[0].position.x+25,y:n.seats[0].position.y};else{const t=n.seats[n.seats.length-1].position.x-n.seats[n.seats.length-2].position.x,o=n.seats[n.seats.length-1].position.y-n.seats[n.seats.length-2].position.y;e={x:n.seats[n.seats.length-1].position.x+t,y:n.seats[n.seats.length-1].position.y+o}}let r="?";for(let a of Ia)try{let e=a.findStartAt(n.seats[0].seat_number),o=a.compute(n.seats,e);if(n.seats.filter(((e,t)=>e.seat_number===o[t])).length===n.seats.length){let t=a.compute(n.seats.concat([{}]),e);r=t[t.length-1];break}let s=[...n.seats].reverse(),i=a.findStartAt(s[0].seat_number),l=a.compute(s,i);if(s.filter(((e,t)=>e.seat_number===l[t])).length===n.seats.length){let e=a.compute(s.concat([{}]),i);for(const o of n.seats)o.seat_number=e.pop(),o.seat_guid=`${t.zone_id}-${n.row_number}-${o.seat_number}`;r=e[0];break}}catch(o){console.warn("Crash while trying to test seat numbering schema",a,o)}n.seats.push({seat_number:r,seat_guid:Ea(),uuid:Ea(),guid:c(),position:e,category:n.seats[n.seats.length-1].category})}}))})),this.persistPlan()},addSectionLabel(e,t,n){this._plan.zones.forEach((o=>{o.rows.forEach((o=>{e.includes(o.uuid)&&o.seats.length?o.seats.forEach((e=>{e.section_label=t,e.section_abv=n})):o.seats.forEach((o=>{e.includes(o.uuid)&&(o.section_label=t,o.section_abv=n)}))}))})),this.persistPlan()},addGASectionLabel(e,t,n){this._plan.zones.forEach((o=>{o.areas.forEach((o=>{e.includes(o.uuid)&&(o.section_label=t,o.section_abv=n)}))})),this.persistPlan()},addTableSectionLabel(e,t,n){this._plan.zones.forEach((o=>{o.areas.forEach((o=>{e.includes(o.uuid)&&o.seats.length?o.seats.forEach((e=>{e.section_label=t,e.section_abv=n})):o?.seats?.length&&o.seats.forEach((o=>{e.includes(o.uuid)&&(o.section_label=t,o.section_abv=n)}))}))})),this.persistPlan()},renumberRows(e,t,n,o){const r=[];this._plan.zones.forEach((t=>{t.rows.forEach((n=>{e.includes(n.uuid)&&r.push([t,n])}))}));const a=t.compute(r.map((([e,t])=>t)),n);r.forEach((([e,t],n)=>{t.row_number=o?a.pop():a.shift(),t.seats.forEach((n=>{n.seat_guid=`${e.zone_id}-${t.row_number}-${n.seat_number}`}))})),this.persistPlan()},renumberSeats(e,t,n,o){this._plan.zones.forEach((r=>{r.rows.forEach((a=>{if(e.includes(a.uuid)&&a.seats.length){const e=t.compute(a.seats,n);a.seats.forEach((t=>{t.seat_number=o?e.pop():e.shift(),t.seat_guid=`${r.zone_id}-${a.row_number}-${t.seat_number}`}))}}))})),this.persistPlan()},skipLetterSeats(e,t,n,o,r){this._plan.zones.forEach((a=>{a.rows.forEach((a=>{if(e.includes(a.uuid)&&a.seats.length){const e=t.skip(a.seats,n,r);a.seats.forEach((t=>{t.skip_number=o?e.pop():e.shift()}))}}))})),this.persistPlan()},skipLetterRows(e,t,n,o,r){const a=t.skip(e,n,r);this._plan.zones.forEach((t=>{t.rows.forEach((t=>{e.includes(t.uuid)&&t.seats.length&&(t.skip_number=o?a.pop():a.shift())}))})),this.persistPlan()},renumberTableSeats(e,t,n,o){this._plan.zones.forEach((r=>{r.areas.forEach((a=>{if(e.includes(a.uuid)&&a.seats.length){const e=t.compute(a.seats,n);a.seats.forEach((t=>{t.seat_number=o?e.pop():e.shift(),t.seat_guid=`${r.zone_id}-${a.row_number}-${t.seat_number}`}))}}))})),this.persistPlan()},skipLetterTableSeats(e,t,n,o,r){this._plan.zones.forEach((a=>{a.areas.forEach((a=>{if(e.includes(a.uuid)&&a.seats.length){const e=t.skip(a.seats,n,r);a.seats.forEach((t=>{t.skip_number=o?e.pop():e.shift()}))}}))})),this.persistPlan()},changeNumberSeats(e,t){t=Math.max(1,t),this._plan.zones.forEach((n=>{n.rows.forEach((n=>{if(e.includes(n.uuid)&&n.seats.length){if(n.seats.length===t)return;const e=Math.abs(n.seats.length-t);let r=[];if(n.seats.length<t){let t=[];if(1===n.seats.length)for(let o=0;o<e;o++)t.push({x:n.seats[0].position.x+25*(o+1),y:n.seats[0].position.y});else{const o=n.seats[n.seats.length-1].position.x-n.seats[n.seats.length-2].position.x,r=n.seats[n.seats.length-1].position.y-n.seats[n.seats.length-2].position.y;for(let a=0;a<e;a++)t.push({x:n.seats[n.seats.length-1].position.x+o*(a+1),y:n.seats[n.seats.length-1].position.y+r*(a+1)})}for(let a of Ia)try{let t=a.findStartAt(n.seats[0].seat_number),o=a.compute(n.seats,t);if(n.seats.filter(((e,t)=>e.seat_number===o[t])).length===n.seats.length){const o=[];for(let t=0;t<e;t++)o.push({});let s=a.compute(n.seats.concat(o),t);r=s.slice(n.seats.length,n.seats.length+e+1);break}let s=[...n.seats].reverse(),i=a.findStartAt(s[0].seat_number),l=a.compute(s,i);if(s.filter(((e,t)=>e.seat_number===l[t])).length===n.seats.length){let t=a.compute(s.concat([{}]),i);for(const e of n.seats)e.seat_number=t.pop(),e.seat_guid=Ea();r=t.slice(0,e);break}}catch(o){console.warn("Crash while trying to test seat numbering schema",a,o)}for(let o=0;o<e;o++)n.seats.push({seat_number:r[o],uuid:Ea(),guid:c(),position:t[o],category:n.seats[n.seats.length-1].category})}else for(let t=0;t<e;t++)n.seats.pop();this.persistPlan()}}))}))},renumberCircleSeats(e,t){t=Math.max(1,t),this._plan.zones.forEach((n=>{n.areas.forEach((n=>{if(e.includes(n.uuid)){const e=[];n.capacity=t;let r=[];for(let t of Ia)try{let e=t.findStartAt(n.seats[0].seat_number),o=t.compute(n.seats,e);if(n.seats.filter(((e,t)=>e.seat_number===o[t])).length===n.seats.length){const o=[];for(let e=0;e<500;e++)o.push({});r=t.compute(n.seats.concat(o),e);break}let a=[...n.seats].reverse(),s=t.findStartAt(a[0].seat_number),i=t.compute(a,s);if(a.filter(((e,t)=>e.seat_number===i[t])).length===n.seats.length){r=t.compute(a.concat([{}]),s);break}}catch(o){console.warn("Crash while trying to test seat numbering schema",t,o)}const a=t+(n.space||0);for(let o=0;o<t;o++){const t=2*Math.PI/a*o;e.push({seat_number:r[o],position:{x:(n.radius+10)*Math.cos(t),y:(n.radius+10)*Math.sin(t)},category:n.seats[n.seats.length-1].category,r:10,guid:c(),uuid:Ea()})}n.seats=e}}))})),this.persistPlan()},respaceRows(e,t){t=Math.max(t,1),this._plan.zones.forEach((n=>{const o=n.rows.filter((t=>e.includes(t.uuid)));if(o.length<2)return;const r=[o[0].position];o.slice(1).forEach(((e,n)=>{let a=o[n],s=e.position.x-a.position.x,i=e.position.y-a.position.y,l=Math.sqrt(s*s+i*i),c=l?t/l:0;r.push({x:a.position.x+s*c,y:a.position.y+i*c})})),o.forEach(((e,t)=>{e.position=r[t]}))})),this.persistPlan()},createRowAfter(e,t,n){e=this._plan.zones.find((t=>t.uuid===e)),e.rows.push(t),n&&this.persistPlan()},createRow(e,t,n){return new Promise(((o,r)=>{try{e=this._plan.zones.find((t=>t.uuid===e));const o={position:{x:t.x,y:t.y},row_number:"A",row_number_position:"both",seats:[],guid:c(),uuid:Ea(),rotation:0};for(const[e,t]of n.entries())o.seats.push({seat_number:(e+1).toString(),guid:c(),uuid:Ea(),position:{x:t.x,y:t.y},category:""});return this.createRowAfter(e.uuid,o,!1),this.persistPlan(),o.uuid}catch(a){r(a)}}))},createAreaAfter(e,t){e=this._plan.zones.find((t=>t.uuid===e)),e.areas.push(t),this.persistPlan()},createArea(e,t){return new Promise(((n,o)=>{try{this.createAreaAfter(e,t)}catch(r){o(r)}}))},respaceSeats(e,t){t=Math.max(t,20),this._plan.zones.forEach((n=>{n.rows.forEach((n=>{if(e.includes(n.uuid)&&n.seats.length>1){const e=[n.seats[0].position];for(let o=1;o<n.seats.length;o++){const r=e[o-1],a=n.seats[o].position.x-n.seats[o-1].position.x,s=n.seats[o].position.y-n.seats[o-1].position.y,i=Math.sqrt(a*a+s*s),l=t/i;e.push({x:r.x+a*l,y:r.y+s*l})}n.seats.forEach(((t,n)=>{t.position=e[n]}))}}))})),this.persistPlan()},loadPlan(e){console.log(e);for(const t of e.zones){t.uuid||(t.uuid=Ea()),t._editor_id&&(t.zone_id=t._editor_id,delete t._editor_id),t.zone_id||(t.zone_id=Aa(t.name));for(const e of t.rows){e.uuid||(e.uuid=Ea());for(const t of e.seats)t.uuid||(t.uuid=Ea())}for(const e of t.areas)e.uuid||(e.uuid=Ea())}this._plan=e,this.undoStack.splice(0,this.undoStack.length),this.redoStack.splice(0,this.redoStack.length),this.hasUndo=!1,this.hasRedo=!1,this.persistPlan()},setPlanName(e){this._plan.name=e,this.persistPlan()},setPlanSize(e,t){e&&(this._plan.size.width=e),t&&(this._plan.size.height=t),window.dispatchEvent(new Event("resize")),this.persistPlan()},setFocusPoint(e,t){this._plan.point.x=e,this._plan.point.y=t,this.persistPlan()},setTag(e,t){this._plan.zones.forEach((n=>{n.rows.forEach((n=>{e.includes(n.uuid)&&n.seats.length>0?n.seats.forEach((e=>{e.tag_name=t})):n.seats.forEach((n=>{e.includes(n.uuid)&&(n.tag_name=t)}))})),n.areas.forEach((n=>{"roundTable"===n.shape||"rectangleTable"===n.shape?e.includes(n.uuid)&&n.seats.length>0?n.seats.forEach((e=>{e.tag_name=t})):n.seats.forEach((n=>{e.includes(n.uuid)&&(n.tag_name=t)})):"gaCircle"!==n.shape&&"gaSquare"!==n.shape&&"gaPolygon"!==n.shape||e.includes(n.uuid)&&(n.tag_name=t)}))})),this.persistPlan()},setRotateLabel(e,t){this._plan.zones.forEach((n=>{n.rows.forEach((n=>{e.includes(n.uuid)&&(n.rotate_label=t)}))})),this.persistPlan()},createZone(e,t){this._plan.zones.push({name:e,zone_id:Aa(e),uuid:t,position:{x:0,y:0},rows:[],areas:[]}),this.persistPlan()},moveZoneInOrder(e,t){const n=this._plan.zones.find((t=>t.uuid===e)),o=this._plan.zones.findIndex((t=>t.uuid===e)),r=Math.min(Math.max(o+t,0),this._plan.zones.length-1);this._plan.zones.splice(o,1),this._plan.zones.splice(r,0,n),this.persistPlan()},changeZone(e,t,n){const o=this._plan.zones.find((t=>t.uuid===e));o.name=t,o.zone_id=n,this.persistPlan()},createCategory(e,t){this._plan.categories.push({id:Ea(),name:e,color:t}),this.persistPlan()},changeCategory(e,t,n){const o=this._plan.categories.find((t=>t.name===e));if(e!==t)if(this._plan.categories.filter((e=>e.name===t)).length);else{o.name=t;for(const n of this._plan.zones){for(const o of n.rows)for(const n of o.seats)n.category===e&&(n.category=t);for(const o of n.areas)if("gaCircle"!==o.shape&&"gaSquare"!==o.shape&&"gaPolygon"!==o.shape||o.category===e&&(o.category=t),"roundTable"===o.shape||"rectanlgeTable"===o.shape)for(const n of o.seats)n.category===e&&(n.category=t)}}else o.color=n;this.persistPlan()}}}),Xa=Na(),Oa=1e-4,ja=(e,t,n,o)=>{let r=e,a=e+o;const s=e=>t*e*e-n;let i=s(e);const l=(t,n)=>(t-e)*(t-e)+(n-i)*(n-i);while(a-r>=Oa){const e=(r+a)/2,t=s(e);l(e,t)>=o*o?a=e:r=e}return(a+r)/2},Wa=(e,t,n,o,r,a)=>{let s,i=e;for(s=0;s<r-1;s++)if(i=ja(i,n,o,a),i>t)return!1;return!0},Da=(e,t,n)=>{let o,r=-Math.sqrt(t/e),a=-r,s=0,i=Math.sqrt(t*t+4e4);while(i-s>=Oa)o=(i+s)/2,console.log("LOGTRACE",Wa(r,a,e,t,n,o),o,r,a,i,s),Wa(r,a,e,t,n,o)?s=o:i=o;o=i;const l=n=>e*n*n-t;let c,u=r,h=[];for(c=0;c<n;c++)h.push({x:u,y:l(u)}),u=ja(u,e,t,o);return h},Ka=(0,s.nY)({id:"main",state:()=>({zoomTransform:Br({k:1,x:0,y:0}),grid:!1,snap:!0,bfocus:!1,bvalid:!1,clipboardAreas:[],clipboardRows:[],tool:"select",ignoreNextSelection:!1,selectedZone:null,lockedZones:[],selection:[],dragging:!1,draggingPolygonPoint:!1,draggingPolygonPointId:0,dragged:!1,dragStartX:0,dragStartY:0,plan:Xa.plan,section_label:window.localStorage.getItem("section_label")?JSON.parse(window.localStorage.getItem("section_label")):[],temp_ox:0,temp_oy:0}),getters:{cursor:e=>{switch(e.tool){case"select":case"seatselect":return"default";case"circle":case"rectangle":case"polygon":case"ellipse":case"text":case"roundTable":case"rectangleTable":case"gaSquare":case"gaCircle":case"gaPolygon":case"rows":case"row":case"stgrows":return"crosshair";case"hand":return"grab";case"handon":return"grabbing";default:return"default"}}},actions:{set_Ox(e){this.temp_ox=e},set_Oy(e){this.temp_oy=e},setBvalid(e){this.bvalid=e},loadPlan(e){const t=Na();t.loadPlan(e),this.selectedZone=t.plan.zones[0].uuid,this.selection=[]},toggleGrid(){this.grid=!this.grid,window.localStorage.setItem("grid_enabled",this.grid?"true":"false")},toggleSnap(){this.snap=!this.snap,window.localStorage.setItem("snap_enabled",this.snap?"true":"false")},setSectionLabel(e){this.section_label=e,window.localStorage.setItem("section_label",JSON.stringify(e))},removeSectionLabel(e){this.section_label=this.section_label.filter((t=>t.id!==e)),window.localStorage.setItem("section_label",this.section_label)},disableGrid(){this.grid=!1,window.localStorage.setItem("grid_enabled","false")},toggleZoneLock(e){this.lockedZones.includes(e)?this.lockedZones=this.lockedZones.filter((t=>t!==e)):(this.lockedZones.push(e),this.selection=[])},selectAllInZone(e){if(this.lockedZones.includes(e))return;this.selectedZone!==e&&(this.selectedZone=e),this.selection=[];const t=Na(),n=t.plan.zones.find((e=>e.uuid===this.selectedZone));if("seatselect"===this.tool)for(const o of n.rows)for(const e of o.seats)this.selection.push(e.uuid);else{for(const e of n.rows)this.selection.push(e.uuid);for(const e of n.areas)this.selection.push(e.uuid)}},selectZone(e){this.selectedZone!==e&&(this.selectedZone=e,this.selection=[])},unselect(e){this.selection=this.selection.filter((t=>!e.includes(t)))},setSelection(e,t,n){if(this.selection=[],t&&this.selection.length>0)for(const o of e)this.selection.includes(o)||this.selection.push(o);else this.selectedZone=t,this.selection=e},toggleSelection(e,t,n){if(this.ignoreNextSelection)this.ignoreNextSelection=!1;else if(t&&this.selection.length>0)for(const o of e)this.selection.includes(o)?this.selection=this.selection.filter((e=>e!==o)):this.selection.push(o);else this.selectedZone=n,1===this.selection.length&&e.filter((e=>this.selection.includes(e))).length?this.selection=[]:this.selection=e},changeTool(e){const t=["rows","row","stgrows","select","rowCircle","rowCircleFixedCenter"],n=e===this.tool||("rows"===this.tool||"row"===this.tool||"stgrows"===this.tool)&&"select"===e||t.includes(this.tool)&&t.includes(e);n||(this.selection=[]),this.tool=e,this.bfocus=!1,"focusPoint"===e&&(this.bfocus=!0)},clearSelection(){this.selection=[]},startDragging(e,t,n,o,r){this.selection.includes(e)||(t?this.selection.push(e):(this.selection=[e],this.selectedZone=r),this.ignoreNextSelection=!0),this.dragging=!0,this.draggingPolygonPoint=!1,this.dragged=!1,this.dragStartX=n,this.dragStartY=o},startDraggingPolygonPoint(e,t,n,o,r,a){this.selection.includes(e)&&(this.dragging=!0,this.draggingPolygonPoint=!0,this.draggingPolygonPointId=t,this.dragged=!1,this.dragStartX=o,this.dragStartY=r)},stopDragging(){this.dragging&&this.dragged&&Xa.persistPlan(),this.dragging=!1,this.dragged=!1},selectAll(){if(this.selection=[],"seatselect"===this.tool){const e=Na();for(const t of e.plan.zones)if(!this.lockedZones.includes(t.uuid))for(const e of t.rows)for(const t of e.seats)this.selection.push(t.uuid)}else{const e=Na();for(const t of e.plan.zones)if(!this.lockedZones.includes(t.uuid)){for(const e of t.rows)0!==e.seats.length&&this.selection.push(e.uuid);for(const e of t.areas)this.selection.push(e.uuid)}}},calculateQuadraticCoefficients(e,t,n,o,r,a){let s=(e-n)*(e-r)*(n-r),i=(t*(n-r)+o*(r-e)+a*(e-n))/s,l=(t*(n*n-r*r)+o*(r*r-e*e)+a*(e*e-n*n))/s,c=(t*(r-n)*n*r+o*(e-r)*e*r+a*(n-e)*e*n)/s;return{a:i,b:l,c:c}},calculateCircleCenter(e,t,n,o,r,a){const s=(e+n)/2,i=(t+o)/2,l=(n+r)/2,c=(o+a)/2,u=(o-t)/(n-e),h=(a-o)/(r-n),d=-1/u,p=-1/h,f=i-d*s,g=c-p*l,m=(g-f)/(d-p),y=d*m+f;return{x:m,y:y}},findPointOnLine(e,t,n,o,r){const a=n-e,s=o-t,i=Math.sqrt(a*a+s*s),l=a/i,c=s/i,u=-c,h=l,d=Math.max(1,(e+n)/2+r*u),p=Math.max(1,(t+o)/2+r*h);return{x:d,y:p}},curveRows(e){const t=Na();for(const n of t.plan.zones)if(!this.lockedZones.includes(n.uuid))for(const t of n.rows){if(!this.selection.includes(t.uuid)||t.seats.length<2)continue;t.curve=e/10;const n=t.seats[0].position.x,o=t.seats[0].position.y,r=t.seats[t.seats.length-1].position.x,a=t.seats[t.seats.length-1].position.y;if(t.seats.length<=2)return;if(0===e){const e=(r-n)/(t.seats.length-1),s=(a-o)/(t.seats.length-1);for(let r=0;r<t.seats.length;r++)t.seats[r].position.x=n+e*r,t.seats[r].position.y=o+s*r}else{const s=e/150/100,i=1e4*s,l=Da(s,i,t.seats.length);let c;for(c=0;c<t.seats.length;c++){let e=l[c].x+100,s=l[c].y,i=(r-n)/200,u=(a-o)/200,h=(o-a)/200,d=(r-n)/200,p=i*e+h*s,f=u*e+d*s;t.seats[c].position.x=p,t.seats[c].position.y=f}}}Xa.persistPlan()},circleRows(e,t,n){const o=Na();for(const r of o.plan.zones)if(!this.lockedZones.includes(r.uuid))for(const o of r.rows){if(!this.selection.includes(o.uuid)||0===o.seats.length)continue;const a=o.seats[0].position.x,s=o.seats[0].position.y,i=o.seats[o.seats.length-1].position.x,l=o.seats[o.seats.length-1].position.y,c=Math.sqrt((i-a)*(i-a)+(l-s)*(l-s)),u=e-o.position.x-r.position.x,h=t-o.position.y-r.position.y,d=Math.sign((u-a)*(l-s)-(h-s)*(i-a));let p,f,g;if(n)p=Math.sqrt((u-a)*(u-a)+(h-s)*(h-s)),f=u,g=h;else{p=Math.max(Math.abs((u-a)*(l-s)-(h-s)*(i-a))/c,c/2);const e=pa({x1:a,y1:s,x2:i,y2:l,radius:p,sign:d});f=e.cx,g=e.cy}let m=fa(s-g,a-f),y=fa(l-g,i-f);y-m>Math.PI?m+=2*Math.PI:m-y>Math.PI&&(y+=2*Math.PI),Math.abs(c/2-p)<1e-5&&(m<=Math.PI&&d<0&&y>m?y-=2*Math.PI:m>=Math.PI&&d>0&&y<m&&(y+=2*Math.PI));const v=(y-m)/(o.seats.length-1);for(const[e,t]of o.seats.entries())t.position.x=f+p*Math.cos(m+v*e),t.position.y=g-p*Math.sin(m+v*e)}Xa.persistPlan()},moveSelected(e,t){const n=Na();for(const o of n.plan.zones)if(!this.lockedZones.includes(o.uuid)){for(const n of o.rows){this.selection.includes(n.uuid)&&(n.position.x+=e,n.position.y+=t);for(const o of n.seats)this.selection.includes(o.uuid)&&(o.position.x+=e,o.position.y+=t)}for(const n of o.areas)this.selection.includes(n.uuid)&&(n.position.x+=e,n.position.y+=t)}Xa.persistPlan()},moveDragging(e,t,n,o){if(!this.dragging)return;let r=e-this.dragStartX,a=t-this.dragStartY;if((Math.abs(r)>0||Math.abs(a)>0)&&(this.dragged=!0),"select"===this.tool||"seatselect"===this.tool||"polygon"===this.tool){const o=Na();for(const s of o.plan.zones)if(!this.lockedZones.includes(s.uuid)){if(!this.draggingPolygonPoint)for(const o of s.rows){if(this.selection.includes(o.uuid)&&(o.position.x+=r,o.position.y+=a,n)){const i=o.position;o.position=ua({x:o.position.x,y:o.position.y,zone:s}),o.position.x===i.x&&o.position.y===i.y||(r+=o.position.x-i.x,a+=o.position.y-i.y,e+=o.position.x-i.x,t+=o.position.y-i.y),n=!1}for(const i of o.seats)if(this.selection.includes(i.uuid)&&(i.position.x+=r,i.position.y+=a,n)){const l=i.position;i.position=ua({x:i.position.x+o.position.x,y:i.position.y+o.position.y,zone:s}),i.position.x-=o.position.x,i.position.y-=o.position.y,i.position.x===l.x&&i.position.y===l.y||(r+=i.position.x-l.x,a+=i.position.y-l.y,e+=i.position.x-l.x,t+=i.position.y-l.y),n=!1}}for(const o of s.areas)if(this.selection.includes(o.uuid))if(this.draggingPolygonPoint){if("polygon"!==o.shape&&"gaPolygon"!==o.shape){console.warn("trying to move polygon points, but shape is not a polygon");continue}let i=o.polygon.points[this.draggingPolygonPointId];if(i.x+=r,i.y+=a,n){const l=i;i=ua({x:i.x,y:i.y,zone:s}),o.polygon.points[this.draggingPolygonPointId]=i,i.x===l.x&&i.y===l.y||(r+=i.x-l.x,a+=i.y-l.y,e+=i.x-l.x,t+=i.y-l.y),n=!1}}else if(o.position.x+=r,o.position.y+=a,n){const i=o.position;o.position=ua({x:o.position.x,y:o.position.y,zone:s}),o.position.x===i.x&&o.position.y===i.y||(r+=o.position.x-i.x,a+=o.position.y-i.y,e+=o.position.x-i.x,t+=o.position.y-i.y),n=!1}}}this.dragStartX=e,this.dragStartY=t},moveRotating(e,t,n){const o=n/Math.PI*180,r=Na(),a=Na();for(const s of a.plan.zones){if(this.lockedZones.includes(s.uuid))continue;const r=e-s.position.x,a=t-s.position.y;for(const e of s.rows){let t=0,s=0;this.selection.includes(e.uuid)&&(t=Math.cos(n)*(e.position.x-r)-Math.sin(n)*(e.position.y-a)+r-e.position.x,s=Math.sin(n)*(e.position.x-r)+Math.cos(n)*(e.position.y-a)+a-e.position.y);const i=r-e.position.x,l=a-e.position.y;for(const o of e.seats)if(this.selection.includes(o.uuid)||this.selection.includes(e.uuid)){const e=o.position.x,r=o.position.y;o.position.x=Math.cos(n)*(e-i)-Math.sin(n)*(r-l)+i-t,o.position.y=Math.sin(n)*(e-i)+Math.cos(n)*(r-l)+l-s}t&&(e.position.x+=t),s&&(e.position.y+=s),e.rotation=Math.round((e.rotation+o+360)%360)}for(const e of s.areas)if(this.selection.includes(e.uuid)){const t=e.position.x,s=e.position.y;e.position.x=Math.cos(n)*(t-r)-Math.sin(n)*(s-a)+r,e.position.y=Math.sin(n)*(t-r)+Math.cos(n)*(s-a)+a,e.rotation=l((e.rotation+o)%360,2),e.rotation<0&&(e.rotation+=360)}}r.persistPlan()},moveResizing(e,t,n){const o=Na();for(const r of o.plan.zones){if(this.lockedZones.includes(r.uuid))continue;const o=e-r.position.x,a=t-r.position.y;for(const e of r.rows)if(this.selection.includes(e.uuid)){e.position.x=o+(e.position.x-o)*n,e.position.y=a+(e.position.y-a)*n;for(const t of e.seats)t.position.x*=n,t.position.y*=n}for(const e of r.areas)if(this.selection.includes(e.uuid)){if("roundTable"===e.shape||"rectangleTable"===e.shape)return;switch(e.position.x=o+(e.position.x-o)*n,e.position.y=a+(e.position.y-a)*n,e.shape){case"rectangle":e.rectangle.width*=n,e.rectangle.height*=n;break;case"gaSquare":e.rectangle.width*=n,e.rectangle.height*=n,e.text.position.x=l(e.rectangle.width/2,4),e.text.position.y=l(e.rectangle.height/2,4);break;case"circle":e.circle.radius*=n;break;case"ellipse":case"gaCircle":e.ellipse.radius.x*=n,e.ellipse.radius.y*=n;break;case"polygon":for(let t of e.polygon.points)t.x*=n,t.y*=n;break;case"text":e.text.size=(e.text.size?e.text.size:16)*n;break;default:console.warn("Unknown shape type",e.shape)}}}},setZoomTransform(e){this.zoomTransform=e},copy(e,t){t=void 0===t?100:t,this.clipboardAreas=[],this.clipboardRows=[];const n=e=>JSON.parse(JSON.stringify(e)),o=Na();for(const r of o.plan.zones){if(this.lockedZones.includes(r.uuid))continue;const o=r.rows.filter((t=>e.includes(t.uuid))).map(n);for(const e of o)e.position.x+=r.position.x+t,e.position.y+=r.position.y;this.clipboardRows.push(...o);const a=r.areas.filter((t=>e.includes(t.uuid))).map(n);for(const e of a)e.position.x+=r.position.x+t,e.position.y+=r.position.y;this.clipboardAreas.push(...a)}},cut(e){this.copy(e,0),Xa.deleteObjects(e)},paste(){const e=Na(),t=e.plan.zones.find((e=>e.uuid===this.selectedZone));let n;const o=[];for(let r of this.clipboardRows){r=JSON.parse(JSON.stringify(r)),n=Ea(),r.uuid=n;for(const e of r.seats)e.uuid=Ea(),e.guid=c(),e.seat_guid=t.zone_id+"-"+r.row_number.toString()+"-"+e.seat_number.toString();o.push(r.uuid),r.position.x-=t.position.x,r.position.y-=t.position.y,t.rows.push(r)}for(let r of this.clipboardAreas){if(r=JSON.parse(JSON.stringify(r)),n=Ea(),r.uuid=n,r.guid=c(),r.position.x-=t.position.x,r.position.y-=t.position.y,"roundTable"===r.shape||"rectangleTable"===r.shape)for(const e of r.seats)e.uuid=Ea(),e.guid=c();t.areas.push(r),o.push(n)}this.ignoreNextSelection=!1,this.toggleSelection(o,!1,t.uuid),Xa.persistPlan()}}});var Ba={__name:"MagnifierView",setup(e){const t=Ka(),n=Na(),a=(0,o.EW)((()=>n.plan)),s=(0,o.EW)((()=>t.zoomTransform)),i=(0,r.KR)((0,o.EW)((()=>Math.round(100*t.zoomTransform.k)))),l=e=>{e.target.value>999||(s.value.k=e.target.value/100)},c=e=>{e<.05&&(e=.05),s.value.k=e},u=()=>{const e=document.getElementById("svg"),t=e.clientHeight,n=e.clientWidth,o=a.value.size.height?Math.min((n-130)/a.value.size.width,(t-130)/a.value.size.height):1,r=Kr.scale(o).translate((n/o-a.value.size.width)/2,(t/o-a.value.size.height)/2);s.value.x=r.x,s.value.y=r.y,s.value.k=r.k};return(e,t)=>{const n=(0,o.g2)("v-icon"),r=(0,o.g2)("v-tooltip"),a=(0,o.g2)("v-btn"),s=(0,o.g2)("v-text-field");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(a,{class:"zoom-btn",onClick:t[0]||(t[0]=e=>c((i.value-10)/100))},{default:(0,o.k6)((()=>[(0,o.bF)(n,{color:"black",icon:"mdi-minus",size:"large"}),(0,o.bF)(r,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Zoom out")])),_:1})])),_:1}),(0,o.bF)(s,{"append-inner-icon":"mdi-percent-outline",modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e),class:"custom-input-1",onChange:l,type:"number","solo-inverted":"",flat:""},null,8,["modelValue"]),(0,o.bF)(a,{class:"zoom-btn",onClick:t[2]||(t[2]=e=>c((i.value+10)/100))},{default:(0,o.k6)((()=>[(0,o.bF)(n,{color:"black",icon:"mdi-plus",size:"large"}),(0,o.bF)(r,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Zoom In")])),_:1})])),_:1}),(0,o.bF)(a,{onClick:u},{default:(0,o.k6)((()=>[(0,o.bF)(n,{color:"black",icon:"mdi-fullscreen",size:"large"}),(0,o.bF)(r,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Fit Screen")])),_:1})])),_:1})],64)}}};const Va=Ba;var Ya=Va;var qa={__name:"CheckModal",setup(e){const t=(0,o.EW)((()=>Na().plan)),n=(0,o.EW)((()=>Na().validationPlan())),a=(0,o.EW)((()=>Ka().section_label)),s=(0,o.EW)((()=>Ka().bvalid)),i=Ka(),l=()=>{i.setBvalid(!s.value)},c=(0,o.EW)((()=>n.value.isValid)),u=(0,o.EW)((()=>Na().validatePosition())),h=(0,o.EW)((()=>{let e=0;return a.value.forEach((n=>{for(const o of t.value.zones){const t=[];for(const e of o.rows)for(const o of e.seats)o.section_label===n.label&&t.push(`${e.row_number}${o.seat_number}`);const r=[...new Set(t)];e+=t.length-r.length}})),e}));(0,r.KR)(!1),(0,r.KR)(!1);return(e,t)=>{const n=(0,o.g2)("v-icon"),r=(0,o.g2)("v-tooltip"),a=(0,o.g2)("v-btn");return(0,o.uX)(),(0,o.Wv)(a,{class:"btn",onClick:l},{default:(0,o.k6)((()=>[c.value||h.value||u.value?((0,o.uX)(),(0,o.Wv)(n,{key:1,color:"red",icon:"mdi-close-circle",size:"large"})):((0,o.uX)(),(0,o.Wv)(n,{key:0,color:"green",icon:"mdi-check-circle",size:"large"})),(0,o.bF)(r,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Validation")])),_:1})])),_:1})}}};const Ua=qa;var Ha=Ua,Ga=n(5246);const Qa={class:"text-center"};var Za={__name:"ExportModal",props:{export:Function},setup(e){const t=(0,r.KR)(!1),n=Na(),a=(0,r.KR)("hereis.topdev@gmail.com"),s=((0,r.KR)(""),(0,r.KR)(""),(0,r.KR)(""),e=>a.value=e.target.value),i=(0,o.EW)((()=>n.validationPlan().isValid)),l=e,c=()=>{l.export(a.value),t.value=!1},u=(0,Ga.dj)(),h=()=>{i.value?u.error("Validation Error!",{timeout:1e3}):t.value=!0};return(e,n)=>{const r=(0,o.g2)("v-icon"),i=(0,o.g2)("v-btn"),l=(0,o.g2)("v-text-field"),u=(0,o.g2)("v-card-text"),d=(0,o.g2)("v-divider"),p=(0,o.g2)("v-spacer"),f=(0,o.g2)("v-card-actions"),g=(0,o.g2)("v-card"),m=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{class:"btn",onClick:h},{default:(0,o.k6)((()=>[(0,o.bF)(r,{color:"black",icon:"mdi-download",size:"large"}),(0,o.eW)("Export ")])),_:1}),(0,o.Lk)("div",Qa,[(0,o.bF)(m,{modelValue:t.value,"onUpdate:modelValue":n[2]||(n[2]=e=>t.value=e),width:"400"},{default:(0,o.k6)((()=>[(0,o.bF)(g,{"prepend-icon":"mdi-download",title:"Save / Email Chart"},{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)(" Once your chart is complete, download the chart file so it can be imported into BookTix. A copy of the chart is also emailed to you based on the below email address. "),(0,o.bF)(l,{label:"Email Address",required:"",clearable:"",modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),onChange:s,style:{"margin-top":"30px"}},null,8,["modelValue"])])),_:1}),(0,o.bF)(d),(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{text:"Close",variant:"plain",onClick:n[1]||(n[1]=e=>t.value=!1)}),(0,o.bF)(p),(0,o.bF)(i,{color:"primary",text:"Download & Email",variant:"tonal",onClick:c})])),_:1})])),_:1})])),_:1},8,["modelValue"])])],64)}}};const Ja=Za;var es=Ja,ts=n(3751);const ns={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},os=(0,o.Lk)("path",{d:"M17.7,0H7.9C6.7,0,5.6,1,5.6,2.3v2.6H2.3C1,4.9,0,6,0,7.2v10.5C0,19,1,20,2.3,20h9.8c1.3,0,2.3-1,2.3-2.3v-2.6h3.4\r\n\tc1.3,0,2.3-1,2.3-2.3V2.3C20,1,19,0,17.7,0z M13.6,17.7c0,0.9-0.7,1.5-1.5,1.5H2.3c-0.9,0-1.5-0.7-1.5-1.5V7.2\r\n\tc0-0.9,0.7-1.5,1.5-1.5h3.4v7.1c0,1.3,1,2.3,2.3,2.3h5.7V17.7z M19.2,12.8c0,0.9-0.7,1.5-1.5,1.5h-3.4h-0.8H7.9\r\n\tc-0.9,0-1.5-0.7-1.5-1.5V5.7V4.9V2.3c0-0.9,0.7-1.5,1.5-1.5h9.8c0.9,0,1.5,0.7,1.5,1.5V12.8z"},null,-1),rs=[os];function as(e,t){return(0,o.uX)(),(0,o.CE)("svg",ns,rs)}var ss=n(6262);const is={},ls=(0,ss.A)(is,[["render",as]]);var cs=ls;const us={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},hs=(0,o.Lk)("path",{d:"M16.2,8.9c-0.2-0.2-0.4-0.3-0.6-0.4l-1-0.7C12.8,6.4,11,5.1,9.1,3.8C8.3,3.3,7.5,2.7,6.7,2.1L6.1,1.7\r\n\tC5.9,1.6,5.7,1.4,5.5,1.3C5.4,1.3,5.3,1.2,5.1,1.2c-0.4,0-0.7,0.2-0.8,0.6c0,0.1,0,0.3,0,0.4l0.1,1.4c0.1,1.9,0.3,3.8,0.4,5.6\r\n\tc0.1,1.4,0.2,2.8,0.3,4.2l0.1,1.2c0,0.2,0,0.4,0.1,0.6c0,0.2,0.1,0.3,0.2,0.4C5.7,16,6,16.1,6.3,15.9c0.1-0.1,0.2-0.1,0.3-0.2\r\n\tl0.1-0.1c0.2-0.3,0.5-0.6,0.7-0.8c0.5-0.6,0.9-1.2,1.4-1.8L9,12.5l2.7,4.7c0.1,0.2,0.2,0.4,0.3,0.6c0,0.1,0.1,0.1,0.2,0.2\r\n\tc0.1,0.1,0.2,0.1,0.3,0.2c0,0,0.1,0,0.1,0c0.1,0,0.2,0,0.3,0c0.1,0,0.2-0.1,0.3-0.1c0.5-0.3,0.9-0.5,1.3-0.8\r\n\tc0.1-0.1,0.2-0.1,0.3-0.2l0.1-0.1c0.1-0.1,0.2-0.3,0.2-0.4c0-0.1,0-0.2,0-0.3L15,16.2c-0.1-0.1-0.1-0.3-0.2-0.4\r\n\tc-0.6-1.1-1.2-2.2-1.8-3.3L12,10.8l3.1-0.5c0.2,0,0.5-0.1,0.7-0.1c0.1,0,0.2-0.1,0.3-0.1c0.3-0.2,0.4-0.4,0.4-0.6\r\n\tC16.6,9.4,16.5,9.1,16.2,8.9z M15,9.4l-3.7,0.5c0,0-0.1,0-0.1,0c-0.2,0-0.3,0.2-0.3,0.3c-0.1,0.2,0,0.3,0.1,0.5l1.2,2.2\r\n\tc0.6,1.1,1.2,2.2,1.8,3.3c0,0.1,0.1,0.1,0.1,0.2c0,0,0,0,0,0c-0.4,0.2-0.8,0.5-1.3,0.7c-0.1-0.1-0.2-0.3-0.3-0.4l-3-5.3\r\n\tc-0.1-0.1-0.2-0.2-0.4-0.2c0,0,0,0,0,0c-0.1,0-0.3,0.1-0.4,0.2L8,12.3c-0.5,0.6-0.9,1.2-1.4,1.8c-0.2,0.2-0.3,0.4-0.5,0.6\r\n\tc0,0,0,0,0,0l-0.1-1.2C5.9,12,5.8,10.6,5.7,9.2C5.6,7.3,5.5,5.4,5.3,3.6L5.2,2.3c0.1,0.1,0.2,0.1,0.3,0.2l0.6,0.4\r\n\tC7,3.5,7.8,4,8.6,4.6c1.8,1.3,3.7,2.6,5.5,3.9l1,0.7c0.1,0,0.1,0.1,0.2,0.1C15.2,9.4,15.1,9.4,15,9.4z"},null,-1),ds=[hs];function ps(e,t){return(0,o.uX)(),(0,o.CE)("svg",us,ds)}const fs={},gs=(0,ss.A)(fs,[["render",ps]]);var ms=gs;const ys={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},vs=(0,o.Lk)("path",{d:"M9.6,0.1C7.2,0.1,4.9,1,3.2,2.4L2.4,1.7c0,0-0.1-0.1-0.1-0.1C2,1.4,1.7,1.2,1.4,0.9C1.3,0.9,1.2,0.8,1,0.9\r\n\tC0.6,1,0.5,1.2,0.5,1.6c0.1,1.2,0.2,2.5,0.3,3.7c0,0.2,0,0.4,0.1,0.6c0,0.4,0.3,0.6,0.7,0.7c0.1,0,0.1,0,0.2,0\r\n\tC3.1,6.5,4.6,6.4,6,6.3c0.1,0,0.2,0,0.2,0c0.1,0,0.2-0.1,0.3-0.2c0.2-0.3,0.3-0.7,0-1C6.1,4.9,5.9,4.6,5.6,4.4c0,0-0.1-0.1-0.1-0.1\r\n\tL4.1,3.2C5.6,2,7.5,1.3,9.6,1.3c4.8,0,8.7,3.9,8.7,8.7s-3.9,8.7-8.7,8.7c-1.8,0-3.5-0.6-4.9-1.5c-0.9-0.6-1.6-1.3-2.2-2.2l-0.9,0.9\r\n\tc0.4,0.6,0.9,1.1,1.5,1.6c1.7,1.5,4,2.4,6.4,2.4c5.5,0,9.9-4.5,9.9-9.9S15,0.1,9.6,0.1z"},null,-1),bs=[vs];function ws(e,t){return(0,o.uX)(),(0,o.CE)("svg",ys,bs)}const xs={},_s=(0,ss.A)(xs,[["render",ws]]);var ks=_s;const Cs={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},Ss=(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M16.1,5.9c-2.1,0-4.1,0-6.2,0c0,0,0,0,0,0c-2,0-4.1,0-6.1,0c-1,0-1.2,0.2-1.1,1.2c0.2,2.2,0.4,4.5,0.6,6.7\r\n\t\tc0.2,1.7,0.3,3.4,0.5,5.2C3.9,19.8,4.2,20,5.2,20c3.1,0,6.3,0,9.4,0c1.2,0,1.6-0.3,1.7-1.5c0.4-3.8,0.7-7.6,1.1-11.3\r\n\t\tC17.4,6.1,17.2,5.9,16.1,5.9z M6.8,18.6c-0.5,0-0.7-0.3-0.7-0.7c-0.1-1.6-0.2-3.2-0.3-4.8c0,0,0,0,0,0c-0.1-1.6-0.2-3.1-0.3-4.7\r\n\t\tc0-0.5,0.2-0.8,0.7-0.8c0.5,0,0.7,0.3,0.7,0.7c0.2,3.2,0.4,6.3,0.6,9.5C7.5,18.3,7.3,18.6,6.8,18.6z M10,18.6c-0.1,0-0.1,0-0.2,0\r\n\t\tc-0.4-0.1-0.6-0.3-0.6-0.8c0-1.6,0-3.2,0-4.8c0,0,0,0,0,0c0-1.5,0-3.1,0-4.6c0-0.5,0.1-0.8,0.6-0.9c0,0,0,0,0.1,0c0,0,0,0,0,0\r\n\t\tc0,0,0,0,0,0c0,0,0,0,0,0c0.6,0,0.7,0.4,0.7,0.9c0,1.5,0,3.1,0,4.6c0,0,0,0,0,0c0,1.5,0,3.1,0,4.6C10.7,18.2,10.6,18.6,10,18.6zM14.5,8.4c0,0.2,0,0.5,0,0.7c0,0,0,0,0,0c-0.2,2.9-0.4,5.9-0.5,8.8c0,0.5-0.2,0.8-0.7,0.7c-0.5,0-0.7-0.3-0.7-0.8\r\n\t\tc0.2-3.2,0.4-6.3,0.6-9.5c0-0.4,0.3-0.7,0.8-0.7C14.3,7.7,14.5,7.9,14.5,8.4z"})],-1),Es=(0,o.Lk)("path",{d:"M18.3,2.3c-1.2,0-2.4,0-3.5,0c-0.4,0-0.6-0.1-0.7-0.6c-0.2-1-0.9-1.7-1.9-1.7c-0.7,0-1.3,0-2,0l0,0c0,0-0.1,0-0.1,0\r\n\tS9.9,0,9.9,0l0,0c-0.7,0-1.3,0-2,0C6.9,0,6.2,0.7,6,1.7C5.9,2.2,5.7,2.3,5.3,2.3c-1.2,0-2.3,0-3.5,0C1.4,4.7,1.4,4.7,3.5,4.7\r\n\tc2.1,0,4.2,0,6.4,0l0,0c0,0,0.1,0,0.1,0s0.1,0,0.1,0l0,0c2.1,0,4.2,0,6.4,0C18.6,4.7,18.6,4.7,18.3,2.3z M10.1,2.2\r\n\tc-0.1,0-0.1,0-0.2,0c-0.8,0-1.7,0-2.5,0c0.1-0.8,0.6-1,1.1-1c0.5,0,1,0,1.5,0c0.5,0,1,0,1.5,0c0.5,0,1,0.3,1.1,1\r\n\tC11.8,2.2,10.9,2.2,10.1,2.2z"},null,-1),$s=[Ss,Es];function Ps(e,t){return(0,o.uX)(),(0,o.CE)("svg",Cs,$s)}const Ms={},Ts=(0,ss.A)(Ms,[["render",Ps]]);var zs=Ts;const Fs={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},Is=(0,o.Lk)("path",{d:"M15.6,8.7C13.3,7.1,11,5.5,8.7,3.9C7.6,3.1,6.5,2.4,5.4,1.6C5.2,1.5,5,1.4,4.8,1.3c-0.1,0-0.1-0.1-0.2-0.1\r\n\tc-0.1,0-0.3,0.1-0.3,0.2c0,0.1,0,0.2,0,0.3c0.2,2.5,0.4,5,0.5,7.5C5,11.1,5.1,13.1,5.3,15c0,0.2,0,0.4,0.1,0.6\r\n\tc0,0.1,0.1,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0c0.1,0,0.1-0.1,0.2-0.2c0.3-0.3,0.6-0.7,0.9-1c0.7-0.9,1.5-1.8,2.2-2.7\r\n\tc0,0,0-0.1,0.1-0.1c0.1,0.1,0.2,0.3,0.2,0.4c1,1.7,2,3.5,3,5.2c0.1,0.2,0.2,0.4,0.4,0.6c0,0.1,0.1,0.1,0.2,0.2c0,0,0,0,0.1,0\r\n\tc0.1,0,0.2-0.1,0.3-0.1c0.5-0.3,1-0.5,1.4-0.8c0.1-0.1,0.2-0.2,0.3-0.2c0,0,0-0.1,0-0.1c-0.1-0.2-0.1-0.4-0.2-0.5\r\n\tc-0.7-1.3-1.4-2.5-2.2-3.8c-0.4-0.7-0.8-1.4-1.2-2c0,0,0,0-0.1-0.1c0,0,0.1,0,0.1,0c1.3-0.2,2.7-0.4,4-0.6c0.3,0,0.5-0.1,0.8-0.1\r\n\tc0.1,0,0.1,0,0.2-0.1c0.2-0.1,0.2-0.3,0-0.5C16.1,9.1,15.9,8.9,15.6,8.7z"},null,-1),Ls=[Is];function Rs(e,t){return(0,o.uX)(),(0,o.CE)("svg",Fs,Ls)}const As={},Ns=(0,ss.A)(As,[["render",Rs]]);var Xs=Ns;const Os={version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"64.000000pt",height:"64.000000pt",viewBox:"0 0 64.000000 64.000000",preserveAspectRatio:"xMidYMid meet"},js=(0,o.Lk)("g",{transform:"translate(0.000000,64.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none"},[(0,o.Lk)("path",{d:"M300 580 c-6 -11 -17 -17 -24 -14 -8 3 -24 1 -35 -6 -20 -10 -21 -19\r\n-21 -136 l0 -125 -29 17 c-32 19 -78 13 -88 -11 -7 -21 107 -224 141 -249 23\r\n-18 42 -21 120 -21 101 0 134 11 163 54 15 22 19 55 21 214 3 163 2 191 -13\r\n213 -12 19 -23 25 -40 22 -14 -3 -26 2 -34 14 -7 11 -23 18 -41 18 -18 0 -33\r\n6 -36 15 -9 23 -71 20 -84 -5z m70 -120 c0 -148 18 -162 22 -17 3 101 3 102\r\n28 102 25 0 25 -1 28 -102 3 -125 22 -139 22 -18 0 67 3 87 15 91 8 4 22 1 30\r\n-6 12 -10 15 -44 15 -179 0 -259 -11 -276 -166 -276 -76 0 -96 3 -113 19 -28\r\n26 -133 214 -126 226 11 18 45 11 71 -15 14 -14 29 -25 34 -25 5 0 11 64 12\r\n143 3 134 4 142 23 142 19 0 20 -8 23 -102 4 -141 22 -133 22 10 0 63 3 117 7\r\n120 3 4 17 7 30 7 23 0 23 -1 23 -120z"})],-1),Ws=[js];function Ds(e,t){return(0,o.uX)(),(0,o.CE)("svg",Os,Ws)}const Ks={},Bs=(0,ss.A)(Ks,[["render",Ds]]);var Vs=Bs,Ys={__name:"MainTools",props:{selectionBoundary:Function},setup(e){const t=Ka(),n=(0,r.KR)((0,o.EW)((()=>t.tool))),s=e=>t.changeTool(e),l=Na(),c=i(),u=((0,r.KR)((0,o.EW)((()=>c.hand_selected))),(0,r.KR)((0,o.EW)((()=>c.select_selected))),(0,r.KR)((0,o.EW)((()=>c.dselect_selected))),(0,r.KR)((0,o.EW)((()=>l.hasUndo)))),h=l.undo,d=e,p=()=>{t.selection.length&&(t.copy(t.selection,d.selectionBoundary().width+20),t.paste())},f=(0,o.EW)((()=>t.selection())),g=()=>Na().deleteObjects(f),m=()=>{c.select_toggle(!1),c.dselect_toggle(!1),c.set_hand_false(),t.clearSelection()};function y(e){"Escape"===e.key&&m()}return(0,o.sV)((()=>{window.addEventListener("keydown",y)})),(0,o.hi)((()=>{window.removeEventListener("keydown",y)})),(e,t)=>{const i=(0,o.g2)("v-tooltip"),l=(0,o.g2)("v-btn"),c=(0,o.g2)("v-toolbar-items");return(0,o.uX)(),(0,o.Wv)(c,{class:"border-left"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{onClick:t[0]||(t[0]=e=>s("select")),class:(0,a.C4)("select"==n.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(i,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Select")])),_:1}),(0,o.bF)(Xs,{width:"20px",height:"20px"})])),_:1},8,["class"]),(0,o.bF)(l,{onClick:t[1]||(t[1]=e=>s("seatselect")),class:(0,a.C4)("seatselect"==n.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(i,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Direct Select")])),_:1}),(0,o.bF)(ms,{width:"20px",height:"20px"})])),_:1},8,["class"]),(0,o.bF)(l,{onClick:p},{default:(0,o.k6)((()=>[(0,o.bF)(i,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Copy")])),_:1}),(0,o.bF)(cs,{width:"20px",height:"20px"})])),_:1}),(0,o.bF)(l,{onClick:(0,r.R1)(h),disabled:!u.value},{default:(0,o.k6)((()=>[(0,o.bF)(i,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Undo")])),_:1}),(0,o.bF)(ks,{width:"20px",height:"20px"})])),_:1},8,["onClick","disabled"]),(0,o.bF)(l,{onClick:t[2]||(t[2]=e=>s("hand")),class:(0,a.C4)("hand"==n.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(i,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Hand")])),_:1}),(0,o.bF)(Vs,{width:"20px",height:"20px"})])),_:1},8,["class"]),(0,o.bF)(l,{class:"btn",onClick:(0,ts.D$)(g,["prevent"])},{default:(0,o.k6)((()=>[(0,o.bF)(i,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Delete")])),_:1}),(0,o.bF)(zs,{width:"20px",height:"20px"})])),_:1})])),_:1})}}};const qs=Ys;var Us=qs,Hs={sampleplan:{name:"My Seating Chart",categories:[],sections:[],zones:[{name:"Ground floor",position:{x:0,y:0},rows:[],areas:[]}],size:{width:900,height:900},point:{x:0,y:0},mode:!1}},Gs={__name:"FileTool",props:{importSVG:Function},setup(e){Ka();const t=()=>{if(window.confirm("Do you want to start a new plan? Your current plan will be discarded.")){const e=Ka();localStorage.clear("frontrow2.editor.plan"),location.reload(),e.loadPlan(Hs.sampleplan)}};return(n,r)=>{const a=(0,o.g2)("v-icon"),s=(0,o.g2)("v-tooltip"),i=(0,o.g2)("v-btn"),l=(0,o.g2)("v-toolbar-items");return(0,o.uX)(),(0,o.Wv)(l,{class:"border-left"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{color:"primary",style:{"margin-left":"10px"},onClick:t},{default:(0,o.k6)((()=>[(0,o.bF)(a,{color:"black",icon:"mdi-file",size:"large"}),(0,o.bF)(s,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("New")])),_:1})])),_:1}),(0,o.bF)(i,{class:"btn",onClick:e.importSVG},{default:(0,o.k6)((()=>[(0,o.bF)(a,{color:"black",icon:"mdi-folder",size:"large"}),(0,o.bF)(s,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Import")])),_:1})])),_:1},8,["onClick"])])),_:1})}}};const Qs=Gs;var Zs=Qs;const Js={width:"800px",height:"800px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ei=(0,o.Lk)("path",{d:"M10 4H6V1H5v3H1v1h4v4H1v1h4v4H1v1h4v4H1v1h4v3h1v-3h4v3h1V1h-1zM6 5h4v4H6zm0 5h4v4H6zm0 9v-4h4v4zM17.8 6H12v4h5.8a2 2 0 0 1 0 4H12v4h5.8a6 6 0 0 0 0-12zM13 7h2v2h-2zm0 8h2v2h-2zm4.8 2H16v-2h1.8a3 3 0 0 0 0-6H16V7h1.8a5 5 0 0 1 0 10z"},null,-1),ti=(0,o.Lk)("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),ni=[ei,ti];function oi(e,t){return(0,o.uX)(),(0,o.CE)("svg",Js,ni)}const ri={},ai=(0,ss.A)(ri,[["render",oi]]);var si=ai;const ii=(0,s.nY)("toolbarstore",{state:()=>({bSnap2Grid:!1}),actions:{changeSnap2Grid(){this.bSnap2Grid=!this.bSnap2Grid}}});var li={__name:"GridView",setup(e){i();const t=(0,r.KR)((0,o.EW)((()=>s.grid))),n=(0,r.KR)((0,o.EW)((()=>s.snap))),s=Ka(),l=ii(),c=()=>s.toggleSnap(),u=()=>s.toggleGrid();(0,r.KR)((0,o.EW)((()=>l.bSnap2Grid)));return(e,r)=>{const s=(0,o.g2)("v-tooltip"),i=(0,o.g2)("v-icon"),l=(0,o.g2)("v-btn");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(l,{onClick:u,class:(0,a.C4)(t.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(s,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Grid")])),_:1}),1==t.value?((0,o.uX)(),(0,o.Wv)(i,{key:0,color:"black",icon:"mdi-grid",size:"large"})):(0,o.Q3)("",!0),0==t.value?((0,o.uX)(),(0,o.Wv)(i,{key:1,color:"black",icon:"mdi-grid-off",size:"large"})):(0,o.Q3)("",!0)])),_:1},8,["class"]),(0,o.bF)(l,{onClick:c,class:(0,a.C4)(n.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(s,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[(0,o.eW)("Snap to Grid")])),_:1}),(0,o.bF)(si,{width:"20",height:"20"})])),_:1},8,["class"])],64)}}};const ci=li;var ui=ci;n(4443);const hi={style:{display:"flex","align-items":"center","justify-content":"center"}},di={key:0,style:{"margin-left":"8px",display:"flex","align-items":"center"}},pi=(0,o.Lk)("div",{class:"tooltip-content"}," This chart only allows updates. No seats or GA sections can be deleted, only edited or moved. Changes here to seats and GA sections WILL impact already sold tickets, so use this feature with extreme caution ",-1);var fi={__name:"AppToolbar",props:{selectionBoundary:Function},setup(e){const t=Na(),n=(i(),(0,r.KR)((0,o.EW)((()=>t.plan.name)))),s=(0,r.KR)((0,o.EW)((()=>t.plan))),l=Ka(),c=(0,o.EW)((()=>s.value.mode)),u=((0,Ga.dj)(),()=>{const e=document.createElement("input");e.type="file",e.accept=".svg",e.onchange=e=>{const n=new FileReader,o=e.target.files[0];n.onload=function(e){const n=new DOMParser,o=n.parseFromString(e.target.result,"image/svg+xml"),r=(o.querySelector("svg"),o.querySelector("metadata"));if(!r)return void alert("Sorry, this seating map does not look like it was made with the BookTix Seating Chart tool. Please import another map that was created using the BookTix tool.");const a=r.querySelector("booktix-data");if(!a)return void alert("Sorry, this seating map does not look like it was made with the BookTix Seating Chart tool. Please import another map that was created using the BookTix tool.");const s=a.querySelector("chartname"),i=s?s.textContent:null,c=[],u=a.querySelectorAll("categories category");u.forEach((e=>{const t=e.querySelector("name"),n=e.querySelector("color");t&&n&&c.push({name:t.textContent,color:n.textContent})}));const h=[],d=a.querySelectorAll("sections section");if(d.forEach((e=>{const t=e.querySelector("name"),n=e.querySelector("abv");t&&n&&h.push({name:t.textContent,abv:n.textContent})})),!i||0===c.length||0===h.length)return void alert("Sorry, this seating map does not look like it was made with the BookTix Seating Chart tool. Please import another map that was created using the BookTix tool.");console.log(h);const p=h.map((e=>({label:e.name,abv:e.abv,id:Ea()})));l.setSectionLabel(p);const f=o.querySelector("svg").getAttribute("data-json");l.loadPlan(JSON.parse(f)),t.setMode(!1),t.persistPlan();const g=e=>!isNaN(e)&&!isNaN(parseInt(e)),m=r.querySelector("booktik-chart-id"),y=r.querySelector("booktik-chart-sec");if(m&&y){const e=m.textContent.trim(),n=y.textContent.trim();""!==e&&""!==n&&g(e)&&t.setMode(!0)}},n.readAsText(o)},e.click()}),h=e=>{const t=document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,{acceptNode:function(e){return NodeFilter.FILTER_ACCEPT}},!1),n=[];let o=t.nextNode();while(o)n.push(o),o=t.nextNode();return n.forEach((e=>{e.parentNode.removeChild(e)})),e},d=e=>{let t=document.getElementsByClassName("zone")[0],n=document.getElementsByTagName("metadata"),o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),o.setAttribute("version","1.1"),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("viewBox","0 0 900 900"),o.setAttribute("data-json",JSON.stringify(s.value));for(let s=0;s<n.length;s++)o.appendChild(n[s].cloneNode(!0));o.appendChild(t.cloneNode(!0)),o=h(o);const r=s.value.name.replace(/ /g,"_"),a=`booktix_${r.toLowerCase()}_${Date.now()}.svg`;var i=new XMLSerializer,l=i.serializeToString(o),c=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),u=URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download=a||"booktix_name_of_chart_.svg",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(u)},p=(0,o.EW)((()=>({fontSize:"16px",fontWeight:"bold",height:n.value.length<50?"20px":"38.4px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:"2",WebkitBoxOrient:"vertical",whiteSpace:"normal"})));return(t,r)=>{const s=(0,o.g2)("v-icon"),i=(0,o.g2)("v-tooltip"),l=(0,o.g2)("v-toolbar-title"),h=(0,o.g2)("v-toolbar-items"),f=(0,o.g2)("v-toolbar");return(0,o.uX)(),(0,o.Wv)(f,{flat:"",class:"app-toolbar-container"},{default:(0,o.k6)((()=>[(0,o.bF)(Zs,{importSVG:u}),(0,o.bF)(Us,{selectionBoundary:e.selectionBoundary},null,8,["selectionBoundary"]),(0,o.bF)(l,{style:(0,a.Tr)(p.value)},{default:(0,o.k6)((()=>[(0,o.Lk)("div",hi,[(0,o.Lk)("span",{style:(0,a.Tr)(c.value?{color:"#ffcf37"}:{})},(0,a.v_)(n.value),5),c.value?((0,o.uX)(),(0,o.CE)("div",di,[(0,o.bF)(s,{color:"yellow"},{default:(0,o.k6)((()=>[(0,o.eW)(" mdi-star ")])),_:1}),(0,o.bF)(i,{activator:"parent",location:"bottom"},{default:(0,o.k6)((()=>[pi])),_:1})])):(0,o.Q3)("",!0)])])),_:1},8,["style"]),(0,o.bF)(h,{class:"border-left"},{default:(0,o.k6)((()=>[(0,o.bF)(Ya)])),_:1}),(0,o.bF)(h,{class:"border-left"},{default:(0,o.k6)((()=>[(0,o.bF)(ui)])),_:1}),(0,o.bF)(h,{class:"border-left"},{default:(0,o.k6)((()=>[(0,o.bF)(Ha),(0,o.bF)(es,{export:d})])),_:1})])),_:1})}}};const gi=fi;var mi=gi;const yi=(e,t)=>{const n=e.map(t).filter(((e,t,n)=>n.indexOf(e)===t));return 1===n.length?n[0]:void 0},vi={style:{padding:"15px 10px","text-align":"left"}},bi=(0,o.Lk)("h4",null,"Row",-1),wi=["value"],xi=["value"],_i=["value"];function ki(e,t,n,r,a,s){const i=(0,o.g2)("v-col"),l=(0,o.g2)("v-row"),c=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",vi,[bi,(0,o.bF)(c,null,{default:(0,o.k6)((()=>[(0,o.bF)(l,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(i,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Number of seats ")])),_:1}),(0,o.bF)(i,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"custom-small-text-field v-custom-input",type:"number",min:"1",name:"number_seats",value:e.numberSeats,onInput:t[0]||(t[0]=(...t)=>e.setNumberSeats&&e.setNumberSeats(...t))},null,40,wi)])),_:1}),(0,o.bF)(i,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Curve ")])),_:1}),(0,o.bF)(i,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"custom-small-text-field v-custom-input",type:"number",name:"row_spacing",value:e.curve,onInput:t[1]||(t[1]=(...t)=>e.setCurve&&e.setCurve(...t)),min:"-30",max:"30"},null,40,xi)])),_:1}),(0,o.bF)(i,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Seats spacing ")])),_:1}),(0,o.bF)(i,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"custom-small-text-field v-custom-input",type:"number",min:"20",name:"row_spacing",value:e.seatSpacing,onInput:t[2]||(t[2]=(...t)=>e.setSeatSpacing&&e.setSeatSpacing(...t))},null,40,_i)])),_:1})])),_:1})])),_:1})])}const Ci=(0,s.nY)("seatformat",{state:()=>({rowsLabel:["1, 2, 3, ","A, B, C, ","a, b, c, "],rowCur:1,seatsLabel:["1, 2, 3, ","A, B, C, ","a, b, c, "],seatCur:0,nseat:6}),actions:{changeRow(e){this.rowCur=e},changeSeat(e){this.seatCur=e},setNseat(e){this.nseat=e}}}),Si=(e,t)=>Number(e.toFixed(t||0)),Ei=(e,t)=>{if(null===e||null===t||"object"!==typeof e||"object"!==typeof t)return e===t;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let r of n)if(e[r]!==t[r])return!1;return!0},$i=(e,t)=>{let n;for(let o of e){let e=t(o);if(void 0===n)n=e;else if(!Ei(n,e))return}return n};var Pi=(0,o.pM)({data(){return{testInput:20}},setup(){const e=Ci(),t=(0,o.EW)((()=>e.nseat)),n=e.setNseat,r=Na(),a=Ka();return{nseat:t,planStore:r,setNseat:n,store:a}},props:{rows:Array},methods:{onChange(e){this.testInput=e.target.value},setCurve(e){const t=parseInt(10*e.target.value);this.store.curveRows(t)},handle_seat_num_changed(e){this.setNseat(e.target.value),this.planStore.renumberCircleSeats(this.rows.map((e=>e.uuid)),e.target.value)},setRowSpacing(e){this.planStore.respaceRows(this.rows.map((e=>e.uuid)),e.target.value)},setSeatSpacing(e){e.target.value>=20&&this.planStore.respaceSeats(this.rows.map((e=>e.uuid)),e.target.value)},setNumberSeats(e){e.target.value>0&&(this.planStore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),skip_letter:""}),this.planStore.changeNumberSeats(this.rows.map((e=>e.uuid)),e.target.value))},addSeat(){this.planStore.addSeat(this.rows.map((e=>e.uuid)))}},computed:{curve(){return $i(this.rows,(e=>e.curve))||0},numberSeats(){return $i(this.rows,(e=>e.seats.length))},seatSpacing(){return Math.floor($i(this.rows,(e=>{let t=null;for(let n=1;n<e.seats.length;n++){let o=Si(Math.sqrt(Math.pow(e.seats[n].position.x-e.seats[n-1].position.x,2)+Math.pow(e.seats[n].position.y-e.seats[n-1].position.y,2)),2);(null===t||o<t)&&(t=o)}return t||25})))},rowSpacing(){let e=null;for(let t=0;t<this.rows.length-1;t++){let n=this.rows[t];if(!n.seats.length)continue;let o=[-n.seats[n.seats.length-1].position.y-n.seats[0].position.y,n.seats[n.seats.length-1].position.x+n.seats[0].position.x];o=[o[0]/Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)),o[1]/Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2))];let r=[this.rows[t+1].position.x-n.position.x,this.rows[t+1].position.y-n.position.y],a=[(o[0]*r[0]+o[1]*r[1])*o[0],(o[0]*r[0]+o[1]*r[1])*o[1]],s=Si(Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2)),2);null===e?e=s:e!==s&&(e=void 0)}return e}}});const Mi=(0,ss.A)(Pi,[["render",ki]]);var Ti=Mi;const zi={style:{padding:"15px 10px","text-align":"left"}},Fi=(0,o.Lk)("h4",null,"Shape",-1),Ii=["value"];var Li={__name:"RotatePanel",props:{rows:Array,temp_Rotate:Function},setup(e){Na();const t=e,n=(0,o.EW)((()=>t.rows.length?t.rows[0].rotation:"0")),r=e=>{const o=e.target.value,r=o-n.value;t.temp_Rotate(r)};return(e,t)=>{const a=(0,o.g2)("v-col"),s=(0,o.g2)("v-row"),i=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",zi,[Fi,(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(a,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Rotate ")])),_:1}),(0,o.bF)(a,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",type:"number",name:"rotate",value:n.value,onInput:r},null,40,Ii)])),_:1})])),_:1})])),_:1})])}}};const Ri=Li;var Ai=Ri;const Ni={style:{padding:"15px 10px","text-align":"left"}},Xi=(0,o.Lk)("h4",null,"Row Labeling",-1),Oi=["value"],ji=["value"],Wi=["value"],Di=["value"],Ki=["value"],Bi=["value"],Vi=["value"],Yi=["value"],qi=["checked"];function Ui(e,t,n,r,s,i){const l=(0,o.g2)("v-col"),c=(0,o.g2)("v-row"),u=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",Ni,[Xi,(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Row label ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("select",{class:"toolbox-input v-custom-input",onInput:t[0]||(t[0]=(...e)=>i.setRowNumbering&&i.setRowNumbering(...e)),value:i.rowNumbering?i.rowNumbering.scheme.id:null},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.rowNumberings,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,"option-label":"label",name:"row_numbering",value:e.id?e.id:null},(0,a.v_)(e.label),9,ji)))),128))],40,Oi)])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Start At ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"custom-small-text-field v-custom-input",name:"row_numbering_start_at",value:i.rowNumbering?i.rowNumbering.start:null,onInput:t[1]||(t[1]=(...e)=>i.setRowNumberingStartAt&&i.setRowNumberingStartAt(...e))},null,40,Wi)])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Label Direction ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("select",{class:"v-custom-input",onInput:t[2]||(t[2]=(...e)=>i.setRowNumberingReversed&&i.setRowNumberingReversed(...e)),value:!!i.rowNumbering&&i.rowNumbering.reversed},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.labelDirection,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.value,key:e},(0,a.v_)(e.text),9,Ki)))),128))],40,Di)])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Row Label Location ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("select",{class:"toolbox-input v-custom-input",onInput:t[3]||(t[3]=(...e)=>i.handleLabelLocation&&i.handleLabelLocation(...e)),value:i.labelLocation},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.labelDisplay,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,value:e.value},(0,a.v_)(e.text),9,Vi)))),128))],40,Bi)])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Skip Rows ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",value:i.skip,onInput:t[4]||(t[4]=(...e)=>i.setSkip&&i.setSkip(...e))},null,40,Yi)])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Rotate Label with Element ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"checkbox",checked:i.rotate,onChange:t[5]||(t[5]=(...e)=>i.handle_rotate&&i.handle_rotate(...e))},null,40,qi)])),_:1})])),_:1})])),_:1})])}const Hi=(e,t)=>{let n;for(let o of e){let e=t(o);if(void 0===n)n=e;else if(!Gi(n,e))return}return n},Gi=(e,t)=>{if(null===e||null===t||"object"!==typeof e||"object"!==typeof t)return e===t;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let r of n)if(e[r]!==t[r])return!1;return!0};var Qi={setup(){Ci();const e=Na(),t=Ka();return{planstore:e,mainStore:t}},data(){const e=[{text:"Ascending",value:!1},{text:"Descending",value:!0}],t=[{text:"None",value:0,left:!1,right:!1},{text:"Left",value:1,left:!0,right:!1},{text:"Right",value:2,left:!1,right:!0},{text:"Both",value:3,left:!0,right:!0}];return{rowNumberings:La,labelDirection:e,labelDisplay:t}},props:{rows:Array},computed:{skip(){return Hi(this.rows,(e=>e.skip))},rotate(){return Hi(this.rows,(e=>e.rotate_label))},labelLocation(){return this.rowNumberPositionStart&&this.rowNumberPositionEnd?3:this.rowNumberPositionStart?1:this.rowNumberPositionEnd?2:0},rowLabel(){return Hi(this.rows,(e=>e.row_label||""))},rowLabelStatus(){return this.rowNumberPositionStart()&&this.rowNumberPositionEnd()?"Both":this.rowNumberPositionStart()?"Left":this.rowNumberPositionEnd()?"Right":null},rowNumbering(){for(let t of La)try{let e=t.findStartAt(this.rows[0].row_number),n=t.compute(this.rows,e);if(this.rows.filter(((e,t)=>e.row_number===n[t])).length===this.rows.length){const n=t.start(e);return{scheme:t,reversed:!1,startAt:e,start:n}}let o=Ra(this.rows),r=t.findStartAt(o[0].row_number),a=t.compute(o,r);if(o.filter(((e,t)=>e.row_number===a[t])).length===this.rows.length){const n=t.start(e);return{scheme:t,reversed:!0,startAt:r,start:n}}}catch(e){}},rowNumberPositionStart(){return Hi(this.rows,(e=>"start"===e.row_number_position||"both"===e.row_number_position))},rowNumberPositionEnd(){return Hi(this.rows,(e=>"end"===e.row_number_position||"both"===e.row_number_position))},seatNumbering(){return Hi(this.rows,(e=>{for(let n of Ia)try{let t=n.findStartAt(e.seats[0].seat_number),o=n.compute(e.seats,t);if(e.seats.filter(((e,t)=>e.seat_number===o[t])).length===e.seats.length)return{scheme:n,reversed:!1,startAt:t};let r=Ra(e.seats),a=n.findStartAt(r[0].seat_number),s=n.compute(r,a);if(r.filter(((e,t)=>e.seat_number===s[t])).length===e.seats.length)return{scheme:n,reversed:!0,startAt:a}}catch(t){console.warn("Crash while trying to test seat numbering schema",n,t)}}))}},methods:{handle_rotate(e){this.planstore.setRotateLabel(this.rows.map((e=>e.uuid)),e.target.checked)},setSkip(e){if(!this.rowNumbering)return;const t=this.rowNumbering.scheme.id,n=e.target,o=n.value,r=/^[A-Z,]+$/,a=/^[a-z,]+$/,s=/^[0-9,]+$/;if("alpha"===t&&(n.value=o.toUpperCase()),"alphalower"===t&&(n.value=o.toLowerCase()),"alpha"!==t||r.test(n.value))if("alphalower"!==t||a.test(n.value))if("natural"!==t&&"even"!==t&&"odd"!==t||s.test(n.value)){if("even"===t&&parseInt(n.value)%2)return;if(!("odd"!==t||parseInt(n.value)%2))return;this.planstore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),skip:e.target.value}),this.planstore.skipLetterRows(this.rows.map((e=>e.uuid)),this.rowNumbering.scheme,this.rowNumbering.startAt,this.rowNumbering.reversed,e.target.value)}else n.value=o.replace(/[^0-9,]/g,"");else n.value=o.toLowerCase().replace(/[^a-z,]/g,"");else n.value=o.toUpperCase().replace(/[^A-Z,]/g,"")},handleChange(e){},handleLabelLocation(e){const t=this.labelDisplay.filter((t=>t.value==e.target.value))[0];this.setRowNumberPositionStart(t.left),this.setRowNumberPositionEnd(t.right)},setLabelDirection(e){},setRowNumbering(e){let t=La.find((t=>t.id===e.target.value));this.planstore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),skip:""}),"even"===e.target.value?this.planstore.renumberRows(this.rows.map((e=>e.uuid)),t,2,!1):this.planstore.renumberRows(this.rows.map((e=>e.uuid)),t,1,!1)},setRowNumberingStartAt(e){if(!this.rowNumbering)return;const t=this.rowNumbering.scheme.id,n=e.target,o=n.value,r=/^[A-Z]+$/,a=/^[a-z]+$/,s=/^[0-9]+$/;if("alpha"===t&&(n.value=o.toUpperCase()),"alphalower"===t&&(n.value=o.toLowerCase()),"alpha"!==t||r.test(n.value))if("alphalower"!==t||a.test(n.value))if("natural"!==t&&"even"!==t&&"odd"!==t||s.test(e.target.value)){if("even"===t&&parseInt(n.value)%2)return;if(!("odd"!==t||parseInt(n.value)%2))return;{const e=this.rowNumbering.scheme.findStartAt(n.value);this.planstore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),skip:""}),this.planstore.renumberRows(this.rows.map((e=>e.uuid)),this.rowNumbering.scheme,e,this.rowNumbering.reversed)}}else n.value=o.replace(/[^0-9]/g,"");else n.value=o.toLowerCase().replace(/[^a-z]/g,"");else n.value=o.toUpperCase().replace(/[^A-Z]/g,"")},setRowNumberingReversed(e){const t="true"===e.target.value;this.rowNumbering&&(this.planstore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),skip:""}),this.planstore.renumberRows(this.rows.map((e=>e.uuid)),this.rowNumbering.scheme,this.rowNumbering.startAt,t))},setRowNumberPositionStart(e){this.rowNumberPositionEnd?this.planstore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),row_number_position:e?"both":"end"}):this.planstore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),row_number_position:e?"start":null})},setRowNumberPositionEnd(e){this.rowNumberPositionStart?this.planstore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),row_number_position:e?"both":"start"}):this.planstore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),row_number_position:e?"end":null})}}};const Zi=(0,ss.A)(Qi,[["render",Ui]]);var Ji=Zi;const el={style:{padding:"15px 10px","text-align":"left"}},tl=(0,o.Lk)("h4",null,"Seat Labeling",-1),nl=["value"],ol=["value"],rl=["value"],al=["value"],sl=["value"],il=["value"];function ll(e,t,n,r,s,i){const l=(0,o.g2)("v-col"),c=(0,o.g2)("v-row"),u=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",el,[tl,(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Seat label ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("select",{class:"toolbox-input v-custom-input",onInput:t[0]||(t[0]=e=>i.setSeatNumbering(e)),value:i.seatNumbering?i.seatNumbering.scheme.id:null},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.seatNumberings,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,"option-label":"label",name:"seat_numbering",value:e.id?e.id:null},(0,a.v_)(e.label),9,ol)))),128))],40,nl)])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Start At ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"custom-small-text-field v-custom-input",name:"row_numbering_start_at",value:i.seatNumbering?i.seatNumbering.start:null,onInput:t[1]||(t[1]=(...e)=>i.setSeatNumberingStartAt&&i.setSeatNumberingStartAt(...e))},null,40,rl)])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Label Direction ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("select",{class:"v-custom-input",onInput:t[2]||(t[2]=(...e)=>i.setSeatNumberingReversed&&i.setSeatNumberingReversed(...e)),value:!!i.seatNumbering&&i.seatNumbering.reversed},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.labelDirection,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.value,key:e},(0,a.v_)(e.text),9,sl)))),128))],40,al)])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Skip Labels ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",value:i.skip,onInput:t[3]||(t[3]=(...e)=>i.setSkip&&i.setSkip(...e))},null,40,il)])),_:1})])),_:1})])),_:1})])}const cl=(e,t)=>{let n;for(let o of e){let e=t(o);if(void 0===n)n=e;else if(!ul(n,e))return}return n},ul=(e,t)=>{if(null===e||null===t||"object"!==typeof e||"object"!==typeof t)return e===t;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let r of n)if(e[r]!==t[r])return!1;return!0};var hl={setup(){const e=Ci(),t=Na();return{seatsLabel:e.seatsLabel,changeSeat:e.changeSeat,planStore:t}},data(){const e=[{text:"Ascending",value:!1},{text:"Descending",value:!0}],t=[{text:"None",value:0,left:!1,right:!1},{text:"Left",value:1,left:!0,right:!1},{text:"Right",value:2,left:!1,right:!0},{text:"Both",value:3,left:!0,right:!0}];return{seatNumberings:Ia,labelDirection:e,labelDisplay:t}},props:{rows:Array},computed:{skip(){return cl(this.rows,(e=>e.skip_letter))},seatNumbering(){return cl(this.rows,(e=>{for(let n of Ia)try{let t=n.findStartAt(e.seats[0].seat_number),o=n.compute(e.seats,t);if(e.seats.filter(((e,t)=>e.seat_number===o[t])).length===e.seats.length){const e=n.start(t);return{scheme:n,reversed:!1,startAt:t,start:e}}let r=Ra(e.seats),a=n.findStartAt(r[0].seat_number),s=n.compute(r,a);if(r.filter(((e,t)=>e.seat_number===s[t])).length===e.seats.length){const e=n.start(t);return{scheme:n,reversed:!0,startAt:a,start:e}}}catch(t){console.warn("Crash while trying to test seat numbering schema",n,t)}}))}},methods:{setSeatNumberingStartAt(e){if(!this.seatNumbering)return;const t=this.seatNumbering.scheme.id,n=e.target,o=n.value,r=/^[A-Z]+$/,a=/^[a-z]+$/,s=/^[0-9]+$/;if("alpha"===t&&(n.value=o.toUpperCase()),"alphalower"===t&&(n.value=o.toLowerCase()),"alpha"!==t||r.test(n.value))if("alphalower"!==t||a.test(n.value))if("natural"!==t&&"even"!==t&&"odd"!==t||s.test(e.target.value)){if("even"===t&&parseInt(n.value)%2)return;if(!("odd"!==t||parseInt(n.value)%2))return;{const e=this.seatNumbering.scheme.findStartAt(n.value);this.planStore.renumberSeats(this.rows.map((e=>e.uuid)),this.seatNumbering.scheme,e,this.seatNumbering.reversed),this.planStore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),skip_letter:""})}}else n.value=o.replace(/[^0-9]/g,"");else n.value=o.toLowerCase().replace(/[^a-z]/g,"");else n.value=o.toUpperCase().replace(/[^A-Z]/g,"")},setSeatNumberingReversed(e){const t="true"===e.target.value;this.seatNumbering&&(this.planStore.renumberSeats(this.rows.map((e=>e.uuid)),this.seatNumbering.scheme,this.seatNumbering.startAt,t),this.planStore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),skip_letter:""}))},setSeatNumbering(e){let t=Ia.find((t=>t.id===e.target.value));this.planStore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),skip_letter:""}),"even"===e.target.value?this.planStore.renumberSeats(this.rows.map((e=>e.uuid)),t,2,!1):this.planStore.renumberSeats(this.rows.map((e=>e.uuid)),t,1,!1)},setSkip(e){if(!this.seatNumbering)return;const t=this.seatNumbering.scheme.id,n=e.target,o=n.value,r=/^[A-Z,]+$/,a=/^[a-z]+$/,s=/^[0-9]+$/;if("alpha"===t&&(n.value=o.toUpperCase()),"alphalower"===t&&(n.value=o.toLowerCase()),"alpha"!==t||r.test(n.value))if("alphalower"!==t||a.test(n.value))if("natural"!==t&&"even"!==t&&"odd"!==t||s.test(e.target.value)){if("even"===t&&parseInt(n.value)%2)return;if(!("odd"!==t||parseInt(n.value)%2))return;this.planStore.modifyRows({rowIds:this.rows.map((e=>e.uuid)),skip_letter:e.target.value}),this.planStore.skipLetterSeats(this.rows.map((e=>e.uuid)),this.seatNumbering.scheme,this.seatNumbering.startAt,this.seatNumbering.reversed,e.target.value)}else n.value=o.replace(/[^0-9,]/g,"");else n.value=o.toLowerCase().replace(/[^a-z,]/g,"");else n.value=o.toUpperCase().replace(/[^A-Z,]/g,"")}}};const dl=(0,ss.A)(hl,[["render",ll]]);var pl=dl,fl={__name:"RowTools",props:{rows:Array,seats:Array,temp_Rotate:Function},setup(e){return(t,n)=>{const r=(0,o.g2)("v-divider");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(Ti,{rows:e.rows},null,8,["rows"]),(0,o.bF)(r),(0,o.bF)(Ai,{rows:e.rows,temp_Rotate:e.temp_Rotate},null,8,["rows","temp_Rotate"]),(0,o.bF)(r),(0,o.bF)(Ji,{rows:e.rows},null,8,["rows"]),(0,o.bF)(r),(0,o.bF)(pl,{rows:e.rows},null,8,["rows"])])}}};const gl=fl;var ml=gl;const yl={style:{padding:"15px 10px","text-align":"left"}},vl=(0,o.Lk)("h4",null,"Seat Label",-1),bl=["value"];var wl={__name:"SeatLabel",props:{seats:Array},setup(e){const t=Na(),n=e,r=(0,o.EW)((()=>n.seats?n.seats[0].seat_number:"")),a=e=>{e.target.value&&t.modifySeats({seatIds:n.seats.map((e=>e.uuid)),seat_number:e.target.value})};return(e,t)=>{const n=(0,o.g2)("v-col"),s=(0,o.g2)("v-row"),i=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",yl,[vl,(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Seat Label ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"seat_label",value:r.value,onInput:a},null,40,bl)])),_:1})])),_:1})])),_:1})])}}};const xl=wl;var _l=xl,kl={__name:"SeatTools",props:{rows:Array,seats:Array},setup(e){const t=e,n=(0,o.EW)((()=>1===t.seats.length));return(t,r)=>((0,o.uX)(),(0,o.CE)("div",null,[n.value?((0,o.uX)(),(0,o.Wv)(_l,{key:0,seats:e.seats},null,8,["seats"])):(0,o.Q3)("",!0)]))}};const Cl=kl;var Sl=Cl;const El={style:{padding:"15px 10px","text-align":"left"}},$l=(0,o.Lk)("h4",null," GA Option ",-1),Pl=["value"],Ml=["value"],Tl=["value"],zl=["checked"];var Fl={__name:"GAPanel",props:{areas:Array},setup(e){const t=e,n=Na(),r=(0,o.EW)((()=>yi(t.areas,(e=>e.abbreviation)))),a=(0,o.EW)((()=>yi(t.areas,(e=>e.label)))),s=(0,o.EW)((()=>yi(t.areas,(e=>e.capacity)))),i=(0,o.EW)((()=>yi(t.areas,(e=>e.show_label)))),l=e=>{const o=e.target,r=o.value,a=/^[a-zA-Z0-9-]*$/;a.test(e.target.value)||(o.value=r.replace(/[^a-zA-Z0-9-]/g,"")),n.modifyAreas({areaIds:t.areas.map((e=>e.uuid)),abbreviation:o.value,text__text:o.value})},c=e=>{n.modifyAreas({areaIds:t.areas.map((e=>e.uuid)),label:e.target.value})},u=e=>{n.modifyAreas({areaIds:t.areas.map((e=>e.uuid)),capacity:parseInt(e.target.value)})},h=e=>{n.modifyAreas({areaIds:t.areas.map((e=>e.uuid)),show_label:e.target.checked})};return(e,t)=>{const n=(0,o.g2)("v-col"),d=(0,o.g2)("v-row"),p=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",El,[$l,(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Capacity ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"capacity",value:s.value,onInput:u},null,40,Pl)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Label ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"label",value:a.value,onInput:c},null,40,Ml)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Abbreviation ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"abbreviation",value:r.value,onInput:l,maxlength:"6"},null,40,Tl)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Show Label ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"checkbox",name:"show_label",checked:i.value,onChange:h},null,40,zl)])),_:1})])),_:1})])),_:1})])}}};const Il=Fl;var Ll=Il;const Rl={style:{padding:"15px 10px","text-align":"left"}},Al=(0,o.Lk)("h4",null," Shape ",-1),Nl=["value"],Xl=["value"],Ol=["value"],jl=["value"],Wl=["value"],Dl=["value"],Kl=["value"],Bl=["value"],Vl=["value"],Yl=["value"],ql=["value"],Ul=["value"],Hl=["value"];function Gl(e,t,n,r,s,i){const l=(0,o.g2)("v-col"),c=(0,o.g2)("InputColor"),u=(0,o.g2)("v-row"),h=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",Rl,[Al,(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>["rectangle"===i.shape||"gaSquare"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:0,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Width ")])),_:1})):(0,o.Q3)("",!0),"rectangle"===i.shape||"gaSquare"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:1,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"width",value:i.width,onInput:t[0]||(t[0]=(...e)=>i.setWidth&&i.setWidth(...e))},null,40,Nl)])),_:1})):(0,o.Q3)("",!0),"rectangle"===i.shape||"gaSquare"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:2,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Height ")])),_:1})):(0,o.Q3)("",!0),"rectangle"===i.shape||"gaSquare"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:3,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"height",value:i.height,onInput:t[1]||(t[1]=(...e)=>i.setHeight&&i.setHeight(...e))},null,40,Xl)])),_:1})):(0,o.Q3)("",!0),"circle"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:4,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Radius ")])),_:1})):(0,o.Q3)("",!0),"circle"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:5,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"radius",value:i.radius,onInput:t[2]||(t[2]=(...e)=>i.setRadius&&i.setRadius(...e))},null,40,Ol)])),_:1})):(0,o.Q3)("",!0),"ellipse"===i.shape||"gaCircle"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:6,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Radius X ")])),_:1})):(0,o.Q3)("",!0),"ellipse"===i.shape||"gaCircle"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:7,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"radius_x",value:i.radiusX,onInput:t[3]||(t[3]=(...e)=>i.setRadiusX&&i.setRadiusX(...e))},null,40,jl)])),_:1})):(0,o.Q3)("",!0),"ellipse"===i.shape||"gaCircle"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:8,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Radius Y ")])),_:1})):(0,o.Q3)("",!0),"ellipse"===i.shape||"gaCircle"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:9,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"radius_y",value:i.radiusY,onInput:t[4]||(t[4]=(...e)=>i.setRadiusY&&i.setRadiusY(...e))},null,40,Wl)])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Rotation ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",class:"v-custom-input",name:"rotation",value:i.rotation,onInput:t[5]||(t[5]=(...e)=>i.setRotation&&i.setRotation(...e))},null,40,Dl)])),_:1}),"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:10,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Text ")])),_:1})):(0,o.Q3)("",!0),"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:11,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"text_value",value:i.textValue,onInput:t[6]||(t[6]=(...e)=>i.setText&&i.setText(...e)),maxlength:"15"},null,40,Kl)])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Text size ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"text_size",value:i.textSize,onInput:t[7]||(t[7]=(...e)=>i.setTextSize&&i.setTextSize(...e))},null,40,Bl)])),_:1}),"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:12,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Text Color ")])),_:1})):(0,o.Q3)("",!0),"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:13,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{color:i.textColor,setColor:i.setTextColor},null,8,["color","setColor"])])),_:1})):(0,o.Q3)("",!0),"gaCircle"===i.shape||"gaSquare"===i.shape||"gaPolygon"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:14,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Text Color ")])),_:1})):(0,o.Q3)("",!0),"gaCircle"===i.shape||"gaSquare"===i.shape||"gaPolygon"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:15,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("select",{class:"v-custom-input",value:i.gaTextColor,onInput:t[8]||(t[8]=(...e)=>i.setGATextColor&&i.setGATextColor(...e))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.gaColorOptions,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.name},(0,a.v_)(e.name),9,Yl)))),128))],40,Vl)])),_:1})):(0,o.Q3)("",!0),"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:16,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" label Text position (x) ")])),_:1})):(0,o.Q3)("",!0),"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:17,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",class:"v-custom-input",name:"text_x",value:i.textX,onInput:t[9]||(t[9]=(...e)=>i.setTextX&&i.setTextX(...e))},null,40,ql)])),_:1})):(0,o.Q3)("",!0),"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:18,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" label Text position (y) ")])),_:1})):(0,o.Q3)("",!0),"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:19,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",class:"v-custom-input",name:"text_y",value:i.textY,onInput:t[10]||(t[10]=(...e)=>i.setTextY&&i.setTextY(...e))},null,40,Ul)])),_:1})):(0,o.Q3)("",!0),"text"!==i.shape&&"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:20,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Stroke Width ")])),_:1})):(0,o.Q3)("",!0),"text"!==i.shape&&"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:21,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"0",class:"v-custom-input",name:"text_size",value:i.borderWidth,onInput:t[11]||(t[11]=(...e)=>i.setBorderWidth&&i.setBorderWidth(...e))},null,40,Hl)])),_:1})):(0,o.Q3)("",!0),"text"!==i.shape&&"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:22,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Stroke Color ")])),_:1})):(0,o.Q3)("",!0),"text"!==i.shape&&"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:23,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{color:i.borderColor,setColor:i.setBorderColor},null,8,["color","setColor"])])),_:1})):(0,o.Q3)("",!0),"text"!==i.shape&&"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:24,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Fill Color ")])),_:1})):(0,o.Q3)("",!0),"text"!==i.shape&&"gaCircle"!==i.shape&&"gaSquare"!==i.shape&&"gaPolygon"!==i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:25,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{color:i.color,setColor:i.setColor},null,8,["color","setColor"])])),_:1})):(0,o.Q3)("",!0)])),_:1})])),_:1})])}const Ql={class:"d-relative"};var Zl={__name:"InputColor",props:{setColor:Function,color:String},setup(e){const t=e,n=(0,r.KR)({}),s=(0,r.KR)(!1),i=(0,r.KR)(t?.color),l=e=>{e.preventDefault(),e.clientY+350>window.innerHeight&&(n.value={bottom:"38px"}),s.value=!s.value};return(0,o.wB)(i,((e,n)=>{t.setColor(e)})),(e,t)=>{const r=(0,o.g2)("v-color-picker");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"color",class:"v-custom-input v-custom-color-input",onClick:l,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e)},null,512),[[ts.Jo,i.value]]),(0,o.Lk)("div",Ql,[(0,o.bo)((0,o.bF)(r,{class:"v-color-picker",mode:"hexa",style:(0,a.Tr)(n.value),modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=e=>i.value=e)},null,8,["style","modelValue"]),[[ts.aG,s.value]])])])}}};const Jl=Zl;var ec=Jl;const tc=(e,t)=>{const n=e.map(t).filter(((e,t,n)=>n.indexOf(e)===t));return 1===n.length?n[0]:void 0};var nc={props:{areas:Array,temp_Rotate:Function},components:{InputColor:ec},data(){const e=(0,r.KR)(tc(this.areas,(e=>e.text?e.text.color:void 0))),t=(0,r.KR)(tc(this.areas,(e=>e.color))),n=(0,r.KR)(tc(this.areas,(e=>e.border_color))),o=(0,r.KR)([{name:"White",color:"#ffffff"},{name:"Gray",color:"#333333"},{name:"Black",color:"#000000"}]);return{text_color:e,fill_color:t,stroke_color:n,gaColorOptions:o}},watch:{text_color(e,t){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),text__color:e})},fill_color(e,t){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),color:e})},stroke_color(e,t){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),border_color:e})}},setup(){const e=Na();return{planStore:e}},computed:{gaTextColor(){const e=this.gaColorOptions.find((e=>e.color===tc(this.areas,(e=>e.text.color))));return e.name},rotation(){return Math.round(tc(this.areas,(e=>e.rotation)))},shape(){return tc(this.areas,(e=>e.shape))},color(){return tc(this.areas,(e=>e.color))},borderColor(){return tc(this.areas,(e=>e.border_color))},borderWidth(){return Math.round(tc(this.areas,(e=>e.border_width)))},textColor(){return tc(this.areas,(e=>e.text?e.text.color:void 0))},textValue(){return tc(this.areas,(e=>e.text?e.text.text:void 0))},textSize(){return Math.round(tc(this.areas,(e=>e.text&&e.text.size?e.text.size:16)))},textX(){return Math.round(tc(this.areas,(e=>e.text?e.text.position.x:0)))},textY(){return Math.round(tc(this.areas,(e=>e.text?e.text.position.y:0)))},width(){return Math.round(tc(this.areas,(e=>e.rectangle?e.rectangle.width:0)))},height(){return Math.round(tc(this.areas,(e=>e.rectangle?e.rectangle.height:0)))},radius(){return Math.round(tc(this.areas,(e=>e.circle?e.circle.radius:0)))},radiusX(){return Math.round(tc(this.areas,(e=>e.ellipse?e.ellipse.radius.x:0)))},radiusY(){return Math.round(tc(this.areas,(e=>e.ellipse?e.ellipse.radius.y:0)))},rotate_val(){return this.areas[0].rotation?this.areas[0].rotation:0}},methods:{setGATextColor(e){const t=this.gaColorOptions.find((t=>t.name===e.target.value));this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),text__color:t.color})},setColor(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),color:e})},setBorderColor(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),border_color:e})},setBorderWidth(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),border_width:parseInt(e.target.value)})},setRotation(e){const t=parseInt(e.target.value),n=t-this.rotate_val;this.temp_Rotate(n)},setTextColor(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),text__color:e})},setText(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),text__text:e.target.value})},setTextSize(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),text__size:parseInt(e.target.value)})},setTextX(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),text__position__x:parseInt(e.target.value)})},setTextY(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),text__position__y:parseInt(e.target.value)})},setWidth(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),rectangle__width:parseInt(e.target.value)})},setHeight(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),rectangle__height:parseInt(e.target.value)})},setRadius(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),circle__radius:parseInt(e.target.value)})},setRadiusX(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),ellipse__radius__x:parseInt(e.target.value)})},setRadiusY(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),ellipse__radius__y:parseInt(e.target.value)})}}};const oc=(0,ss.A)(nc,[["render",Gl]]);var rc=oc,ac={__name:"GATools",props:{areas:Array,temp_Rotate:Function},setup(e){const t=e,n=()=>{if(t.areas){const e=t.areas[0].shape,n=t.areas.filter((t=>t.shape===e));return n.length===t.areas.length}};return(t,r)=>{const a=(0,o.g2)("v-divider");return(0,o.uX)(),(0,o.CE)("div",null,[n()?((0,o.uX)(),(0,o.Wv)(Ll,{key:0,areas:e.areas},null,8,["areas"])):(0,o.Q3)("",!0),(0,o.bF)(a),n()?((0,o.uX)(),(0,o.Wv)(rc,{key:1,areas:e.areas,temp_Rotate:e.temp_Rotate},null,8,["areas","temp_Rotate"])):(0,o.Q3)("",!0)])}}};const sc=ac;var ic=sc;const lc={style:{padding:"15px 10px","text-align":"left"}},cc=(0,o.Lk)("h4",null," Shape Setting ",-1),uc=["value"],hc=["value"],dc=["value"],pc=["value"],fc=["value"],gc={style:{padding:"15px 10px","text-align":"left"}},mc=(0,o.Lk)("h4",null," Capacity ",-1),yc=["value"],vc=["value"],bc=["value"],wc=["value"],xc=["value"];function _c(e,t,n,r,s,i){const l=(0,o.g2)("v-col"),c=(0,o.g2)("v-row"),u=(0,o.g2)("v-container"),h=(0,o.g2)("v-divider");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",lc,[cc,(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>["rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:0,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Width ")])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:1,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"width",value:i.width,onInput:t[0]||(t[0]=(...e)=>i.setWidth&&i.setWidth(...e))},null,40,uc)])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:2,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Height ")])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:3,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"height",value:i.height,onInput:t[1]||(t[1]=(...e)=>i.setHeight&&i.setHeight(...e))},null,40,hc)])),_:1})):(0,o.Q3)("",!0),"roundTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:4,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Radius ")])),_:1})):(0,o.Q3)("",!0),"roundTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:5,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"1",class:"v-custom-input",name:"radius",value:i.radius,onInput:t[2]||(t[2]=(...e)=>i.setRadius&&i.setRadius(...e))},null,40,dc)])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Rotation ")])),_:1}),(0,o.bF)(l,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",class:"v-custom-input",name:"rotation",value:i.rotation,onInput:t[3]||(t[3]=(...e)=>i.setRotation&&i.setRotation(...e))},null,40,pc)])),_:1}),"roundTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:6,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Open spaces ")])),_:1})):(0,o.Q3)("",!0),"roundTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:7,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"0",class:"v-custom-input",name:"open_space",value:i.space,onInput:t[4]||(t[4]=(...e)=>i.setSpace&&i.setSpace(...e))},null,40,fc)])),_:1})):(0,o.Q3)("",!0)])),_:1})])),_:1})]),(0,o.bF)(h),(0,o.Lk)("div",gc,[mc,(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>["roundTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:0,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Capacity ")])),_:1})):(0,o.Q3)("",!0),"roundTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:1,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"0",class:"v-custom-input",name:"rotation",value:i.capacity,onInput:t[5]||(t[5]=(...e)=>i.setCapacity&&i.setCapacity(...e))},null,40,yc)])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:2,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Top ")])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:3,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"0",class:"v-custom-input",name:"capacity_top",value:i.capacityT,onInput:t[6]||(t[6]=(...e)=>i.setCapacityT&&i.setCapacityT(...e))},null,40,vc)])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:4,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Bottom ")])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:5,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"0",class:"v-custom-input",name:"capacity_bottom",value:i.capacityB,onInput:t[7]||(t[7]=(...e)=>i.setCapacityB&&i.setCapacityB(...e))},null,40,bc)])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:6,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Left ")])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:7,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"0",class:"v-custom-input",name:"capacity_left",value:i.capacityL,onInput:t[8]||(t[8]=(...e)=>i.setCapacityL&&i.setCapacityL(...e))},null,40,wc)])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:8,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Right ")])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:9,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"number",min:"0",class:"v-custom-input",name:"capacity_right",value:i.capacityR,onInput:t[9]||(t[9]=(...e)=>i.setCapacityR&&i.setCapacityR(...e))},null,40,xc)])),_:1})):(0,o.Q3)("",!0),"rectangleTable"===i.shape?((0,o.uX)(),(0,o.Wv)(l,{key:10,cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Total: "+(0,a.v_)(i.capacityTotal),1)])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(l,{cols:"12",sm:"6"})])),_:1})])),_:1})])],64)}const kc=(e,t)=>{const n=e.map(t).filter(((e,t,n)=>n.indexOf(e)===t));return 1===n.length?n[0]:void 0};var Cc={props:{areas:Array},data(){return{}},setup(){const e=Na();return{planStore:e}},computed:{shape(){return kc(this.areas,(e=>e.shape))},width(){return Math.round(kc(this.areas,(e=>e.rectangleTable?e.rectangleTable.width:0)))},height(){return Math.round(kc(this.areas,(e=>e.rectangleTable?e.rectangleTable.height:0)))},radius(){return Math.round(kc(this.areas,(e=>e.radius)))},capacityT(){return kc(this.areas,(e=>e.seats.filter((e=>"top"===e.special)).length))},capacityB(){return kc(this.areas,(e=>e.seats.filter((e=>"bottom"===e.special)).length))},capacityR(){return kc(this.areas,(e=>e.seats.filter((e=>"right"===e.special)).length))},capacityL(){return kc(this.areas,(e=>e.seats.filter((e=>"left"===e.special)).length))},rotation(){return Math.round(kc(this.areas,(e=>e.rotation)))},capacity(){return kc(this.areas,(e=>e.capacity))},label(){return kc(this.areas,(e=>e.label))},space(){return kc(this.areas,(e=>e.space))},capacityTotal(){return kc(this.areas,(e=>e.seats.length))}},methods:{setRotation(e){this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),rotation:parseInt(e.target.value)})},setWidth(e){this.planStore.modifyRectangleTableWidth(this.areas,parseInt(e.target.value))},setHeight(e){this.planStore.modifyRectangleTableHeight(this.areas,parseInt(e.target.value))},setRadius(e){this.planStore.modifyRoundTableRadius(this.areas,parseInt(e.target.value))},setCapacity(e){e.target.value>0&&(this.planStore.renumberCircleSeats(this.areas.map((e=>e.uuid)),parseInt(e.target.value)),this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),skip_letter:""}))},setSpace(e){this.planStore.modifyRoundTableSpace(this.areas,parseInt(e.target.value))},setCapacityT(e){this.planStore.modifyRectangleTableCapacityT(this.areas,parseInt(e.target.value)),this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),skip_letter:""})},setCapacityB(e){this.planStore.modifyRectangleTableCapacityB(this.areas,parseInt(e.target.value)),this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),skip_letter:""})},setCapacityR(e){this.planStore.modifyRectangleTableCapacityR(this.areas,parseInt(e.target.value)),this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),skip_letter:""})},setCapacityL(e){this.planStore.modifyRectangleTableCapacityL(this.areas,parseInt(e.target.value)),this.planStore.modifyAreas({areaIds:this.areas.map((e=>e.uuid)),skip_letter:""})}}};const Sc=(0,ss.A)(Cc,[["render",_c]]);var Ec=Sc;const $c={style:{padding:"15px 10px","text-align":"left"}},Pc=(0,o.Lk)("h4",null,"Labeling",-1),Mc=["value"],Tc=["value"],zc=["value"],Fc=["value"],Ic=["value"],Lc=["checked"];var Rc={__name:"TableLabeling",props:{areas:Array},setup(e){const t=Na(),n=(e,t)=>{if(null===e||null===t||"object"!==typeof e||"object"!==typeof t)return e===t;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let r of n)if(e[r]!==t[r])return!1;return!0},a=(e,t)=>{let o;for(let r of e){let e=t(r);if(void 0===o)o=e;else if(!n(o,e))return}return o},s=e,i=(0,r.KR)(a(s.areas,(e=>e.label.color)));(0,o.wB)(i,((e,n)=>{t.modifyAreas({areaIds:s.areas.map((e=>e.uuid)),label__color:e})}));const l=(0,o.EW)((()=>a(s.areas,(e=>e.label?e.label.name:void 0)))),c=(0,o.EW)((()=>a(s.areas,(e=>e.label?e.label.abv:void 0)))),u=(0,o.EW)((()=>a(s.areas,(e=>e.label?e.label.position.x:0)))),h=(0,o.EW)((()=>a(s.areas,(e=>e.label?e.label.position.y:0)))),d=(0,o.EW)((()=>a(s.areas,(e=>e.label?e.label.size:0)))),p=(0,o.EW)((()=>a(s.areas,(e=>e.label.color)))),f=(0,o.EW)((()=>a(s.areas,(e=>e.rotate_label)))),g=e=>{t.modifyAreas({areaIds:s.areas.map((e=>e.uuid)),label__name:e.target.value})},m=e=>{const n=e.target,o=n.value,r=/^[a-zA-Z0-9-]*$/;r.test(e.target.value)||(n.value=o.replace(/[^a-zA-Z0-9-]/g,"")),t.modifyAreas({areaIds:s.areas.map((e=>e.uuid)),label__abv:n.value})},y=e=>{t.modifyAreas({areaIds:s.areas.map((e=>e.uuid)),label__position__x:parseInt(e.target.value)})},v=e=>{t.modifyAreas({areaIds:s.areas.map((e=>e.uuid)),label__position__y:parseInt(e.target.value)})},b=e=>{t.modifyAreas({areaIds:s.areas.map((e=>e.uuid)),label__size:parseInt(e.target.value)})},w=e=>{t.modifyAreas({areaIds:s.areas.map((e=>e.uuid)),label__color:e})},x=e=>{t.modifyAreas({areaIds:s.areas.map((e=>e.uuid)),rotate_label:e.target.checked})};return(e,t)=>{const n=(0,o.g2)("v-col"),r=(0,o.g2)("v-row"),a=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",$c,[Pc,(0,o.bF)(a,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Name ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"table_label",value:l.value,onInput:g},null,40,Mc)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Abbreviation ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"table_abv",value:c.value,maxlength:"6",onInput:m},null,40,Tc)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Position X ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",type:"number",name:"position_x",value:u.value,onInput:y},null,40,zc)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Position Y ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",type:"number",name:"position_y",value:h.value,onInput:v},null,40,Fc)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Text Size ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",type:"number",min:"1",name:"text_size",value:d.value,onInput:b},null,40,Ic)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Text Color ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.bF)(ec,{color:p.value,setColor:w},null,8,["color"])])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Rotate Label with Table ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{type:"checkbox",checked:f.value,onChange:x},null,40,Lc)])),_:1})])),_:1})])),_:1})])}}};const Ac=Rc;var Nc=Ac;const Xc={style:{padding:"15px 10px","text-align":"left"}},Oc=(0,o.Lk)("h4",null,"Seat Labeling",-1),jc=["value"],Wc=["value"],Dc=["value"],Kc=["value"],Bc=["value"],Vc=["value"];var Yc={__name:"TableSeatLabeling",props:{areas:Array},setup(e){const t=Na(),n=(e,t)=>{let n;for(let o of e){let e=t(o);if(void 0===n)n=e;else if(!s(n,e))return}return n},s=(e,t)=>{if(null===e||null===t||"object"!==typeof e||"object"!==typeof t)return e===t;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let r of n)if(e[r]!==t[r])return!1;return!0},i=e,l=[{text:"Clockwise",value:!1},{text:"Counter Clockwise",value:!0}],c=Ia,u=(0,o.EW)((()=>n(i.areas,(e=>{for(let n of Ia)try{let t=n.findStartAt(e.seats[0].seat_number),o=n.compute(e.seats,t);if(e.seats.filter(((e,t)=>e.seat_number===o[t])).length===e.seats.length){const e=n.start(t);return{scheme:n,reversed:!1,startAt:t,start:e}}let r=Ra(e.seats),a=n.findStartAt(r[0].seat_number),s=n.compute(r,a);if(r.filter(((e,t)=>e.seat_number===s[t])).length===e.seats.length){const e=n.start(t);return{scheme:n,reversed:!0,startAt:a,start:e}}}catch(t){console.warn("Crash while trying to test seat numbering schema",n,t)}})))),h=e=>{if(!u.value)return;const n=u.value.scheme.id,o=e.target,r=o.value,a=/^[A-Z]+$/,s=/^[a-z]+$/,l=/^[0-9]+$/;if("alpha"===n&&(o.value=r.toUpperCase()),"alphalower"===n&&(o.value=r.toLowerCase()),"alpha"!==n||a.test(o.value))if("alphalower"!==n||s.test(o.value))if("natural"!==n&&"even"!==n&&"odd"!==n||l.test(e.target.value)){if("even"===n&&parseInt(o.value)%2)return;if(!("odd"!==n||parseInt(o.value)%2))return;{const n=u.value.scheme.findStartAt(e.target.value);t.renumberTableSeats(i.areas.map((e=>e.uuid)),u.value.scheme,n,u.value.reversed),t.modifyAreas({areaIds:i.areas.map((e=>e.uuid)),skip_letter:""})}}else o.value=r.replace(/[^0-9]/g,"");else o.value=r.toLowerCase().replace(/[^a-z]/g,"");else o.value=r.toUpperCase().replace(/[^A-Z]/g,"")},d=e=>{let n=Ia.find((t=>t.id===e.target.value));"even"===e.target.value?t.renumberTableSeats(i.areas.map((e=>e.uuid)),n,2,!1):t.renumberTableSeats(i.areas.map((e=>e.uuid)),n,1,!1),t.modifyAreas({areaIds:i.areas.map((e=>e.uuid)),skip_letter:""})},p=e=>{const n="true"===e.target.value;u.value&&(t.renumberTableSeats(i.areas.map((e=>e.uuid)),u.value.scheme,u.value.startAt,n),t.modifyAreas({areaIds:i.areas.map((e=>e.uuid)),skip_letter:""}))},f=(0,o.EW)((()=>n(i.areas,(e=>e?.skip_letter)))),g=e=>{if(!u.value)return;const n=u.value.scheme.id,o=e.target,r=o.value,a=/^[A-Z,]+$/,s=/^[a-z,]+$/,l=/^[0-9,]+$/;if("alpha"===n&&(o.value=r.toUpperCase()),"alphalower"===n&&(o.value=r.toLowerCase()),"alpha"!==n||a.test(o.value))if("alphalower"!==n||s.test(o.value))if("natural"!==n&&"even"!==n&&"odd"!==n||l.test(e.target.value)){if("even"===n&&parseInt(o.value)%2)return;if(!("odd"!==n||parseInt(o.value)%2))return;t.modifyAreas({areaIds:i.areas.map((e=>e.uuid)),skip_letter:e.target.value}),t.skipLetterTableSeats(i.areas.map((e=>e.uuid)),u.value.scheme,u.value.startAt,u.value.reversed,e.target.value)}else o.value=r.replace(/[^0-9,]/g,"");else o.value=r.toLowerCase().replace(/[^a-z,]/g,"");else o.value=r.toUpperCase().replace(/[^A-Z,]/g,"")};return(e,t)=>{const n=(0,o.g2)("v-col"),s=(0,o.g2)("v-row"),i=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",Xc,[Oc,(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Seat label ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("select",{class:"v-custom-input",onInput:d,value:u.value?u.value.scheme.id:null},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,r.R1)(c),(e=>((0,o.uX)(),(0,o.CE)("option",{key:e,"option-label":"label",name:"seat_numbering",value:e.id?e.id:null},(0,a.v_)(e.label),9,Wc)))),128))],40,jc)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Start At ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"seat_numbering_start_at",value:u.value?u.value.start:null,onInput:h},null,40,Dc)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Label Direction ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("select",{class:"v-custom-input",onInput:p,value:!!u.value&&u.value.reversed},[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(l,(e=>(0,o.Lk)("option",{value:e.value,key:e},(0,a.v_)(e.text),9,Bc))),64))],40,Kc)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Skip Function ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"skip",value:f.value,onInput:g},null,40,Vc)])),_:1})])),_:1})])),_:1})])}}};const qc=Yc;var Uc=qc,Hc={__name:"TableTools",props:{areas:Array,seats:Array},setup(e){const t=e,n=(0,o.EW)((()=>{if(t.areas){const e=t.areas[0].shape,n=t.areas.filter((t=>t.shape===e));return n.length===t.areas.length}return!1}));return(t,r)=>{const a=(0,o.g2)("v-divider");return(0,o.uX)(),(0,o.CE)("div",null,[n.value?((0,o.uX)(),(0,o.Wv)(Ec,{key:0,areas:e.areas},null,8,["areas"])):(0,o.Q3)("",!0),(0,o.bF)(a),n.value?((0,o.uX)(),(0,o.Wv)(Nc,{key:1,areas:e.areas},null,8,["areas"])):(0,o.Q3)("",!0),(0,o.bF)(a),n.value?((0,o.uX)(),(0,o.Wv)(Uc,{key:2,areas:e.areas},null,8,["areas"])):(0,o.Q3)("",!0)])}}};const Gc=Hc;var Qc=Gc,Zc={__name:"AreaTools",props:{areas:Array,temp_Rotate:Function},setup(e){const t=e,n=()=>{if(t.areas){const e=t.areas[0].shape,n=t.areas.filter((t=>t.shape===e));return n.length===t.areas.length}};return(t,r)=>((0,o.uX)(),(0,o.CE)("div",null,[n()?((0,o.uX)(),(0,o.Wv)(rc,{key:0,areas:e.areas,temp_Rotate:e.temp_Rotate},null,8,["areas","temp_Rotate"])):(0,o.Q3)("",!0)]))}};const Jc=Zc;var eu=Jc;const tu={key:0,style:{padding:"15px 10px","text-align":"left"}},nu=(0,o.Lk)("h4",null,"Seat Label",-1),ou=["value"];var ru={__name:"TableSeatTools",props:{seats:Array},setup(e){const t=Na(),n=e,r=(0,o.EW)((()=>yi(n.seats,(e=>e.seat_number)))),a=e=>{e.target.value&&t.modifyTableSeatLabel(n.seats[0].uuid,e.target.value)};return(t,n)=>{const s=(0,o.g2)("v-col"),i=(0,o.g2)("v-row"),l=(0,o.g2)("v-container");return 1===e.seats.length?((0,o.uX)(),(0,o.CE)("div",tu,[nu,(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Seat Label ")])),_:1}),(0,o.bF)(s,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"seat_label",value:r.value,onInput:a},null,40,ou)])),_:1})])),_:1})])),_:1})])):(0,o.Q3)("",!0)}}};const au=ru;var su=au;const iu={style:{padding:"15px 10px","text-align":"left"}},lu=(0,o.Lk)("h1",{style:{"font-size":"16px","font-weight":"bold","margin-right":"auto"}}," Validation ",-1);var cu={__name:"ValidationPanel",setup(e){const t=Na(),n=(0,o.EW)((()=>t.validationPlan())),r=(0,o.EW)((()=>t.plan)),s=(0,o.EW)((()=>Ka().section_label)),i=()=>{Ka().setBvalid(!1)},l=(0,o.EW)((()=>t.validatePosition())),c=(0,o.EW)((()=>n.value.category)),u=(0,o.EW)((()=>n.value.section)),h=(0,o.EW)((()=>n.value.seatId)),d=(0,o.EW)((()=>n.value.tableLabel)),p=(0,o.EW)((()=>n.value.tableAbv)),f=(0,o.EW)((()=>n.value.capacity)),g=(0,o.EW)((()=>n.value.sectionLabel)),m=(0,o.EW)((()=>n.value.sectionAbv)),y=(0,o.EW)((()=>n.value.seatLabel)),v=(0,o.EW)((()=>n.value.rowLabel)),b=(0,o.EW)((()=>{let e=0;return s.value.forEach((t=>{for(const n of r.value.zones){const o=[];for(const e of n.rows)for(const n of e.seats)n.section_label===t.label&&o.push(`${e.row_number}${n.seat_number}`);const r=[...new Set(o)];e+=o.length-r.length}})),e}));return(e,t)=>{const n=(0,o.g2)("v-icon"),r=(0,o.g2)("v-btn"),s=(0,o.g2)("v-col"),w=(0,o.g2)("v-row"),x=(0,o.g2)("v-chip"),_=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",iu,[(0,o.bF)(w,{class:"mb-2"},{default:(0,o.k6)((()=>[(0,o.bF)(s,{class:"d-flex align-center"},{default:(0,o.k6)((()=>[lu,(0,o.bF)(r,{icon:"",onClick:i,style:{"min-width":"0",width:"24px",height:"24px","background-color":"transparent","box-shadow":"none"}},{default:(0,o.k6)((()=>[(0,o.bF)(n,{small:"",style:{color:"rgba(0, 0, 0, 0.6)"}},{default:(0,o.k6)((()=>[(0,o.eW)("mdi-close")])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(_,null,{default:(0,o.k6)((()=>[(0,o.bF)(w,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{cols:"12",md:"12"},{default:(0,o.k6)((()=>[c.value?((0,o.uX)(),(0,o.Wv)(x,{key:0,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${c.value} element(s) without category.`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:1,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("All elements contain category."),1)])),_:1})),u.value?((0,o.uX)(),(0,o.Wv)(x,{key:2,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${u.value} element(s) without section.`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:3,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("All elements contain section."),1)])),_:1})),h.value?((0,o.uX)(),(0,o.Wv)(x,{key:4,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${h.value} duplicate element(s)`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:5,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("No duplicate elements"))])),_:1})),d.value?((0,o.uX)(),(0,o.Wv)(x,{key:6,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${d.value} table seat(s) without table label`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:7,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("All table seats contain table label"))])),_:1})),p.value?((0,o.uX)(),(0,o.Wv)(x,{key:8,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${p.value} table seat(s) without table abbreviation`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:9,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("All table seats contain table abbreviation"))])),_:1})),f.value?((0,o.uX)(),(0,o.Wv)(x,{key:10,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${f.value} GA sections without capacity`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:11,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("All GA sections has capacity"))])),_:1})),g.value?((0,o.uX)(),(0,o.Wv)(x,{key:12,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${g.value} GA section(s) without label`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:13,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("All GA sections contain label"))])),_:1})),m.value?((0,o.uX)(),(0,o.Wv)(x,{key:14,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${m.value} GA section(s) without abbreviation`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:15,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("All GA sections contain abbreviation"))])),_:1})),y.value?((0,o.uX)(),(0,o.Wv)(x,{key:16,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${y.value} seat(s) without label`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:17,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("All seats contain label"))])),_:1})),v.value?((0,o.uX)(),(0,o.Wv)(x,{key:18,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${v.value} row(s) without label`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:19,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("All rows contain label"))])),_:1})),b.value?((0,o.uX)(),(0,o.Wv)(x,{key:20,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)(`${b.value} seat(s) duplicate seat label`),1)])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:21,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("No seats duplicate seat label"))])),_:1})),l.value?((0,o.uX)(),(0,o.Wv)(x,{key:22,class:"ma-2",color:"red",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-close",start:""}),(0,o.eW)(" "+(0,a.v_)("Some seats are on top of another seat"))])),_:1})):((0,o.uX)(),(0,o.Wv)(x,{key:23,class:"ma-2",color:"green",closable:"",label:""},{default:(0,o.k6)((()=>[(0,o.bF)(n,{icon:"mdi-check",start:""}),(0,o.eW)(" "+(0,a.v_)("No seat is on top of another seat"))])),_:1}))])),_:1})])),_:1})])),_:1})])}}};const uu=cu;var hu=uu;function du(e,t,n){var o=[e,t,n].map((function(e){return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*o[0]+.7152*o[1]+.0722*o[2]}function pu(e,t){const n=du(e[0],e[1],e[2])+.05,o=du(t[0],t[1],t[2])+.05;let r=n/o;return o>n&&(r=1/r),r}function fu(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,n,o){return t+t+n+n+o+o}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}const gu=["#2b68e8","#2144ac","#646bee","#21a6e6","#106a9f","#1992a1","#20b6d2","#25b8a6","#2fc463","#1d7f40","#86ca2e","#67a221","#f39d2a","#d77720","#f7732a","#bc173f","#df224c"],mu={class:"color-picker-container"},yu={class:"color-picker-dropdown"},vu={class:"color-picker"},bu={class:"color-picker-action"};var wu={__name:"ColorPicker",props:{setColor:Function,selected:String,index:Number,setToggle:Function,clearToggle:Function,toggle:Boolean},setup(e){const t=e,n=e=>{l.value=e},a=()=>{t.setToggle(t.index)},s=()=>{t.setColor(l.value,t.index),t.clearToggle()},i=()=>{t.clearToggle()},l=(0,r.KR)(t.selected),c=["#2b68e8","#2144ac","#646bee","#21a6e6","#106a9f","#1992a1","#20b6d2","#25b8a6","#2fc463","#1d7f40","#86ca2e","#67a221","#f39d2a","#d77720","#f7732a","#bc173f","#df224c"];return(t,r)=>{const u=(0,o.g2)("v-btn");return(0,o.uX)(),(0,o.CE)("div",mu,[(0,o.bF)(u,{color:l.value,class:"border-rounded",onClick:a},null,8,["color"]),(0,o.bo)((0,o.Lk)("div",yu,[(0,o.Lk)("div",vu,[((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(c,(e=>(0,o.bF)(u,{class:"color-item-btn",key:e,color:e,onClick:()=>n(e)},null,8,["color","onClick"]))),64))]),(0,o.Lk)("div",bu,[(0,o.bF)(u,{class:"action-button",onClick:s},{default:(0,o.k6)((()=>[(0,o.eW)("Ok")])),_:1}),(0,o.bF)(u,{class:"action-button",onClick:i},{default:(0,o.k6)((()=>[(0,o.eW)("Cancel")])),_:1})])],512),[[ts.aG,e.toggle]])])}}};const xu=wu;var _u=xu;const ku={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Cu=(0,o.Lk)("h4",null,"Categories",-1),Su={class:"text-center"},Eu={class:"close-btn"},$u=(0,o.Lk)("div",{class:"text-center"},[(0,o.Lk)("h2",{class:"category-title"},"Categories"),(0,o.Lk)("p",{class:"category-description"}," Categories are used to alert users of different pricing options available. Example, If most seats are Standard Pricing of Adult $12 and Child $8 but your front 2 rows are Premium with Adult $15 and Child $13, Create one Premium category and one Standard category for your chart. ")],-1),Pu={class:"widget-container"},Mu={class:"widget-body"},Tu={class:"color-container-td"},zu={class:"input-container-td"},Fu=["defaultValue","onInput","onBlur"],Iu={class:"delete-container-td"},Lu={class:"delete-container-div"},Ru={class:"actions"};var Au={__name:"CategoryManage",setup(e){const t=(0,r.KR)(!1),n=(0,r.KR)(!1),s=gu,i=Na(),l=(0,r.KR)((0,o.EW)((()=>i.categories))),c=(0,r.KR)([]),u=((0,r.KR)([]),(0,r.KR)(Array(s.length).fill(!1))),h=e=>{const t=u.value[e];d(),u.value[e]=!t},d=()=>{u.value=Array(s.length).fill(!1)},p=e=>{for(const t of i._plan.zones){for(const n of t.rows)for(const t of n.seats)if(t?.category===e)return!1;for(const n of t.areas)if(n.seats){for(const t of n.seats)if(t?.category===e)return!1}else if(n.category===e)return!1}return!0},f=e=>{const t=p(l.value[e].name);return t},g=(e,t)=>{if(!n.value&&e.target.value)i.changeCategory(l.value[t].name,e.target.value,l.value[t].color);else{const e=document.querySelectorAll(".category-input");e[t].select()}},m=(e,t)=>{n.value=-1!==l.value.findIndex((t=>t.name===e.target.value))},y=(e,t)=>{i.changeCategory(l.value[t].name,l.value[t].name,e)},v=e=>{i.deleteCategory(l.value[e].name)},b=e=>{let t=e,n=1;while(l.value.some((e=>e.name===t)))t=`${e} ${n}`,n++;return t},w=()=>{if(17===l.value.length)return void alert("Can not add category anymore");const e=s.length;let t=null;while(!t){const n=Math.floor(Math.random()*e);if(t=s[n],-1===l.value.findIndex((e=>e.color===t)))break}const n=b("New Category");i.createCategory(n,t),c.value.push(n),(0,o.dY)((()=>{const e=document.querySelectorAll(".category-input"),t=e.length;e[t-1].select()}))},x=()=>{t.value=!1},_=()=>{t.value=!1};return(e,r)=>{const s=(0,o.g2)("v-icon"),i=(0,o.g2)("v-btn"),c=(0,o.g2)("v-card"),p=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",ku,[Cu,(0,o.bF)(i,{class:"btn",onClick:r[0]||(r[0]=e=>t.value=!0),size:"small",variant:"flat",style:{padding:"0px"}},{default:(0,o.k6)((()=>[(0,o.bF)(s,{icon:"mdi-cog"}),(0,o.eW)("Manage ")])),_:1})]),(0,o.Lk)("div",Su,[(0,o.bF)(p,{modelValue:t.value,"onUpdate:modelValue":r[2]||(r[2]=e=>t.value=e),width:"600",persistent:""},{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"v-card-container"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",Eu,[(0,o.bF)(i,{density:"comfortable",icon:"$close",variant:"plain",onClick:r[1]||(r[1]=e=>t.value=!1)})]),$u,(0,o.Lk)("div",Pu,[(0,o.Lk)("div",Mu,[(0,o.Lk)("button",{type:"button",class:"add-button",id:"addRow",onClick:w},"+ Create new category"),(0,o.Lk)("table",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",Tu,[(0,o.bF)(_u,{setColor:y,selected:e.color,index:t,setToggle:h,clearToggle:d,toggle:u.value[t]},null,8,["selected","index","toggle"])]),(0,o.Lk)("td",zu,[(0,o.Lk)("input",{class:(0,a.C4)(["category-input",{invalid:n.value}]),type:" text",name:"inputForm",defaultValue:e.name,ref_for:!0,ref:"categoryInput",onInput:e=>m(e,t),onBlur:e=>g(e,t)},null,42,Fu)]),(0,o.Lk)("td",Iu,[(0,o.Lk)("div",Lu,[f(t)?((0,o.uX)(),(0,o.Wv)(i,{key:0,density:"comfortable",icon:"$delete",variant:"plain",onClick:()=>v(t)},null,8,["onClick"])):(0,o.Q3)("",!0)])])])))),128))]),(0,o.Lk)("div",Ru,[(0,o.bF)(i,{color:"green",onClick:x},{default:(0,o.k6)((()=>[(0,o.eW)("Submit")])),_:1}),(0,o.bF)(i,{color:"red",onClick:_},{default:(0,o.k6)((()=>[(0,o.eW)("Discard")])),_:1})])])])])),_:1})])),_:1},8,["modelValue"])])],64)}}};const Nu=Au;var Xu=Nu;const Ou={style:{padding:"15px 10px","text-align":"left"}};var ju={__name:"ChartCategoryOption",setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("div",Ou,[(0,o.bF)(Xu)]))}};const Wu=ju;var Du=Wu;const Ku={style:{padding:"15px 10px","text-align":"left"}},Bu=(0,o.Lk)("h4",null,"Chart Options",-1),Vu=["value"],Yu=["value"],qu=["value"];var Uu={__name:"ChartGeneralOption",setup(e){const t=(0,o.EW)((()=>Na().plan)),n=(0,o.WQ)("planRef"),a=(0,r.KR)(t.value.name),s=(0,r.KR)(t.value.size.width),i=(0,r.KR)(t.value.size.height),l=e=>{n.value?.background&&(e.preventDefault(),alert("Please remove the background image before updating the size of this seating chart."))},c=e=>{const t=e.target.value;t.trim()&&(a.value=t,Na().setPlanName(a.value))},u=e=>{const{value:t}=e.target;t<=0||(s.value=t,Na().setPlanSize(s.value,i.value))},h=e=>{const{value:t}=e.target;t<=0||(i.value=t,Na().setPlanSize(s.value,i.value))};return(e,t)=>{const n=(0,o.g2)("v-col"),r=(0,o.g2)("v-row"),d=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",Ku,[Bu,(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Chart Name ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",name:"chart_name",value:a.value,onInput:c},null,40,Vu)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Width ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",type:"number",name:"width",value:s.value,onKeydown:l,onInput:u,min:"0"},null,40,Yu)])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.eW)(" Height ")])),_:1}),(0,o.bF)(n,{cols:"12",sm:"6"},{default:(0,o.k6)((()=>[(0,o.Lk)("input",{class:"v-custom-input",type:"number",name:"height",value:i.value,onKeydown:l,onInput:h,min:"0"},null,40,qu)])),_:1})])),_:1})])),_:1})])}}};const Hu=Uu;var Gu=Hu;const Qu={style:{display:"flex","justify-content":"space-between","align-items":"center"}},Zu={class:"text-center"};var Ju={__name:"SectionLabelModal",props:{addTags:Function},setup(e){const t=Ka(),n=(0,o.EW)((()=>t.section_label)),a=(0,r.KR)(!1),s=(0,r.KR)(""),i=(0,r.KR)(""),l=e,c=()=>{if(s.value&&i.value){const e=/^[a-zA-Z0-9-]+$/;if(i.value.length>6||!e.test(i.value))return void alert("Abbreviation must be limit to 6 or letters, numbers and hyphen(-)");const t=n.value.find((e=>e.label===s.value)),o=n.value.find((e=>e.abv===i.value));if(t||o)return void alert("This label or abbreviation already exists. Please use a different one");const r=Ea();l.addTags({id:r,label:s.value,abv:i.value}),a.value=!1,s.value="",i.value=""}else alert("Data Input Error")};return(e,t)=>{const n=(0,o.g2)("v-text-field"),r=(0,o.g2)("v-card-text"),l=(0,o.g2)("v-divider"),u=(0,o.g2)("v-btn"),h=(0,o.g2)("v-spacer"),d=(0,o.g2)("v-card-actions"),p=(0,o.g2)("v-card"),f=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",Qu,[(0,o.Lk)("button",{type:"button",class:"add-button",id:"addRow",onClick:t[0]||(t[0]=e=>a.value=!0)},"+ Create new")]),(0,o.Lk)("div",Zu,[(0,o.bF)(f,{modelValue:a.value,"onUpdate:modelValue":t[4]||(t[4]=e=>a.value=e),width:"400"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{"prepend-icon":"mdi-label",title:"Add Section Label"},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{type:"text",label:"Section label",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{type:"text",label:"Section Abbreviation",modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(l),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{text:"Close",onClick:t[3]||(t[3]=e=>a.value=!1)}),(0,o.bF)(h),(0,o.bF)(u,{text:"Add",onClick:c,color:"primary"})])),_:1})])),_:1})])),_:1},8,["modelValue"])])],64)}}};const eh=Ju;var th=eh;const nh={style:{display:"flex","justify-content":"space-between","align-items":"center"}},oh=(0,o.Lk)("h4",null,"Section",-1),rh={class:"text-center"},ah={class:"close-btn"},sh=(0,o.Lk)("div",{class:"text-center"},[(0,o.Lk)("h2",{class:"category-title"},"Section Labeling")],-1),ih={class:"widget-container"},lh={class:"widget-body"},ch=(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"text-center"},"Label"),(0,o.Lk)("th",{class:"text-center"},"Abbreviation"),(0,o.Lk)("th",{class:"text-center"},"Action")],-1),uh={class:"text-center"},hh={class:"text-center"},dh={class:"text-center"};var ph={__name:"SectionManage",props:{},setup(e){const t=(0,r.KR)(!1),n=Na(),s=Ka(),i=(0,o.EW)((()=>s.section_label)),l=e=>{s.removeSectionLabel(e)},c=e=>{i.value.push(e),s.setSectionLabel(i.value)},u=e=>h(i.value[e].label,i.value[e].abv),h=(e,t)=>{for(const o of n._plan.zones){for(const n of o.rows)for(const o of n.seats)if(o?.section_label===e&&o?.section_abv===t)return!1;for(const n of o.areas)if(n.seats){for(const o of n.seats)if(o?.section_label===e&&o?.section_abv===t)return!1}else if(n?.section===e&&n?.abbreviation===t)return!1}return!0};return(e,n)=>{const r=(0,o.g2)("v-icon"),s=(0,o.g2)("v-btn"),h=(0,o.g2)("v-card"),d=(0,o.g2)("v-dialog");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",nh,[oh,(0,o.bF)(s,{class:"btn",onClick:n[0]||(n[0]=e=>t.value=!0),size:"small",variant:"flat",style:{padding:"0px"}},{default:(0,o.k6)((()=>[(0,o.bF)(r,{icon:"mdi-cog"}),(0,o.eW)("Manage ")])),_:1})]),(0,o.Lk)("div",rh,[(0,o.bF)(d,{modelValue:t.value,"onUpdate:modelValue":n[2]||(n[2]=e=>t.value=e),width:"600"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"v-card-container"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",ah,[(0,o.bF)(s,{density:"comfortable",icon:"$close",variant:"plain",onClick:n[1]||(n[1]=e=>t.value=!1)})]),sh,(0,o.Lk)("div",ih,[(0,o.Lk)("div",lh,[(0,o.bF)(th,{addTags:c}),(0,o.Lk)("table",null,[ch,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.value,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",uh,(0,a.v_)(e.label),1),(0,o.Lk)("td",hh,(0,a.v_)(e.abv),1),(0,o.Lk)("td",dh,[u(t)?((0,o.uX)(),(0,o.Wv)(s,{key:0,density:"comfortable",icon:"$delete",variant:"plain",onClick:t=>l(e.id)},null,8,["onClick"])):(0,o.Q3)("",!0)])])))),128))])])])])),_:1})])),_:1},8,["modelValue"])])],64)}}};const fh=ph;var gh=fh;const mh={style:{padding:"15px 10px","text-align":"left"}};var yh={__name:"ChartSectionOption",setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("div",mh,[(0,o.bF)(gh)]))}};const vh=yh;var bh=vh;const wh={style:{padding:"15px 10px","text-align":"left"}},xh=(0,o.Lk)("h4",null,"Upload Background",-1);var _h={__name:"ChartUploadBackgroundOption",setup(e){const t=(0,o.WQ)("planRef"),n=()=>{const e=document.createElement("input");e.type="file",e.accept=".svg,.png",e.onchange=n=>{const o=e.files[0];if(!o)return;const r=["image/svg+xml","image/png"];if(!r.includes(o.type))return void alert("Sorry, we only allow SVG or PNG files to be placed as background images.");const a=new FileReader;a.onload=()=>{const e=new Image;e.onload=()=>{const n=t.value.plan.size.width,o=t.value.plan.size.height;console.log(e.width,e.height),e.width==n&&e.height==o?(t.value.background=a.result,t.value.backgroundWidth=n,t.value.backgroundHeight=o,t.value.persistBackground()):alert(`Sorry, but the image must be exactly ${n} wide by ${o} high to match the size of the seating chart itself.`)},e.src=a.result},a.readAsDataURL(o)},e.click()},a=()=>{t.value.background=null,t.value.persistBackground()};return(e,s)=>{const i=(0,o.g2)("v-col"),l=(0,o.g2)("v-btn"),c=(0,o.g2)("v-row"),u=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",wh,[xh,(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(i,{cols:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,o.eW)(" Background images are not saved with this chart but can be added later to the ticketing system. ")])),_:1}),(0,o.bF)(i,{cols:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,r.R1)(t)?.background?((0,o.uX)(),(0,o.Wv)(l,{key:0,onClick:a},{default:(0,o.k6)((()=>[(0,o.eW)(" Remove Background ")])),_:1})):((0,o.uX)(),(0,o.Wv)(l,{key:1,onClick:n},{default:(0,o.k6)((()=>[(0,o.eW)("Upload Background")])),_:1}))])),_:1})])),_:1})])),_:1})])}}};const kh=_h;var Ch=kh;const Sh=(0,s.nY)("testStore",(()=>{const e=(0,r.KR)(0),t=()=>{e.value++},n=(0,o.EW)((()=>e));return{counter:e,increase:t,getCounter:n}}));var Eh={__name:"TestSelection",setup(e){const t=Sh(),n=()=>{t.increase()};return(e,s)=>{const i=(0,o.g2)("v-btn");return(0,o.uX)(),(0,o.Wv)(i,{onClick:n},{default:(0,o.k6)((()=>[(0,o.eW)((0,a.v_)((0,r.R1)(t).getCounter),1)])),_:1})}}};const $h=Eh;var Ph=$h;const Mh={class:"dropdown"},Th={class:"name"},zh=(0,o.Lk)("div",{class:"color-space"},null,-1),Fh=(0,o.Lk)("span",null,"Select a Category",-1),Ih=(0,o.Lk)("span",{class:"arrow"},"",-1),Lh={class:"dropdown-menu"},Rh=["onClick"],Ah={class:"name"};var Nh={__name:"DropDown",props:{options:Array,setCategory:Function,selectedOption:String},setup(e){const t=Na(),n=(0,o.EW)((()=>t.categories)),s=(0,r.KR)(!1),i=e,l=(0,r.KR)((0,o.EW)((()=>n.value.find((e=>e.name===i.selectedOption))))),c=()=>{s.value=!s.value},u=e=>{l.value=e,s.value=!1,i.setCategory(e.name)};return(t,n)=>((0,o.uX)(),(0,o.CE)("div",Mh,[(0,o.Lk)("div",{onClick:c,class:"dropdown-toggle",id:"dropdownMenuButton"},[l.value?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",{class:"color",style:(0,a.Tr)({"background-color":l.value?.color})},null,4),(0,o.Lk)("span",Th,(0,a.v_)(l.value?.name),1)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[zh,Fh],64)),Ih]),(0,o.bo)((0,o.Lk)("div",Lh,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"dropdown-item",onClick:t=>u(e)},[(0,o.Lk)("div",{class:"color",style:(0,a.Tr)({"background-color":e?.color})},null,4),(0,o.Lk)("span",Ah,(0,a.v_)(e?.name),1)],8,Rh)))),128))],512),[[ts.aG,s.value]])]))}};const Xh=Nh;var Oh=Xh;const jh={style:{padding:"15px 10px","text-align":"left"}};var Wh={__name:"CategoryComponent",props:{setCategory:Function,selectedCategory:String},setup(e){const t=Na(),n=(0,o.EW)((()=>t.categories));return(t,r)=>{const a=(0,o.g2)("v-col"),s=(0,o.g2)("v-row"),i=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",jh,[(0,o.bF)(Xu),(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{style:{display:"flex","justify-content":"center","align-items":"center"}},{default:(0,o.k6)((()=>[(0,o.bF)(a,{cols:"12",sm:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(Oh,{options:n.value,setCategory:e.setCategory,selectedOption:e.selectedCategory},null,8,["options","setCategory","selectedOption"])])),_:1})])),_:1})])),_:1})])}}};const Dh=Wh;var Kh=Dh;const Bh={class:"dropdown"},Vh=(0,o.Lk)("div",{class:"color-space"},null,-1),Yh={class:"name"},qh=(0,o.Lk)("div",{class:"color-space"},null,-1),Uh=(0,o.Lk)("span",null,"Select a Section",-1),Hh=(0,o.Lk)("span",{class:"arrow"},"",-1),Gh={class:"dropdown-menu"},Qh=["onClick"],Zh=(0,o.Lk)("div",{class:"color-space"},null,-1),Jh={class:"name"};var ed={__name:"DropDownComponent",props:{options:Array,setSection:Function,section:String},setup(e){const t=Na(),n=((0,o.EW)((()=>t.categories)),(0,r.KR)(!1)),s=e,i=()=>{n.value=!n.value},l=(0,r.KR)((0,o.EW)((()=>s.section))),c=e=>{l.value=`${e.label}(${e.abv})`,n.value=!1,s.setSection(e.label,e.abv)};return(t,r)=>((0,o.uX)(),(0,o.CE)("div",Bh,[(0,o.Lk)("div",{onClick:i,class:"dropdown-toggle",id:"dropdownMenuButton"},[l.value.length?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[Vh,(0,o.Lk)("span",Yh,(0,a.v_)(l.value),1)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[qh,Uh],64)),Hh]),(0,o.bo)((0,o.Lk)("div",Gh,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.options,((e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"dropdown-item",onClick:t=>c(e)},[Zh,(0,o.Lk)("span",Jh,(0,a.v_)(e.label)+"("+(0,a.v_)(e.abv)+")",1)],8,Qh)))),128))],512),[[ts.aG,n.value]])]))}};const td=ed;var nd=td;const od={style:{padding:"15px 10px","text-align":"left"}};var rd={__name:"SectionLabel",props:{section:String,setSection:Function},setup(e){const t=Ka(),n=(0,o.EW)((()=>t.section_label));(0,o.EW)((()=>t.section_label));return(t,a)=>{const s=(0,o.g2)("v-col"),i=(0,o.g2)("v-row"),l=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",od,[(0,o.bF)(gh),(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)((0,r.R1)(nd),{options:n.value,setSection:e.setSection,section:e.section},null,8,["options","setSection","section"])])),_:1})])),_:1})])),_:1})])}}};const ad=rd;var sd=ad;const id={style:{padding:"15px 10px","text-align":"left"}},ld=(0,o.Lk)("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[(0,o.Lk)("h4",null,"Tags")],-1);var cd={__name:"TagsPanel",props:{setTag:Function,selectedTag:Array},setup(e){Na();const t=e,n=(0,r.KR)(["Wheelchair","Wheelchair Companion","Partial View","Folding Chair","Standing Room Only"]),a=(0,r.KR)([]);return(0,o.sV)((()=>{a.value=t.selectedTag})),(0,o.wB)(a,((e,n)=>{t.setTag(e)})),(e,t)=>{const r=(0,o.g2)("v-select"),s=(0,o.g2)("v-col"),i=(0,o.g2)("v-row"),l=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.CE)("div",id,[ld,(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{cols:"12"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),items:n.value,label:"Tags",chips:"",multiple:""},null,8,["modelValue","items"])])),_:1})])),_:1})])),_:1})])}}};const ud=cd;var hd=ud,dd={__name:"RightNav",props:{temp_Rotate:Function},setup(e){const t=Ka(),n=Na(),a=(0,r.KR)((0,o.EW)((()=>t.selection))),s=(0,r.KR)((0,o.EW)((()=>n.plan))),i=(0,o.EW)((()=>Ka().bvalid)),l=(0,o.WQ)("planRef");(0,o.Gt)("planRef",l);const c=(0,o.EW)((()=>!(!g().length||!a.value.length)&&g().length===a.value.length)),u=(0,o.EW)((()=>!(!m().length||!a.value.length)&&m().length===a.value.length)),h=(0,o.EW)((()=>!(!v().length||!a.value.length)&&v().length===a.value.length)),d=(0,o.EW)((()=>!(!y().length||!a.value.length)&&y().length===a.value.length)),p=(0,o.EW)((()=>!(!b().length||!a.value.length)&&b().length===a.value.length)),f=(0,o.EW)((()=>!(!w().length||!a.value.length)&&w().length===a.value.length)),g=()=>{const e=[];if(a.value.length)for(const t of s.value.zones)for(const n of t.rows)a.value.includes(n.uuid)&&e.push(n);return e},m=()=>{const e=[];if(a.value.length)for(const t of s.value.zones)for(const n of t.rows)for(const t of n.seats)(a.value.includes(n.uuid)||a.value.includes(t.uuid))&&e.push(t);return e},y=()=>{const e=[];if(a.value.length)for(const t of s.value.zones)for(const n of t.areas)if("roundTable"===n.shape||"rectangleTable"===n.shape)for(const t of n.seats)(a.value.includes(n.uuid)||a.value.includes(t.uuid))&&e.push(t);return e},v=()=>{const e=[];if(a.value.length)for(const t of s.value.zones)for(const n of t.areas)!a.value.includes(n.uuid)||"roundTable"!==n.shape&&"rectangleTable"!==n.shape||e.push(n);return e},b=()=>{const e=[];if(a.value.length)for(const t of s.value.zones)for(const n of t.areas)!a.value.includes(n.uuid)||"gaCircle"!==n.shape&&"gaSquare"!==n.shape&&"gaPolygon"!==n.shape||e.push(n);return e},w=()=>{const e=[];if(a.value.length)for(const t of s.value.zones)for(const n of t.areas)!a.value.includes(n.uuid)||"text"!==n.shape&&"rectangle"!==n.shape&&"ellipse"!==n.shape&&"circle"!==n.shape&&"polygon"!==n.shape||e.push(n);return e},x=e=>{m().length&&n.modifySeats({seatIds:m().map((e=>e.uuid)),category:e}),b().length&&n.modifyAreas({areaIds:b().map((e=>e.uuid)),category:e}),v().length&&n.setTableCategory(v(),e),y().length&&n.setTableSeatCategory(y(),e)},_=(0,o.EW)((()=>{const e=[...m().map((e=>e.category)),...y().map((e=>e.category)),...b().map((e=>e.category))];return yi(e,(e=>e))})),k=(0,o.EW)((()=>{const e=[...m().map((e=>e.section_label)),...y().map((e=>e.section_label)),...b().map((e=>e.section_label))],t=[...m().map((e=>e.section_abv)),...y().map((e=>e.section_abv)),...b().map((e=>e.section_abv))],n=yi(e,(e=>e)),o=yi(t,(e=>e));return n&&o?`${n}(${o})`:""})),C=(e,t)=>{g().length&&n.addSectionLabel(g().map((e=>e.uuid)),e,t),m().length&&n.addSectionLabel(m().map((e=>e.uuid)),e,t),b().length&&n.addGASectionLabel(b().map((e=>e.uuid)),e,t),v().length&&n.addTableSectionLabel(v().map((e=>e.uuid)),e,t),y().length&&n.addTableSectionLabel(y().map((e=>e.uuid)),e,t)},S=(0,o.EW)((()=>{const e=[...m().map((e=>e.tag_name)),...b().map((e=>e.tag_name)),...y().map((e=>e.tag_name))];return yi(e,(e=>e))})),E=e=>{m().length&&n.setTag(m().map((e=>e.uuid)),e),b().length&&n.setTag(b().map((e=>e.uuid)),e),y().length&&n.setTag(y().map((e=>e.uuid)),e)};return(t,n)=>{const r=(0,o.g2)("v-divider"),s=(0,o.g2)("v-navigation-drawer");return(0,o.uX)(),(0,o.Wv)(s,{location:"right",style:{top:"51px",width:"300px","padding-bottom":"50px",bottom:"50px"}},{default:(0,o.k6)((()=>[(0,o.bF)(Ph),i.value?((0,o.uX)(),(0,o.Wv)(hu,{key:0})):(0,o.Q3)("",!0),a.value.length?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.bF)(Gu),(0,o.bF)(Du),(0,o.bF)(bh),(0,o.bF)(Ch)],64)),c.value?((0,o.uX)(),(0,o.Wv)(ml,{key:2,rows:g(),seats:m(),temp_Rotate:e.temp_Rotate},null,8,["rows","seats","temp_Rotate"])):(0,o.Q3)("",!0),u.value?((0,o.uX)(),(0,o.Wv)(Sl,{key:3,seats:m()},null,8,["seats"])):(0,o.Q3)("",!0),p.value?((0,o.uX)(),(0,o.Wv)(ic,{key:4,areas:b(),temp_Rotate:e.temp_Rotate},null,8,["areas","temp_Rotate"])):(0,o.Q3)("",!0),h.value?((0,o.uX)(),(0,o.Wv)(Qc,{key:5,areas:v(),seats:y()},null,8,["areas","seats"])):(0,o.Q3)("",!0),d.value?((0,o.uX)(),(0,o.Wv)(su,{key:6,seats:y()},null,8,["seats"])):(0,o.Q3)("",!0),f.value?((0,o.uX)(),(0,o.Wv)(eu,{key:7,areas:w(),temp_Rotate:e.temp_Rotate},null,8,["areas","temp_Rotate"])):(0,o.Q3)("",!0),a.value.length?((0,o.uX)(),(0,o.CE)(o.FK,{key:8},[(0,o.bF)(Kh,{"set-category":x,"selected-category":_.value},null,8,["selected-category"]),(0,o.bF)(r),(0,o.bF)(sd,{section:k.value,"set-section":C},null,8,["section"]),(0,o.bF)(r),(0,o.bF)(hd,{"set-tag":E,"selected-tag":S.value},null,8,["selected-tag"])],64)):(0,o.Q3)("",!0)])),_:1})}}};const pd=dd;var fd=pd;const gd={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},md=(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M10,7.1c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9S11.6,7.1,10,7.1z M10,11.9c-1,0-1.9-0.8-1.9-1.9\r\n\t\tS9,8.1,10,8.1S11.9,9,11.9,10S11,11.9,10,11.9z"}),(0,o.Lk)("path",{d:"M17.1,7.1c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,7.1,17.1,7.1z M15.2,10c0-1,0.8-1.9,1.9-1.9\r\n\t\tc1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C16.1,11.9,15.2,11,15.2,10z"}),(0,o.Lk)("path",{d:"M2.9,7.1C1.3,7.1,0,8.4,0,10s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S4.5,7.1,2.9,7.1z M2.9,11.9C1.8,11.9,1,11,1,10\r\n\t\ts0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S3.9,11.9,2.9,11.9z"})],-1),yd=[md];function vd(e,t){return(0,o.uX)(),(0,o.CE)("svg",gd,yd)}const bd={},wd=(0,ss.A)(bd,[["render",vd]]);var xd=wd;const _d={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},kd=(0,o.Fv)('<g><path d="M10,6.9c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9S11.6,6.9,10,6.9z M10,11.7c-1,0-1.9-0.8-1.9-1.9\r\n\t\tS9,7.9,10,7.9s1.9,0.8,1.9,1.9S11,11.7,10,11.7z"></path><path d="M17.1,6.9c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,6.9,17.1,6.9z M15.2,9.8\r\n\t\tc0-1,0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C16.1,11.7,15.2,10.9,15.2,9.8z"></path><path d="M2.9,6.9C1.3,6.9,0,8.2,0,9.8s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S4.5,6.9,2.9,6.9z M2.9,11.7c-1,0-1.9-0.8-1.9-1.9\r\n\t\ts0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S3.9,11.7,2.9,11.7z"></path></g><g><path d="M10,0C8.4,0,7.1,1.3,7.1,2.9S8.4,5.8,10,5.8s2.9-1.3,2.9-2.9S11.6,0,10,0z M10,4.8c-1,0-1.9-0.8-1.9-1.9S9,1,10,1\r\n\t\ts1.9,0.8,1.9,1.9S11,4.8,10,4.8z"></path><path d="M17.1,0c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,0,17.1,0z M15.2,2.9c0-1,0.8-1.9,1.9-1.9\r\n\t\tc1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C16.1,4.8,15.2,3.9,15.2,2.9z"></path><path d="M2.9,0C1.3,0,0,1.3,0,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S4.5,0,2.9,0z M2.9,4.8C1.8,4.8,1,3.9,1,2.9S1.8,1,2.9,1\r\n\t\tc1,0,1.9,0.8,1.9,1.9S3.9,4.8,2.9,4.8z"></path></g><g><path d="M10,14.2c-1.6,0-2.9,1.3-2.9,2.9S8.4,20,10,20s2.9-1.3,2.9-2.9S11.6,14.2,10,14.2z M10,19c-1,0-1.9-0.8-1.9-1.9\r\n\t\tS9,15.2,10,15.2s1.9,0.8,1.9,1.9S11,19,10,19z"></path><path d="M17.1,14.2c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,14.2,17.1,14.2z M15.2,17.1\r\n\t\tc0-1,0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S18.2,19,17.1,19C16.1,19,15.2,18.2,15.2,17.1z"></path><path d="M2.9,14.2c-1.6,0-2.9,1.3-2.9,2.9S1.3,20,2.9,20c1.6,0,2.9-1.3,2.9-2.9S4.5,14.2,2.9,14.2z M2.9,19c-1,0-1.9-0.8-1.9-1.9\r\n\t\ts0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S3.9,19,2.9,19z"></path></g>',3),Cd=[kd];function Sd(e,t){return(0,o.uX)(),(0,o.CE)("svg",_d,Cd)}const Ed={},$d=(0,ss.A)(Ed,[["render",Sd]]);var Pd=$d;const Md={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},Td=(0,o.Fv)('<g><path d="M6.4,7.1c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9s2.9-1.3,2.9-2.9S8,7.1,6.4,7.1z M6.4,11.9c-1,0-1.9-0.8-1.9-1.9\r\n\t\ts0.8-1.9,1.9-1.9S8.3,9,8.3,10S7.5,11.9,6.4,11.9z"></path><path d="M13.6,7.1c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S15.2,7.1,13.6,7.1z M11.7,10c0-1,0.8-1.9,1.9-1.9\r\n\t\tc1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C12.5,11.9,11.7,11,11.7,10z"></path></g><g><path d="M10,0C8.4,0,7.1,1.3,7.1,2.9S8.4,5.8,10,5.8s2.9-1.3,2.9-2.9S11.6,0,10,0z M10,4.8c-1,0-1.9-0.8-1.9-1.9S9,1,10,1\r\n\t\ts1.9,0.8,1.9,1.9S11,4.8,10,4.8z"></path><path d="M17.1,0c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,0,17.1,0z M15.2,2.9c0-1,0.8-1.9,1.9-1.9\r\n\t\tc1,0,1.9,0.8,1.9,1.9s-0.8,1.9-1.9,1.9C16.1,4.8,15.2,3.9,15.2,2.9z"></path><path d="M2.9,0C1.3,0,0,1.3,0,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S4.5,0,2.9,0z M2.9,4.8C1.8,4.8,1,3.9,1,2.9S1.8,1,2.9,1\r\n\t\tc1,0,1.9,0.8,1.9,1.9S3.9,4.8,2.9,4.8z"></path></g><g><path d="M10,14.2c-1.6,0-2.9,1.3-2.9,2.9S8.4,20,10,20s2.9-1.3,2.9-2.9S11.6,14.2,10,14.2z M10,19c-1,0-1.9-0.8-1.9-1.9\r\n\t\tS9,15.2,10,15.2s1.9,0.8,1.9,1.9S11,19,10,19z"></path><path d="M17.1,14.2c-1.6,0-2.9,1.3-2.9,2.9s1.3,2.9,2.9,2.9c1.6,0,2.9-1.3,2.9-2.9S18.7,14.2,17.1,14.2z M15.2,17.1\r\n\t\tc0-1,0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S18.2,19,17.1,19C16.1,19,15.2,18.2,15.2,17.1z"></path><path d="M2.9,14.2c-1.6,0-2.9,1.3-2.9,2.9S1.3,20,2.9,20c1.6,0,2.9-1.3,2.9-2.9S4.5,14.2,2.9,14.2z M2.9,19c-1,0-1.9-0.8-1.9-1.9\r\n\t\ts0.8-1.9,1.9-1.9c1,0,1.9,0.8,1.9,1.9S3.9,19,2.9,19z"></path></g>',3),zd=[Td];function Fd(e,t){return(0,o.uX)(),(0,o.CE)("svg",Md,zd)}const Id={},Ld=(0,ss.A)(Id,[["render",Fd]]);var Rd=Ld;const Ad={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},Nd=(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M0,0v20h20V0H0z M19,19H1V1h18V19z"}),(0,o.Lk)("path",{d:"M6.2,13.6c1.2,0,2.2-0.5,2.9-1.1v-3h-3v1.1h1.8V12c-0.4,0.3-1,0.5-1.7,0.5c-1.4,0-2.4-1.1-2.4-2.5v0c0-1.3,1-2.5,2.3-2.5\r\n\t\tc0.9,0,1.4,0.3,2,0.8l0.8-0.9c-0.7-0.6-1.5-1-2.7-1C4.1,6.4,2.5,8,2.5,10v0C2.5,12.1,4,13.6,6.2,13.6z"}),(0,o.Lk)("path",{d:"M12.1,11.8h3.3l0.7,1.7h1.3l-3.1-7.1h-1.1l-3.1,7.1h1.3L12.1,11.8z M13.8,7.9l1.2,2.8h-2.4L13.8,7.9z"})],-1),Xd=[Nd];function Od(e,t){return(0,o.uX)(),(0,o.CE)("svg",Ad,Xd)}const jd={},Wd=(0,ss.A)(jd,[["render",Od]]);var Dd=Wd;const Kd={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},Bd=(0,o.Fv)('<g><path d="M17.5,7.5c-0.6,0-1.1,0.2-1.6,0.6l0,0l0,0c0.2,0.6,0.3,1.2,0.3,1.8c0,0.6-0.1,1.2-0.3,1.8l0,0l0,0c0.4,0.4,1,0.6,1.6,0.6\r\n\t\tc1.4,0,2.5-1.1,2.5-2.5C20,8.6,18.9,7.5,17.5,7.5z"></path><path d="M4.1,11.9L4.1,11.9c-0.2-0.6-0.4-1.2-0.4-1.9c0-0.6,0.1-1.2,0.3-1.8l0,0l0,0c-0.4-0.4-1-0.6-1.6-0.6C1.1,7.5,0,8.6,0,10\r\n\t\tc0,1.4,1.1,2.5,2.5,2.5C3.1,12.5,3.6,12.3,4.1,11.9L4.1,11.9z"></path><path d="M5.4,5.8L5.4,5.8L5.4,5.8c0.5-0.5,0.9-0.9,1.5-1.2C7.4,4.3,8,4.1,8.6,4l0,0l0,0c0.1-0.6,0-1.2-0.3-1.7\r\n\t\tC7.7,1.1,6.2,0.7,5,1.3C3.8,2,3.4,3.5,4.1,4.7C4.4,5.2,4.9,5.6,5.4,5.8z"></path><path d="M14.6,14.2L14.6,14.2L14.6,14.2c-0.5,0.5-0.9,0.9-1.5,1.2c-0.5,0.3-1.1,0.5-1.7,0.6l0,0l0,0c-0.1,0.6,0,1.2,0.3,1.7\r\n\t\tc0.7,1.2,2.2,1.6,3.4,0.9c1.2-0.7,1.6-2.2,0.9-3.4C15.6,14.8,15.1,14.4,14.6,14.2z"></path><path d="M8.7,16L8.7,16c-0.7-0.1-1.3-0.3-1.8-0.6c-0.5-0.3-1-0.7-1.4-1.2l0,0l0,0c-0.5,0.2-1,0.6-1.3,1.1C3.4,16.5,3.8,18,5,18.7\r\n\t\tc1.2,0.7,2.7,0.3,3.4-0.9C8.7,17.2,8.8,16.6,8.7,16L8.7,16z"></path><path d="M11.3,4L11.3,4c0.7,0.1,1.3,0.3,1.8,0.6c0.5,0.3,1,0.7,1.4,1.2l0,0l0,0c0.5-0.2,1-0.6,1.3-1.1C16.6,3.5,16.2,2,15,1.3\r\n\t\tc-1.2-0.7-2.7-0.3-3.4,0.9C11.3,2.8,11.2,3.4,11.3,4L11.3,4z"></path><path d="M14.8,10c0-2.7-2.2-4.9-4.8-4.9S5.2,7.3,5.2,10s2.2,4.8,4.8,4.8S14.8,12.7,14.8,10z M10,14.1c-2.3,0-4.1-1.8-4.1-4.1\r\n\t\tS7.7,5.9,10,5.9s4.1,1.8,4.1,4.1S12.3,14.1,10,14.1z"></path></g>',1),Vd=[Bd];function Yd(e,t){return(0,o.uX)(),(0,o.CE)("svg",Kd,Vd)}const qd={},Ud=(0,ss.A)(qd,[["render",Yd]]);var Hd=Ud;const Gd={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},Qd=(0,o.Fv)('<g><path d="M10,16.3c-0.6,0-1.2-0.1-1.8-0.3c-0.4,0.4-0.6,1-0.6,1.6c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5\r\n\t\tc-0.1-0.7-0.3-1.2-0.7-1.7C11.3,16.1,10.7,16.3,10,16.3z"></path><path d="M10,3.8c0.6,0,1.2,0.1,1.8,0.3c0.4-0.4,0.6-1,0.6-1.6C12.5,1.1,11.4,0,10,0S7.5,1.1,7.5,2.5c0,0.6,0.2,1.1,0.6,1.6\r\n\t\tC8.8,3.9,9.4,3.8,10,3.8z"></path><path d="M3.2,16.2c-0.6,0-1.2-0.1-1.8-0.3c-0.4,0.4-0.6,1-0.6,1.6c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5\r\n\t\tc-0.1-0.6-0.3-1.2-0.7-1.7C4.5,16,3.9,16.2,3.2,16.2z"></path><path d="M3.2,3.7C3.8,3.7,4.4,3.8,5,4c0.4-0.4,0.6-1,0.6-1.6C5.7,1.1,4.6,0,3.2,0C1.9,0,0.8,1.1,0.8,2.5C0.8,3,1,3.6,1.4,4.1\r\n\t\tC2,3.8,2.6,3.7,3.2,3.7z"></path><path d="M16.7,16.2c-0.6,0-1.2-0.1-1.8-0.3c-0.4,0.4-0.6,1-0.6,1.6c0,1.4,1.1,2.5,2.5,2.5c1.4,0,2.5-1.1,2.5-2.5\r\n\t\tc-0.1-0.6-0.3-1.2-0.7-1.7C18,16,17.4,16.2,16.7,16.2z"></path><path d="M16.8,3.7c0.6,0,1.2,0.1,1.8,0.3c0.4-0.4,0.6-1,0.6-1.6c0-1.4-1.1-2.5-2.5-2.5c-1.4,0-2.5,1.1-2.5,2.5\r\n\t\tc0.1,0.6,0.3,1.2,0.7,1.7C15.5,3.9,16.1,3.7,16.8,3.7z"></path><path d="M19.2,5.1H0.8C0.4,5.1,0,5.5,0,5.9v8.2c0,0.5,0.4,0.8,0.8,0.8h18.4c0.5,0,0.8-0.4,0.8-0.8V5.9C20,5.5,19.6,5.1,19.2,5.1z M19.2,14.1C19.2,14.1,19.2,14.2,19.2,14.1L0.8,14.2c0,0-0.1,0-0.1-0.1V5.9c0,0,0-0.1,0.1-0.1h18.4c0,0,0.1,0,0.1,0.1V14.1z"></path></g>',1),Zd=[Qd];function Jd(e,t){return(0,o.uX)(),(0,o.CE)("svg",Gd,Zd)}const ep={},tp=(0,ss.A)(ep,[["render",Jd]]);var np=tp;const op={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},rp=(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M10,0.8c5.1,0,9.2,4.1,9.2,9.2s-4.1,9.2-9.2,9.2S0.8,15.1,0.8,10S4.9,0.8,10,0.8 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10\r\n\t\ts10-4.5,10-10S15.5,0,10,0L10,0z"})],-1),ap=(0,o.Lk)("path",{d:"M6.2,13.6c1.2,0,2.2-0.5,2.9-1.1v-3h-3v1.1h1.8V12c-0.4,0.3-1,0.5-1.7,0.5c-1.4,0-2.4-1.1-2.4-2.5v0c0-1.3,1-2.5,2.3-2.5\r\n\tc0.9,0,1.4,0.3,2,0.8l0.8-0.9c-0.7-0.6-1.5-1-2.7-1C4.1,6.4,2.5,8,2.5,10v0C2.5,12.1,4,13.6,6.2,13.6z"},null,-1),sp=(0,o.Lk)("path",{d:"M12.1,11.8h3.3l0.7,1.7h1.3l-3.1-7.1h-1.1l-3.1,7.1h1.3L12.1,11.8z M13.8,7.9l1.2,2.8h-2.4L13.8,7.9z"},null,-1),ip=[rp,ap,sp];function lp(e,t){return(0,o.uX)(),(0,o.CE)("svg",op,ip)}const cp={},up=(0,ss.A)(cp,[["render",lp]]);var hp=up;const dp={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 32 28",style:{"enable-background":"new 0 0 32 28"},"xml:space":"preserve"},pp=(0,o.Lk)("g",null,[(0,o.Lk)("path",{class:"st0",d:"M10.8,18.6c1.7,0,3-0.7,4-1.5v-4.2h-4.2v1.5h2.5v2c-0.6,0.4-1.4,0.7-2.4,0.7c-1.9,0-3.3-1.5-3.3-3.5l0,0\r\n\t\tc0-1.8,1.4-3.5,3.2-3.5c1.2,0,1.9,0.4,2.8,1.1l1.1-1.3c-1-0.8-2.1-1.4-3.7-1.4c-2.9,0-5.1,2.2-5.1,5l0,0\r\n\t\tC5.7,16.5,7.8,18.6,10.8,18.6z"}),(0,o.Lk)("path",{class:"st0",d:"M19,16.1h4.6l1,2.4h1.8L22,8.6h-1.5l-4.3,9.9H18L19,16.1z M21.3,10.7l1.7,3.9h-3.3L21.3,10.7z"})],-1),fp=(0,o.Lk)("path",{class:"st0",d:"M23.2,1.4L30.4,14l-7.2,12.6H8.8L1.6,14L8.8,1.4H23.2 M24,0H8L0,14l8,14h16l8-14L24,0L24,0z"},null,-1),gp=[pp,fp];function mp(e,t){return(0,o.uX)(),(0,o.CE)("svg",dp,gp)}const yp={},vp=(0,ss.A)(yp,[["render",mp]]);var bp=vp;const wp={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},xp=(0,o.Lk)("g",null,[(0,o.Lk)("circle",{cx:"10",cy:"10",r:"9",fill:"none",stroke:"#000","stroke-width":"1"}),(0,o.Lk)("circle",{cx:"10",cy:"10",r:"5",fill:"none",stroke:"#000","stroke-width":"1"})],-1),_p=[xp];function kp(e,t){return(0,o.uX)(),(0,o.CE)("svg",wp,_p)}const Cp={},Sp=(0,ss.A)(Cp,[["render",kp]]);var Ep=Sp,$p={__name:"AddChairTools",props:{opened:Boolean},setup(e){const t=Ka(),n=e,s=(0,r.KR)((0,o.EW)((()=>t.tool))),i=e=>t.changeTool(e);return(e,t)=>{const r=(0,o.g2)("v-tooltip"),l=(0,o.g2)("v-list-item-title"),c=(0,o.g2)("v-list-item"),u=(0,o.g2)("v-list");return n.opened?((0,o.uX)(),(0,o.Wv)(u,{key:0,id:"seat-tools"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{onClick:t[0]||(t[0]=e=>i("row")),class:(0,a.C4)("row"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("One Row")])),_:1}),(0,o.bF)(xd,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(c,{onClick:t[1]||(t[1]=e=>i("rows")),class:(0,a.C4)("rows"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Multi Rows")])),_:1}),(0,o.bF)(Pd,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(c,{onClick:t[2]||(t[2]=e=>i("stgrows")),class:(0,a.C4)("stgrows"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Multi Staggered Rows")])),_:1}),(0,o.bF)(Rd,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(c,{onClick:t[3]||(t[3]=e=>i("gaSquare")),class:(0,a.C4)("gaSquare"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("GA Square")])),_:1}),(0,o.bF)(Dd,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(c,{onClick:t[4]||(t[4]=e=>i("gaCircle")),class:(0,a.C4)("gaCircle"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("GA Circle")])),_:1}),(0,o.bF)(hp,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(c,{onClick:t[5]||(t[5]=e=>i("gaPolygon")),class:(0,a.C4)("gaPolygon"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("GA Polygon")])),_:1}),(0,o.bF)(bp,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(c,{onClick:t[6]||(t[6]=e=>i("roundTable")),class:(0,a.C4)("roundTable"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Round Table")])),_:1}),(0,o.bF)(Hd,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(c,{onClick:t[7]||(t[7]=e=>i("rectangleTable")),class:(0,a.C4)("rectangleTable"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Rectangle Table")])),_:1}),(0,o.bF)(np,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(c,{onClick:t[8]||(t[8]=e=>i("focusPoint")),class:(0,a.C4)("focusPoint"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(l,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Focus point")])),_:1}),(0,o.bF)(Ep,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"])])),_:1})):(0,o.Q3)("",!0)}}};const Pp=$p;var Mp=Pp;const Tp={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},zp=(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M15.9,2.4h-2.2H6.2c-0.1,0-0.2,0-0.3,0H4.1C3.3,2.3,2.7,3,2.7,3.8v0.7v0.4v0.3v0.4v1.5c0,0.8,0.6,1.4,1.4,1.4h2.2h7.5h2.2\r\n\t\tc0.8,0,1.4-0.6,1.4-1.4V5.7V5.2V4.9V4.5V3.8C17.3,3,16.7,2.4,15.9,2.4z M11.1,5.7h-0.9v0.9H9.8V5.7H8.9V5.3h0.9V4.3h0.4v0.9h0.9\r\n\t\tV5.7z"}),(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M14.1,10.3c-2,0-3.6,1.6-3.6,3.6c0,2,1.6,3.6,3.6,3.6s3.6-1.6,3.6-3.6C17.8,11.9,16.1,10.3,14.1,10.3z M15.3,14.2h-0.9\r\n\t\t\tv0.9h-0.4v-0.9H13v-0.4h0.9v-0.9h0.4v0.9h0.9V14.2z"}),(0,o.Lk)("path",{d:"M6.1,10.1l-3.9,2.3l0.9,4.4l4.5,0.5l1.8-4.1L6.1,10.1z M6.9,14.2H6v0.9H5.5v-0.9H4.6v-0.4h0.9v-0.9H6v0.9h0.9V14.2z"})])],-1),Fp=[zp];function Ip(e,t){return(0,o.uX)(),(0,o.CE)("svg",Tp,Fp)}const Lp={},Rp=(0,ss.A)(Lp,[["render",Ip]]);var Ap=Rp,Np={__name:"AddItemsTools",props:{opened:Boolean},setup(e){const t=e,n=Ka(),s=(0,r.KR)((0,o.EW)((()=>n.tool))),i=(0,r.KR)(!1),l=(0,r.KR)([]),c=()=>{const e=["icon_one","icon_two","icon_three","icon_four","icon_five","icon_six","icon_seven","icon_eight","icon_nine"];l.value=e.map((e=>({src:`assets/svgs/icons/${e}.svg`,name:e.replace(/_/g," ")})))},u=e=>n.changeTool(e),h=e=>{i.value=!1};return(0,o.sV)((()=>{c()})),(e,n)=>{const r=(0,o.g2)("v-tooltip"),c=(0,o.g2)("v-icon"),d=(0,o.g2)("v-list-item-title"),p=(0,o.g2)("v-list-item"),f=(0,o.g2)("v-card-title"),g=(0,o.g2)("v-img"),m=(0,o.g2)("v-card"),y=(0,o.g2)("v-col"),v=(0,o.g2)("v-row"),b=(0,o.g2)("v-container"),w=(0,o.g2)("v-card-text"),x=(0,o.g2)("v-dialog"),_=(0,o.g2)("v-list");return t.opened?((0,o.uX)(),(0,o.Wv)(_,{key:0,id:"item-tools"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{onClick:n[0]||(n[0]=e=>u("text")),class:(0,a.C4)("text"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Text")])),_:1}),(0,o.bF)(c,{color:"black",icon:"mdi-pen-plus",size:"large"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(p,{onClick:n[1]||(n[1]=e=>u("rectangle")),class:(0,a.C4)("rectangle"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Rectangle")])),_:1}),(0,o.bF)(c,{color:"black",icon:"mdi-shape-rectangle-plus",size:"large"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(p,{onClick:n[2]||(n[2]=e=>u("circle")),class:(0,a.C4)("circle"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Circle")])),_:1}),(0,o.bF)(c,{color:"black",icon:"mdi-shape-circle-plus",size:"large"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(p,{onClick:n[3]||(n[3]=e=>u("ellipse")),class:(0,a.C4)("ellipse"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Ellipse")])),_:1}),(0,o.bF)(c,{color:"black",icon:"mdi-shape-oval-plus",size:"large"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(p,{onClick:n[4]||(n[4]=e=>u("polygon")),class:(0,a.C4)("polygon"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Polygon")])),_:1}),(0,o.bF)(c,{color:"black",icon:"mdi-shape-polygon-plus",size:"large"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(p,{onClick:n[5]||(n[5]=e=>{u("icon"),i.value=!0}),class:(0,a.C4)("icon"==s.value?"current-tool":"")},{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(r,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Insert Icon")])),_:1}),(0,o.bF)(Ap,{width:"20px",height:"20px"})])),_:1})])),_:1},8,["class"]),(0,o.bF)(x,{modelValue:i.value,"onUpdate:modelValue":n[6]||(n[6]=e=>i.value=e),"max-width":"800px"},{default:(0,o.k6)((()=>[(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{class:"headline"},{default:(0,o.k6)((()=>[(0,o.eW)("Icon Gallery")])),_:1}),(0,o.bF)(w,null,{default:(0,o.k6)((()=>[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.bF)(v,null,{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.value,((e,t)=>((0,o.uX)(),(0,o.Wv)(y,{key:t,cols:"12",sm:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{class:"mx-auto","max-width":"250",onClick:e=>h(t)},{default:(0,o.k6)((()=>[(0,o.bF)(g,{src:e.src,class:"white--text",height:"150px"},null,8,["src"]),(0,o.bF)(f,{class:"text-center"},{default:(0,o.k6)((()=>[(0,o.eW)((0,a.v_)(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})):(0,o.Q3)("",!0)}}};const Xp=Np;var Op=Xp;const jp={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"792px",height:"612px",viewBox:"0 0 792 612","enable-background":"new 0 0 792 612","xml:space":"preserve"},Wp=(0,o.Lk)("path",{d:"M606.375,76.5H405.562V9.562C405.562,4.282,401.26,0,396,0c-5.259,0-9.562,4.282-9.562,9.562V76.5H185.625\r\n\tc-31.688,0-57.375,25.688-57.375,57.375v76.5c0,31.676,25.688,57.375,57.375,57.375h200.812v76.5H262.125\r\n\tc-31.688,0-57.375,25.699-57.375,57.375v76.5c0,31.676,25.688,57.375,57.375,57.375h124.312v66.938c0,5.26,4.303,9.562,9.562,9.562\r\n\tc5.26,0,9.562-4.281,9.562-9.562V535.5h124.312c31.688,0,57.375-25.688,57.375-57.375v-76.5c0-31.676-25.699-57.375-57.375-57.375\r\n\tH405.562v-76.5h200.812c31.676,0,57.375-25.699,57.375-57.375v-76.5C663.75,102.188,638.051,76.5,606.375,76.5z"},null,-1),Dp=[Wp];function Kp(e,t){return(0,o.uX)(),(0,o.CE)("svg",jp,Dp)}const Bp={},Vp=(0,ss.A)(Bp,[["render",Kp]]);var Yp=Vp;const qp={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"792px",height:"612px",viewBox:"0 0 792 612","enable-background":"new 0 0 792 612","xml:space":"preserve"},Up=(0,o.Lk)("path",{d:"M692.438,296.438H625.5V172.125c0-31.676-25.699-57.375-57.375-57.375h-76.5c-31.676,0-57.375,25.699-57.375,57.375v124.312\r\n\th-76.5V95.625c0-31.688-25.699-57.375-57.375-57.375h-76.5c-31.688,0-57.375,25.688-57.375,57.375v200.812H99.562\r\n\tc-5.281,0-9.562,4.303-9.562,9.562c0,5.26,4.282,9.562,9.562,9.562H166.5v200.812c0,31.676,25.688,57.375,57.375,57.375h76.5\r\n\tc31.676,0,57.375-25.699,57.375-57.375V315.562h76.5v124.312c0,31.688,25.688,57.375,57.375,57.375h76.5\r\n\tc31.688,0,57.375-25.688,57.375-57.375V315.562h66.938c5.26,0,9.562-4.303,9.562-9.562C702,300.741,697.697,296.438,692.438,296.438\r\n\tz"},null,-1),Hp=[Up];function Gp(e,t){return(0,o.uX)(),(0,o.CE)("svg",qp,Hp)}const Qp={},Zp=(0,ss.A)(Qp,[["render",Gp]]);var Jp=Zp;const ef={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},tf=(0,o.Lk)("path",{d:"M5.7,17.7h1.9c0.8,0,1.4-0.6,1.4-1.4V6.6c0-0.8-0.6-1.4-1.4-1.4H5.7c-0.8,0-1.4,0.6-1.4,1.4v9.7C4.2,17.1,4.9,17.7,5.7,17.7 z M12.4,13.9h1.9c0.8,0,1.4-0.6,1.4-1.4V6.6c0-0.8-0.6-1.4-1.4-1.4h-1.9c-0.8,0-1.4,0.6-1.4,1.4v5.8C11,13.2,11.6,13.9,12.4,13.9z M2.5,2.8h15c0.1,0,0.2-0.1,0.2-0.2c0-0.1-0.1-0.2-0.2-0.2h-15c-0.1,0-0.2,0.1-0.2,0.2C2.3,2.6,2.4,2.8,2.5,2.8z"},null,-1),nf=[tf];function of(e,t){return(0,o.uX)(),(0,o.CE)("svg",ef,nf)}const rf={},af=(0,ss.A)(rf,[["render",of]]);var sf=af;const lf={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},cf=(0,o.Lk)("path",{d:"M4.2,3.7v9.7c0,0.8,0.6,1.4,1.4,1.4h1.9c0.8,0,1.4-0.6,1.4-1.4V3.7c0-0.8-0.6-1.4-1.4-1.4H5.7C4.9,2.3,4.2,2.9,4.2,3.7z M11,7.6v5.8c0,0.8,0.6,1.4,1.4,1.4h1.9c0.8,0,1.4-0.6,1.4-1.4V7.6c0-0.8-0.6-1.4-1.4-1.4h-1.9C11.6,6.1,11,6.8,11,7.6z M2.3,17.5 c0,0.1,0.1,0.2,0.2,0.2h15c0.1,0,0.2-0.1,0.2-0.2s-0.1-0.2-0.2-0.2h-15C2.4,17.2,2.3,17.4,2.3,17.5z"},null,-1),uf=[cf];function hf(e,t){return(0,o.uX)(),(0,o.CE)("svg",lf,uf)}const df={},pf=(0,ss.A)(df,[["render",hf]]);var ff=pf;const gf={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"792px",height:"612px",viewBox:"0 0 792 612","enable-background":"new 0 0 792 612","xml:space":"preserve"},mf=(0,o.Lk)("path",{d:"M644.625,76.5h-382.5c-31.676,0-57.375,25.688-57.375,57.375v76.5c0,31.676,25.699,57.375,57.375,57.375h382.5\r\n\tc31.676,0,57.375-25.699,57.375-57.375v-76.5C702,102.188,676.301,76.5,644.625,76.5z M491.625,344.25h-229.5\r\n\tc-31.676,0-57.375,25.699-57.375,57.375v76.5c0,31.676,25.699,57.375,57.375,57.375h229.5c31.688,0,57.375-25.688,57.375-57.375\r\n\tv-76.5C549,369.949,523.301,344.25,491.625,344.25z M99.562,0C94.282,0,90,4.282,90,9.562v592.875c0,5.26,4.282,9.562,9.562,9.562\r\n\ts9.562-4.281,9.562-9.562V9.562C109.125,4.282,104.846,0,99.562,0z"},null,-1),yf=[mf];function vf(e,t){return(0,o.uX)(),(0,o.CE)("svg",gf,yf)}const bf={},wf=(0,ss.A)(bf,[["render",vf]]);var xf=wf;const _f={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"792px",height:"612px",viewBox:"0 0 792 612","enable-background":"new 0 0 792 612","xml:space":"preserve"},kf=(0,o.Lk)("path",{d:"M529.875,344.25h-229.5c-31.676,0-57.375,25.699-57.375,57.375v76.5c0,31.676,25.699,57.375,57.375,57.375h229.5\r\n\tc31.688,0,57.375-25.688,57.375-57.375v-76.5C587.25,369.949,561.551,344.25,529.875,344.25z M529.875,76.5h-382.5\r\n\tC115.688,76.5,90,102.188,90,133.875v76.5c0,31.676,25.688,57.375,57.375,57.375h382.5c31.676,0,57.375-25.699,57.375-57.375v-76.5\r\n\tC587.25,102.188,561.551,76.5,529.875,76.5z M692.438,0c-5.281,0-9.562,4.282-9.562,9.562v592.875c0,5.281,4.281,9.562,9.562,9.562\r\n\ts9.562-4.303,9.562-9.562V9.562C702,4.282,697.697,0,692.438,0z"},null,-1),Cf=[kf];function Sf(e,t){return(0,o.uX)(),(0,o.CE)("svg",_f,Cf)}const Ef={},$f=(0,ss.A)(Ef,[["render",Sf]]);var Pf=$f;const Mf={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"792px",height:"612px",viewBox:"0 0 792 612","enable-background":"new 0 0 792 612","xml:space":"preserve"},Tf=(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M385.071,10.929v590.143c0,6.036,4.918,10.929,9.699,10.929s12.158-4.893,12.158-10.929V10.929\r\n\t\tc0-6.035-4.905-10.929-10.94-10.929C389.952,0,385.071,4.918,385.071,10.929z"}),(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M755.432,485.584c0,1.017-0.037,2.066-0.112,3.213c-1.584,24.028-21.695,43.141-45.785,43.514l-163.823,2.543l1.871-0.531\r\n\t\t\tl-40.849,0.633c-25.335,0.395-46.104-19.121-47.283-44.43l-0.014-0.289c-0.019-0.384-0.035-0.77-0.042-1.16\r\n\t\t\tc-0.016-1.059,0.008-2.107,0.076-3.338l2.743-376.554c0.141-15.084,8.622-27.587,21.107-31.127\r\n\t\t\tc13.021-3.689,27.463,2.891,34.481,15.661l228.183,363.842c1.757,2.318,3.303,4.812,4.598,7.42\r\n\t\t\tc3.105,6.254,4.735,12.98,4.844,19.993L755.432,485.584z M692.654,513.245l16.58-0.258c14.103-0.218,25.875-11.401,26.802-25.458\r\n\t\t\tc0.047-0.719,0.07-1.355,0.07-1.945l-0.002-0.318c-0.063-4.103-1.016-8.037-2.829-11.689c-0.803-1.617-1.768-3.156-2.87-4.576\r\n\t\t\tl-0.551-0.788L501.096,103.451l-0.156-0.293c-3.023-5.645-8.618-7.565-12.347-6.511c-4.159,1.182-6.995,6.283-7.054,12.697\r\n\t\t\tl-2.747,377.032l-0.016,0.253c-0.042,0.708-0.062,1.283-0.062,1.808l0.002,0.315c0.003,0.187,0.014,0.375,0.023,0.562l0.015,0.338\r\n\t\t\tc0.688,14.788,12.847,26.212,27.679,25.98l188.081-2.915L692.654,513.245z"})]),(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M36.573,484.974c0.108-7.013,1.738-13.739,4.844-19.993c1.295-2.608,2.841-5.102,4.598-7.42L274.197,93.719\r\n\t\t\tc7.019-12.771,21.46-19.351,34.481-15.661c12.485,3.54,20.967,16.043,21.107,31.127l2.743,376.554\r\n\t\t\tc0.068,1.23,0.092,2.279,0.076,3.338c-0.007,0.391-0.023,0.776-0.042,1.16l-0.014,0.289c-1.179,25.309-21.948,44.824-47.283,44.43\r\n\t\t\tl-40.849-0.633l1.871,0.531l-163.823-2.543c-24.09-0.373-44.201-19.485-45.785-43.514c-0.075-1.146-0.112-2.196-0.112-3.213\r\n\t\t\tL36.573,484.974z"})])],-1),zf=[Tf];function Ff(e,t){return(0,o.uX)(),(0,o.CE)("svg",Mf,zf)}const If={},Lf=(0,ss.A)(If,[["render",Ff]]);var Rf=Lf;const Af={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"612px",height:"792px",viewBox:"0 0 612 792","enable-background":"new 0 0 612 792","xml:space":"preserve"},Nf=(0,o.Lk)("path",{d:"M601.071,385.071H10.929C4.893,385.071,0,389.989,0,394.771s4.893,12.158,10.929,12.158h590.143\r\n\tc6.035,0,10.929-4.905,10.929-10.941S607.082,385.071,601.071,385.071z"},null,-1),Xf=(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M126.416,755.432c-1.016,0-2.066-0.037-3.212-0.112c-24.028-1.584-43.14-21.695-43.514-45.785l-2.543-163.823l0.531,1.871\r\n\t\tl-0.633-40.849c-0.394-25.335,19.122-46.104,44.43-47.283l0.289-0.014c0.384-0.019,0.771-0.035,1.16-0.042\r\n\t\tc1.06-0.016,2.107,0.008,3.339,0.076l376.553,2.743c15.084,0.141,27.587,8.622,31.127,21.107\r\n\t\tc3.689,13.021-2.891,27.463-15.661,34.481L154.439,745.985c-2.317,1.757-4.811,3.303-7.419,4.598\r\n\t\tc-6.253,3.105-12.98,4.735-19.993,4.844L126.416,755.432z M98.755,692.654l0.258,16.58c0.218,14.103,11.401,25.875,25.458,26.802\r\n\t\tc0.718,0.047,1.355,0.07,1.944,0.07l0.319-0.002c4.102-0.063,8.037-1.016,11.689-2.829c1.616-0.803,3.155-1.768,4.575-2.87\r\n\t\tl0.789-0.551l364.761-228.759l0.293-0.156c5.645-3.023,7.565-8.618,6.511-12.347c-1.182-4.159-6.283-6.995-12.697-7.054\r\n\t\tl-377.033-2.747l-0.252-0.016c-0.708-0.042-1.283-0.062-1.808-0.062l-0.315,0.002c-0.187,0.003-0.375,0.014-0.562,0.023\r\n\t\tl-0.337,0.015c-14.789,0.688-26.212,12.847-25.981,27.679l2.916,188.081L98.755,692.654z"})],-1),Of=(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M127.026,36.573c7.013,0.108,13.74,1.738,19.993,4.844c2.608,1.295,5.102,2.841,7.419,4.598l363.842,228.183\r\n\t\tc12.771,7.019,19.351,21.46,15.661,34.481c-3.54,12.485-16.043,20.967-31.127,21.107l-376.553,2.743\r\n\t\tc-1.231,0.068-2.279,0.092-3.339,0.076c-0.39-0.007-0.776-0.023-1.16-0.042l-0.289-0.014c-25.308-1.179-44.824-21.948-44.43-47.283\r\n\t\tl0.633-40.849l-0.531,1.871l2.543-163.823c0.374-24.09,19.485-44.201,43.514-45.785c1.146-0.075,2.196-0.112,3.212-0.112\r\n\t\tL127.026,36.573z"})],-1),jf=[Nf,Xf,Of];function Wf(e,t){return(0,o.uX)(),(0,o.CE)("svg",Af,jf)}const Df={},Kf=(0,ss.A)(Df,[["render",Wf]]);var Bf=Kf;const Vf={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"792px",height:"612px",viewBox:"0 0 792 612","enable-background":"new 0 0 792 612","xml:space":"preserve"},Yf=(0,o.Lk)("path",{d:"M567.67,113.75h-76.5c-31.676,0-57.375,25.699-57.375,57.375v143.438V318v120.875c0,31.688,25.688,57.375,57.375,57.375\r\n\th76.5c31.688,0,57.375-25.689,57.375-57.375V323v-8.438V171.125C625.045,139.449,599.346,113.75,567.67,113.75z"},null,-1),qf=(0,o.Lk)("path",{d:"M529.42,2.5c-5.281,0-9.562,4.251-9.562,9.492v588.516c0,5.221,4.282,9.492,9.562,9.492c5.28,0,9.562-4.25,9.562-9.492\r\n\tV11.992C538.983,6.751,534.704,2.5,529.42,2.5z"},null,-1),Uf=(0,o.Lk)("path",{d:"M261.67,2.5c-5.281,0-9.562,4.251-9.562,9.492v588.516c0,5.221,4.282,9.492,9.562,9.492s9.562-4.25,9.562-9.492V11.992\r\n\tC271.233,6.751,266.954,2.5,261.67,2.5z"},null,-1),Hf=(0,o.Lk)("path",{d:"M299.92,75.25h-76.5c-31.688,0-57.375,25.688-57.375,57.375V294.5v182.874c0,31.676,25.688,57.375,57.375,57.375h76.5\r\n\tc31.676,0,57.375-25.699,57.375-57.375V294.5V132.625C357.295,100.938,331.596,75.25,299.92,75.25z"},null,-1),Gf=[Yf,qf,Uf,Hf];function Qf(e,t){return(0,o.uX)(),(0,o.CE)("svg",Vf,Gf)}const Zf={},Jf=(0,ss.A)(Zf,[["render",Qf]]);var eg=Jf;const tg={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"792px",height:"612px",viewBox:"0 0 792 612","enable-background":"new 0 0 792 612","xml:space":"preserve"},ng=(0,o.Lk)("path",{d:"M606.625,76.5H405.812H185.875c-31.688,0-57.375,25.688-57.375,57.375v76.5c0,31.676,25.688,57.375,57.375,57.375h219.938\r\n\th200.812c31.676,0,57.375-25.699,57.375-57.375v-76.5C664,102.188,638.301,76.5,606.625,76.5z"},null,-1),og=(0,o.Lk)("path",{d:"M530.123,344.25H405.812H262.375c-31.688,0-57.375,25.699-57.375,57.375v76.5c0,31.676,25.688,57.375,57.375,57.375h143.435\r\n\th124.312c31.688,0,57.375-25.688,57.375-57.375v-76.5C587.498,369.949,561.799,344.25,530.123,344.25z"},null,-1),rg=(0,o.Lk)("path",{d:"M747.688,430.312h-110H154.812h-110c-5.281,0-9.562,4.279-9.562,9.562s4.282,9.562,9.562,9.562h109.99\r\n\tc0.003,0,0.006,0,0.01,0h592.875c5.26,0,9.562-4.279,9.562-9.562S752.946,430.312,747.688,430.312z"},null,-1),ag=(0,o.Lk)("path",{d:"M747.688,162.562h-110H154.812h-110c-5.281,0-9.562,4.279-9.562,9.562s4.282,9.562,9.562,9.562h109.99\r\n\tc0.003,0,0.006,0,0.01,0h592.875c5.26,0,9.562-4.279,9.562-9.562S752.946,162.562,747.688,162.562z"},null,-1),sg=[ng,og,rg,ag];function ig(e,t){return(0,o.uX)(),(0,o.CE)("svg",tg,sg)}const lg={},cg=(0,ss.A)(lg,[["render",ig]]);var ug=cg,hg={__name:"AddAlignTools",props:{opened:Boolean,selectionBoundary:Function,selectionBoxes:Function},setup(e){const t=Ka(),n=Na(),r=(0,o.EW)((()=>t.selection)),a=n.plan,s=e,i=()=>{const e=s.selectionBoundary();if(!e)return;const t=e.x,o=t+e.width,i=(t+o)/2;if(r.value.length){for(const e of a.zones){for(const t of e.rows)if(r.value.includes(t.uuid)){const n=Math.min(...t.seats.map((e=>e.position.x)))+e.position.x+t.position.x,o=Math.max(...t.seats.map((e=>e.position.x)))+e.position.x+t.position.x,r=(n+o)/2;t.position.x+=i-r}for(const t of e.areas)if(r.value.includes(t.uuid))if("circle"===t.shape)t.position.x=i;else if("rectangle"===t.shape||"gaSquare"===t.shape)if(t.rotation){let e={x:t.position.x,y:t.position.y,width:t.rectangle.width,height:t.rectangle.height};e=oa(t,e),t.position.x=i-e.width/2}else t.position.x=i-t.rectangle.width/2;else if("ellipse"===t.shape||"gaCircle"===t.shape)t.position.x=i;else if("polygon"===t.shape||"gaPolygon"===t.shape)if(t.rotation){const e=la(t),n=i-(e.x+e.width/2);t.position.x+=n}else{const e=t.polygon.points,n=Math.min(...e.map((e=>e.x)))+t.position.x,o=Math.max(...e.map((e=>e.x)))+t.position.x;t.position.x+=i-(n+o)/2}else("text"===t.shape||"roundTable"===t.shape||"rectangleTable"===t.shape)&&(t.position.x=i)}n.persistPlan()}},l=()=>{const e=s.selectionBoundary();if(r.value.length){for(const t of a.zones){for(const n of t.rows)if(r.value.includes(n.uuid)){const o=Math.min(...n.seats.map((e=>e.position.x)))+n.position.x+t.position.x;if(e.x<o-10){const t=o-10-e.x;n.position.x-=t}}for(const n of t.areas)if(r.value.includes(n.uuid))if("circle"===n.shape)n.position.x=e.x+n.circle.radius;else if("rectangle"===n.shape||"gaSquare"===n.shape)if(n.rotation){let t={x:n.position.x,y:n.position.y,width:n.rectangle.width,height:n.rectangle.height};t=oa(n,t),n.position.x=e.x+(n.position.x-t.x)}else n.position.x=e.x;else if("ellipse"===n.shape||"gaCircle"===n.shape)if(n.rotation){let t=ca(n);n.position.x=e.x+(n.position.x-n.ellipse.radius.x-t.x)+n.ellipse.radius.x}else n.position.x=e.x+n.ellipse.radius.x;else if("polygon"===n.shape||"gaPolygon"===n.shape)if(n.rotation){const t=la(n);if(e.x<t.x){const o=t.x-e.x;n.position.x-=o}}else{const t=n.polygon.points,o=Math.min(...t.map((e=>e.x)))+n.position.x;Math.max(...t.map((e=>e.x))),n.position.x;if(e.x<o){const t=o-e.x;n.position.x-=t}}else if("text"===n.shape){const t=n.text.size||16,o=na(n.text.text,t);if(n.rotation){let r={x:n.position.x+n.text.position.x-o/2,y:n.position.y+n.text.position.y-t/2,width:o,height:t};r=oa(n,r),n.position.x=e.x+o/2-(n.position.x-o/2-r.x)}else n.position.x=e.x+o/2}else if("roundTable"===n.shape)n.position.x=e.x+n.radius+20;else if("rectangleTable"===n.shape)if(n.rotation){let t={x:n.position.x,y:n.position.y,width:n.rectangleTable.width,height:n.rectangleTable.height};t=oa(n,t),n.position.x=e.x+(n.position.x-t.x)+n.rectangleTable.width/2}else n.seats.filter((e=>"left"===e.special)).length?n.position.x=e.x+n.rectangleTable.width/2+20:n.position.x=e.x+n.rectangleTable.width/2}n.persistPlan()}},c=()=>{const e=s.selectionBoundary();if(!e)return;e.x;const t=e.x+e.width;if(r.value.length)for(const n of a.zones){for(const e of n.rows)if(r.value.includes(e.uuid)){const n=Math.max(...e.seats.map((e=>e.position.x)));t>e.position.x+n+10&&(e.position.x+=t-e.position.x-n-10)}for(const e of n.areas)if(r.value.includes(e.uuid))if("circle"===e.shape)e.position.x=t-e.circle.radius;else if("rectangle"===e.shape||"gaSquare"===e.shape)if(e.rotation){let n={x:e.position.x,y:e.position.y,width:e.rectangle.width,height:e.rectangle.height};n=oa(e,n),e.position.x=t-n.width+(e.position.x-n.x)}else e.position.x=t-e.rectangle.width;else if("ellipse"===e.shape||"gaCircle"===e.shape)if(e.rotation){const n=ca(e);e.position.x=t-e.ellipse.radius.x+(e.position.x+e.ellipse.radius.x-n.x-n.width)}else e.position.x=t-e.ellipse.radius.x;else if("polygon"===e.shape||"gaPolygon"===e.shape)if(e.rotation){const n=la(e);if(t>n.x+n.width){const o=t-(n.x+n.width);e.position.x+=o}}else{const n=e.polygon.points,o=(Math.min(...n.map((e=>e.x))),e.position.x,Math.max(...n.map((e=>e.x)))+e.position.x);if(t>o){const n=t-o;e.position.x+=n}}else if("text"===e.shape){const n=e.text.size||16,o=na(e.text.text,n);if(e.rotation){let r={x:e.position.x+e.text.position.x-o/2,y:e.position.y+e.text.position.y-n/2,width:o,height:n};r=oa(e,r),e.position.x=t-r.width+(e.position.x-r.x)}else e.position.x=t-o/2}else if("roundTable"===e.shape)e.position.x=t-e.radius-20;else if("rectangleTable"===e.shape)if(e.rotation){let n={x:e.position.x,y:e.position.y,width:e.rectangleTable.width,height:e.rectangleTable.height};n=oa(e,n),e.position.x=t-n.width+(e.position.x-n.x)}else e.seats.filter((e=>"right"===e.special)).length?e.position.x=t-e.rectangleTable.width/2-20:e.position.x=t-e.rectangleTable.width/2}n.persistPlan()},u=(e,t,n,o)=>{const r=t/180*Math.PI,a=e.position.x,s=e.position.y;return e.position.x=Math.cos(r)*(a-n)-Math.sin(r)*(s-o)+n,e.position.y=Math.sin(r)*(a-n)+Math.cos(r)*(s-o)+o,e.rotation=Math.round((e.rotation+t)%360,2),e.rotation<0&&(e.rotation+=360),e},h=()=>{const e=s.selectionBoundary(),t=e.x,o=t+e.width,i=(t+o)/2;if(r.value.length){for(const e of a.zones){for(const t of e.rows)if(r.value.includes(t.uuid)){Math.min(...t.seats.map((e=>e.position.x))),e.position.x,t.position.x,Math.max(...t.seats.map((e=>e.position.x))),e.position.x,t.position.x;t.position.x=2*i-t.position.x,t.seats.forEach((e=>e.position.x=-e.position.x))}for(const t of e.areas)if(r.value.includes(t.uuid))if("circle"===t.shape)t.position.x=2*i-t.position.x;else if("rectangle"===t.shape||"gaSquare"===t.shape){let e=ra(t),n=e.x+e.width/2,o=e.y+e.height/2;const r=t.rotation;u(t,-r,n,o),t.position.x=2*i-t.position.x-t.rectangle.width,e=ra(t),n=e.x+e.width/2,o=e.y+e.height/2,u(t,-r,n,o)}else if("ellipse"===t.shape||"gaCircle"===t.shape)t.position.x=2*i-t.position.x,t.rotation=180-t.rotation;else if("polygon"===t.shape||"gaPolygon"===t.shape){let e=la(t),n=e.x+e.width/2,o=e.y+e.height/2;const r=t.rotation;u(t,-r,n,o),t.position.x=2*i-t.position.x-e.width,e=la(t),n=e.x+e.width/2,o=e.y+e.height/2,u(t,-r,n,o)}else"text"===t.shape||"roundTable"===t.shape?t.position.x=2*i-t.position.x:"rectangleTable"===t.shape&&(t.position.x=2*i-t.position.x,t.rotation=-t.rotation)}n.persistPlan()}},d=()=>{const e=s.selectionBoundary(),t=e.y,o=t+e.height,i=(t+o)/2;if(r.value.length){for(const e of a.zones){for(const t of e.rows)if(r.value.includes(t.uuid)){Math.min(...t.seats.map((e=>e.position.y))),e.position.y,t.position.y,Math.max(...t.seats.map((e=>e.position.y))),e.position.y,t.position.y;t.position.y=2*i-t.position.y,t.seats.forEach((e=>e.position.y=-e.position.y))}for(const t of e.areas)if(r.value.includes(t.uuid))if("circle"===t.shape)t.position.y=2*i-t.position.y;else if("rectangle"===t.shape||"gaSquare"===t.shape){let e=ra(t),n=e.x+e.width/2,o=e.y+e.height/2;const r=t.rotation;u(t,-r,n,o),t.position.y=2*i-t.position.y-t.rectangle.height,e=ra(t),n=e.x+e.width/2,o=e.y+e.height/2,u(t,-r,n,o)}else if("ellipse"===t.shape||"gaCircle"===t.shape)t.position.y=2*i-t.position.y,t.rotation=180-t.rotation;else if("polygon"===t.shape||"gaPolygon"===t.shape){let e=la(t),n=e.x+e.width/2,o=e.y+e.height/2;const r=t.rotation;u(t,-r,n,o),t.position.y=2*i-t.position.y-e.height,e=la(t),n=e.x+e.width/2,o=e.y+e.height/2,u(t,-r,n,o)}else"text"===t.shape||"roundTable"===t.shape?t.position.y=2*i-t.position.y:"rectangleTable"===t.shape&&(t.position.y=2*i-t.position.y,t.rotation=-t.rotation)}n.persistPlan()}},p=()=>{if(r.value.length){if(r.value.length<3)return;const e=s.selectionBoxes();let t=e.map((e=>e.x+e.width/2));const o=Math.min(...t),i=Math.max(...t);if(t=[...new Set(t)],t.length<2)return;const l=(i-o)/(t.length-1);t.sort();const c=3;for(const s of a.zones){for(const e of s.rows)if(r.value.includes(e.uuid)){const n=Math.min(...e.seats.map((e=>e.position.x-(e.radius||10)))),r=(Math.min(...e.seats.map((e=>e.position.y-(e.radius||10)))),Math.max(...e.seats.map((e=>e.position.x+(e.radius||10))))),a=(Math.max(...e.seats.map((e=>e.position.y+(e.radius||10)))),t.findIndex((t=>Math.abs(s.position.x+e.position.x+(r+n)/2-t)<c)));e.position.x=o+a*l}for(const e of s.areas)if(r.value.includes(e.uuid)){let n;if("circle"===e.shape){const n=t.findIndex((t=>Math.abs(e.position.x+e.circle.radius-t)<c));e.position.x=o+n*l-e.circle.radius}else if("ellipse"===e.shape||"gaCircle"===e.shape){n=ca(e);const r=t.findIndex((e=>Math.abs(n.x+n.width/2-e)<c));e.position.x=o+r*l}else if("rectangle"===e.shape||"gaSquare"===e.shape){n=ra(e);const r=t.findIndex((e=>Math.abs(n.x+n.width/2-e)<c));e.position.x=o+r*l-n.width/2}else if("polygon"===e.shape||"gaPolygon"===e.shape){n=la(e);const r=t.findIndex((e=>Math.abs(n.x+n.width/2-e)<c));e.position.x=o+r*l-n.width/2}else if("text"===e.shape){const r=e.text.size||32;n=ia(e,e.text.text,r);const a=t.findIndex((e=>Math.abs(n.x+n.width/2-e)<c));e.position.x=o+a*l}else if("roundTable"===e.shape){n=aa(e);const r=t.findIndex((e=>Math.abs(n.x+n.width/2-e)<c));e.position.x=o+r*l}else if("rectangleTable"===e.shape){n=sa(e);const r=t.findIndex((e=>Math.abs(n.x+n.width/2-e)<c));e.position.x=o+r*l}}n.persistPlan()}}},f=()=>{if(r.value.length){if(r.value.length<3)return;const e=s.selectionBoxes();let t=e.map((e=>e.y+e.height/2));const o=Math.min(...t),i=Math.max(...t);if(t=[...new Set(t)],t.length<2)return;const l=(i-o)/(t.length-1);t.sort();const c=3;for(const s of a.zones){for(const e of s.rows)if(r.value.includes(e.uuid)){const n=Math.min(...e.seats.map((e=>e.position.y-(e.radius||10)))),r=Math.max(...e.seats.map((e=>e.position.y+(e.radius||10)))),a=t.findIndex((t=>Math.abs(s.position.y+e.position.y+(r+n)/2-t)<c));e.position.y=o+a*l}for(const e of s.areas)if(r.value.includes(e.uuid)){let n;if("circle"===e.shape){const n=t.findIndex((t=>Math.abs(e.position.y+e.circle.radius-t)<c));e.position.y=o+n*l-e.circle.radius}else if("ellipse"===e.shape||"gaCircle"===e.shape){n=ca(e);const r=t.findIndex((e=>Math.abs(n.y+n.height/2-e)<c));e.position.y=o+r*l}else if("rectangle"===e.shape||"gaSquare"===e.shape){n=ra(e);const r=t.findIndex((e=>Math.abs(n.y+n.height/2-e)<c));e.position.y=o+r*l-n.height/2}else if("polygon"===e.shape||"gaPolygon"===e.shape){n=la(e);const r=t.findIndex((e=>Math.abs(n.y+n.height/2-e)<c));e.position.y=o+r*l-n.height/2}else if("text"===e.shape){const r=e.text.size||32;n=ia(e,e.text.text,r);const a=t.findIndex((e=>Math.abs(n.y+n.height/2-e)<c));e.position.y=o+a*l}else if("roundTable"===e.shape){n=aa(e);const r=t.findIndex((e=>Math.abs(n.y+n.height/2-e)<c));e.position.y=o+r*l}else if("rectangleTable"===e.shape){n=sa(e);const r=t.findIndex((e=>Math.abs(n.y+n.height/2-e)<c));e.position.y=o+r*l}}n.persistPlan()}}},g=()=>{const e=s.selectionBoundary();if(!e)return;const t=e.y,o=t+e.height,i=(t+o)/2;if(r.value.length){for(const e of a.zones){for(const t of e.rows)if(r.value.includes(t.uuid)){const n=Math.min(...t.seats.map((e=>e.position.y)))+e.position.y+t.position.y,o=Math.max(...t.seats.map((e=>e.position.y)))+e.position.y+t.position.y,r=(n+o)/2;t.position.y+=i-r}for(const t of e.areas)if(r.value.includes(t.uuid))if("circle"===t.shape)t.position.y=i;else if("rectangle"===t.shape||"gaSquare"===t.shape)if(t.rotation){let e={x:t.position.x,y:t.position.y,width:t.rectangle.width,height:t.rectangle.height};e=oa(t,e),t.position.y=i-e.height/2}else t.position.y=i-t.rectangle.height/2;else if("ellipse"===t.shape||"gaCircle"===t.shape)t.position.y=i;else if("polygon"===t.shape||"gaPolygon"===t.shape)if(t.rotation){const e=la(t),n=i-(e.y+e.height/2);t.position.y+=n}else{const e=t.polygon.points,n=Math.min(...e.map((e=>e.y)))+t.position.y,o=Math.max(...e.map((e=>e.y)))+t.position.y;t.position.y+=i-(n+o)/2}else("text"===t.shape||"roundTable"===t.shape||"rectangleTable"===t.shape)&&(t.position.y=i)}n.persistPlan()}},m=()=>{const e=s.selectionBoundary();if(r.value.length){for(const t of a.zones){for(const n of t.rows)if(r.value.includes(n.uuid)){const o=Math.min(...n.seats.map((e=>e.position.y)))+n.position.y+t.position.y;if(e.y<o-10){const t=o-10-e.y;n.position.y-=t}}for(const n of t.areas)if(r.value.includes(n.uuid))if("circle"===n.shape)n.position.y=e.y+n.circle.radius;else if("rectangle"===n.shape||"gaSquare"===n.shape)if(n.rotation){let t={x:n.position.x,y:n.position.y,width:n.rectangle.width,height:n.rectangle.height};t=oa(n,t),n.position.y=e.y+(n.position.y-t.y)}else n.position.y=e.y;else if("ellipse"===n.shape||"gaCircle"===n.shape)if(n.rotation){let t=ca(n);n.position.y=e.y+(n.position.y-n.ellipse.radius.y-t.y)+n.ellipse.radius.y}else n.position.y=e.y+n.ellipse.radius.y;else if("polygon"===n.shape||"gaPolygon"===n.shape)if(n.rotation){const t=la(n);if(e.y<t.y){const o=t.y-e.y;n.position.y-=o}}else{const t=n.polygon.points,o=Math.min(...t.map((e=>e.y)))+n.position.y;Math.max(...t.map((e=>e.y))),n.position.y;if(e.y<o){const t=o-e.y;n.position.y-=t}}else if("text"===n.shape){const t=n.text.size||16,o=na(n.text.text,t);if(n.rotation){let r={x:n.position.x+n.text.position.x-o/2,y:n.position.y+n.text.position.y-t/2,width:o,height:t};r=oa(n,r),n.position.y=e.y+t/2-(n.position.y-t/2-r.y)}else n.position.y=e.y+t/2}else if("roundTable"===n.shape)n.position.y=e.y+n.radius+20;else if("rectangleTable"===n.shape)if(n.rotation){let t={x:n.position.x,y:n.position.y,width:n.rectangleTable.width,height:n.rectangleTable.height};t=oa(n,t),n.position.y=e.y+(n.position.y-t.y)+n.rectangleTable.height/2}else n.seats.filter((e=>"top"===e.special)).length?n.position.y=e.y+n.rectangleTable.height/2+20:n.position.y=e.y+n.rectangleTable.height/2}n.persistPlan()}},y=()=>{const e=s.selectionBoundary();if(!e)return;e.y;const t=e.y+e.height;if(r.value.length)for(const n of a.zones){for(const e of n.rows)if(r.value.includes(e.uuid)){const n=Math.max(...e.seats.map((e=>e.position.y)));t>e.position.y+n+10&&(e.position.y+=t-e.position.y-n-10)}for(const e of n.areas)if(r.value.includes(e.uuid))if("circle"===e.shape)e.position.y=t-e.circle.radius;else if("rectangle"===e.shape||"gaSquare"===e.shape)if(e.rotation){let n={x:e.position.x,y:e.position.y,width:e.rectangle.width,height:e.rectangle.height};n=oa(e,n),e.position.y=t-n.height+(e.position.y-n.y)}else e.position.y=t-e.rectangle.height;else if("ellipse"===e.shape||"gaCircle"===e.shape)if(e.rotation){const n=ca(e);e.position.y=t-e.ellipse.radius.y+(e.position.y+e.ellipse.radius.y-n.y-n.height)}else e.position.y=t-e.ellipse.radius.y;else if("polygon"===e.shape||"gaPolygon"===e.shape)if(e.rotation){const n=la(e);if(t>n.y+n.height){const o=t-(n.y+n.height);e.position.y+=o}}else{const n=e.polygon.points,o=(Math.min(...n.map((e=>e.y))),e.position.y,Math.max(...n.map((e=>e.y)))+e.position.y);if(t>o){const n=t-o;e.position.y+=n}}else if("text"===e.shape){const n=e.text.size||16,o=na(e.text.text,n);if(e.rotation){let r={x:e.position.x+e.text.position.x-o/2,y:e.position.y+e.text.position.y-n/2,width:o,height:n};r=oa(e,r),e.position.y=t-r.height+(e.position.y-r.y)}else e.position.y=t-n/2}else if("roundTable"===e.shape)e.position.y=t-e.radius-20;else if("rectangleTable"===e.shape)if(e.rotation){let n={x:e.position.x,y:e.position.y,width:e.rectangleTable.width,height:e.rectangleTable.height};n=oa(e,n),e.position.y=t-n.height+(e.position.y-n.y)}else e.seats.filter((e=>"bottom"===e.special)).length?e.position.y=t-e.rectangleTable.height/2-20:e.position.y=t-e.rectangleTable.height/2}n.persistPlan()};return(e,t)=>{const n=(0,o.g2)("v-tooltip"),r=(0,o.g2)("v-list-item-title"),a=(0,o.g2)("v-list-item"),u=(0,o.g2)("v-list");return s.opened?((0,o.uX)(),(0,o.Wv)(u,{key:0,id:"align-tools"},{default:(0,o.k6)((()=>[(0,o.bF)(a,{onClick:i},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)(" Horizontal Center ")])),_:1}),(0,o.bF)(Yp,{width:"20px",height:"20px"})])),_:1})])),_:1}),(0,o.bF)(a,{onClick:l},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Left")])),_:1}),(0,o.bF)(xf,{width:"20px",height:"20px"})])),_:1})])),_:1}),(0,o.bF)(a,{onClick:c},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Right")])),_:1}),(0,o.bF)(Pf,{width:"20px",height:"20px"})])),_:1})])),_:1}),(0,o.bF)(a,{onClick:g},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Vertical Center")])),_:1}),(0,o.bF)(Jp,{width:"20px",height:"20px"})])),_:1})])),_:1}),(0,o.bF)(a,{onClick:m},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Top")])),_:1}),(0,o.bF)(sf,{width:"20px",height:"20px"})])),_:1})])),_:1}),(0,o.bF)(a,{onClick:y},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Bottom")])),_:1}),(0,o.bF)(ff,{width:"20px",height:"20px"})])),_:1})])),_:1}),(0,o.bF)(a,{onClick:h},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Flip Horizontal")])),_:1}),(0,o.bF)(Rf,{width:"20px",height:"20px"})])),_:1})])),_:1}),(0,o.bF)(a,{onClick:d},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Flip Vertical")])),_:1}),(0,o.bF)(Bf,{width:"20px",height:"20px"})])),_:1})])),_:1}),(0,o.bF)(a,{onClick:p},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Distribute Horizontal")])),_:1}),(0,o.bF)(eg,{width:"20px",height:"20px"})])),_:1})])),_:1}),(0,o.bF)(a,{onClick:f},{default:(0,o.k6)((()=>[(0,o.bF)(r,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Distribute Vertical")])),_:1}),(0,o.bF)(ug,{width:"20px",height:"20px"})])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0)}}};const dg=hg;var pg=dg;const fg={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},gg=(0,o.Lk)("g",null,[(0,o.Lk)("path",{d:"M17.1,9.6c-0.3,0-0.6,0.1-0.8,0.2V3.6c0-2-1.6-3.6-3.6-3.6H7.4c-2,0-3.6,1.6-3.6,3.6v6.1C3.5,9.7,3.2,9.6,2.9,9.6\r\n\t\tc-1.2,0-2.1,0.9-2.1,2.1c0,0.7,0.3,1.2,0.8,1.6V20h3.2v-1.5h10.3V20h3.2v-6.7c0.5-0.4,0.8-1,0.8-1.6C19.2,10.5,18.2,9.6,17.1,9.6z\r\n    M4.5,3.6c0-1.6,1.3-2.9,2.9-2.9h5.2c1.6,0,2.9,1.3,2.9,2.9v6.7c-0.2,0.2-0.3,0.5-0.4,0.8H4.9c-0.1-0.3-0.2-0.5-0.4-0.8V3.6z\r\n     M4.8,14.6V14v-0.3v-0.4v-0.8c0.1-0.2,0.1-0.3,0.1-0.5H15c0,0.2,0.1,0.4,0.1,0.5v0.8v0.4V14v0.6v3.2H4.8V14.6z"}),(0,o.Lk)("path",{d:"M7.6,6.6h1.8v1.8C9.3,8.7,9.6,9,10,9c0.3,0,0.6-0.3,0.6-0.7V6.6h1.8c0.4,0,0.7-0.3,0.7-0.7c0-0.4-0.3-0.7-0.7-0.7h-1.8V3.5\r\n\t\tc0-0.4-0.3-0.7-0.7-0.7S9.3,3.1,9.3,3.5v1.8H7.6c-0.4,0-0.7,0.3-0.7,0.7C6.9,6.3,7.2,6.6,7.6,6.6z"})],-1),mg=[gg];function yg(e,t){return(0,o.uX)(),(0,o.CE)("svg",fg,mg)}const vg={},bg=(0,ss.A)(vg,[["render",yg]]);var wg=bg;const xg={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{"enable-background":"new 0 0 20 20"},"xml:space":"preserve"},_g=(0,o.Lk)("path",{d:"M18.2,15.5V4.5c1-0.2,1.8-1.1,1.8-2.2C20,1,19,0,17.8,0c-1.1,0-2,0.8-2.2,1.8H4.5C4.3,0.8,3.3,0,2.2,0C1,0,0,1,0,2.2\r\n\tc0,1.1,0.8,2,1.8,2.2v11.1c-1,0.2-1.8,1.1-1.8,2.2C0,19,1,20,2.2,20c1.1,0,2-0.8,2.2-1.8h11.1c0.2,1,1.1,1.8,2.2,1.8\r\n\tc1.2,0,2.2-1,2.2-2.2C20,16.7,19.2,15.7,18.2,15.5z M17.8,0.8c0.8,0,1.5,0.7,1.5,1.5s-0.7,1.5-1.5,1.5s-1.5-0.7-1.5-1.5\r\n\tS16.9,0.8,17.8,0.8z M0.8,2.2c0-0.8,0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S3.1,3.8,2.2,3.8S0.8,3.1,0.8,2.2z M2.2,19.2\r\n\tc-0.8,0-1.5-0.7-1.5-1.5s0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S3.1,19.2,2.2,19.2z M15.5,17.4H4.5c-0.1-1-0.9-1.7-1.9-1.9V4.5\r\n\tc1-0.1,1.7-0.9,1.9-1.9h11.1c0.1,1,0.9,1.7,1.9,1.9v11.1C16.4,15.7,15.7,16.4,15.5,17.4z M17.8,19.2c-0.8,0-1.5-0.7-1.5-1.5\r\n\ts0.7-1.5,1.5-1.5s1.5,0.7,1.5,1.5S18.6,19.2,17.8,19.2z"},null,-1),kg=[_g];function Cg(e,t){return(0,o.uX)(),(0,o.CE)("svg",xg,kg)}const Sg={},Eg=(0,ss.A)(Sg,[["render",Cg]]);var $g=Eg;const Pg={class:"arrow-menu"},Mg=(0,o.Lk)("div",null,(0,a.v_)(">"),-1),Tg={class:"arrow-menu"},zg=(0,o.Lk)("div",null,(0,a.v_)(">"),-1),Fg={class:"arrow-menu"},Ig=(0,o.Lk)("div",null,(0,a.v_)(">"),-1);var Lg={__name:"HandMenu",props:{onImportClick:Function,selectionBoundary:Function,selectionBoxes:Function},setup(e){const t=(0,r.KR)(!1),n=(0,r.KR)(!1),a=(0,r.KR)(!1),s=()=>{t.value=!t.value,n.value=!1,a.value=!1},i=()=>{n.value=!n.value,t.value=!1,a.value=!1},l=()=>{a.value=!a.value,n.value=!1,t.value=!1};return(r,c)=>{const u=(0,o.g2)("v-tooltip"),h=(0,o.g2)("v-list-item-title"),d=(0,o.g2)("v-list-item"),p=(0,o.g2)("v-list");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(p,{style:{position:"fixed",top:"55px",left:"5px","z-index":"999"},id:"hand-menu"},{default:(0,o.k6)((()=>[(0,o.bF)(d,{onClick:s},{default:(0,o.k6)((()=>[(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Seat")])),_:1}),(0,o.Lk)("div",Pg,[(0,o.bF)(wg,{width:"20px",height:"20px"}),Mg])])),_:1})])),_:1}),(0,o.bF)(d,{onClick:i},{default:(0,o.k6)((()=>[(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Shape")])),_:1}),(0,o.Lk)("div",Tg,[(0,o.bF)($g,{width:"20px",height:"20px"}),zg])])),_:1})])),_:1}),(0,o.bF)(d,{onClick:l},{default:(0,o.k6)((()=>[(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{activator:"parent",location:"right"},{default:(0,o.k6)((()=>[(0,o.eW)("Alignment")])),_:1}),(0,o.Lk)("div",Fg,[(0,o.bF)(Jp,{width:"20px",height:"20px"}),Ig])])),_:1})])),_:1})])),_:1}),(0,o.bF)(Mp,{opened:t.value},null,8,["opened"]),(0,o.bF)(Op,{opened:n.value},null,8,["opened"]),(0,o.bF)(pg,{opened:a.value,selectionBoundary:e.selectionBoundary,selectionBoxes:e.selectionBoxes},null,8,["opened","selectionBoundary","selectionBoxes"])],64)}}};const Rg=Lg;var Ag=Rg;const Ng=["width","height"],Xg=["innerHTML"],Og={id:"clip"},jg=["width","height"],Wg=["transform"],Dg=["width","height","cursor"],Kg=["width","height","href","opacity","x","y"],Bg=(0,o.Fv)('<defs><pattern id="smallGrid" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M 20 0 L 0 0 0 20" fill="none" stroke="#ddd" stroke-width="0.5"></path></pattern><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><rect width="100" height="100" fill="url(#smallGrid)"></rect><path d="M 100 0 L 0 0 0 100" fill="none" stroke="#ccc" stroke-width="1"></path></pattern></defs>',1),Vg=["width","height","cursor"],Yg={class:"booktik-focus-point",id:"booktik-focus-point"},qg=["cx","cy"],Ug=["cx","cy"],Hg=["cx","cy"],Gg=["cx","cy"],Qg=["cx","cy"],Zg=["x","y","width","height"],Jg=["x1","y1","x2","y2"],em=["cx","cy"],tm=["cx","cy"],nm=["x","y","width","height"],om=["x","y"],rm=["x","y"],am=["x","y"],sm=["x","y"],im=["x","y","width","height"],lm=["cx","cy","r"],cm=["cx","cy","rx","ry"],um=["points"],hm=["points"],dm={key:15,class:"row-circle-preview"},pm=["r","cx","cy"],fm=["cx","cy"],gm={key:16,class:"preview"},mm=["cx","cy"],ym=["cx","cy"],vm=["transform"],bm=["x","y"],wm=["cx","cy"],xm=["cx","cy"],_m=["cx","cy"],km=["cx","cy"],Cm=["cx","cy"],Sm={key:21,class:"row-preview"},Em=["x1","y1","x2","y2"],$m=["x1","y1","x2","y2"],Pm=["x","y"],Mm=["cx","cy"],Tm=["transform"],zm=["cx","cy"],Fm={key:0,x:10,y:-30,fill:"black",dy:".35em",style:{"z-index":"99"}},Im=["transform"],Lm={key:0},Rm=["cx","cy"],Am={key:1},Nm=["cx","cy"],Xm={key:0,x:10,y:-30,fill:"black",dy:".35em",style:{"z-index":"99"}},Om=["x","y","width","height"];function jm(e,t,n,r,s,i){const l=(0,o.g2)("IconComponent"),c=(0,o.g2)("ZoneComponent");return r.plan.size?((0,o.uX)(),(0,o.CE)("svg",{key:0,id:"svg",width:r.plan.size.width,height:r.plan.size.height,onMousemove:t[5]||(t[5]=(...e)=>i.mousemove&&i.mousemove(...e)),onMousedown:t[6]||(t[6]=(...e)=>i.mousedown&&i.mousedown(...e)),onMouseup:t[7]||(t[7]=(...e)=>i.mouseup&&i.mouseup(...e)),onWheel:t[8]||(t[8]=(...e)=>i.wheel&&i.wheel(...e)),ref:"svg",style:{width:"100%",height:"100%","background-color":"rgb(151, 162, 182)","user-select":"none"}},[(0,o.Lk)("metadata",{innerHTML:i.metadata},null,8,Xg),(0,o.Lk)("defs",null,[(0,o.Lk)("clipPath",Og,[(0,o.Lk)("rect",{width:r.plan.size.width,height:r.plan.size.height},null,8,jg)])]),(0,o.Lk)("g",{class:(0,a.C4)(i.mainclasses),transform:r.zoomTransform.toString(),"clip-path":"url(#clip)"},[(0,o.Lk)("rect",{width:r.plan.size.width,height:r.plan.size.height,fill:"#fcfcfc",cursor:r.cursor},null,8,Dg),r.background?((0,o.uX)(),(0,o.CE)("image",{key:0,width:r.backgroundWidth,height:r.backgroundHeight,href:r.background,opacity:r.backgroundOpacity/100,x:r.backgroundX,y:r.backgroundY},null,8,Kg)):(0,o.Q3)("",!0),Bg,r.grid?((0,o.uX)(),(0,o.CE)("rect",{key:1,width:r.plan.size.width,height:r.plan.size.height,fill:"url(#grid)",cursor:r.cursor},null,8,Vg)):(0,o.Q3)("",!0),(0,o.bo)((0,o.Lk)("g",Yg,[(0,o.Lk)("circle",{cx:r.focusPointX,cy:r.focusPointY,r:18,fill:"none",stroke:"#000","stroke-width":"8px",cursor:"move"},null,8,qg),(0,o.Lk)("circle",{cx:r.focusPointX,cy:r.focusPointY,r:30,fill:"none",stroke:"#000","stroke-width":"5px",cursor:"move"},null,8,Ug),(0,o.Lk)("circle",{cx:r.focusPointX,cy:r.focusPointY,r:100,fill:"none",stroke:"#cccccc","stroke-width":"2px"},null,8,Hg),(0,o.Lk)("circle",{cx:r.focusPointX,cy:r.focusPointY,r:180,fill:"none",stroke:"#cccccc","stroke-width":"2px"},null,8,Gg),(0,o.Lk)("circle",{cx:r.focusPointX,cy:r.focusPointY,r:260,fill:"none",stroke:"#cccccc","stroke-width":"2px"},null,8,Qg)],512),[[ts.aG,"focusPoint"===r.tool]]),(0,o.bF)(l),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.plan.zones,(e=>((0,o.uX)(),(0,o.Wv)(c,{zone:e,key:e.uuid,startDragging:i.startDragging,startDraggingPolygonPoint:i.startDraggingPolygonPoint,ox:r.temp_ox,oy:r.temp_oy,selectionBoundary:i.selectionBoundary},null,8,["zone","startDragging","startDraggingPolygonPoint","ox","oy","selectionBoundary"])))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.selectionBoxesVisible,(e=>((0,o.uX)(),(0,o.CE)("rect",{class:"selection-box",x:e.x-1.5,y:e.y-1.5,width:e.width+3,height:e.height+3,key:e,fill:"none"},null,8,Zg)))),128)),r.selection.length&&i.selectionBoundary&&i.currentToolStatus?((0,o.uX)(),(0,o.CE)("line",{key:2,class:"selection-rotate-handle-connector",x1:i.rotateHandle.x,y1:i.rotateHandle.y,x2:r.rotatingOriginX?r.rotatingOriginX:i.selectionBoundary.x+i.selectionBoundary.width/2,y2:r.rotatingOriginY?r.rotatingOriginY:i.selectionBoundary.y+i.selectionBoundary.height/2},null,8,Jg)):(0,o.Q3)("",!0),r.selection.length&&i.selectionBoundary&&i.currentToolStatus?((0,o.uX)(),(0,o.CE)("circle",{key:3,class:"selection-rotate-handle",cx:i.rotateHandle.x,cy:i.rotateHandle.y,r:"5",onMousedown:t[0]||(t[0]=(...e)=>i.startRotating&&i.startRotating(...e))},null,40,em)):(0,o.Q3)("",!0),r.selection.length&&i.selectionBoundary&&i.currentToolStatus?((0,o.uX)(),(0,o.CE)("circle",{key:4,class:"selection-rotate-handle-end",cx:r.rotatingOriginX?r.rotatingOriginX:i.selectionBoundary.x+i.selectionBoundary.width/2,cy:r.rotatingOriginY?r.rotatingOriginY:i.selectionBoundary.y+i.selectionBoundary.height/2,r:"5"},null,8,tm)):(0,o.Q3)("",!0),r.selection.length&&i.selectionBoundary?((0,o.uX)(),(0,o.CE)("rect",{key:5,class:"selection-boundary",x:i.selectionBoundary.x-1.5,y:i.selectionBoundary.y-1.5,width:i.selectionBoundary.width+3,height:i.selectionBoundary.height+3,fill:"none"},null,8,nm)):(0,o.Q3)("",!0),r.selection.length&&i.selectionBoundary&&i.selectionIncludesNoSeats&&i.noTableSelection?((0,o.uX)(),(0,o.CE)("rect",{key:6,class:"selection-resize-handle-nw",x:i.selectionBoundary.x-4.5,y:i.selectionBoundary.y-4.5,width:6,height:6,onMousedown:t[1]||(t[1]=e=>i.startResizing(e,"nw"))},null,40,om)):(0,o.Q3)("",!0),r.selection.length&&i.selectionBoundary&&i.selectionIncludesNoSeats&&i.noTableSelection?((0,o.uX)(),(0,o.CE)("rect",{key:7,class:"selection-resize-handle-ne",x:i.selectionBoundary.x+i.selectionBoundary.width-1.5,y:i.selectionBoundary.y-4.5,width:6,height:6,onMousedown:t[2]||(t[2]=e=>i.startResizing(e,"ne"))},null,40,rm)):(0,o.Q3)("",!0),r.selection.length&&i.selectionBoundary&&i.selectionIncludesNoSeats&&i.noTableSelection?((0,o.uX)(),(0,o.CE)("rect",{key:8,class:"selection-resize-handle-sw",x:i.selectionBoundary.x-4.5,y:i.selectionBoundary.y+i.selectionBoundary.height-1.5,width:6,height:6,onMousedown:t[3]||(t[3]=e=>i.startResizing(e,"sw"))},null,40,am)):(0,o.Q3)("",!0),r.selection.length&&i.selectionBoundary&&i.selectionIncludesNoSeats&&i.noTableSelection?((0,o.uX)(),(0,o.CE)("rect",{key:9,class:"selection-resize-handle-se",x:i.selectionBoundary.x+i.selectionBoundary.width-1.5,y:i.selectionBoundary.y+i.selectionBoundary.height-1.5,width:6,height:6,fill:"none",onMousedown:t[4]||(t[4]=e=>i.startResizing(e,"se"))},null,40,sm)):(0,o.Q3)("",!0),"rectangle"!=r.tool&&"gaSquare"!=r.tool||!r.drawing?"circle"==r.tool&&r.drawing?((0,o.uX)(),(0,o.CE)("circle",{key:11,class:"preview",cx:r.drawingStartX,cy:r.drawingStartY,r:Math.sqrt(Math.pow(r.drawingStartX-r.drawingCurrentX,2)+Math.pow(r.drawingStartY-r.drawingCurrentY,2))},null,8,lm)):"ellipse"!=r.tool&&"gaCircle"!=r.tool||!r.drawing?"polygon"===r.tool&&r.polygonDrawing?((0,o.uX)(),(0,o.CE)("polygon",{key:13,class:"preview",x:"0",y:"0",points:i.polygonPreviewPoints},null,8,um)):"gaPolygon"===r.tool&&r.polygonDrawing?((0,o.uX)(),(0,o.CE)("polygon",{key:14,class:"preview",x:"0",y:"0",points:i.polygonPreviewPoints},null,8,hm)):"rowCircle"===r.tool||"rowCircleFixedCenter"===r.tool?((0,o.uX)(),(0,o.CE)("g",dm,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.rowCirclePreviews,(e=>((0,o.uX)(),(0,o.CE)("circle",{class:"preview",r:e.radius,cx:e.cx,cy:e.cy,key:e},null,8,pm)))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.rowCirclePreviews,(e=>((0,o.uX)(),(0,o.CE)("circle",{class:"preview-center",r:2,cx:e.cx,cy:e.cy,key:e},null,8,fm)))),128))])):"roundTable"===r.tool&&r.mouseStatus?((0,o.uX)(),(0,o.CE)("g",gm,[(0,o.Lk)("circle",{class:"seat-preview",cx:r.drawingCurrentX,cy:r.drawingCurrentY,r:25},null,8,mm),((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(6,(e=>(0,o.Lk)("circle",{class:"seat-preview",key:e,cx:r.drawingCurrentX+35*Math.cos(2*Math.PI/6*e),cy:r.drawingCurrentY+35*Math.sin(2*Math.PI/6*e),r:10},null,8,ym))),64))])):"rectangleTable"===r.tool&&r.mouseStatus?((0,o.uX)(),(0,o.CE)("g",{key:17,class:"preview",transform:"translate(-70, -30)"},[(0,o.Lk)("rect",{class:"seat-preview",x:r.drawingCurrentX,y:r.drawingCurrentY,width:140,height:60},null,8,bm),((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(4,(e=>(0,o.Lk)("circle",{class:"seat-preview",key:e,cx:r.drawingCurrentX+40*(e-1)+10,cy:r.drawingCurrentY-10,r:10},null,8,wm))),64)),((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(4,(e=>(0,o.Lk)("circle",{class:"seat-preview",key:e,cx:r.drawingCurrentX+40*(e-1)+10,cy:r.drawingCurrentY+70,r:10},null,8,xm))),64))],8,vm)):"row"===r.tool&&!r.rowDrawing&&r.mouseStatus?((0,o.uX)(),(0,o.CE)("circle",{key:18,class:"seat-preview",cx:r.rowCurrentX,cy:r.rowCurrentY,r:10},null,8,_m)):"rows"===r.tool&&!r.rowBlockDrawing&&r.mouseStatus?((0,o.uX)(),(0,o.CE)("circle",{key:19,class:"seat-preview",cx:r.rowCurrentX,cy:r.rowCurrentY,r:10},null,8,km)):"stgrows"===r.tool&&!r.stgrowBlockDrawing&&r.mouseStatus?((0,o.uX)(),(0,o.CE)("circle",{key:20,class:"seat-preview",cx:r.rowCurrentX,cy:r.rowCurrentY,r:10},null,8,Cm)):"row"===r.tool&&r.rowDrawing?((0,o.uX)(),(0,o.CE)("g",Sm,[(0,o.Lk)("line",{class:"preview",x1:r.drawingStartX,y1:r.drawingStartY,x2:r.drawingCurrentX,y2:r.drawingCurrentY},null,8,Em),(0,o.Lk)("line",{class:"auxline",x1:r.drawingStartX-1e3*(r.drawingCurrentX-r.drawingStartX),y1:r.drawingStartY-1e3*(r.drawingCurrentY-r.drawingStartY),x2:r.drawingCurrentX+1e3*(r.drawingCurrentX-r.drawingStartX),y2:r.drawingCurrentY+1e3*(r.drawingCurrentY-r.drawingStartY)},null,8,$m),i.rowDrawingSeats.length>=3?((0,o.uX)(),(0,o.CE)("text",{key:0,x:(i.rowDrawingSeats[i.rowDrawingSeats.length-1].x-i.rowDrawingSeats[0].x)/i.rowDrawingSeats.length+i.rowDrawPosition.x+10,y:(i.rowDrawingSeats[i.rowDrawingSeats.length-1].y-i.rowDrawingSeats[0].y)/i.rowDrawingSeats.length+i.rowDrawPosition.y-30,"text-anchor":"middle",fill:"black",dy:".35em",style:{"z-index":"99"}},(0,a.v_)(i.rowDrawingSeats.length)+" Seats ",9,Pm)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.rowDrawingSeats,((e,t)=>((0,o.uX)(),(0,o.CE)("circle",{class:"seat-preview",key:t,cx:e.x,cy:e.y,r:"10"},null,8,Mm)))),128))])):"rows"===r.tool&&r.rowBlockDrawing?((0,o.uX)(),(0,o.CE)("g",{key:22,class:"rows-preview",transform:i.rowBlockTransform},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.rowBlockRows,(e=>((0,o.uX)(),(0,o.CE)("g",{key:e},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.rowBlockSeats,(t=>((0,o.uX)(),(0,o.CE)("circle",{class:"seat-preview",key:t,cx:r.rowSeatSpacing*(t-1),cy:r.rowSpacing*(e-1),r:"10"},null,8,zm)))),128))])))),128)),i.rowBlockRows*i.rowBlockSeats>0?((0,o.uX)(),(0,o.CE)("text",Fm,(0,a.v_)(i.rowBlockRows)+"  "+(0,a.v_)(i.rowBlockSeats)+" Seats ",1)):(0,o.Q3)("",!0)],8,Tm)):"stgrows"===r.tool&&r.stgrowBlockDrawing?((0,o.uX)(),(0,o.CE)("g",{key:23,class:"rows-preview",transform:i.rowBlockTransform},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.stgrowBlockRows,(e=>((0,o.uX)(),(0,o.CE)("g",{key:e},[e%2?((0,o.uX)(),(0,o.CE)("g",Lm,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.stgrowBlockSeats,(t=>((0,o.uX)(),(0,o.CE)("circle",{class:"seat-preview",key:t,cx:e%2?r.rowSeatSpacing*(t-1):r.rowSeatSpacing*(t-1)+r.rowSeatSpacing/2,cy:r.rowSpacing*(e-1),r:"10"},null,8,Rm)))),128))])):(0,o.Q3)("",!0),e%2===0?((0,o.uX)(),(0,o.CE)("g",Am,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.stgrowBlockSeats1,(t=>((0,o.uX)(),(0,o.CE)("circle",{class:"seat-preview",key:t,cx:e%2?r.rowSeatSpacing*(t-1):r.rowSeatSpacing*(t-1)+r.rowSeatSpacing/2,cy:r.rowSpacing*(e-1),r:"10"},null,8,Nm)))),128))])):(0,o.Q3)("",!0)])))),128)),i.stgrowBlockRows*i.stgrowBlockSeats>0?((0,o.uX)(),(0,o.CE)("text",Xm,(0,a.v_)(i.stgrowBlockRows)+"  "+(0,a.v_)(i.stgrowBlockSeats)+" Seats ",1)):(0,o.Q3)("",!0)],8,Im)):"select"!=r.tool&&"seatselect"!=r.tool||!r.selecting?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("rect",{key:24,class:"selection-area",x:Math.min(r.selectingStartX,r.selectingCurrentX),y:Math.min(r.selectingStartY,r.selectingCurrentY),width:Math.abs(r.selectingStartX-r.selectingCurrentX),height:Math.abs(r.selectingStartY-r.selectingCurrentY)},null,8,Om)):((0,o.uX)(),(0,o.CE)("ellipse",{key:12,class:"preview",cx:r.drawingStartX,cy:r.drawingStartY,rx:Math.abs(r.drawingStartX-r.drawingCurrentX),ry:Math.abs(r.drawingStartY-r.drawingCurrentY)},null,8,cm)):((0,o.uX)(),(0,o.CE)("rect",{key:10,class:"preview",x:Math.min(r.drawingStartX,r.drawingCurrentX),y:Math.min(r.drawingStartY,r.drawingCurrentY),width:Math.abs(r.drawingStartX-r.drawingCurrentX),height:Math.abs(r.drawingStartY-r.drawingCurrentY)},null,8,im))],10,Wg)],40,Ng)):(0,o.Q3)("",!0)}const Wm=["transform"],Dm=["id","data-row-label"],Km=["x","y","font-size","transform"],Bm=["x","y","font-size","transform"],Vm=["d"];function Ym(e,t,n,r,s,i){const l=(0,o.g2)("Seat");return(0,o.uX)(),(0,o.CE)("g",{transform:i.transform,onMousedown:t[0]||(t[0]=(...e)=>i.mousedown&&i.mousedown(...e)),onMouseup:t[1]||(t[1]=(...e)=>i.mouseup&&i.mouseup(...e)),class:(0,a.C4)(i.classObject)},[(0,o.Lk)("g",{id:n.row.guid,class:"row_group","data-row-label":n.row.row_number,"text-anchor":"middle"},[i.rowNumberStart?((0,o.uX)(),(0,o.CE)("text",{key:0,class:"row_lable",x:i.rowNumberStart.x,y:i.rowNumberStart.y,dy:".35em","font-size":i.rowNumberStart.fontSize,transform:i.rotate?i.rowNumberStart.transform:"",fill:"#888"},(0,a.v_)(n.row.skip?n.row.skip_number:n.row.row_number),9,Km)):(0,o.Q3)("",!0),i.rowNumberEnd?((0,o.uX)(),(0,o.CE)("text",{key:1,class:"row_lable",x:i.rowNumberEnd.x,y:i.rowNumberEnd.y,dy:".35em","font-size":i.rowNumberEnd.fontSize,transform:i.rotate?i.rowNumberEnd.transform:"",fill:"#888"},(0,a.v_)(n.row.skip?n.row.skip_number:n.row.row_number),9,Bm)):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.row.seats,(e=>((0,o.uX)(),(0,o.Wv)(l,{row:n.row,seat:e,key:e.uuid,zone:n.zone,onStartDragging:i.startDragging,row_number:n.row.row_number},null,8,["row","seat","zone","onStartDragging","row_number"])))),128)),r.selection.includes(n.row.uuid)?((0,o.uX)(),(0,o.CE)("path",{key:2,class:"selection-line",d:i.selectionLinePath},null,8,Vm)):(0,o.Q3)("",!0)],8,Dm)],42,Wm)}const qm=["id","fill","cx","cy","r","data-seat-label","data-row-label","data-section-label","data-section-abv","data-category-name","data-tags"],Um=["fill","x","y"],Hm=["transform"],Gm={"data-v-e185086c":""},Qm=["cx","cy"];function Zm(e,t,n,r,s,i){return(0,o.uX)(),(0,o.CE)("g",{onMousedown:t[0]||(t[0]=(...e)=>i.mousedown&&i.mousedown(...e)),onMouseup:t[1]||(t[1]=(...e)=>i.mouseup&&i.mouseup(...e)),class:"seat_group","data-object-type":"seat_group"},[(0,o.Lk)("circle",{class:"seat_circle",id:n.seat.guid,fill:i.seatColor,cx:n.seat.position.x,cy:n.seat.position.y,r:i.radius,stroke:"#000",style:{"stroke-width":"1px"},"data-seat-label":n.seat.seat_number,"data-row-label":n.row_number,"data-section-label":n.seat.section_label,"data-section-abv":n.seat.section_abv,"data-category-name":n.seat.category,"data-tags":i.makeTag},null,8,qm),(0,o.Lk)("text",{class:"seat_label",fill:(i.textColor,"black"),x:n.seat.position.x,y:n.seat.position.y,"text-anchor":"middle","font-size":"10px","font-family":"sans-serif",dy:".35em"},(0,a.v_)(i.textContent),9,Um),n.seat.tag_name&&n.seat.tag_name.includes("Wheelchair")?((0,o.uX)(),(0,o.CE)("g",{key:0,transform:`matrix(1, 0, 0, 1, ${n.seat.position.x-5}, ${n.seat.position.y-6})`,"data-object-type":"seat-icon",x:"-5",y:"-6","data-seat-id":"element-1-1","data-seat-icon":"wheelchair","data-v-e185086c":""},[(0,o.Lk)("g",Gm,[(0,o.Lk)("path",{d:"M 3.261719 0.015625 C 2.613281 0.117188 2.195312 0.742188 2.378906 1.347656 C 2.476562 1.675781 2.761719 1.957031 3.097656 2.058594 C 3.386719 2.144531 3.660156 2.125 3.925781 1.996094 C 4.148438 1.890625 4.3125 1.734375 4.421875 1.523438 C 4.503906 1.367188 4.53125 1.265625 4.535156 1.085938 C 4.539062 0.972656 4.539062 0.9375 4.519531 0.851562 C 4.429688 0.429688 4.101562 0.113281 3.660156 0.0234375 C 3.554688 0 3.371094 -0.00390625 3.261719 0.015625 Z M 3.261719 0.015625 ","data-v-e185086c":"",style:(0,a.Tr)({"fill-opacity":1,fill:i.tagColor})},null,4),(0,o.Lk)("path",{d:"M 3.367188 2.3125 C 3.355469 2.3125 3.324219 2.320312 3.292969 2.324219 C 3.105469 2.363281 2.917969 2.460938 2.769531 2.601562 C 2.574219 2.785156 2.46875 3.011719 2.453125 3.277344 C 2.449219 3.359375 2.457031 3.527344 2.519531 4.523438 C 2.527344 4.609375 2.554688 5.121094 2.589844 5.65625 C 2.636719 6.433594 2.652344 6.652344 2.667969 6.71875 C 2.734375 7.035156 2.957031 7.296875 3.273438 7.4375 C 3.347656 7.472656 3.476562 7.511719 3.574219 7.53125 C 3.613281 7.539062 4.1875 7.542969 5.488281 7.542969 L 7.347656 7.546875 L 7.476562 7.761719 C 8.464844 9.402344 8.824219 9.992188 8.851562 10.023438 C 8.941406 10.128906 9.082031 10.210938 9.222656 10.242188 C 9.324219 10.265625 9.480469 10.257812 9.574219 10.226562 C 9.902344 10.117188 10.074219 9.769531 9.960938 9.445312 C 9.941406 9.382812 9.746094 9.058594 8.988281 7.808594 C 8.46875 6.949219 8.03125 6.226562 8.011719 6.195312 C 7.929688 6.082031 7.789062 5.988281 7.640625 5.945312 C 7.585938 5.929688 7.480469 5.929688 6.160156 5.925781 L 4.738281 5.925781 L 4.730469 5.761719 C 4.726562 5.675781 4.722656 5.496094 4.71875 5.363281 L 4.710938 5.128906 L 5.734375 5.128906 C 6.621094 5.128906 6.769531 5.125 6.820312 5.113281 C 7.078125 5.050781 7.246094 4.820312 7.207031 4.578125 C 7.179688 4.402344 7.0625 4.269531 6.878906 4.195312 C 6.828125 4.175781 6.828125 4.175781 5.738281 4.171875 L 4.652344 4.167969 L 4.644531 4.070312 C 4.609375 3.613281 4.574219 3.21875 4.566406 3.164062 C 4.546875 3.027344 4.476562 2.867188 4.390625 2.742188 C 4.292969 2.605469 4.097656 2.453125 3.9375 2.386719 C 3.792969 2.328125 3.714844 2.3125 3.542969 2.308594 C 3.457031 2.308594 3.378906 2.308594 3.367188 2.3125 Z M 3.367188 2.3125 ","data-v-e185086c":"",style:(0,a.Tr)({"fill-opacity":1,fill:i.tagColor})},null,4),(0,o.Lk)("path",{d:"M 1.84375 4.753906 C 1.328125 5.089844 0.90625 5.511719 0.585938 6.015625 C 0.03125 6.886719 -0.136719 7.957031 0.117188 8.96875 C 0.367188 9.945312 0.988281 10.789062 1.871094 11.347656 C 2.878906 11.984375 4.132812 12.164062 5.292969 11.84375 C 6.285156 11.570312 7.152344 10.929688 7.6875 10.074219 C 7.796875 9.90625 7.925781 9.65625 7.917969 9.640625 C 7.90625 9.609375 7.347656 8.691406 7.34375 8.691406 C 7.339844 8.691406 7.332031 8.71875 7.324219 8.75 C 7.304688 8.835938 7.242188 9.039062 7.191406 9.164062 C 6.839844 10.03125 6.109375 10.703125 5.195312 11 C 4.558594 11.210938 3.851562 11.222656 3.191406 11.035156 C 2.492188 10.832031 1.839844 10.371094 1.421875 9.777344 C 1.140625 9.371094 0.96875 8.941406 0.894531 8.4375 C 0.871094 8.269531 0.871094 7.796875 0.894531 7.636719 C 0.929688 7.40625 0.976562 7.21875 1.046875 7.03125 C 1.214844 6.5625 1.476562 6.167969 1.855469 5.8125 L 2.019531 5.65625 L 1.988281 5.1875 C 1.972656 4.929688 1.960938 4.710938 1.960938 4.703125 C 1.960938 4.695312 1.957031 4.6875 1.953125 4.6875 C 1.949219 4.6875 1.898438 4.71875 1.84375 4.753906 Z M 1.84375 4.753906 ","data-v-e185086c":"",style:(0,a.Tr)({"fill-opacity":1,fill:i.tagColor})},null,4)])],8,Hm)):(0,o.Q3)("",!0),i.showTag?((0,o.uX)(),(0,o.CE)("circle",{key:1,fill:"#fff",cx:n.seat.position.x,cy:n.seat.position.y+7,r:3},null,8,Qm)):(0,o.Q3)("",!0)],32)}var Jm={name:"SeatComp",props:{seat:Object,row:Object,zone:Object,row_number:String},data(){return{lastMouseUp:0}},setup(){const e=Na(),t=Ka(),n=(0,o.EW)((()=>e.getCategoryByName)),r=(0,o.EW)((()=>t.cursor)),a=(0,o.EW)((()=>t.bvalid));return{getCategoryByName:n,cursor:r,bValid:a}},computed:{makeTag(){const e=[];return this.seat.tag_name?(this.seat.tag_name.includes("Wheelchair")&&e.push("W"),this.seat.tag_name.includes("Wheelchair Companion")&&e.push("C"),this.seat.tag_name.includes("Partial View")&&e.push("P"),this.seat.tag_name.includes("Folding Chair")&&e.push("F"),this.seat.tag_name.includes("Standing Room Only")&&e.push("S"),e.join(",")):""},showTag(){const e=["Wheelchair Companion","Partial View","Folding Chair","Standing Room Only"];if(this.seat.tag_name){let t=!1;return e.forEach((e=>{this.seat.tag_name.includes(e)&&(t=!0)})),t}return!1},tagColor(){return this.seat.category?"#ffffff":"#0064d0"},seatID(){return`seat-${this.$props.row_number}-${this.seat.seat_number}`},classObject(){return{seat:!0,selected:Ka().selection.includes(this.seat.uuid)}},textContent(){return this.row.skip_letter?this.seat.skip_number:this.seat.seat_number},category(){return this.getCategoryByName(this.seat.category)},radius(){return void 0!==this.seat.radius?this.seat.radius:10},seatColor(){return this.bValid&&!this.seat.valid?"#ffcf37":this.category?this.category.color:"#fff"},textColor(){if(this.category){const e=pu([0,0,0],fu(this.category.color));return e<5?"#FFFFFF":"#000000"}return"#666666"}},methods:{mouseup(e){if(e.ctrlKey||e.metaKey)return!1;const t=(new Date).getTime()-this.lastMouseUp;return this.lastMouseUp=(new Date).getTime(),"seatselect"===Ka().tool?(Ka().dragged||Ka().toggleSelection([this.seat.uuid],e.shiftKey,this.zone.uuid),Ka().dragging&&Ka().stopDragging(),!0):"select"===Ka().tool&&t<500&&(Ka().changeTool("seatselect"),Ka().toggleSelection([this.seat.uuid],!1,this.zone.uuid),!0)},mousedown(e){return!e.ctrlKey&&!e.metaKey&&("seatselect"===Ka().tool&&(this.$emit("startDragging",this.seat.uuid,this.zone,e),e.stopPropagation(),!0))}}};const ey=(0,ss.A)(Jm,[["render",Zm]]);var ty=ey;const ny=(e,t)=>Number(e.toFixed(t||0));var oy={name:"SeatComp",components:{Seat:ty},props:{row:Object,zone:Object,ox:Number,oy:Number,selectionBoundary:Object},setup(){const e=Ka(),t=(0,o.EW)((()=>e.selection)),n=Ci(),a=(0,r.KR)(0),s=(0,r.KR)(0);return{tool:e.tool,selection:t,seatCur:n.seatCur,temp_ox:a,temp_oy:s}},data(){return{lastMouseUp:0}},computed:{rowContent(){return Ta(parseInt(this.row.row_number),"A")},classObject(){return{row:!0,selected:this.selection.includes(this.row.uuid)}},selectionLinePath(){let e="";for(let t of this.row.seats)e+=e?` L ${t.position.x} ${t.position.y}`:`M ${t.position.x} ${t.position.y}`;return e},transform(){return`translate(${this.row.position.x}, ${this.row.position.y})`},rotate(){return this.row.rotate_label},rowNumberStart(){const e=this.getRowNumber(this.row,!1);return e},rowNumberEnd(){const e=this.getRowNumber(this.row,!0);return e},getRowNumber_Custom(){return this.row.row_number}},watch:{},mounted(){},unmounted(){},methods:{getRowNumber(e,t){if("both"!==e.row_number_position&&e.row_number_position!==(t?"end":"start"))return null;if(1==e.seats.length){const n=2,o=t?e.seats.length-1:0,r=[25,0],a=Math.sqrt(r[0]*r[0]+r[1]*r[1]),s=[ny(r[0]/a,8),ny(r[1]/a,8)];let i=e.seats[o].position.x+s[0]*n*10,l=e.seats[o].position.y+s[1]*n*10,c=s[0]<0,u="",h=-Math.atan(s[0]/s[1]);return h-=(Math.sign(h)>=0?1:-1)*Math.PI/2,Math.abs(Math.abs(h)-Math.PI/2)<1e-4&&(s[1]>0!==t&&(h+=Math.PI),c=t),Math.abs(h)>1e-4&&(u=`rotate(${h/Math.PI*180}, ${i}, ${l})`),t&&(i-=40),{x:i,y:l,textAnchor:t?"end":"start",transform:u}}if(e.seats.length<2)return null;const n=2,o=t?e.seats.length-1:0,r=t?e.seats.length-2:1,a=[e.seats[o].position.x-e.seats[r].position.x,e.seats[o].position.y-e.seats[r].position.y],s=Math.sqrt(a[0]*a[0]+a[1]*a[1]),i=[ny(a[0]/s,8),ny(a[1]/s,8)],l=e.seats[o].position.x+i[0]*n*(e.seats[o].radius||10),c=e.seats[o].position.y+i[1]*n*(e.seats[o].radius||10);let u=i[0]<0,h="",d=-Math.atan(i[0]/i[1]);return d-=(Math.sign(d)>=0?1:-1)*Math.PI/2,Math.abs(Math.abs(d)-Math.PI/2)<1e-4&&(i[1]>0!==t&&(d+=Math.PI),u=t),Math.abs(d)>1e-4&&(h=`rotate(${d/Math.PI*180}, ${l}, ${c})`),"stgrows"!==this.tool||this.getRowNumASCII(e.row_number)%2?{x:l,y:c,textAnchor:u?"end":"start",transform:h}:{x:u?l-10:l+15,y:c,textAnchor:u?"end":"start",transform:h}},getRowNumASCII(e){let t=0;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n);return e.length%2?t%2:t%2-1},startDragging(e,t,n){"select"===Ka().tool&&this.$emit("startDragging",e,t,n)},mouseup(e){if(e.ctrlKey||e.metaKey)return!1;setTimeout((()=>{if(this.selectionBoundary){this.temp_ox=this.selectionBoundary.x+this.selectionBoundary.width/2,this.temp_oy=this.selectionBoundary.y+this.selectionBoundary.height/2;const e=Ka();e.set_Ox(this.temp_ox),e.set_Oy(this.temp_oy)}}),100);(new Date).getTime(),this.lastMouseUp;return this.lastMouseUp=(new Date).getTime(),"select"===Ka().tool&&(Ka().dragged||Ka().toggleSelection([this.row.uuid],e.shiftKey,this.zone.uuid),Ka().dragging&&Ka().stopDragging(),!0)},mousedown(e){return setTimeout((()=>{if(this.selectionBoundary){this.temp_ox=this.selectionBoundary.x+this.selectionBoundary.width/2,this.temp_oy=this.selectionBoundary.y+this.selectionBoundary.height/2;const e=Ka();e.set_Ox(this.temp_ox),e.set_Oy(this.temp_oy)}}),100),!e.ctrlKey&&!e.metaKey&&("select"===Ka().tool&&(this.$emit("startDragging",this.row.uuid,this.zone,e),e.stopPropagation(),!0))}}};const ry=(0,ss.A)(oy,[["render",Ym]]);var ay=ry;const sy=["transform"],iy=["r","fill","stroke","stroke-width"],ly=["x","y","font-size","fill"],cy=["stroke","fill","rx","ry","stroke-width"],uy=["x","y","font-size","fill"],hy=["id","data-capacity","data-label","data-abv","stroke","fill","rx","ry","stroke-width","data-section-label","data-category-name","data-section-abv","data-tags"],dy=["x","y","font-size","fill"],py=["cy"],fy=["fill","stroke","width","height","stroke-width"],gy=["x","y","font-size","fill"],my=["id","fill","data-capacity","data-label","data-abv","stroke","width","height","stroke-width","data-section-label","data-category-name","data-section-abv","data-tags"],yy=["x","y","font-size","fill"],vy=["cx","cy"],by=["fill","stroke","points","stroke-width"],wy=["x","y","font-size","fill"],xy={key:1},_y=["x","y","onMousedown"],ky=["x","y","onMousedown"],Cy=["id","data-capacity","data-label","data-abv","fill","stroke","points","stroke-width","data-section-label","data-category-name","data-section-abv","data-tags"],Sy=["x","y","font-size","fill"],Ey=["cx","cy"],$y={key:2},Py=["x","y","onMousedown"],My=["x","y","onMousedown"],Ty={key:7,class:"table"},zy=["r","data-space"],Fy=["x","y","font-size","fill","transform"],Iy=["onMousedown","onMouseup"],Ly=["id","cx","cy","r","fill","data-section-label","data-section-abv","data-category-name","data-tags","data-seat-label","data-table-label","data-table-abv"],Ry=["transform"],Ay={"data-v-e185086c":""},Ny=["cx","cy"],Xy=["x","y","transform"],Oy=["transform"],jy=["width","height"],Wy=["x","y","font-size","fill","transform"],Dy=["onMousedown","onMouseup"],Ky=["id","cx","cy","r","fill","data-section-label","data-section-abv","data-category-name","data-tags","data-seat-label","data-table-label","data-table-abv"],By=["transform"],Vy={"data-v-e185086c":""},Yy=["cx","cy"],qy=["x","y","transform"],Uy=["x","y","font-size","fill"];function Hy(e,t,n,r,s,i){return n.area?((0,o.uX)(),(0,o.CE)("g",{key:0,class:(0,a.C4)(["area",i.classes]),transform:i.transform,onMousedown:t[0]||(t[0]=(...e)=>i.mousedown&&i.mousedown(...e)),onMouseup:t[1]||(t[1]=(...t)=>e.mouseup&&e.mouseup(...t))},["circle"===n.area.shape?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("circle",{cx:"0",cy:"0",r:n.area.circle.radius,fill:n.area.color||"#888888",stroke:n.area.border_width>=1?n.area.border_color||"#888888":"","stroke-width":n.area.border_width||"2px"},null,8,iy),n.area.text.text?((0,o.uX)(),(0,o.CE)("text",{key:0,x:n.area.text.position.x,y:n.area.text.position.y,"font-size":n.area.text.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.text.color||"#888888"},(0,a.v_)(n.area.text.text),9,ly)):(0,o.Q3)("",!0)],64)):"ellipse"===n.area.shape?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("ellipse",{stroke:n.area.border_width>=1?n.area.border_color||"#888888":"",cx:"0",cy:"0",fill:n.area.color||"#888888",rx:n.area.ellipse.radius.x,ry:n.area.ellipse.radius.y,"stroke-width":n.area.border_width||"2px"},null,8,cy),n.area.text.text?((0,o.uX)(),(0,o.CE)("text",{key:0,x:n.area.text.position.x,y:n.area.text.position.y,"font-size":n.area.text.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.text.color||"#888888"},(0,a.v_)(n.area.text.text),9,uy)):(0,o.Q3)("",!0)],64)):"gaCircle"===n.area.shape?((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.Lk)("ellipse",{id:n.area.guid,"data-capacity":n.area.capacity,"data-label":n.area.label||"","data-abv":n.area.abbreviation||"",class:"gaSecCr",stroke:n.area.border_width>=1?n.area.border_color||"#888888":"",cx:"0",cy:"0",fill:i.gaColor,rx:n.area.ellipse.radius.x,ry:n.area.ellipse.radius.y,"stroke-width":n.area.border_width||"2px","data-section-label":n.area.section_label||"","data-category-name":n.area.category||"","data-section-abv":n.area.section_abv||"","data-tags":i.makeTag(n.area)},null,8,hy),n.area.show_label&&n.area.text.text?((0,o.uX)(),(0,o.CE)("text",{key:0,x:n.area.text.position.x,y:n.area.text.position.y,"font-size":n.area.text.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.text.color||"#888888"},(0,a.v_)(n.area.text.text),9,dy)):(0,o.Q3)("",!0),i.showTag(n.area)?((0,o.uX)(),(0,o.CE)("circle",{key:1,fill:"#fff",cx:0,cy:n.area.ellipse.radius.y-7,r:7},null,8,py)):(0,o.Q3)("",!0)],64)):"rectangle"===n.area.shape?((0,o.uX)(),(0,o.CE)(o.FK,{key:3},[(0,o.Lk)("rect",{fill:n.area.color||"#888888",stroke:n.area.border_width>=1?n.area.border_color||"#888888":"",x:"0",y:"0",width:n.area.rectangle.width,height:n.area.rectangle.height,"stroke-width":n.area.border_width||"2px"},null,8,fy),n.area.text.text?((0,o.uX)(),(0,o.CE)("text",{key:0,x:n.area.text.position.x,y:n.area.text.position.y,"font-size":n.area.text.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.text.color||"#888888"},(0,a.v_)(n.area.text.text),9,gy)):(0,o.Q3)("",!0)],64)):"gaSquare"===n.area.shape?((0,o.uX)(),(0,o.CE)(o.FK,{key:4},[(0,o.Lk)("rect",{class:"gaSecSq",id:n.area.guid,fill:i.gaColor,"data-capacity":n.area.capacity,"data-label":n.area.label||"","data-abv":n.area.abbreviation||"",stroke:n.area.border_width>=1?n.area.border_color||"#888888":"",x:"0",y:"0",width:n.area.rectangle.width,height:n.area.rectangle.height,"stroke-width":n.area.border_width||"2px","data-section-label":n.area.section_label||"","data-category-name":n.area.category||"","data-section-abv":n.area.section_abv||"","data-tags":i.makeTag(n.area)},null,8,my),n.area.show_label&&n.area.text.text?((0,o.uX)(),(0,o.CE)("text",{key:0,x:n.area.rectangle.width/2,y:n.area.rectangle.height/2,"font-size":n.area.text.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.text.color||"#888888"},(0,a.v_)(n.area.text.text),9,yy)):(0,o.Q3)("",!0),i.showTag(n.area)?((0,o.uX)(),(0,o.CE)("circle",{key:1,fill:"#fff",cx:n.area.rectangle.width/2,cy:n.area.rectangle.height-7,r:7},null,8,vy)):(0,o.Q3)("",!0)],64)):"polygon"===n.area.shape?((0,o.uX)(),(0,o.CE)(o.FK,{key:5},[(0,o.Lk)("polygon",{fill:n.area.color||"#888888",stroke:n.area.border_width>=1?n.area.border_color||"#888888":"",points:i.polygonPoints,"stroke-width":n.area.border_width||"2px"},null,8,by),n.area.text.text?((0,o.uX)(),(0,o.CE)("text",{key:0,x:n.area.text.position.x,y:n.area.text.position.y,"font-size":n.area.text.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.text.color||"#888888"},(0,a.v_)(n.area.text.text),9,wy)):(0,o.Q3)("",!0),i.isIndividuallySelected&&n.area.polygon&&n.area.polygon.points?((0,o.uX)(),(0,o.CE)("g",xy,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.area.polygon.points,((e,t)=>((0,o.uX)(),(0,o.CE)("rect",{class:"polygon-point-handle",key:"point-handle-"+t,x:e.x-3,y:e.y-3,width:"6",height:"6",onMousedown:e=>i.mousedownPolygonPoint(e,t)},null,40,_y)))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.area.polygon.points,((e,t)=>((0,o.uX)(),(0,o.CE)("rect",{class:"polygon-new-point-handle",key:"new-point-handle-"+t,x:(e.x+i.getNextPoint(t).x)/2-2,y:(e.y+i.getNextPoint(t).y)/2-2,width:"4",height:"4",onMousedown:e=>i.insertPolygonPointBefore(e,t)},null,40,ky)))),128))])):(0,o.Q3)("",!0)],64)):"gaPolygon"===n.area.shape?((0,o.uX)(),(0,o.CE)(o.FK,{key:6},[(0,o.Lk)("polygon",{class:"gaSecPy",id:n.area.guid,"data-capacity":n.area.capacity,"data-label":n.area.label||"","data-abv":n.area.abbreviation||"",fill:i.gaColor,stroke:n.area.border_width>=1?n.area.border_color||"#888888":"",points:i.polygonPoints,"stroke-width":n.area.border_width||"2px","data-section-label":n.area.section_label||"","data-category-name":n.area.category||"","data-section-abv":n.area.section_abv||"","data-tags":i.makeTag(n.area)},null,8,Cy),n.area.show_label&&n.area.text.text?((0,o.uX)(),(0,o.CE)("text",{key:0,x:n.area.text.position.x,y:n.area.text.position.y,"font-size":n.area.text.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.text.color||"#888888"},(0,a.v_)(n.area.text.text),9,Sy)):(0,o.Q3)("",!0),i.showTag(n.area)?((0,o.uX)(),(0,o.CE)("circle",{key:1,fill:"#fff",cx:i.polygonTagX,cy:i.polygonTagY,r:7},null,8,Ey)):(0,o.Q3)("",!0),i.isIndividuallySelected&&n.area.polygon&&n.area.polygon.points?((0,o.uX)(),(0,o.CE)("g",$y,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.area.polygon.points,((e,t)=>((0,o.uX)(),(0,o.CE)("rect",{class:"polygon-point-handle",key:"point-handle-"+t,x:e.x-3,y:e.y-3,width:"6",height:"6",onMousedown:e=>i.mousedownPolygonPoint(e,t)},null,40,Py)))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.area.polygon.points,((e,t)=>((0,o.uX)(),(0,o.CE)("rect",{class:"polygon-new-point-handle",key:"new-point-handle-"+t,x:(e.x+i.getNextPoint(t).x)/2-2,y:(e.y+i.getNextPoint(t).y)/2-2,width:"4",height:"4",onMousedown:e=>i.insertPolygonPointBefore(e,t)},null,40,My)))),128))])):(0,o.Q3)("",!0)],64)):"roundTable"===n.area.shape?((0,o.uX)(),(0,o.CE)("g",Ty,[(0,o.Lk)("circle",{class:"table_circle",cx:0,cy:0,r:n.area.radius,fill:"#ffffff",stroke:"#000","stroke-width":"1","data-space":n.area.space},null,8,zy),(0,o.Lk)("text",{class:"table_label",x:n.area.label.position.x,y:n.area.label.position.y,"font-size":n.area.label.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.label.color||"#888888",transform:n.area.rotate_label?"":`rotate(${-n.area.rotation})`},(0,a.v_)(n.area.label.abv),9,Fy),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.area.seats,((e,t)=>((0,o.uX)(),(0,o.CE)("g",{class:"table_seat_group",key:e,onMousedown:t=>i.seat_mousedown(t,e.uuid),onMouseup:t=>i.seat_mouseup(t,e.uuid)},[(0,o.Lk)("circle",{class:"tableCrSt",id:e.guid,cx:e.position.x,cy:e.position.y,r:e.r,stroke:"#000",style:{"stroke-width":"1px"},fill:i.seatColor(e),"stroke-width":"1","data-section-label":e.section_label,"data-section-abv":e.section_abv,"data-category-name":e.category,"data-tags":i.makeTag(e),"data-seat-label":e.seat_number,"data-table-label":n.area.label.name,"data-table-abv":n.area.label.abv},null,8,Ly),e.tag_name&&e.tag_name.includes("Wheelchair")?((0,o.uX)(),(0,o.CE)("g",{key:0,transform:`matrix(1, 0, 0, 1, ${e.position.x-5}, ${e.position.y-6})`,"data-object-type":"seat-icon",x:"-5",y:"-6","data-seat-id":"element-1-1","data-seat-icon":"wheelchair","data-v-e185086c":""},[(0,o.Lk)("g",Ay,[(0,o.Lk)("path",{d:"M 3.261719 0.015625 C 2.613281 0.117188 2.195312 0.742188 2.378906 1.347656 C 2.476562 1.675781 2.761719 1.957031 3.097656 2.058594 C 3.386719 2.144531 3.660156 2.125 3.925781 1.996094 C 4.148438 1.890625 4.3125 1.734375 4.421875 1.523438 C 4.503906 1.367188 4.53125 1.265625 4.535156 1.085938 C 4.539062 0.972656 4.539062 0.9375 4.519531 0.851562 C 4.429688 0.429688 4.101562 0.113281 3.660156 0.0234375 C 3.554688 0 3.371094 -0.00390625 3.261719 0.015625 Z M 3.261719 0.015625 ","data-v-e185086c":"",style:(0,a.Tr)({"fill-opacity":1,fill:i.tagColor(e)})},null,4),(0,o.Lk)("path",{d:"M 3.367188 2.3125 C 3.355469 2.3125 3.324219 2.320312 3.292969 2.324219 C 3.105469 2.363281 2.917969 2.460938 2.769531 2.601562 C 2.574219 2.785156 2.46875 3.011719 2.453125 3.277344 C 2.449219 3.359375 2.457031 3.527344 2.519531 4.523438 C 2.527344 4.609375 2.554688 5.121094 2.589844 5.65625 C 2.636719 6.433594 2.652344 6.652344 2.667969 6.71875 C 2.734375 7.035156 2.957031 7.296875 3.273438 7.4375 C 3.347656 7.472656 3.476562 7.511719 3.574219 7.53125 C 3.613281 7.539062 4.1875 7.542969 5.488281 7.542969 L 7.347656 7.546875 L 7.476562 7.761719 C 8.464844 9.402344 8.824219 9.992188 8.851562 10.023438 C 8.941406 10.128906 9.082031 10.210938 9.222656 10.242188 C 9.324219 10.265625 9.480469 10.257812 9.574219 10.226562 C 9.902344 10.117188 10.074219 9.769531 9.960938 9.445312 C 9.941406 9.382812 9.746094 9.058594 8.988281 7.808594 C 8.46875 6.949219 8.03125 6.226562 8.011719 6.195312 C 7.929688 6.082031 7.789062 5.988281 7.640625 5.945312 C 7.585938 5.929688 7.480469 5.929688 6.160156 5.925781 L 4.738281 5.925781 L 4.730469 5.761719 C 4.726562 5.675781 4.722656 5.496094 4.71875 5.363281 L 4.710938 5.128906 L 5.734375 5.128906 C 6.621094 5.128906 6.769531 5.125 6.820312 5.113281 C 7.078125 5.050781 7.246094 4.820312 7.207031 4.578125 C 7.179688 4.402344 7.0625 4.269531 6.878906 4.195312 C 6.828125 4.175781 6.828125 4.175781 5.738281 4.171875 L 4.652344 4.167969 L 4.644531 4.070312 C 4.609375 3.613281 4.574219 3.21875 4.566406 3.164062 C 4.546875 3.027344 4.476562 2.867188 4.390625 2.742188 C 4.292969 2.605469 4.097656 2.453125 3.9375 2.386719 C 3.792969 2.328125 3.714844 2.3125 3.542969 2.308594 C 3.457031 2.308594 3.378906 2.308594 3.367188 2.3125 Z M 3.367188 2.3125 ","data-v-e185086c":"",style:(0,a.Tr)({"fill-opacity":1,fill:i.tagColor(e)})},null,4),(0,o.Lk)("path",{d:"M 1.84375 4.753906 C 1.328125 5.089844 0.90625 5.511719 0.585938 6.015625 C 0.03125 6.886719 -0.136719 7.957031 0.117188 8.96875 C 0.367188 9.945312 0.988281 10.789062 1.871094 11.347656 C 2.878906 11.984375 4.132812 12.164062 5.292969 11.84375 C 6.285156 11.570312 7.152344 10.929688 7.6875 10.074219 C 7.796875 9.90625 7.925781 9.65625 7.917969 9.640625 C 7.90625 9.609375 7.347656 8.691406 7.34375 8.691406 C 7.339844 8.691406 7.332031 8.71875 7.324219 8.75 C 7.304688 8.835938 7.242188 9.039062 7.191406 9.164062 C 6.839844 10.03125 6.109375 10.703125 5.195312 11 C 4.558594 11.210938 3.851562 11.222656 3.191406 11.035156 C 2.492188 10.832031 1.839844 10.371094 1.421875 9.777344 C 1.140625 9.371094 0.96875 8.941406 0.894531 8.4375 C 0.871094 8.269531 0.871094 7.796875 0.894531 7.636719 C 0.929688 7.40625 0.976562 7.21875 1.046875 7.03125 C 1.214844 6.5625 1.476562 6.167969 1.855469 5.8125 L 2.019531 5.65625 L 1.988281 5.1875 C 1.972656 4.929688 1.960938 4.710938 1.960938 4.703125 C 1.960938 4.695312 1.957031 4.6875 1.953125 4.6875 C 1.949219 4.6875 1.898438 4.71875 1.84375 4.753906 Z M 1.84375 4.753906 ","data-v-e185086c":"",style:(0,a.Tr)({"fill-opacity":1,fill:i.tagColor(e)})},null,4)])],8,Ry)):(0,o.Q3)("",!0),i.showTag(e)?((0,o.uX)(),(0,o.CE)("circle",{key:1,fill:"#fff",cx:e.position.x,cy:e.position.y+7,r:3},null,8,Ny)):(0,o.Q3)("",!0),((0,o.uX)(),(0,o.CE)("text",{fill:"table_seat_label",x:e.position.x,y:e.position.y,"text-anchor":"middle","font-size":"10px","font-family":"sans-serif",key:e,dy:".35em",transform:n.area.rotate_label?"":i.roundTableTransform(n.area,e,t)},(0,a.v_)(n.area.skip_letter?e.skip_number:e.seat_number),9,Xy))],40,Iy)))),128))])):"rectangleTable"===n.area.shape?((0,o.uX)(),(0,o.CE)("g",{key:8,class:"table",transform:`translate(${-n.area.rectangleTable.width/2}, ${-n.area.rectangleTable.height/2})`},[(0,o.Lk)("rect",{class:"table_rect",x:0,y:0,width:n.area.rectangleTable.width,height:n.area.rectangleTable.height,fill:"#ffffff",stroke:"#000","stroke-width":"1"},null,8,jy),(0,o.Lk)("text",{class:"table_label",x:n.area.label.position.x,y:n.area.label.position.y,"font-size":n.area.label.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.label.color||"#888888",transform:n.area.rotate_label?`translate(${n.area.rectangleTable.width/2}, ${n.area.rectangleTable.height/2})`:`translate(${n.area.rectangleTable.width/2}, ${n.area.rectangleTable.height/2}) rotate(${-n.area.rotation})`},(0,a.v_)(n.area.label.abv),9,Wy),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.area.seats,((e,t)=>((0,o.uX)(),(0,o.CE)("g",{class:"table_seat_group",key:e,onMousedown:t=>i.seat_mousedown(t,e.uuid),onMouseup:t=>i.seat_mouseup(t,e.uuid)},[(0,o.Lk)("circle",{class:"tableSqSt",id:e.guid,cx:e.position.x,cy:e.position.y,r:e.radius,stroke:"#000",style:{"stroke-width":"1px"},fill:i.seatColor(e),"stroke-width":"1","data-section-label":e.section_label,"data-section-abv":e.section_abv,"data-category-name":e.category,"data-tags":i.makeTag(e),"data-seat-label":e.seat_number,"data-table-label":n.area.label.name,"data-table-abv":n.area.label.abv},null,8,Ky),e.tag_name&&e.tag_name.includes("Wheelchair")?((0,o.uX)(),(0,o.CE)("g",{key:0,transform:`matrix(1, 0, 0, 1, ${e.position.x-5}, ${e.position.y-6})`,"data-object-type":"seat-icon",x:"-5",y:"-6","data-seat-id":"element-1-1","data-seat-icon":"wheelchair","data-v-e185086c":""},[(0,o.Lk)("g",Vy,[(0,o.Lk)("path",{d:"M 3.261719 0.015625 C 2.613281 0.117188 2.195312 0.742188 2.378906 1.347656 C 2.476562 1.675781 2.761719 1.957031 3.097656 2.058594 C 3.386719 2.144531 3.660156 2.125 3.925781 1.996094 C 4.148438 1.890625 4.3125 1.734375 4.421875 1.523438 C 4.503906 1.367188 4.53125 1.265625 4.535156 1.085938 C 4.539062 0.972656 4.539062 0.9375 4.519531 0.851562 C 4.429688 0.429688 4.101562 0.113281 3.660156 0.0234375 C 3.554688 0 3.371094 -0.00390625 3.261719 0.015625 Z M 3.261719 0.015625 ","data-v-e185086c":"",style:(0,a.Tr)({"fill-opacity":1,fill:i.tagColor(e)})},null,4),(0,o.Lk)("path",{d:"M 3.367188 2.3125 C 3.355469 2.3125 3.324219 2.320312 3.292969 2.324219 C 3.105469 2.363281 2.917969 2.460938 2.769531 2.601562 C 2.574219 2.785156 2.46875 3.011719 2.453125 3.277344 C 2.449219 3.359375 2.457031 3.527344 2.519531 4.523438 C 2.527344 4.609375 2.554688 5.121094 2.589844 5.65625 C 2.636719 6.433594 2.652344 6.652344 2.667969 6.71875 C 2.734375 7.035156 2.957031 7.296875 3.273438 7.4375 C 3.347656 7.472656 3.476562 7.511719 3.574219 7.53125 C 3.613281 7.539062 4.1875 7.542969 5.488281 7.542969 L 7.347656 7.546875 L 7.476562 7.761719 C 8.464844 9.402344 8.824219 9.992188 8.851562 10.023438 C 8.941406 10.128906 9.082031 10.210938 9.222656 10.242188 C 9.324219 10.265625 9.480469 10.257812 9.574219 10.226562 C 9.902344 10.117188 10.074219 9.769531 9.960938 9.445312 C 9.941406 9.382812 9.746094 9.058594 8.988281 7.808594 C 8.46875 6.949219 8.03125 6.226562 8.011719 6.195312 C 7.929688 6.082031 7.789062 5.988281 7.640625 5.945312 C 7.585938 5.929688 7.480469 5.929688 6.160156 5.925781 L 4.738281 5.925781 L 4.730469 5.761719 C 4.726562 5.675781 4.722656 5.496094 4.71875 5.363281 L 4.710938 5.128906 L 5.734375 5.128906 C 6.621094 5.128906 6.769531 5.125 6.820312 5.113281 C 7.078125 5.050781 7.246094 4.820312 7.207031 4.578125 C 7.179688 4.402344 7.0625 4.269531 6.878906 4.195312 C 6.828125 4.175781 6.828125 4.175781 5.738281 4.171875 L 4.652344 4.167969 L 4.644531 4.070312 C 4.609375 3.613281 4.574219 3.21875 4.566406 3.164062 C 4.546875 3.027344 4.476562 2.867188 4.390625 2.742188 C 4.292969 2.605469 4.097656 2.453125 3.9375 2.386719 C 3.792969 2.328125 3.714844 2.3125 3.542969 2.308594 C 3.457031 2.308594 3.378906 2.308594 3.367188 2.3125 Z M 3.367188 2.3125 ","data-v-e185086c":"",style:(0,a.Tr)({"fill-opacity":1,fill:i.tagColor(e)})},null,4),(0,o.Lk)("path",{d:"M 1.84375 4.753906 C 1.328125 5.089844 0.90625 5.511719 0.585938 6.015625 C 0.03125 6.886719 -0.136719 7.957031 0.117188 8.96875 C 0.367188 9.945312 0.988281 10.789062 1.871094 11.347656 C 2.878906 11.984375 4.132812 12.164062 5.292969 11.84375 C 6.285156 11.570312 7.152344 10.929688 7.6875 10.074219 C 7.796875 9.90625 7.925781 9.65625 7.917969 9.640625 C 7.90625 9.609375 7.347656 8.691406 7.34375 8.691406 C 7.339844 8.691406 7.332031 8.71875 7.324219 8.75 C 7.304688 8.835938 7.242188 9.039062 7.191406 9.164062 C 6.839844 10.03125 6.109375 10.703125 5.195312 11 C 4.558594 11.210938 3.851562 11.222656 3.191406 11.035156 C 2.492188 10.832031 1.839844 10.371094 1.421875 9.777344 C 1.140625 9.371094 0.96875 8.941406 0.894531 8.4375 C 0.871094 8.269531 0.871094 7.796875 0.894531 7.636719 C 0.929688 7.40625 0.976562 7.21875 1.046875 7.03125 C 1.214844 6.5625 1.476562 6.167969 1.855469 5.8125 L 2.019531 5.65625 L 1.988281 5.1875 C 1.972656 4.929688 1.960938 4.710938 1.960938 4.703125 C 1.960938 4.695312 1.957031 4.6875 1.953125 4.6875 C 1.949219 4.6875 1.898438 4.71875 1.84375 4.753906 Z M 1.84375 4.753906 ","data-v-e185086c":"",style:(0,a.Tr)({"fill-opacity":1,fill:i.tagColor(e)})},null,4)])],8,By)):(0,o.Q3)("",!0),i.showTag(e)?((0,o.uX)(),(0,o.CE)("circle",{key:1,fill:"#fff",cx:e.position.x,cy:e.position.y+7,r:3},null,8,Yy)):(0,o.Q3)("",!0),(0,o.Lk)("text",{fill:"black",x:e.position.x,y:e.position.y,"text-anchor":"middle","font-size":"10px","font-family":"sans-serif",dy:".35em",transform:n.area.rotate_label?"":i.rectangleTableTransform(n.area,e,t)},(0,a.v_)(n.area.skip_letter?e.skip_number:e.seat_number),9,qy)],40,Dy)))),128))],8,Oy)):"text"===n.area.shape&&n.area.text&&n.area.text.text?((0,o.uX)(),(0,o.CE)("text",{key:9,x:n.area.text.position.x,y:n.area.text.position.y,"font-size":n.area.text.size||16,"text-anchor":"middle","font-family":"sans-serif",dy:".35em",fill:n.area.text.color||"#888888"},(0,a.v_)(n.area.text.text),9,Uy)):(0,o.Q3)("",!0)],42,sy)):(0,o.Q3)("",!0)}var Gy={name:"ZoneArea",props:{area:Object,zone:Object,ox:Number,oy:Number,selectionBoundary:Object,startDraggingPolygonPoint:Function},data(){return{ignoreNextMouseUp:!1}},setup(){const e=Ka(),t=Na(),n=(0,o.EW)((()=>e.cursor)),a=(0,o.EW)((()=>e.selection)),s=(0,o.EW)((()=>t.getCategoryByName)),i=(0,r.KR)(0),l=(0,r.KR)(0),c=(0,o.EW)((()=>e.tool)),u=(0,o.EW)((()=>e.bvalid));return{bValid:u,cursor:n,selection:a,store:e,getCategoryByName:s,temp_ox:i,temp_oy:l,tool:c,planStore:t}},computed:{category(){return this.getCategoryByName(this.area.category)},gaColor(){return this.bValid&&!this.area.valid?"#ffcf37":this.category?this.category.color:"#cccccc"},isSelected(){return this.selection.includes(this.area.uuid)},isIndividuallySelected(){return 1===this.selection.length&&this.isSelected},classes(){return{selected:this.isSelected,["area-"+this.area.shape]:!0}},transform(){return this.area.rotation?`translate(${this.area.position.x}, ${this.area.position.y}) rotate(${this.area.rotation})`:`translate(${this.area.position.x}, ${this.area.position.y})`},polygonPoints(){return this.area.polygon?this.area.polygon.points.map((e=>`${e.x},${e.y}`)).join(" "):""},polygonTagX(){const e=this.area.polygon.points;let t=e[0].x,n=e[0].x;return e.forEach((e=>{e.x<t&&(t=e.x),e.x>n&&(n=e.x)})),(t+n)/2},polygonTagY(){const e=this.area.polygon.points;let t=e[0].y,n=e[0].y;return e.forEach((e=>{e.y<t&&(t=e.y),e.y>n&&(n=e.y)})),(t+n)/2+20}},methods:{makeTag(e){const t=[];return e.tag_name?(e.tag_name.includes("Wheelchair")&&t.push("W"),e.tag_name.includes("Wheelchair Companion")&&t.push("C"),e.tag_name.includes("Partial View")&&t.push("P"),e.tag_name.includes("Folding Chair")&&t.push("F"),e.tag_name.includes("Standing Room Only")&&t.push("S"),t.join(",")):""},showTag(e){const t=["Wheelchair Companion","Partial View","Folding Chair","Standing Room Only"];if(e.tag_name){let n=!1;return t.forEach((t=>{e.tag_name.includes(t)&&(n=!0)})),n}return!1},tagColor(e){return e.category?"#ffffff":"#0064d0"},roundTableTransform(e,t,n){const o=e.rotation*Math.PI/180,r=e.seats.length+e?.space,a=(e.radius+10)*Math.cos(o+2*Math.PI/r*n)-t.position.x,s=(e.radius+10)*Math.sin(o+2*Math.PI/r*n)-t.position.y;return`rotate(${-e.rotation}) translate(${a}, ${s})`},rectangleTableTransform(e,t,n){const o=e.rotation*Math.PI/180,r=(e.position.x,e.position.y,t.position.x*Math.cos(o)-t.position.y*Math.sin(o)),a=t.position.x*Math.sin(o)+t.position.y*Math.cos(o),s=r-t.position.x,i=a-t.position.y;return`rotate(${-e.rotation}) translate(${s}, ${i})`},seatColor(e){return this.bValid&&!e.valid?"#ffcf37":e.category?this.getCategoryByName(e.category)?.color:"#fff"},startDragging(e,t,n){this.$emit("startDragging",e,t,n)},getNextPoint(e){return this.area.polygon.points[e?e-1:this.area.polygon.points.length-1]},insertPolygonPointBefore(e,t){return!e.ctrlKey&&!e.metaKey&&(("select"===this.tool||"polygon"===this.tool)&&(this.planStore.addPolygonPoint(this.area,t,{x:(this.area.polygon.points[t].x+this.area.polygon.points[t?t-1:this.area.polygon.points.length-1].x)/2,y:(this.area.polygon.points[t].y+this.area.polygon.points[t?t-1:this.area.polygon.points.length-1].y)/2}),this.ignoreNextMouseUp=!0,e.stopPropagation(),!0))},mousedownPolygonPoint(e,t){return!e.ctrlKey&&!e.metaKey&&(("select"===this.tool||"polygon"===this.tool||"gaPolygon"===this.tool)&&(2===e.which?(this.planStore.removePolygonPoint(this.area,t),this.ignoreNextMouseUp=!0):(this.startDraggingPolygonPoint(this.area.uuid,this.zone,e,t),this.ignoreNextMouseUp=!1),e.stopPropagation(),!0))},mousedown(e){return setTimeout((()=>{if(this.selectionBoundary){this.temp_ox=this.selectionBoundary.x+this.selectionBoundary.width/2,this.temp_oy=this.selectionBoundary.y+this.selectionBoundary.height/2;const e=Ka();e.set_Ox(this.temp_ox),e.set_Oy(this.temp_oy)}}),100),!e.ctrlKey&&!e.metaKey&&("select"===this.store.tool&&(this.$emit("startDragging",this.area.uuid,this.zone,e),e.stopPropagation(),!0))},seat_mousedown(e,t){return!e.ctrlKey&&!e.metaKey&&("seatselect"===Ka().tool&&(this.$emit("startDragging",t,this.zone,e),e.stopPropagation(),!0))},seat_mouseup(e,t){if(e.ctrlKey||e.metaKey)return!1;const n=(new Date).getTime()-this.lastMouseUp;return this.lastMouseUp=(new Date).getTime(),"seatselect"===Ka().tool?(Ka().dragged||Ka().toggleSelection([t],e.shiftKey,this.zone.uuid),Ka().dragging&&Ka().stopDragging(),!0):"select"===Ka().tool&&n<500&&(Ka().changeTool("seatselect"),Ka().toggleSelection([t],!1,this.zone.uuid),!0)}}};const Qy=(0,ss.A)(Gy,[["render",Hy]]);var Zy=Qy;const Jy=["transform","opacity","pointer-events"];var ev={__name:"ZoneComponent",props:{zone:Object,startDragging:Function,startDraggingPolygonPoint:Function,ox:Number,oy:Number,selectionBoundary:Object},setup(e){const t=e,n=Ka(),r=(0,o.EW)((()=>n.lockedZones)),a=(0,o.EW)((()=>`translate(${t.zone.position.x}, ${t.zone.position.y})`)),s=(0,o.EW)((()=>t.zone.uuid===n.selectedZone?1:.7)),i=(e,n,o)=>{t.startDragging(e,n,o)},l=(e,n,o,r)=>{t.startDraggingPolygonPoint(e,r,n,o)};return(t,n)=>((0,o.uX)(),(0,o.CE)("g",{class:"zone",transform:a.value,opacity:s.value,"pointer-events":r.value.includes(e.zone.uuid)?"none":"visiblePainted"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.zone.areas,(t=>((0,o.uX)(),(0,o.Wv)(Zy,{key:t.uuid,area:t,zone:e.zone,selectionBoundary:e.selectionBoundary,ox:e.ox,oy:e.oy,onStartDragging:i,startDraggingPolygonPoint:l},null,8,["area","zone","selectionBoundary","ox","oy"])))),128)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.zone.rows,(t=>((0,o.uX)(),(0,o.Wv)(ay,{key:t.uuid,row:t,zone:e.zone,ox:e.ox,selectionBoundary:e.selectionBoundary,oy:e.oy,onStartDragging:i},null,8,["row","zone","ox","selectionBoundary","oy"])))),128))],8,Jy))}};const tv=ev;var nv=tv;const ov=(0,s.nY)("iconStore",(()=>{const e=(0,r.KR)(null),t=(0,r.KR)([]),n=t=>{e.value=t},o=e=>{t.value.push(e),s()},a=()=>{e.value=null},s=(e=!1)=>{const n=JSON.stringify(t.value);localStorage.setItem("frontrow2.editor.icon",n)},i=e=>{t.value=e,s()};return{selectedIcon:e,icons:t,selectIcon:n,placeIcon:o,resetSelectedIcon:a,persistIcon:s,loadIcon:i}})),rv={class:"icons"},av=["transform","onMousedown"],sv=["href"];var iv={__name:"IconComponent",setup(e){const t=ov(),n=((0,r.KR)(t.selectedIcon),(0,r.KR)(t.icons)),a=e=>{console.log("ahah")};return(e,t)=>((0,o.uX)(),(0,o.CE)("g",rv,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,((e,t)=>((0,o.uX)(),(0,o.CE)("g",{key:t,class:"svg-icon",transform:e.transform,onMousedown:t=>a(e)},[(0,o.Lk)("image",{href:e.path},null,8,sv)],40,av)))),128))]))}};const lv=iv;var cv=lv;const uv=(e,t)=>Number(e.toFixed(t||0)),hv=JSON.parse(window.localStorage.getItem("frontrow2.editor.bg")||'{"background": null, "backgroundOpacity": 100, "backgroundX": 0, "backgroundY": 0, "backgroundWidth": 100, "backgroundHeight": 100}');var dv={name:"PlanComponent",components:{ZoneComponent:nv,IconComponent:cv},setup(){const e=(0,r.KR)(null),t=(0,r.KR)(null),n=(0,r.KR)(1),a=(0,r.KR)(!0),s=(0,r.KR)(0),i=(0,r.KR)(hv.background),l=(0,r.KR)(hv.backgroundOpacity),c=(0,r.KR)(hv.backgroundWidth),u=(0,r.KR)(hv.backgroundHeight),h=(0,r.KR)(hv.backgroundX),d=(0,r.KR)(hv.backgroundY),p=(0,r.KR)(!1),f=(0,r.KR)(0),g=(0,r.KR)(0),m=((0,r.KR)(-1),(0,r.KR)(0)),y=(0,r.KR)(0),v=(0,r.KR)(0),b=(0,r.KR)(0),w=(0,r.KR)(0),x=(0,r.KR)(!1),_=(0,r.KR)(0),k=(0,r.KR)(0),C=(0,r.KR)(0),S=(0,r.KR)(!1),E=(0,r.KR)(0),$=(0,r.KR)(0),P=(0,r.KR)(100),M=(0,r.KR)(100),T=(0,r.KR)(!1),z=(0,r.KR)(0),F=(0,r.KR)(0),I=(0,r.KR)(100),L=(0,r.KR)(100),R=(0,r.KR)(100),A=(0,r.KR)(100),N=(0,r.KR)(!1),X=(0,r.KR)([]),O=(0,r.KR)(!1),j=(0,r.KR)(!1),W=(0,r.KR)(!1),D=(0,r.KR)(25),K=(0,r.KR)(25),B=(0,r.KR)(!1),V=(0,r.KR)(!1),Y=Ka(),q=Na(),U=(0,o.EW)((()=>q.plan)),H=(0,o.EW)((()=>q.validationErrors)),G=(0,o.EW)((()=>Y.selection)),Q=(0,o.EW)((()=>Y.tool)),Z=(0,o.EW)((()=>Y.cursor)),J=(0,o.EW)((()=>Y.zoomTransform)),ee=(0,o.EW)((()=>Y.selectedZone)),te=(0,o.EW)((()=>Y.lockedZones)),ne=(0,o.EW)((()=>Y.grid)),oe=(0,o.EW)((()=>Y.snap)),re=(0,o.EW)((()=>Y.section_label)),ae=(0,o.EW)((()=>q.categories)),se=(0,o.EW)((()=>U.value.point.x)),ie=(0,o.EW)((()=>U.value.point.y)),le=(0,o.EW)((()=>U.value.mode)),ce=()=>e.value.getBoundingClientRect(),ue=ov(),he=(0,o.EW)((()=>ue.selectedIcon));return{sections:re,categories:ae,bSnap2Grid:oe,planstore:q,plan:U,validationErrors:H,selection:G,tool:Q,cursor:Z,zoomTransform:J,selectedZone:ee,lockedZones:te,grid:ne,temp_ox:m,temp_oy:y,svg:e,zoom:t,defaultScale:n,fullScreen:a,lastMouseUp:s,background:i,backgroundOpacity:l,backgroundWidth:c,backgroundHeight:u,backgroundX:h,backgroundY:d,rotating:p,rotatingOriginX:f,rotatingOriginY:g,rotatingHandleX:v,rotatingHandleY:b,rotatingStartAngle:w,resizing:x,resizingOriginX:_,resizingOriginY:k,resizingStartDistance:C,selecting:S,selectingStartX:E,selectingStartY:$,selectingCurrentX:P,selectingCurrentY:M,drawing:T,drawingStartX:z,drawingStartY:F,drawingCurrentX:I,drawingCurrentY:L,polygonDrawing:N,polygonPoints:X,rowBlockDrawing:O,stgrowBlockDrawing:j,rowDrawing:W,rowSpacing:D,rowSeatSpacing:K,rowCurrentX:R,rowCurrentY:A,mouseStatus:B,getSvgRect:ce,focusPointX:se,focusPointY:ie,focusDragging:V,iconStore:ue,selectedIcon:he,mode:le}},computed:{metadata(){const e=this.categories.map((e=>`<category>\n          <name>${e.name}</name>\n          <color>${e.color}</color>\n        </category>`)).join(""),t=this.sections.map((e=>`<section>\n          <name>${e.label}</name>\n          <abv>${e.abv}</abv>\n        </section>`)).join("");return`<booktix-data>\n                <chartname>${this.plan.name}</chartname>\n                <categories>${e}</categories>\n                <sections>${t}</sections>\n              </booktix-data>\n              <booktik-chart-id>\n              </booktik-chart-id>\n              <booktik-chart-sec>\n              </booktik-chart-sec>`},noTableSelection(){if(1===this.selection.length)for(const e of this.plan.zones)for(const t of e.areas)if(("roundTable"===t.shape||"rectangleTable"===t.shape)&&this.selection.includes(t.uuid))return!1;return!0},mainclasses(){return{movable:"select"===this.tool,"zoom-transform":!0}},currentToolStatus(){return"seatselect"!==this.tool},selectionIncludesNoSeats(){for(const e of this.plan.zones)for(const t of e.rows)for(const e of t.seats)if(this.selection.includes(e.uuid))return!1;return!0},polygonPreviewPoints(){return this.polygonPoints.concat([{x:this.drawingCurrentX,y:this.drawingCurrentY}]).map((e=>`${e.x},${e.y}`)).join(" ")},rowBlockPosition(){const e=this.drawingCurrentX>this.drawingStartX?this.drawingStartX:this.drawingCurrentX+(this.drawingStartX-this.drawingCurrentX)%this.rowSeatSpacing,t=this.drawingCurrentY>this.drawingStartY?this.drawingStartY:this.drawingCurrentY+(this.drawingStartY-this.drawingCurrentY)%this.rowSpacing;return{x:e,y:t}},rowDrawPosition(){const e=this.drawingCurrentX>this.drawingStartX?this.drawingStartX:this.drawingCurrentX+(this.drawingStartX-this.drawingCurrentX)%this.rowSeatSpacing,t=this.drawingStartY;return{x:e,y:t}},rowBlockTransform(){return`translate(${this.rowBlockPosition.x}, ${this.rowBlockPosition.y})`},rowBlockRows(){return this.rowBlockDrawing?Math.ceil(Math.abs(this.drawingCurrentY-this.drawingStartY)/this.rowSpacing):0},stgrowBlockRows(){return this.stgrowBlockDrawing?Math.ceil(Math.abs(this.drawingCurrentY-this.drawingStartY)/this.rowSpacing):0},rowCirclePreviews(){const e=[];for(const t of this.plan.zones)for(const n of t.rows)if(this.selection.includes(n.uuid)){if(0===n.seats.length)continue;const o=n.seats[0].position.x+n.position.x+t.position.x,r=n.seats[0].position.y+n.position.y+t.position.y,a=n.seats[n.seats.length-1].position.x+n.position.x+t.position.x,s=n.seats[n.seats.length-1].position.y+n.position.y+t.position.y;if("rowCircleFixedCenter"===this.tool){const t=Math.sqrt((this.drawingCurrentX-o)*(this.drawingCurrentX-o)+(this.drawingCurrentY-r)*(this.drawingCurrentY-r));e.push({radius:t,cx:this.drawingCurrentX,cy:this.drawingCurrentY})}else{const t=Math.sqrt((a-o)*(a-o)+(s-r)*(s-r)),n=Math.max(Math.abs((this.drawingCurrentX-o)*(s-r)-(this.drawingCurrentY-r)*(a-o))/t,t/2),i=Math.sign((this.drawingCurrentX-o)*(s-r)-(this.drawingCurrentY-r)*(a-o)),{cx:l,cy:c}=pa({x1:o,y1:r,x2:a,y2:s,radius:n,sign:i});e.push({radius:n,cx:l,cy:c})}}return e},rowDrawingSeats(){if(this.rowDrawing){const e=Math.ceil(Math.sqrt(Math.pow(this.drawingCurrentX-this.drawingStartX,2)+Math.pow(this.drawingCurrentY-this.drawingStartY,2))/this.rowSeatSpacing),t=[];for(let n of Array(e).keys())this.drawingCurrentX===this.drawingStartX?t.push({x:this.drawingStartX,y:this.drawingStartY+this.rowSeatSpacing*n*Math.sign(this.drawingCurrentY-this.drawingStartY)}):t.push({x:this.drawingStartX+this.rowSeatSpacing*n*Math.sign(this.drawingCurrentX-this.drawingStartX)*Math.cos(Math.atan((this.drawingCurrentY-this.drawingStartY)/(this.drawingCurrentX-this.drawingStartX))),y:this.drawingStartY+this.rowSeatSpacing*n*Math.sign(this.drawingCurrentX-this.drawingStartX)*Math.sin(Math.atan((this.drawingCurrentY-this.drawingStartY)/(this.drawingCurrentX-this.drawingStartX)))});return t}return[]},rowBlockSeats(){return this.rowBlockDrawing?Math.ceil(Math.abs(this.drawingCurrentX-this.drawingStartX)/this.rowSeatSpacing):0},stgrowBlockSeats(){return this.stgrowBlockDrawing?Math.ceil(Math.abs(this.drawingCurrentX-this.drawingStartX)/this.rowSeatSpacing):0},stgrowBlockSeats1(){if(this.stgrowBlockDrawing){const e=Math.ceil(Math.abs(this.drawingCurrentX-this.drawingStartX)/this.rowSeatSpacing);return e>0?e-1:0}return 0},selectionBoxesVisible(){return this.selectionBoxes.filter((e=>e.visible))},selectionBoxes(){const e=[];if(this.selection.length)for(const t of this.plan.zones){for(const n of t.rows){if(this.selection.includes(n.uuid)){const o=Math.min(...n.seats.map((e=>e.position.x-(e.radius||10)))),r=Math.min(...n.seats.map((e=>e.position.y-(e.radius||10)))),a=Math.max(...n.seats.map((e=>e.position.x+(e.radius||10)))),s=Math.max(...n.seats.map((e=>e.position.y+(e.radius||10))));e.push({visible:!1,x:t.position.x+n.position.x+o,y:t.position.y+n.position.y+r,width:a-o,height:s-r})}for(const o of n.seats)this.selection.includes(o.uuid)&&e.push({visible:!0,x:t.position.x+n.position.x+o.position.x-(o.radius||10),y:t.position.y+n.position.y+o.position.y-(o.radius||10),width:2*(o.radius||10),height:2*(o.radius||10)})}for(const n of t.areas)if(this.selection.includes(n.uuid)){let o;if("circle"===n.shape)o={x:n.position.x-n.circle.radius,y:n.position.y-n.circle.radius,width:2*n.circle.radius,height:2*n.circle.radius};else if("ellipse"===n.shape||"gaCircle"===n.shape)o=ca(n);else if("rectangle"===n.shape||"gaSquare"===n.shape)o=ra(n);else if("polygon"===n.shape||"gaPolygon"===n.shape)o=la(n);else if("text"===n.shape){const e=n.text.size||16;o=ia(n,n.text.text,e)}else"roundTable"===n.shape?o=aa(n):"rectangleTable"===n.shape&&(o=sa(n));o.x+=t.position.x,o.y+=t.position.y,o.visible=!0,e.push(o)}else if("roundTable"===n.shape){for(const o of n.seats)if(this.selection.includes(o.uuid)){let r={x:n.position.x+o.position.x-(o.radius||10),y:n.position.y+o.position.y-(o.radius||10),width:2*(o.radius||10),height:2*(o.radius||10)};n.rotation&&(r=oa(n,r)),r.x+=t.position.x,r.y+=t.position.y,r.visible=!0,e.push(r)}}else if("rectangleTable"===n.shape)for(const o of n.seats)if(this.selection.includes(o.uuid)){let r={x:n.position.x+o.position.x-(o.radius||10)-n.rectangleTable.width/2,y:n.position.y+o.position.y-(o.radius||10)-n.rectangleTable.height/2,width:2*(o.radius||10),height:2*(o.radius||10)};n.rotation&&(r=oa(n,r)),r.x+=t.position.x,r.y+=t.position.y,r.visible=!0,e.push(r)}}return e},selectionBoundary(){const e=this.selectionBoxes;if(0===e.length)return null;const t=Math.min(...e.map((e=>e.x))),n=Math.min(...e.map((e=>e.y))),o=Math.max(...e.map((e=>e.x+e.width))),r=Math.max(...e.map((e=>e.y+e.height)));return{x:t,y:n,width:o-t,height:r-n}},rotateHandle(){return this.selectionBoundary?this.rotating?{x:this.rotatingHandleX,y:this.rotatingHandleY}:{x:this.selectionBoundary.x+this.selectionBoundary.width/2,y:this.selectionBoundary.y-30}:{x:0,y:0}}},created(){window.localStorage.setItem("snap_enabled",!0),window.localStorage.setItem("grid_enabled",!0)},unmounted(){window.removeEventListener("keydown",this.hotkey)},methods:{getUniqueTableName(){const e=[],t=[];for(const s of this.plan.zones)for(const n of s.areas)"roundTable"!==n.shape&&"rectangleTable"!==n.shape||(n.label&&n.label.name&&e.push(n.label.name),n.label&&n.label.abv&&t.push(n.label.abv));let n=1,o=1,r="Table 1",a="T1";while(e.some((e=>e===r)))n++,r=`Table ${n}`;while(t.some((e=>e===a)))o++,a=`T${o}`;return{labelName:r,abvName:a}},getUniqueGAName(){const e=[],t=[];for(const s of this.plan.zones)for(const n of s.areas)"gaCircle"!==n.shape&&"gaSquare"!==n.shape&&"gaPolygon"!==n.shape||(n.label&&e.push(n.label),n.abbreviation&&t.push(n.abbreviation));let n=1,o=1,r="General Admission 1",a="GA1";while(e.some((e=>e===r)))n++,r=`General Admission ${n}`;while(t.some((e=>e===a)))o++,a=`GA${o}`;return{gaLabel:r,gaAbv:a}},setZoomTransform(e){const t=Ka();t.setZoomTransform(e)},startRotating(e){if(!this.svg)return;if(e.ctrlKey||e.metaKey)return!1;const t=this.getSvgRect();this.rotating=!0;const n=ta(e.clientX-t.x,e.clientY-t.y,this.zoomTransform,null);return this.rotatingOriginX=this.selectionBoundary.x+this.selectionBoundary.width/2,this.rotatingOriginY=this.selectionBoundary.y+this.selectionBoundary.height/2,Ka().set_Ox(this.rotatingOriginX),Ka().set_Oy(this.rotatingOriginY),this.rotatingStartAngle=0,this.rotatingHandleX=n.x,this.rotatingHandleY=n.y,!0},startResizing(e,t){if(!this.svg)return;if(e.ctrlKey||e.metaKey)return!1;const n=this.getSvgRect();this.resizing=!0;const o=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,null);switch(t){case"nw":this.moveDirection=1,this.resizingOriginX=this.selectionBoundary.x+this.selectionBoundary.width,this.resizingOriginY=this.selectionBoundary.y+this.selectionBoundary.height;break;case"ne":this.moveDirection=2,this.resizingOriginX=this.selectionBoundary.x,this.resizingOriginY=this.selectionBoundary.y+this.selectionBoundary.height;break;case"sw":this.moveDirection=4,this.resizingOriginX=this.selectionBoundary.x+this.selectionBoundary.width,this.resizingOriginY=this.selectionBoundary.y;break;case"se":this.moveDirection=3,this.resizingOriginX=this.selectionBoundary.x,this.resizingOriginY=this.selectionBoundary.y;break;default:console.error("unknown resize node")}return this.resizingStartDistance=Math.sqrt((o.x-this.resizingOriginX)*(o.x-this.resizingOriginX)+(o.y-this.resizingOriginY)*(o.y-this.resizingOriginY)),!0},startDragging(e,t,n){if(this.svg&&n){const o=this.getSvgRect(),r=ta(n.clientX-o.x,n.clientY-o.y,this.zoomTransform,null),a=Ka();a.startDragging(e,n.shiftKey,r.x,r.y,t.uuid)}},startDraggingPolygonPoint(e,t,n,o){if(console.log("startDragging"),!this.svg)return;const r=this.getSvgRect(),a=ta(o.clientX-r.x,o.clientY-r.y,this.zoomTransform,null),s=Ka();s.startDraggingPolygonPoint(e,t,o.shiftKey,a.x,a.y,n)},mousedown(e){if(!this.svg)return;if(this.selectedIcon){const{offsetX:t,offsetY:n}=e;return this.iconStore.placeIcon({path:this.selectedIcon.src,transform:`translate(${t}, ${n})`,rotation:0,scale:1}),this.iconStore.resetSelectedIcon(),void(document.body.style.cursor="default")}const t=Ka();if(e.ctrlKey||e.metaKey)return!1;if(this.rotating||this.resizing)return;const n=this.getSvgRect(),o=this.plan.zones.find((e=>e.uuid===this.selectedZone));let r=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,o);if(!(r.x<0||r.y<0||r.x>this.plan.size.width||r.y>this.plan.size.height))switch(this.tool){case"select":case"seatselect":{let t=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,null);this.selecting=!0,this.selectingStartX=t.x,this.selectingStartY=t.y,this.selectingCurrentX=t.x,this.selectingCurrentY=t.y;break}case"gaCircle":case"gaSquare":case"rectangle":case"circle":case"ellipse":{this.drawing=!0;let t=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,null);(e.shiftKey||this.bSnap2Grid)&&(t=ua({x:t.x,y:t.y,zone:o})),this.drawingStartX=t.x,this.drawingStartY=t.y,this.drawingCurrentX=t.x,this.drawingCurrentY=t.y;break}case"text":{let r=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,o);const a=na("Text",32),s=32;if((e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y})),r.x-a/2<0||r.x+a/2>this.plan.size.width||r.y-s/2<0||r.y+s/2>this.plan.size.height)return;const i=Ea();Na().createArea(this.selectedZone,{shape:"text",rotation:0,uuid:i,position:{x:r.x,y:r.y},text:{position:{x:0,y:0},color:"#333333",text:"Text",size:32}}).then((()=>{this.$nextTick((()=>{t.toggleSelection([i],this.selectedZone,!1)}))}));break}case"roundTable":{let r=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,o);if((e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y})),r.x-45<0||r.x+45>this.plan.size.width||r.y-42<0||r.y+42>this.plan.size.height)return;const a=[];for(let e=0;e<6;e++)a.push(e);const{labelName:s,abvName:i}=this.getUniqueTableName(),l=Ea();Na().createArea(this.selectedZone,{shape:"roundTable",space:0,rotation:0,uuid:l,label:{position:{x:0,y:0},name:s,abv:i,color:"#333333",size:16},position:{x:r.x,y:r.y},radius:25,capacity:6,seats:a.map(((e,t,n)=>{const o=2*Math.PI/n.length*t;return{seat_number:(t+1).toString(),position:{x:35*Math.cos(o),y:35*Math.sin(o)},r:10,guid:c(),uuid:Ea()}}))}).then((()=>{this.$nextTick((()=>{t.toggleSelection([l],this.selectedZone,!1)}))}));break}case"rectangleTable":{let r=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,o);if((e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y})),r.x-70<0||r.x+70>this.plan.size.width||r.y-50<0||r.y+50>this.plan.size.width)return;const a=40;let s=[];for(let e=0;e<4;e++)s.push(e);s=s.map(((e,t)=>({position:{x:t*a+10,y:-10},seat_number:(t+1).toString(),color:"#333333",uuid:Ea(),guid:c(),radius:10,special:"top"})));let i=[];for(let e=0;e<4;e++)i.push(e);i=i.map(((e,t)=>({position:{x:t*a+10,y:70},radius:10,seat_number:(t+5).toString(),color:"#333333",uuid:Ea(),guid:c(),special:"bottom"})));const{labelName:l,abvName:u}=this.getUniqueTableName(),h=Ea();Na().createArea(this.selectedZone,{shape:"rectangleTable",capacity:{top:4,bottom:4,left:0,right:0},rectangleTable:{width:140,height:60},rotation:0,uuid:h,position:{x:r.x,y:r.y},label:{name:l,abv:u,position:{x:0,y:0},color:"#333333",text:"",size:16},seats:[...s,...i]}).then((()=>{this.$nextTick((()=>{t.toggleSelection([h],this.selectedZone,!1)}))}));break}case"rowCircle":case"rowCircleFixedCenter":{if("rowCircle"!==this.tool&&"rowCircleFixedCenter"!==this.tool)return!1;let t=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,null);(e.shiftKey||this.bSnap2Grid)&&(t=ua({x:t.x,y:t.y,zone:o})),this.drawingCurrentX=t.x,this.drawingCurrentY=t.y;const r=Ka();r.circleRows(this.drawingCurrentX,this.drawingCurrentY,"rowCircleFixedCenter"===this.tool),r.changeTool("select");break}case"row":{if(this.rowDrawing)break;let t=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,null);(e.shiftKey||this.bSnap2Grid)&&(t=ua({x:t.x,y:t.y,zone:o})),this.rowDrawing=!0,this.drawingStartX=t.x,this.drawingStartY=t.y,this.drawingCurrentX=t.x,this.drawingCurrentY=t.y,this.rowCurrentX=t.x,this.rowCurrentY=t.y;break}case"rows":{if(this.rowBlockDrawing)break;let t=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,null);(e.shiftKey||this.bSnap2Grid)&&(t=ua({x:t.x,y:t.y,zone:o})),this.rowBlockDrawing=!0,this.drawingStartX=t.x,this.drawingStartY=t.y,this.drawingCurrentX=t.x,this.drawingCurrentY=t.y,this.rowCurrentX=t.x,this.rowCurrentY=t.y;break}case"stgrows":{if(this.stgrowBlockDrawing)break;let t=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,null);(e.shiftKey||this.bSnap2Grid)&&(t=ua({x:t.x,y:t.y,zone:o})),this.stgrowBlockDrawing=!0,this.drawingStartX=t.x,this.drawingStartY=t.y,this.drawingCurrentX=t.x,this.drawingCurrentY=t.y,this.rowCurrentX=t.x,this.rowCurrentY=t.y;break}case"focusPoint":Math.abs(r.x-this.focusPointX)<30&&Math.abs(r.y-this.focusPointY)<30&&(this.focusDragging=!0);break}},temp_Rotate(e){const t=Ka();t.moveRotating(t.temp_ox,t.temp_oy,e*Math.PI/180)},mousemove(e){if(!this.svg)return;const t=Ka();if(e.ctrlKey||e.metaKey)return!1;const n=this.getSvgRect();let o=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,null);const r=this.plan.zones.find((e=>e.uuid===this.selectedZone));if(o.x<0||o.y<0||o.x>this.plan.size.width||o.y>this.plan.size.height)this.mouseStatus=!1;else{if(this.mouseStatus=!0,this.rotating&&"seatselect"!==this.tool){let t=-Math.atan((this.rotatingOriginX-o.x)/(this.rotatingOriginY-o.y));console.log(this.bSnap2Grid),(e.shiftKey||this.bSnap2Grid)&&(t<0&&(t+=2*Math.PI),t-=t%(5/180*Math.PI)),o.y>this.rotatingOriginY&&(t+=Math.PI);const n=Ka();return n.moveRotating(this.rotatingOriginX,this.rotatingOriginY,t-this.rotatingStartAngle),this.rotatingStartAngle=t,this.rotatingHandleX=o.x,void(this.rotatingHandleY=o.y)}if(this.resizing){let e=Math.sqrt((o.x-this.resizingOriginX)*(o.x-this.resizingOriginX)+(o.y-this.resizingOriginY)*(o.y-this.resizingOriginY));for(const t of this.plan.zones)for(const n of t.rows)if(this.selection.includes(n.uuid)){if(n.seats.length<2)return;const t=n.seats[0].position.x,o=n.seats[0].position.y,r=n.seats[1].position.x,a=n.seats[1].position.y;if(Math.sqrt((t-r)*(t-r)+(o-a)*(o-a))*(e/this.resizingStartDistance)<20)return}t.moveResizing(this.resizingOriginX,this.resizingOriginY,e/this.resizingStartDistance),this.resizingStartDistance=e}switch(this.tool){case"select":if(t.dragging)t.moveDragging(o.x,o.y,e.shiftKey||this.bSnap2Grid,this.zoomTransform.k),this.selectionBoundary&&(Ka().set_Ox(this.selectionBoundary.x+this.selectionBoundary.width/2),Ka().set_Oy(this.selectionBoundary.y+this.selectionBoundary.height/2));else{if(!this.selecting)return!1;{this.selectingCurrentX=o.x,this.selectingCurrentY=o.y;let n=[];const r=Math.min(this.selectingStartX,this.selectingCurrentX),a=Math.min(this.selectingStartY,this.selectingCurrentY),s=Math.max(this.selectingStartX,this.selectingCurrentX),i=Math.max(this.selectingStartY,this.selectingCurrentY);for(const e of this.plan.zones)if(!this.lockedZones.includes(e.uuid)){for(const t of e.rows)for(const o of t.seats)e.position.x+t.position.x+o.position.x+(o.radius||10)>=r&&e.position.x+t.position.x+o.position.x-(o.radius||10)<=s&&e.position.y+t.position.y+o.position.y+(o.radius||10)>=a&&e.position.y+t.position.y+o.position.y-(o.radius||10)<=i&&!n.includes(t.uuid)&&n.push(t.uuid);for(const t of e.areas)da(t,e,r,a,s,i)&&n.push(t.uuid)}this.selectionBoundary&&(Ka().set_Ox(this.selectionBoundary.x+this.selectionBoundary.width/2),Ka().set_Oy(this.selectionBoundary.y+this.selectionBoundary.height/2)),t.setSelection(n,this.selectedZone,e.shiftKey)}}break;case"seatselect":if(t.dragging)t.moveDragging(o.x,o.y,e.shiftKey||this.bSnap2Grid,this.zoomTransform.k);else{if(!this.selecting)return!1;{this.selectingCurrentX=o.x,this.selectingCurrentY=o.y;let n=[];const r=Math.min(this.selectingStartX,this.selectingCurrentX),a=Math.min(this.selectingStartY,this.selectingCurrentY),s=Math.max(this.selectingStartX,this.selectingCurrentX),i=Math.max(this.selectingStartY,this.selectingCurrentY);for(const e of this.plan.zones)if(!this.lockedZones.includes(e.uuid)){for(const t of e.rows)for(const o of t.seats)e.position.x+t.position.x+o.position.x+(o.radius||10)>=r&&e.position.x+t.position.x+o.position.x-(o.radius||10)<=s&&e.position.y+t.position.y+o.position.y+(o.radius||10)>=a&&e.position.y+t.position.y+o.position.y-(o.radius||10)<=i&&n.push(o.uuid);for(const t of e.areas)if("roundTable"===t.shape)for(const o of t.seats){let l={x:t.position.x+o.position.x-(o.radius||10),y:t.position.y+o.position.y-(o.radius||10),width:2*(o.radius||10),height:2*(o.radius||10)};t.rotation&&(l=oa(t,l)),l.x+=e.position.x,l.y+=e.position.y,l.x+l.width>=r&&l.x<=s&&l.y+l.height>=a&&l.y<=i&&n.push(o.uuid)}else if("rectangleTable"===t.shape)for(const o of t.seats){let l={x:t.position.x+o.position.x-(o.radius||10)-t.rectangleTable.width/2,y:t.position.y+o.position.y-(o.radius||10)-t.rectangleTable.height/2,width:2*(o.radius||10),height:2*(o.radius||10)};t.rotation&&(l=oa(t,l)),l.x+=e.position.x,l.y+=e.position.y,l.x+l.width>=r&&l.x<=s&&l.y+l.height>=a&&l.y<=i&&n.push(o.uuid)}}t.setSelection(n,this.selectedZone,e.shiftKey)}}break;case"gaCircle":case"gaSquare":case"rectangle":case"circle":case"ellipse":if(!this.drawing)return!1;(e.shiftKey||this.bSnap2Grid)&&(o=ua({x:o.x,y:o.y,zone:r})),this.drawingCurrentX=o.x,this.drawingCurrentY=o.y;break;case"roundTable":case"rectangleTable":(e.shiftKey||this.bSnap2Grid)&&(o=ua({x:o.x,y:o.y,zone:r})),this.drawingCurrentX=o.x,this.drawingCurrentY=o.y;break;case"rowCircle":case"rowCircleFixedCenter":if("rowCircle"!==this.tool&&"rowCircleFixedCenter"!==this.tool)return!1;(e.shiftKey||this.bSnap2Grid)&&(o=ua({x:o.x,y:o.y,zone:r})),this.drawingCurrentX=o.x,this.drawingCurrentY=o.y;break;case"row":if(this.rowCurrentX=o.x,this.rowCurrentY=o.y,!this.rowDrawing)return!1;if(e.shiftKey||this.bSnap2Grid){const e=o.x-this.drawingStartX,t=o.y-this.drawingStartY;let n=-Math.atan(e/t)/Math.PI*180,r=Math.sqrt(e*e+t*t);n<0&&(n+=360),n-=n%5,90!==Math.round(Math.abs(n))&&0!==Math.round(Math.abs(n))&&180!==Math.round(Math.abs(n))&&270!==Math.round(Math.abs(n))||(r=10*Math.round(r/10)),this.drawingCurrentX=this.drawingStartX-Math.sign(t)*r*Math.sin(n/180*Math.PI),this.drawingCurrentY=this.drawingStartY+Math.sign(t)*r*Math.cos(n/180*Math.PI)}else this.drawingCurrentX=o.x,this.drawingCurrentY=o.y;break;case"rows":if(this.rowCurrentX=o.x,this.rowCurrentY=o.y,!this.rowBlockDrawing)return!1;(e.shiftKey||this.bSnap2Grid)&&(o=ua({x:o.x,y:o.y,zone:r})),this.drawingCurrentX=o.x,this.drawingCurrentY=o.y;break;case"stgrows":if(this.rowCurrentX=o.x,this.rowCurrentY=o.y,!this.stgrowBlockDrawing)return!1;(e.shiftKey||this.bSnap2Grid)&&(o=ua({x:o.x,y:o.y,zone:r})),this.drawingCurrentX=o.x,this.drawingCurrentY=o.y;break;case"polygon":case"gaPolygon":if(t.dragging){t.moveDragging(o.x,o.y,e.shiftKey||this.bSnap2Grid,this.zoomTransform.k);break}if(!this.polygonDrawing)return!1;{const e=o.x-this.polygonPoints[this.polygonPoints.length-1].x,t=o.y-this.polygonPoints[this.polygonPoints.length-1].y;let n=-Math.atan(e/t)/Math.PI*180,r=Math.sqrt(e*e+t*t);n<0&&(n+=360),n-=n%5,90!==Math.round(Math.abs(n))&&0!==Math.round(Math.abs(n))&&180!==Math.round(Math.abs(n))&&270!==Math.round(Math.abs(n))||(r=10*Math.round(r/10)),this.drawingCurrentX=this.polygonPoints[this.polygonPoints.length-1].x-Math.sign(t)*r*Math.sin(n/180*Math.PI),this.drawingCurrentY=this.polygonPoints[this.polygonPoints.length-1].y+Math.sign(t)*r*Math.cos(n/180*Math.PI)}break;case"focusPoint":this.focusDragging&&this.planstore.setFocusPoint(o.x,o.y);break}}},mouseup(e){if(!this.svg)return;const t=Ka();if(e.ctrlKey||e.metaKey)return!1;if(this.rotating)return this.rotating=!1,this.rotatingOriginX=0,this.rotatingOriginY=0,void Na().persistPlan();if(this.resizing)return this.resizing=!1,this.resizingOriginX=0,this.resizingOriginY=0,void Na().persistPlan();const n=this.getSvgRect(),o=this.plan.zones.find((e=>e.uuid===this.selectedZone));let r=ta(e.clientX-n.x,e.clientY-n.y,this.zoomTransform,null);const a=Ea(),s=(new Date).getTime()-this.lastMouseUp;switch(this.lastMouseUp=(new Date).getTime(),this.tool){case"seatselect":if(t.dragging)t.stopDragging();else if(this.selecting){if(s<500&&Math.abs(this.selectingCurrentX-this.selectingStartX)<10)return t.changeTool("select"),!0;this.selecting=!1;let n=[];const o=Math.min(this.selectingStartX,this.selectingCurrentX),r=Math.min(this.selectingStartY,this.selectingCurrentY),a=Math.max(this.selectingStartX,this.selectingCurrentX),i=Math.max(this.selectingStartY,this.selectingCurrentY);for(const e of this.plan.zones)if(!this.lockedZones.includes(e.uuid)){for(const t of e.rows)for(const s of t.seats)e.position.x+t.position.x+s.position.x+(s.radius||10)>=o&&e.position.x+t.position.x+s.position.x-(s.radius||10)<=a&&e.position.y+t.position.y+s.position.y+(s.radius||10)>=r&&e.position.y+t.position.y+s.position.y-(s.radius||10)<=i&&n.push(s.uuid);for(const t of e.areas)if("roundTable"===t.shape)for(const s of t.seats){let l={x:t.position.x+s.position.x-(s.radius||10),y:t.position.y+s.position.y-(s.radius||10),width:2*(s.radius||10),height:2*(s.radius||10)};t.rotation&&(l=oa(t,l)),l.x+=e.position.x,l.y+=e.position.y,l.x+l.width>=o&&l.x<=a&&l.y+l.height>=r&&l.y<=i&&n.push(s.uuid)}else if("rectangleTable"===t.shape)for(const s of t.seats){let l={x:t.position.x+s.position.x-(s.radius||10)-t.rectangleTable.width/2,y:t.position.y+s.position.y-(s.radius||10)-t.rectangleTable.height/2,width:2*(s.radius||10),height:2*(s.radius||10)};t.rotation&&(l=oa(t,l)),l.x+=e.position.x,l.y+=e.position.y,l.x+l.width>=o&&l.x<=a&&l.y+l.height>=r&&l.y<=i&&n.push(s.uuid)}}return t.setSelection(n,this.selectedZone,e.shiftKey),console.log(this.selection),!0}return!1;case"select":if(t.dragging)t.stopDragging();else if(this.selecting){this.selecting=!1;let n=[];const o=Math.min(this.selectingStartX,this.selectingCurrentX),r=Math.min(this.selectingStartY,this.selectingCurrentY),a=Math.max(this.selectingStartX,this.selectingCurrentX),s=Math.max(this.selectingStartY,this.selectingCurrentY);for(const e of this.plan.zones)if(!this.lockedZones.includes(e.uuid)){for(const t of e.rows)for(const i of t.seats)e.position.x+t.position.x+i.position.x+(i.radius||10)>=o&&e.position.x+t.position.x+i.position.x-(i.radius||10)<=a&&e.position.y+t.position.y+i.position.y+(i.radius||10)>=r&&e.position.y+t.position.y+i.position.y-(i.radius||10)<=s&&!n.includes(t.uuid)&&n.push(t.uuid);for(const t of e.areas)da(t,e,o,r,a,s)&&n.push(t.uuid)}return t.setSelection(n,this.selectedZone,e.shiftKey),!0}return!1;case"gaCircle":case"gaSquare":case"rectangle":case"circle":case"ellipse":if(!this.drawing)return!1;if((e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y,zone:o})),"rectangle"===this.tool){const e=Math.abs(r.x-this.drawingStartX),n=Math.abs(r.y-this.drawingStartY);if(e<5||n<5)return void(this.drawing=!1);Na().createArea(this.selectedZone,{shape:"rectangle",color:"#cccccc",border_color:this.mode?"#ffcf37":"#000000",border_width:2,rotation:0,uuid:a,position:{x:uv(Math.min(r.x,this.drawingStartX)-o.position.x,4),y:uv(Math.min(r.y,this.drawingStartY)-o.position.y,4)},text:{position:{x:uv(e/2,4),y:uv(n/2,4)},color:"#333333",text:""},rectangle:{width:uv(e,4),height:uv(n,4)}}).then((()=>{this.$nextTick((()=>{t.toggleSelection([a],this.selectedZone,!1)}))}))}else if("gaSquare"===this.tool){const e=Math.abs(r.x-this.drawingStartX),n=Math.abs(r.y-this.drawingStartY);if(e<5||n<5)return void(this.drawing=!1);const{gaLabel:s,gaAbv:i}=this.getUniqueGAName();Na().createArea(this.selectedZone,{shape:"gaSquare",show_label:!0,label:s,abbreviation:i,section_label:"",section_abv:"",color:"#cccccc",border_color:"#000000",border_width:2,rotation:0,uuid:a,guid:c(),capacity:0,position:{x:uv(Math.min(r.x,this.drawingStartX)-o.position.x,4),y:uv(Math.min(r.y,this.drawingStartY)-o.position.y,4)},text:{position:{x:uv(e/2,4),y:uv(n/2,4)},color:"#333333",text:i},rectangle:{width:uv(e,4),height:uv(n,4)}}).then((()=>{this.$nextTick((()=>{t.toggleSelection([a],this.selectedZone,!1)}))}))}else if("circle"===this.tool){(e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y,zone:o}));const n=uv(Math.sqrt(Math.pow(this.drawingStartX-r.x,2)+Math.pow(this.drawingStartY-r.y,2)),4);if(n<1)return void(this.drawing=!1);Na().createArea(this.selectedZone,{shape:"circle",color:"#cccccc",border_color:"#000000",border_width:2,rotation:0,uuid:a,position:{x:uv(this.drawingStartX-o.position.x,4),y:uv(this.drawingStartY-o.position.y,4)},text:{position:{x:0,y:0},color:"#333333",text:""},circle:{radius:n}}).then((()=>{this.$nextTick((()=>{t.toggleSelection([a],this.selectedZone,!1)}))}))}else if("ellipse"===this.tool){(e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y,zone:o}));const n=Math.abs(r.x-this.drawingStartX),s=Math.abs(r.y-this.drawingStartY);if(n<5||s<5)return void(this.drawing=!1);Na().createArea(this.selectedZone,{shape:"ellipse",color:"#cccccc",border_color:"#000000",border_width:2,rotation:0,uuid:a,position:{x:uv(this.drawingStartX-o.position.x,4),y:uv(this.drawingStartY-o.position.y,4)},text:{position:{x:0,y:0},color:"#333333",text:""},ellipse:{radius:{x:uv(n,4),y:uv(s,4)}}}).then((()=>{this.$nextTick((()=>{t.toggleSelection([a],this.selectedZone,!1)}))}))}else if("gaCircle"===this.tool){(e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y,zone:o}));const n=Math.abs(r.x-this.drawingStartX),s=Math.abs(r.y-this.drawingStartY);if(n<5||s<5)return void(this.drawing=!1);const{gaLabel:i,gaAbv:l}=this.getUniqueGAName();Na().createArea(this.selectedZone,{shape:"gaCircle",show_label:!0,label:i,abbreviation:l,section_label:"",section_abv:"",color:"#cccccc",border_color:"#000000",border_width:2,rotation:0,capacity:0,uuid:a,guid:c(),position:{x:uv(this.drawingStartX-o.position.x,4),y:uv(this.drawingStartY-o.position.y,4)},text:{position:{x:0,y:0},color:"#333333",text:l},ellipse:{radius:{x:uv(n,4),y:uv(s,4)}}}).then((()=>{this.$nextTick((()=>{t.toggleSelection([a],this.selectedZone,!1)}))}))}this.drawing=!1;break;case"polygon":if(t.dragging){t.stopDragging();break}if(this.polygonDrawing){const t=this.polygonPoints,n=(e,n)=>{const o=e.x-t[t.length-n].x,r=e.y-t[t.length-n].y;let a=-Math.atan(o/r)/Math.PI*180,s=Math.sqrt(o*o+r*r);return a<0&&(a+=360),a-=a%5,90!==Math.round(Math.abs(a))&&0!==Math.round(Math.abs(a))&&180!==Math.round(Math.abs(a))&&270!==Math.round(Math.abs(a))||(s=10*Math.round(s/10)),{x:t[t.length-n].x-Math.sign(r)*s*Math.sin(a/180*Math.PI),y:t[t.length-n].y+Math.sign(r)*s*Math.cos(a/180*Math.PI)}};let o=r;(e.shiftKey||this.bSnap2Grid)&&(r=n(r,1),t.length>1&&(o=n(r,2))),Math.abs(o.x-this.polygonPoints[this.polygonPoints.length-1].x)<5&&Math.abs(o.y-this.polygonPoints[this.polygonPoints.length-1].y)<5?this.finishPolygon():this.polygonPoints.push(r)}else this.polygonDrawing=!0,(e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y,zone:o})),this.polygonPoints=[r];break;case"gaPolygon":if(t.dragging){t.stopDragging();break}if(this.polygonDrawing){const t=this.polygonPoints,n=(e,n)=>{const o=e.x-t[t.length-n].x,r=e.y-t[t.length-n].y;let a=-Math.atan(o/r)/Math.PI*180,s=Math.sqrt(o*o+r*r);return a<0&&(a+=360),a-=a%5,90!==Math.round(Math.abs(a))&&0!==Math.round(Math.abs(a))&&180!==Math.round(Math.abs(a))&&270!==Math.round(Math.abs(a))||(s=10*Math.round(s/10)),{x:t[t.length-n].x-Math.sign(r)*s*Math.sin(a/180*Math.PI),y:t[t.length-n].y+Math.sign(r)*s*Math.cos(a/180*Math.PI)}};let o=r;(e.shiftKey||this.bSnap2Grid)&&(r=n(r,1),t.length>1&&(o=n(r,2))),Math.abs(o.x-this.polygonPoints[this.polygonPoints.length-1].x)<5&&Math.abs(o.y-this.polygonPoints[this.polygonPoints.length-1].y)<5?this.finishGAPolygon():this.polygonPoints.push(r)}else this.polygonDrawing=!0,(e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y,zone:o})),this.polygonPoints=[r];break;case"rows":if((e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y,zone:o})),this.drawingStartX===r.x&&this.drawingStartY===r.y)break;this.rowBlockDrawing&&(Na().createRowBlock(o.uuid,{x:this.rowBlockPosition.x-o.position.x,y:this.rowBlockPosition.y-o.position.y},this.rowBlockRows,this.rowBlockSeats,this.rowSpacing,this.rowSeatSpacing).then((e=>{this.$nextTick((()=>{t.toggleSelection(e,this.selectedZone,!1)}))})),this.rowBlockDrawing=!1);break;case"stgrows":if((e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y,zone:o})),this.drawingStartX===r.x&&this.drawingStartY===r.y)break;this.stgrowBlockDrawing&&(Na().createStgRowBlock(o.uuid,{x:this.rowBlockPosition.x-o.position.x,y:this.rowBlockPosition.y-o.position.y},this.stgrowBlockRows,this.stgrowBlockSeats,this.rowSpacing,this.rowSeatSpacing).then((e=>{this.$nextTick((()=>{t.toggleSelection(e,this.selectedZone,!1)}))})),this.stgrowBlockDrawing=!1);break;case"row":if((e.shiftKey||this.bSnap2Grid)&&(r=ua({x:r.x,y:r.y,zone:o})),this.drawingStartX===r.x&&this.drawingStartY===r.y)break;this.rowDrawing&&(Na().createRow(o.uuid,{x:this.drawingStartX-o.position.x,y:this.drawingStartY-o.position.y},this.rowDrawingSeats.map((e=>({x:e.x-(this.drawingStartX-o.position.x),y:e.y-(this.drawingStartY-o.position.y)})))).then((e=>{this.$nextTick((()=>{t.toggleSelection([e],this.selectedZone,!1)}))})),this.rowDrawing=!1);break;case"focusPoint":this.focusDragging=!1;break}},finishPolygon(){const e=Ea(),t=this.plan.zones.find((e=>e.uuid===this.selectedZone));this.polygonDrawing=!1;const n=Math.min(...this.polygonPoints.map((e=>e.x))),o=Math.min(...this.polygonPoints.map((e=>e.y))),r=Math.max(...this.polygonPoints.map((e=>e.x))),a=Math.max(...this.polygonPoints.map((e=>e.y)));Na().createArea(this.selectedZone,{shape:"polygon",color:"#cccccc",border_color:"#000001",border_width:2,rotation:0,uuid:e,position:{x:n-t.position.x,y:o-t.position.y},text:{position:{x:(r-n)/2,y:(a-o)/2},color:"#333333",text:""},polygon:{points:this.polygonPoints.map((e=>({x:e.x-n,y:e.y-o})))}}).then((()=>{this.$nextTick((()=>{const t=Ka();t.toggleSelection([e],this.selectedZone,!1)}))}))},finishGAPolygon(){const e=Ea(),t=this.plan.zones.find((e=>e.uuid===this.selectedZone));this.polygonDrawing=!1;const n=Math.min(...this.polygonPoints.map((e=>e.x))),o=Math.min(...this.polygonPoints.map((e=>e.y))),r=Math.max(...this.polygonPoints.map((e=>e.x))),a=Math.max(...this.polygonPoints.map((e=>e.y))),{gaLabel:s,gaAbv:i}=this.getUniqueGAName();Na().createArea(this.selectedZone,{shape:"gaPolygon",color:"#cccccc",border_color:"#000001",border_width:2,rotation:0,uuid:e,guid:c(),capacity:0,show_label:!0,label:s,abbreviation:i,section_label:"",section_abv:"",position:{x:n-t.position.x,y:o-t.position.y},text:{position:{x:(r-n)/2,y:(a-o)/2},color:"#333333",text:i},polygon:{points:this.polygonPoints.map((e=>({x:e.x-n,y:e.y-o})))}}).then((()=>{this.$nextTick((()=>{const t=Ka();t.toggleSelection([e],this.selectedZone,!1)}))}))},persistBackground(e){window.localStorage.setItem("frontrow2.editor.bg",JSON.stringify({background:this.background,backgroundOpacity:this.backgroundOpacity,backgroundX:this.backgroundX,backgroundY:this.backgroundY,backgroundWidth:this.backgroundWidth,backgroundHeight:this.backgroundHeight}))},createStage(){const e="b6ea4e4c-4bbc-45eb-ab8d-53fae88c5363#";-1===this.plan.zones[0].areas.findIndex((t=>t.uuid===e))&&(Na().createArea(this.selectedZone,{shape:"text",rotation:0,uuid:e,position:{x:this.plan.size.width/2,y:100},text:{position:{x:0,y:0},color:"#333333",text:"STAGE",size:40}}).then((()=>{this.$nextTick((()=>{this.store.toggleSelection([e],this.selectedZone,!1)}))})),this.plan.point.x=this.plan.size.width/2,this.plan.point.y=this.plan.size.height/2,Na().persistPlan())},wheel(e){if(e.ctrlKey)return;const t=window.innerWidth-300,n=window.innerHeight-40,o=this.zoomTransform.k*this.plan.size.width,r=this.zoomTransform.k*this.plan.size.height;e.deltaY>0&&this.zoomTransform.y<100-r||e.deltaY<0&&this.zoomTransform.y+r>n+r-100||e.deltaX>0&&this.zoomTransform.x<100-o||e.deltaX<0&&this.zoomTransform.x+o>t+o-100||(this.zoomTransform.x-=e.deltaX/10,this.zoomTransform.y-=e.deltaY/10)},createZoom(){if(!this.svg)return;const e=this.svg.clientHeight,t=this.svg.clientWidth,n=-10*e;this.defaultScale=this.plan.size.height?Math.min((t-130)/this.plan.size.width,(e-130)/this.plan.size.height):1,this.zoom=Jr().scaleExtent([Math.min(.5*this.defaultScale,1),Math.max(5,5*this.defaultScale)]).translateExtent([[(-t+n)/this.defaultScale,(-e+n)/this.defaultScale],[(t-n)/this.defaultScale+this.plan.size.width,(e-n)/this.defaultScale+this.plan.size.height]]).extent([[0,0],[t,e]]).filter((e=>{const t="wheel"===e.type,n="mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type,o="touchstart"===e.type||"touchmove"===e.type||"touchstop"===e.type;return(t||n||o)&&(e.metaKey||e.ctrlKey||"hand"==this.tool||"handon"==this.tool)})).wheelDelta((e=>e.ctrlKey?-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002):0)).on("zoom",(o=>{const r=o.transform.k;Ka().setZoomTransform(o.transform),this.zoom.translateExtent([[(-t+n)/r,(-e+n)/r],[(t-n)/r+this.plan.size.width,(e-n)/r+this.plan.size.height]])}));const o=Kr.scale(this.defaultScale).translate((t/this.defaultScale-this.plan.size.width)/2,(e/this.defaultScale-this.plan.size.height)/2);Ka().setZoomTransform(o),Pr(this.svg).call(this.zoom.transform,o).on("wheel",(function(e){e.preventDefault()}));const r=Pr(this.svg).call(this.zoom);r.on("touchmove.zoom",null)},hotkey(e){const t=window.innerWidth-300,n=window.innerHeight-40,o=this.zoomTransform.k*this.plan.size.width,r=this.zoomTransform.k*this.plan.size.height;if(e.target===document.body||e.target.matches(".c-toolbar *")){switch(e.code){case"Delete":case"Backspace":return Na().deleteObjects(this.selection),void e.preventDefault();case"Enter":return!!this.polygonDrawing&&(this.finishPolygon(),e.preventDefault(),e.stopPropagation(),!0);case"Escape":return this.rowBlockDrawing=!1,this.rowDrawing=!1,this.polygonDrawing=!1,this.drawing=!1,"rowCircle"!==this.tool&&"rowCircleFixedCenter"!==this.tool&&"focusPoint"!==this.tool||Ka().changeTool("select"),e.preventDefault(),void e.stopPropagation();case"ArrowUp":if(this.selection.length)Ka().moveSelected(0,-1*(e.shiftKey?100:e.altKey?1:10));else{if(this.zoomTransform.y+r>n+r-100)return;this.zoomTransform.y+=1*(e.shiftKey?100:e.altKey?1:10)}return e.preventDefault(),void e.stopPropagation();case"ArrowDown":if(this.selection.length)Ka().moveSelected(0,1*(e.shiftKey?100:e.altKey?1:10));else{if(this.zoomTransform.y<100-r)return;this.zoomTransform.y-=1*(e.shiftKey?100:e.altKey?1:10)}return e.preventDefault(),void e.stopPropagation();case"ArrowLeft":if(this.selection.length)Ka().moveSelected(-1*(e.shiftKey?100:e.altKey?1:10),0);else{if(this.zoomTransform.x+o>t+o-100)return;this.zoomTransform.x+=1*(e.shiftKey?100:e.altKey?1:10)}return e.preventDefault(),void e.stopPropagation();case"ArrowRight":if(this.selection.length)Ka().moveSelected(1*(e.shiftKey?100:e.altKey?1:10),0);else{if(this.zoomTransform.x<100-o)return;this.zoomTransform.x-=1*(e.shiftKey?100:e.altKey?1:10)}return e.preventDefault(),void e.stopPropagation()}if(e.metaKey||e.ctrlKey)switch(e.key){case"a":return Ka().selectAll(),e.preventDefault(),e.stopPropagation(),!0;case"s":{const t=URL.createObjectURL(new Blob([JSON.stringify(this.plan,void 0,2)])),n=document.createElement("a");return n.style.display="none",n.href=t,n.download=this.plan.name+".json",document.body.appendChild(n),n.click(),URL.revokeObjectURL(t),e.preventDefault(),e.stopPropagation(),!0}case"c":return"seatselect"===this.tool?void alert("Copying individual seats is currently not possible, please select a row instead."):(Ka().copy(this.selection),e.preventDefault(),e.stopPropagation(),!0);case"x":return"seatselect"===this.tool?void alert("Copying individual seats is currently not possible, please select a row instead."):(Ka().cut(this.selection),e.preventDefault(),e.stopPropagation(),!0);case"v":return Ka().paste(),e.preventDefault(),e.stopPropagation(),!0;case"z":return Na().undo(),e.preventDefault(),e.stopPropagation(),!0;case"y":return Na().redo(),e.preventDefault(),e.stopPropagation(),!0;case"+":if("rows"===this.tool)return this.rowSpacing+=e.altKey?.1:1,e.preventDefault(),e.stopPropagation(),!0;break;case"-":if("rows"===this.tool&&e.ctrlKey)return this.rowSpacing-=e.altKey?.1:1,e.preventDefault(),e.stopPropagation(),!0;break}else switch(e.key){case"+":["rows","row"].includes(this.tool)&&(this.rowSeatSpacing+=e.altKey?.1:1);break;case"-":["rows","row"].includes(this.tool)&&(this.rowSeatSpacing-=e.altKey?.1:1);break;case"v":Ka().changeTool("select");break;case"s":Ka().changeTool("seatselect");break;case"n":Ka().changeTool("row");break;case"b":Ka().changeTool("rows");break;case"r":Ka().changeTool("rectangle");break;case"c":Ka().changeTool("circle");break;case"e":Ka().changeTool("ellipse");break;case"p":Ka().changeTool("polygon");break;case"t":Ka().changeTool("text");break}}},getTransform(){return this.zoomTransform.k},setTransform(e){this.zoomTransform.k=e},scaleBy(e,t){Pr(e).transition().call(this.zoom.scaleBy,t)},scaleTo(e,t){Pr(e).transition().call(this.zoom.scaleTo,t)}},mounted(){this.createStage(),this.createZoom(),window.addEventListener("keydown",this.hotkey)},beforeUnmout(){window.addEventListener("keydown",this.hotkey)}};const pv=(0,ss.A)(dv,[["render",jm]]);var fv=pv;const gv={class:"c-status-bar"},mv={class:"left-container"},yv={key:0},vv=(0,o.Lk)("span",{class:"hint"},"Move nodes by dragging",-1),bv=(0,o.Lk)("span",{class:"hint"},"Click blue squares to add nodes",-1),wv=(0,o.Lk)("span",{class:"hint"},"Middle-click nodes to delete them",-1),xv=[vv,bv,wv],_v={key:1},kv={class:"hint"},Cv={key:2},Sv={key:0},Ev=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)("Hold down "),(0,o.Lk)("code",null,"SHIFT"),(0,o.eW)(" to snap to grid positions")],-1),$v=[Ev],Pv={key:1},Mv=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)("Press "),(0,o.Lk)("code",null,"SHIFT"),(0,o.eW)(" and click to (de)select more objects")],-1),Tv=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)("Press arrow keys to move objects (hold "),(0,o.Lk)("code",null,"SHIFT"),(0,o.eW)(" to move fast, "),(0,o.Lk)("code",null,"ALT"),(0,o.eW)(" to move slow)")],-1),zv=(0,o.Lk)("span",{class:"hint"},"Click and drag to move objects",-1),Fv=[Mv,Tv,zv],Iv={key:2},Lv=(0,o.Lk)("span",{class:"hint"},"Click any object to select it",-1),Rv={key:0,class:"hint"},Av={key:1,class:"hint"},Nv={key:3},Xv={key:0},Ov=(0,o.Lk)("span",{class:"hint"},"Move your mouse and click again once the correct number of seats is visible",-1),jv=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)("Press "),(0,o.Lk)("code",null,"ESC"),(0,o.eW)(" to abort")],-1),Wv={class:"hint"},Dv={key:1},Kv=(0,o.Lk)("span",{class:"hint"},"Click on the position of the first seat to draw",-1),Bv=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)("Hold down "),(0,o.Lk)("code",null,"SHIFT"),(0,o.eW)(" to choose a position on the grid")],-1),Vv=[Kv,Bv],Yv={class:"hint"},qv=(0,o.Lk)("code",null,"+",-1),Uv=(0,o.Lk)("code",null,"-",-1),Hv=(0,o.Lk)("code",null,"ALT",-1),Gv={key:4},Qv=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)("Press "),(0,o.Lk)("code",null,"SHIFT"),(0,o.eW)(" to snap to grid")],-1),Zv=(0,o.Lk)("span",{class:"hint"},"Click to apply",-1),Jv=[Qv,Zv],eb={key:5},tb=(0,o.Lk)("span",{class:"hint"}," Click and drag the map to move it around. Use your Scroll Wheel to zoom in and out. ",-1),nb=[tb],ob={key:6},rb=(0,o.Lk)("span",{class:"hint"}," Drag this area to center on the most important area of your chart. ",-1),ab=[rb],sb={key:7},ib={key:0},lb=(0,o.Lk)("span",{class:"hint"},"Move your mouse and click again once the correct number of seats is visible",-1),cb=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)("Press "),(0,o.Lk)("code",null,"ESC"),(0,o.eW)(" to abort")],-1),ub={class:"hint"},hb={key:1},db=(0,o.Lk)("span",{class:"hint"},"Click on the position of the first seat to draw",-1),pb=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)("Hold down "),(0,o.Lk)("code",null,"SHIFT"),(0,o.eW)(" to choose a position on the grid")],-1),fb=[db,pb],gb={class:"hint"},mb=(0,o.Lk)("code",null,"CTRL",-1),yb=(0,o.Lk)("code",null,"-",-1),vb=(0,o.Lk)("code",null,"ALT",-1),bb={key:8},wb={key:0},xb=(0,o.Lk)("span",{class:"hint"}," Move your mouse to start drawing, release it once you're done ",-1),_b=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)(" Press "),(0,o.Lk)("code",null,"ESC"),(0,o.eW)(" to abort ")],-1),kb=[xb,_b],Cb={key:1},Sb=(0,o.Lk)("span",{class:"hint"}," Click and drag to draw a new shape ",-1),Eb=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)(" Hold down "),(0,o.Lk)("code",null,"SHIFT"),(0,o.eW)(" to only start at grid positions ")],-1),$b=[Sb,Eb],Pb={key:9},Mb={key:0},Tb=(0,o.Lk)("span",{class:"hint"}," Double click when youre finishedmaking the shape. ",-1),zb=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)(" Press "),(0,o.Lk)("code",null,"ENTER"),(0,o.eW)(" or double-click to finish ")],-1),Fb=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)(" Press "),(0,o.Lk)("code",null,"ESC"),(0,o.eW)(" to abort ")],-1),Ib=[Tb,zb,Fb],Lb={key:1},Rb=(0,o.Lk)("span",{class:"hint"}," Click to add the first point of your polygon ",-1),Ab=(0,o.Lk)("span",{class:"hint"},[(0,o.eW)(" Hold down "),(0,o.Lk)("code",null,"SHIFT"),(0,o.eW)(" to choose a position on the grid ")],-1),Nb=[Rb,Ab],Xb={key:10},Ob=(0,o.Lk)("span",{class:"hint"},"Click anywhere to add a new text object",-1),jb=[Ob],Wb={class:"selected-hint"};function Db(e,t,n,r,s,i){return(0,o.uX)(),(0,o.CE)("div",gv,[(0,o.Lk)("div",mv,[i.selectionIsPolygon?((0,o.uX)(),(0,o.CE)("span",yv,xv)):(0,o.Q3)("",!0),"seatselect"==r.tool&&2===r.selection.length?((0,o.uX)(),(0,o.CE)("span",_v,[(0,o.Lk)("span",kv,"Seat distance: "+(0,a.v_)(i.seatDistance),1)])):(0,o.Q3)("",!0),"seatselect"==r.tool||"select"==r.tool?((0,o.uX)(),(0,o.CE)("span",Cv,[r.dragging?((0,o.uX)(),(0,o.CE)("span",Sv,$v)):r.selection.length?((0,o.uX)(),(0,o.CE)("span",Pv,Fv)):((0,o.uX)(),(0,o.CE)("span",Iv,[Lv,r.plan&&r.zoomTransform.k!==r.plan.defaultScale?((0,o.uX)(),(0,o.CE)("span",Rv,[(0,o.eW)("Click + drag while pressing "),(0,o.Lk)("code",null,(0,a.v_)(e.$parent.cmdOtherwiseCtrl),1),(0,o.eW)(" to move around")])):((0,o.uX)(),(0,o.CE)("span",Av,[(0,o.eW)("Press "),(0,o.Lk)("code",null,(0,a.v_)(e.$parent.cmdOtherwiseCtrl),1),(0,o.eW)(" and scroll to zoom")]))]))])):(0,o.Q3)("",!0),"row"==r.tool?((0,o.uX)(),(0,o.CE)("span",Nv,[r.plan.rowDrawing?((0,o.uX)(),(0,o.CE)("span",Xv,[Ov,jv,(0,o.Lk)("span",Wv,"Drawing "+(0,a.v_)(r.plan.rowDrawingSeats.length)+" seats",1)])):((0,o.uX)(),(0,o.CE)("span",Dv,Vv)),(0,o.Lk)("span",Yv,[(0,o.eW)("Spacing "+(0,a.v_)(r.plan.rowSeatSpacing)+", press ",1),qv,(0,o.eW)("/"),Uv,(0,o.eW)(" to vary ("),Hv,(0,o.eW)(" for smaller steps)")])])):"rowCircle"===r.tool||"rowCircleFixedCenter"===r.tool?((0,o.uX)(),(0,o.CE)("span",Gv,Jv)):"hand"===r.tool?((0,o.uX)(),(0,o.CE)("span",eb,nb)):"focusPoint"===r.tool?((0,o.uX)(),(0,o.CE)("span",ob,ab)):"rows"===r.tool?((0,o.uX)(),(0,o.CE)("span",sb,[r.plan.rowBlockDrawing?((0,o.uX)(),(0,o.CE)("span",ib,[lb,cb,(0,o.Lk)("span",ub,"Drawing "+(0,a.v_)(r.plan.rowBlockRows*r.plan.rowBlockSeats)+" seats",1)])):((0,o.uX)(),(0,o.CE)("span",hb,fb)),(0,o.Lk)("span",gb,[(0,o.eW)("Spacing "+(0,a.v_)(r.plan.rowSpacing)+"x"+(0,a.v_)(r.plan.rowSeatSpacing)+", press ",1),mb,(0,o.eW)("+"),yb,(0,o.eW)(" to vary ("),vb,(0,o.eW)(" for smaller steps)")])])):["rectangle","circle","ellipse","gaCircle","gaSquare"].includes(r.tool)?((0,o.uX)(),(0,o.CE)("span",bb,[r.planRef.drawing?((0,o.uX)(),(0,o.CE)("span",wb,kb)):((0,o.uX)(),(0,o.CE)("span",Cb,$b))])):["polygon","gaPolygon"].includes(r.tool)?((0,o.uX)(),(0,o.CE)("span",Pb,[r.planRef.polygonDrawing?((0,o.uX)(),(0,o.CE)("span",Mb,Ib)):((0,o.uX)(),(0,o.CE)("span",Lb,Nb))])):"text"===r.tool?((0,o.uX)(),(0,o.CE)("span",Xb,jb)):(0,o.Q3)("",!0)]),(0,o.Lk)("span",Wb,(0,a.v_)(i.seatStatus),1)])}var Kb={data(){return{}},setup(){const e=Ka(),t=Na(),n=(0,o.EW)((()=>e.tool)),r=(0,o.EW)((()=>e.selection)),a=(0,o.EW)((()=>e.zoomTransform)),s=(0,o.EW)((()=>e.dragging)),i=(0,o.EW)((()=>t.plan)),l=(0,o.WQ)("planRef");return{tool:n,selection:r,zoomTransform:a,dragging:s,plan:i,planRef:l}},methods:{selectionCount(e,t){let n=0;if(t&&this.selection.length>0)for(const o of e)this.selection.includes(o)||(n++,this.selection.push(o));else this.selectedZone=t,this.selection=e,n=e.length;return n}},computed:{seatStatus(){let e=0,t=0,n=0;for(const o of this.plan.zones){for(const t of o.rows)e+=t.seats.length;for(const t of o.areas)"gaSquare"===t.shape||"gaCircle"===t.shape||"gaPolygon"===t.shape?n+=t.capacity:"roundTable"===t.shape?e+=t.capacity:"rectangleTable"===t.shape&&(e+=t.seats.length)}if("seatselect"!==this.tool){let e=this.selection;for(const n of this.plan.zones)for(const o of n.rows){const n=e.findIndex((e=>e===o.uuid));-1!==n&&(t+=o.seats.length)}}else t=this.selection.length;return`Seats: ${e} (${t}) | GA Seats: ${n}`},totalSeatsCount(){let e=0;for(const t of this.plan.zones){for(const n of t.rows)e+=n.seats.length;for(const n of t.areas)"roundTable"===n.shape?e+=n.roundTable.seats.length:"rectangleTable"===n.shape?e+=n.rectangleTable.seats.length:("gaSquare"===n.shape||"gaCircle"===n.shape)&&0}return e},selectedSeatsCount(){let e=0,t=0;return`Seats: ${e} | GA Seats: ${t}`},selectionIsPolygon(){if(!this.plan&&!this.plan.zones)return!1;for(const e of this.plan.zones){for(const t of e.rows){if(this.selection.includes(t.uuid))return!1;for(const e of t.seats)if(this.selection.includes(e.uuid))return!1}for(const t of e.areas)if(this.selection.includes(t.uuid)&&"polygon"!==t.shape)return!1}return 1===this.selection.length},seatDistance(){let e=null;for(const t of this.plan.zones)for(const n of t.rows)for(const o of n.seats)if(this.selection.includes(o.uuid)){if(null!==e){const r=[t.position.x+n.position.x+o.position.x,t.position.y+n.position.y+o.position.y],a=Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2));return a.toFixed(3)}e=[t.position.x+n.position.x+o.position.x,t.position.y+n.position.y+o.position.y]}return"?"}}};const Bb=(0,ss.A)(Kb,[["render",Db]]);var Vb=Bb;const Yb={class:"main-pan"},qb="1";var Ub={__name:"MainHome",setup(e){const t=Ka(),n=ov();t.loadPlan(localStorage.getItem("frontrow2.editor.plan")?JSON.parse(localStorage.getItem("frontrow2.editor.plan")):Hs.sampleplan),n.loadIcon(localStorage.getItem("frontend2.editor.icon")?JSON.parse(localStorage.getItem("frontend2.editor.icon")):[]);(0,r.KR)(!1),(0,r.KR)(window.localStorage.getItem("frontrow2.welcome.seen")!==qb),(0,r.KR)(window.navigator.platform.toLowerCase().startsWith("mac")?"CMD":"CTRL");const a=Na(),s=((0,o.EW)((()=>a.plan)),(0,r.KR)(null)),i=e=>s.value?s.value.temp_Rotate(e):void 0,l=()=>s.value?s.value.selectionBoundary:void 0,c=()=>s.value?s.value.selectionBoxes:void 0;(0,o.Gt)("planRef",s);return(e,t)=>{const n=(0,o.g2)("v-layout");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(mi,{selectionBoundary:l}),(0,o.bF)(n,{class:"main-container"},{default:(0,o.k6)((()=>[(0,o.bF)(fd,{temp_Rotate:i}),(0,o.Lk)("div",Yb,[(0,o.bF)(Ag,{selectionBoundary:l,selectionBoxes:c}),(0,o.bF)(fv,{ref_key:"planref",ref:s},null,512),(0,o.bF)(Vb)])])),_:1})],64)}}};const Hb=Ub;var Gb=Hb},9306:function(e,t,n){"use strict";var o=n(4901),r=n(6823),a=TypeError;e.exports=function(e){if(o(e))return e;throw new a(r(e)+" is not a function")}},8551:function(e,t,n){"use strict";var o=n(34),r=String,a=TypeError;e.exports=function(e){if(o(e))return e;throw new a(r(e)+" is not an object")}},9617:function(e,t,n){"use strict";var o=n(5397),r=n(5610),a=n(6198),s=function(e){return function(t,n,s){var i=o(t),l=a(i);if(0===l)return!e&&-1;var c,u=r(s,l);if(e&&n!==n){while(l>u)if(c=i[u++],c!==c)return!0}else for(;l>u;u++)if((e||u in i)&&i[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},4527:function(e,t,n){"use strict";var o=n(3724),r=n(4376),a=TypeError,s=Object.getOwnPropertyDescriptor,i=o&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=i?function(e,t){if(r(e)&&!s(e,"length").writable)throw new a("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},4576:function(e,t,n){"use strict";var o=n(9504),r=o({}.toString),a=o("".slice);e.exports=function(e){return a(r(e),8,-1)}},6955:function(e,t,n){"use strict";var o=n(2140),r=n(4901),a=n(4576),s=n(8227),i=s("toStringTag"),l=Object,c="Arguments"===a(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=o?a:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),i))?n:c?a(t):"Object"===(o=a(t))&&r(t.callee)?"Arguments":o}},7740:function(e,t,n){"use strict";var o=n(9297),r=n(5031),a=n(7347),s=n(4913);e.exports=function(e,t,n){for(var i=r(t),l=s.f,c=a.f,u=0;u<i.length;u++){var h=i[u];o(e,h)||n&&o(n,h)||l(e,h,c(t,h))}}},6699:function(e,t,n){"use strict";var o=n(3724),r=n(4913),a=n(6980);e.exports=o?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2106:function(e,t,n){"use strict";var o=n(283),r=n(4913);e.exports=function(e,t,n){return n.get&&o(n.get,t,{getter:!0}),n.set&&o(n.set,t,{setter:!0}),r.f(e,t,n)}},6840:function(e,t,n){"use strict";var o=n(4901),r=n(4913),a=n(283),s=n(9433);e.exports=function(e,t,n,i){i||(i={});var l=i.enumerable,c=void 0!==i.name?i.name:t;if(o(n)&&a(n,c,i),i.global)l?e[t]=n:s(t,n);else{try{i.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}return e}},9433:function(e,t,n){"use strict";var o=n(4475),r=Object.defineProperty;e.exports=function(e,t){try{r(o,e,{value:t,configurable:!0,writable:!0})}catch(n){o[e]=t}return t}},3724:function(e,t,n){"use strict";var o=n(9039);e.exports=!o((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4055:function(e,t,n){"use strict";var o=n(4475),r=n(34),a=o.document,s=r(a)&&r(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},6837:function(e){"use strict";var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},9392:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(e,t,n){"use strict";var o,r,a=n(4475),s=n(9392),i=a.process,l=a.Deno,c=i&&i.versions||l&&l.version,u=c&&c.v8;u&&(o=u.split("."),r=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!r&&s&&(o=s.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/),o&&(r=+o[1]))),e.exports=r},8727:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6518:function(e,t,n){"use strict";var o=n(4475),r=n(7347).f,a=n(6699),s=n(6840),i=n(9433),l=n(7740),c=n(2796);e.exports=function(e,t){var n,u,h,d,p,f,g=e.target,m=e.global,y=e.stat;if(u=m?o:y?o[g]||i(g,{}):o[g]&&o[g].prototype,u)for(h in t){if(p=t[h],e.dontCallGetSet?(f=r(u,h),d=f&&f.value):d=u[h],n=c(m?h:g+(y?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),s(u,h,p,e)}}},9039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},616:function(e,t,n){"use strict";var o=n(9039);e.exports=!o((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,n){"use strict";var o=n(616),r=Function.prototype.call;e.exports=o?r.bind(r):function(){return r.apply(r,arguments)}},350:function(e,t,n){"use strict";var o=n(3724),r=n(9297),a=Function.prototype,s=o&&Object.getOwnPropertyDescriptor,i=r(a,"name"),l=i&&"something"===function(){}.name,c=i&&(!o||o&&s(a,"name").configurable);e.exports={EXISTS:i,PROPER:l,CONFIGURABLE:c}},9504:function(e,t,n){"use strict";var o=n(616),r=Function.prototype,a=r.call,s=o&&r.bind.bind(a,a);e.exports=o?s:function(e){return function(){return a.apply(e,arguments)}}},7751:function(e,t,n){"use strict";var o=n(4475),r=n(4901),a=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(o[e]):o[e]&&o[e][t]}},5966:function(e,t,n){"use strict";var o=n(9306),r=n(4117);e.exports=function(e,t){var n=e[t];return r(n)?void 0:o(n)}},4475:function(e,t,n){"use strict";var o=function(e){return e&&e.Math===Math&&e};e.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n.g&&n.g)||o("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,n){"use strict";var o=n(9504),r=n(8981),a=o({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return a(r(e),t)}},421:function(e){"use strict";e.exports={}},5917:function(e,t,n){"use strict";var o=n(3724),r=n(9039),a=n(4055);e.exports=!o&&!r((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,n){"use strict";var o=n(9504),r=n(9039),a=n(4576),s=Object,i=o("".split);e.exports=r((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===a(e)?i(e,""):s(e)}:s},3706:function(e,t,n){"use strict";var o=n(9504),r=n(4901),a=n(7629),s=o(Function.toString);r(a.inspectSource)||(a.inspectSource=function(e){return s(e)}),e.exports=a.inspectSource},1181:function(e,t,n){"use strict";var o,r,a,s=n(8622),i=n(4475),l=n(34),c=n(6699),u=n(9297),h=n(7629),d=n(6119),p=n(421),f="Object already initialized",g=i.TypeError,m=i.WeakMap,y=function(e){return a(e)?r(e):o(e,{})},v=function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw new g("Incompatible receiver, "+e+" required");return n}};if(s||h.state){var b=h.state||(h.state=new m);b.get=b.get,b.has=b.has,b.set=b.set,o=function(e,t){if(b.has(e))throw new g(f);return t.facade=e,b.set(e,t),t},r=function(e){return b.get(e)||{}},a=function(e){return b.has(e)}}else{var w=d("state");p[w]=!0,o=function(e,t){if(u(e,w))throw new g(f);return t.facade=e,c(e,w,t),t},r=function(e){return u(e,w)?e[w]:{}},a=function(e){return u(e,w)}}e.exports={set:o,get:r,has:a,enforce:y,getterFor:v}},4376:function(e,t,n){"use strict";var o=n(4576);e.exports=Array.isArray||function(e){return"Array"===o(e)}},4901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,n){"use strict";var o=n(9039),r=n(4901),a=/#|\.prototype\./,s=function(e,t){var n=l[i(e)];return n===u||n!==c&&(r(t)?o(t):!!t)},i=s.normalize=function(e){return String(e).replace(a,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},4117:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},34:function(e,t,n){"use strict";var o=n(4901);e.exports=function(e){return"object"==typeof e?null!==e:o(e)}},6395:function(e){"use strict";e.exports=!1},757:function(e,t,n){"use strict";var o=n(7751),r=n(4901),a=n(1625),s=n(7040),i=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=o("Symbol");return r(t)&&a(t.prototype,i(e))}},6198:function(e,t,n){"use strict";var o=n(8014);e.exports=function(e){return o(e.length)}},283:function(e,t,n){"use strict";var o=n(9504),r=n(9039),a=n(4901),s=n(9297),i=n(3724),l=n(350).CONFIGURABLE,c=n(3706),u=n(1181),h=u.enforce,d=u.get,p=String,f=Object.defineProperty,g=o("".slice),m=o("".replace),y=o([].join),v=i&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===g(p(t),0,7)&&(t="["+m(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(i?f(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&s(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?i&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(r){}var o=h(e);return s(o,"source")||(o.source=y(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return a(this)&&d(this).source||c(this)}),"toString")},741:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var o=+e;return(o>0?n:t)(o)}},4913:function(e,t,n){"use strict";var o=n(3724),r=n(5917),a=n(8686),s=n(8551),i=n(6969),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";t.f=o?a?function(e,t,n){if(s(e),t=i(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var o=u(e,t);o&&o[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:o[d],enumerable:h in n?n[h]:o[h],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=i(t),s(n),r)try{return c(e,t,n)}catch(o){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},7347:function(e,t,n){"use strict";var o=n(3724),r=n(9565),a=n(8773),s=n(6980),i=n(5397),l=n(6969),c=n(9297),u=n(5917),h=Object.getOwnPropertyDescriptor;t.f=o?h:function(e,t){if(e=i(e),t=l(t),u)try{return h(e,t)}catch(n){}if(c(e,t))return s(!r(a.f,e,t),e[t])}},8480:function(e,t,n){"use strict";var o=n(9447),r=n(8727),a=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,a)}},3717:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},1625:function(e,t,n){"use strict";var o=n(9504);e.exports=o({}.isPrototypeOf)},9447:function(e,t,n){"use strict";var o=n(9504),r=n(9297),a=n(5397),s=n(9617).indexOf,i=n(421),l=o([].push);e.exports=function(e,t){var n,o=a(e),c=0,u=[];for(n in o)!r(i,n)&&r(o,n)&&l(u,n);while(t.length>c)r(o,n=t[c++])&&(~s(u,n)||l(u,n));return u}},8773:function(e,t){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!n.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},4270:function(e,t,n){"use strict";var o=n(9565),r=n(4901),a=n(34),s=TypeError;e.exports=function(e,t){var n,i;if("string"===t&&r(n=e.toString)&&!a(i=o(n,e)))return i;if(r(n=e.valueOf)&&!a(i=o(n,e)))return i;if("string"!==t&&r(n=e.toString)&&!a(i=o(n,e)))return i;throw new s("Can't convert object to primitive value")}},5031:function(e,t,n){"use strict";var o=n(7751),r=n(9504),a=n(8480),s=n(3717),i=n(8551),l=r([].concat);e.exports=o("Reflect","ownKeys")||function(e){var t=a.f(i(e)),n=s.f;return n?l(t,n(e)):t}},7750:function(e,t,n){"use strict";var o=n(4117),r=TypeError;e.exports=function(e){if(o(e))throw new r("Can't call method on "+e);return e}},6119:function(e,t,n){"use strict";var o=n(5745),r=n(3392),a=o("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},7629:function(e,t,n){"use strict";var o=n(6395),r=n(4475),a=n(9433),s="__core-js_shared__",i=e.exports=r[s]||a(s,{});(i.versions||(i.versions=[])).push({version:"3.36.1",mode:o?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,n){"use strict";var o=n(7629);e.exports=function(e,t){return o[e]||(o[e]=t||{})}},4495:function(e,t,n){"use strict";var o=n(7388),r=n(9039),a=n(4475),s=a.String;e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},5610:function(e,t,n){"use strict";var o=n(1291),r=Math.max,a=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):a(n,t)}},5397:function(e,t,n){"use strict";var o=n(7055),r=n(7750);e.exports=function(e){return o(r(e))}},1291:function(e,t,n){"use strict";var o=n(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:o(t)}},8014:function(e,t,n){"use strict";var o=n(1291),r=Math.min;e.exports=function(e){var t=o(e);return t>0?r(t,9007199254740991):0}},8981:function(e,t,n){"use strict";var o=n(7750),r=Object;e.exports=function(e){return r(o(e))}},2777:function(e,t,n){"use strict";var o=n(9565),r=n(34),a=n(757),s=n(5966),i=n(4270),l=n(8227),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!r(e)||a(e))return e;var n,l=s(e,u);if(l){if(void 0===t&&(t="default"),n=o(l,e,t),!r(n)||a(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),i(e,t)}},6969:function(e,t,n){"use strict";var o=n(2777),r=n(757);e.exports=function(e){var t=o(e,"string");return r(t)?t:t+""}},2140:function(e,t,n){"use strict";var o=n(8227),r=o("toStringTag"),a={};a[r]="z",e.exports="[object z]"===String(a)},655:function(e,t,n){"use strict";var o=n(6955),r=String;e.exports=function(e){if("Symbol"===o(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},6823:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},3392:function(e,t,n){"use strict";var o=n(9504),r=0,a=Math.random(),s=o(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+a,36)}},7040:function(e,t,n){"use strict";var o=n(4495);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,n){"use strict";var o=n(3724),r=n(9039);e.exports=o&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},8622:function(e,t,n){"use strict";var o=n(4475),r=n(4901),a=o.WeakMap;e.exports=r(a)&&/native code/.test(String(a))},8227:function(e,t,n){"use strict";var o=n(4475),r=n(5745),a=n(9297),s=n(3392),i=n(4495),l=n(7040),c=o.Symbol,u=r("wks"),h=l?c["for"]||c:c&&c.withoutSetter||s;e.exports=function(e){return a(u,e)||(u[e]=i&&a(c,e)?c[e]:h("Symbol."+e)),u[e]}},4114:function(e,t,n){"use strict";var o=n(6518),r=n(8981),a=n(6198),s=n(4527),i=n(6837),l=n(9039),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},h=c||!u();o({target:"Array",proto:!0,arity:1,forced:h},{push:function(e){var t=r(this),n=a(t),o=arguments.length;i(n+o);for(var l=0;l<o;l++)t[n]=arguments[l],n++;return s(t,n),n}})},4603:function(e,t,n){"use strict";var o=n(6840),r=n(9504),a=n(655),s=n(2812),i=URLSearchParams,l=i.prototype,c=r(l.append),u=r(l["delete"]),h=r(l.forEach),d=r([].push),p=new i("a=1&a=2&b=3");p["delete"]("a",1),p["delete"]("b",void 0),p+""!=="a=2"&&o(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return u(this,e);var o=[];h(this,(function(e,t){d(o,{key:t,value:e})})),s(t,1);var r,i=a(e),l=a(n),p=0,f=0,g=!1,m=o.length;while(p<m)r=o[p++],g||r.key===i?(g=!0,u(this,r.key)):f++;while(f<m)r=o[f++],r.key===i&&r.value===l||c(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,n){"use strict";var o=n(6840),r=n(9504),a=n(655),s=n(2812),i=URLSearchParams,l=i.prototype,c=r(l.getAll),u=r(l.has),h=new i("a=1");!h.has("a",2)&&h.has("a",void 0)||o(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return u(this,e);var o=c(this,e);s(t,1);var r=a(n),i=0;while(i<o.length)if(o[i++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,n){"use strict";var o=n(3724),r=n(9504),a=n(2106),s=URLSearchParams.prototype,i=r(s.forEach);o&&!("size"in s)&&a(s,"size",{get:function(){var e=0;return i(this,(function(){e++})),e},configurable:!0,enumerable:!0})},6623:function(e,t,n){"use strict";n.r(t),n.d(t,{Headers:function(){return r},Request:function(){return a},Response:function(){return s},fetch:function(){return o}});const o=globalThis.fetch,r=globalThis.Headers,a=globalThis.Request,s=globalThis.Response},1635:function(e,t,n){"use strict";n.r(t),n.d(t,{__addDisposableResource:function(){return L},__assign:function(){return a},__asyncDelegator:function(){return S},__asyncGenerator:function(){return C},__asyncValues:function(){return E},__await:function(){return k},__awaiter:function(){return f},__classPrivateFieldGet:function(){return z},__classPrivateFieldIn:function(){return I},__classPrivateFieldSet:function(){return F},__createBinding:function(){return m},__decorate:function(){return i},__disposeResources:function(){return A},__esDecorate:function(){return c},__exportStar:function(){return y},__extends:function(){return r},__generator:function(){return g},__importDefault:function(){return T},__importStar:function(){return M},__makeTemplateObject:function(){return $},__metadata:function(){return p},__param:function(){return l},__propKey:function(){return h},__read:function(){return b},__rest:function(){return s},__runInitializers:function(){return u},__setFunctionName:function(){return d},__spread:function(){return w},__spreadArray:function(){return _},__spreadArrays:function(){return x},__values:function(){return v}});var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};function s(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function i(e,t,n,o){var r,a=arguments.length,s=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(s=(a<3?r(s):a>3?r(t,n,s):r(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}function l(e,t){return function(n,o){t(n,o,e)}}function c(e,t,n,o,r,a){function s(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var i,l=o.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?o["static"]?e:e.prototype:null,h=t||(u?Object.getOwnPropertyDescriptor(u,o.name):{}),d=!1,p=n.length-1;p>=0;p--){var f={};for(var g in o)f[g]="access"===g?{}:o[g];for(var g in o.access)f.access[g]=o.access[g];f.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(e||null))};var m=(0,n[p])("accessor"===l?{get:h.get,set:h.set}:h[c],f);if("accessor"===l){if(void 0===m)continue;if(null===m||"object"!==typeof m)throw new TypeError("Object expected");(i=s(m.get))&&(h.get=i),(i=s(m.set))&&(h.set=i),(i=s(m.init))&&r.unshift(i)}else(i=s(m))&&("field"===l?r.unshift(i):h[c]=i)}u&&Object.defineProperty(u,o.name,h),d=!0}function u(e,t,n){for(var o=arguments.length>2,r=0;r<t.length;r++)n=o?t[r].call(e,n):t[r].call(e);return o?n:void 0}function h(e){return"symbol"===typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function p(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function s(e){try{l(o.next(e))}catch(t){a(t)}}function i(e){try{l(o["throw"](e))}catch(t){a(t)}}function l(e){e.done?n(e.value):r(e.value).then(s,i)}l((o=o.apply(e,t||[])).next())}))}function g(e,t){var n,o,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(e){return function(t){return l([e,t])}}function l(i){if(n)throw new TypeError("Generator is already executing.");while(a&&(a=0,i[0]&&(s=0)),s)try{if(n=1,o&&(r=2&i[0]?o["return"]:i[0]?o["throw"]||((r=o["return"])&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!(r=r.length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(l){i=[6,l],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}var m=Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]};function y(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||m(t,e,n)}function v(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),s=[];try{while((void 0===t||t-- >0)&&!(o=a.next()).done)s.push(o.value)}catch(i){r={error:i}}finally{try{o&&!o.done&&(n=a["return"])&&n.call(a)}finally{if(r)throw r.error}}return s}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b(arguments[t]));return e}function x(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,i=a.length;s<i;s++,r++)o[r]=a[s];return o}function _(e,t,n){if(n||2===arguments.length)for(var o,r=0,a=t.length;r<a;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function C(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),a=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(e){r[e]&&(o[e]=function(t){return new Promise((function(n,o){a.push([e,t,n,o])>1||i(e,t)}))})}function i(e,t){try{l(r[e](t))}catch(n){h(a[0][3],n)}}function l(e){e.value instanceof k?Promise.resolve(e.value.v).then(c,u):h(a[0][2],e)}function c(e){i("next",e)}function u(e){i("throw",e)}function h(e,t){e(t),a.shift(),a.length&&i(a[0][0],a[0][1])}}function S(e){var t,n;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,r){t[o]=e[o]?function(t){return(n=!n)?{value:k(e[o](t)),done:!1}:r?r(t):t}:r}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof v?v(e):e[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,a){t=e[n](t),r(o,a,t.done,t.value)}))}}function r(e,t,n,o){Promise.resolve(o).then((function(t){e({value:t,done:n})}),t)}}function $(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var P=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t};function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&m(t,e,n);return P(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function z(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}function F(e,t,n,o,r){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?r.call(e,n):r?r.value=n:t.set(e,n),n}function I(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function L(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=t[Symbol.asyncDispose]}if(void 0===o){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=t[Symbol.dispose]}if("function"!==typeof o)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:o,async:n})}else n&&e.stack.push({async:!0});return t}var R="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var o=new Error(n);return o.name="SuppressedError",o.error=e,o.suppressed=t,o};function A(e){function t(t){e.error=e.hasError?new R(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}function n(){while(e.stack.length){var o=e.stack.pop();try{var r=o.dispose&&o.dispose.call(o.value);if(o.async)return Promise.resolve(r).then(n,(function(e){return t(e),n()}))}catch(a){t(a)}}if(e.hasError)throw e.error}return n()}t["default"]={__extends:r,__assign:a,__rest:s,__decorate:i,__param:l,__metadata:p,__awaiter:f,__generator:g,__createBinding:m,__exportStar:y,__values:v,__read:b,__spread:w,__spreadArrays:x,__spreadArray:_,__await:k,__asyncGenerator:C,__asyncDelegator:S,__asyncValues:E,__makeTemplateObject:$,__importStar:M,__importDefault:T,__classPrivateFieldGet:z,__classPrivateFieldSet:F,__classPrivateFieldIn:I,__addDisposableResource:L,__disposeResources:A}},3837:function(e){"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},2079:function(e){"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')}}]);
//# sourceMappingURL=home.adc5ad72.js.map